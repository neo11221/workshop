(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function a(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=a(o);fetch(o.href,u)}})();function kv(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var jd={exports:{}},co={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zy;function XA(){if(Zy)return co;Zy=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function a(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return co.Fragment=t,co.jsx=a,co.jsxs=a,co}var Wy;function JA(){return Wy||(Wy=1,jd.exports=XA()),jd.exports}var _=JA(),Ud={exports:{}},xt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t_;function ZA(){if(t_)return xt;t_=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),S=Symbol.iterator;function w(j){return j===null||typeof j!="object"?null:(j=S&&j[S]||j["@@iterator"],typeof j=="function"?j:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,V={};function et(j,Z,lt){this.props=j,this.context=Z,this.refs=V,this.updater=lt||k}et.prototype.isReactComponent={},et.prototype.setState=function(j,Z){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,Z,"setState")},et.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function at(){}at.prototype=et.prototype;function Q(j,Z,lt){this.props=j,this.context=Z,this.refs=V,this.updater=lt||k}var dt=Q.prototype=new at;dt.constructor=Q,q(dt,et.prototype),dt.isPureReactComponent=!0;var mt=Array.isArray;function _t(){}var I={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function R(j,Z,lt){var ot=lt.ref;return{$$typeof:i,type:j,key:Z,ref:ot!==void 0?ot:null,props:lt}}function U(j,Z){return R(j.type,Z,j.props)}function O(j){return typeof j=="object"&&j!==null&&j.$$typeof===i}function P(j){var Z={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(lt){return Z[lt]})}var C=/\/+/g;function ie(j,Z){return typeof j=="object"&&j!==null&&j.key!=null?P(""+j.key):Z.toString(36)}function ye(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(_t,_t):(j.status="pending",j.then(function(Z){j.status==="pending"&&(j.status="fulfilled",j.value=Z)},function(Z){j.status==="pending"&&(j.status="rejected",j.reason=Z)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function $(j,Z,lt,ot,vt){var bt=typeof j;(bt==="undefined"||bt==="boolean")&&(j=null);var Vt=!1;if(j===null)Vt=!0;else switch(bt){case"bigint":case"string":case"number":Vt=!0;break;case"object":switch(j.$$typeof){case i:case t:Vt=!0;break;case T:return Vt=j._init,$(Vt(j._payload),Z,lt,ot,vt)}}if(Vt)return vt=vt(j),Vt=ot===""?"."+ie(j,0):ot,mt(vt)?(lt="",Vt!=null&&(lt=Vt.replace(C,"$&/")+"/"),$(vt,Z,lt,"",function(ki){return ki})):vt!=null&&(O(vt)&&(vt=U(vt,lt+(vt.key==null||j&&j.key===vt.key?"":(""+vt.key).replace(C,"$&/")+"/")+Vt)),Z.push(vt)),1;Vt=0;var _e=ot===""?".":ot+":";if(mt(j))for(var se=0;se<j.length;se++)ot=j[se],bt=_e+ie(ot,se),Vt+=$(ot,Z,lt,bt,vt);else if(se=w(j),typeof se=="function")for(j=se.call(j),se=0;!(ot=j.next()).done;)ot=ot.value,bt=_e+ie(ot,se++),Vt+=$(ot,Z,lt,bt,vt);else if(bt==="object"){if(typeof j.then=="function")return $(ye(j),Z,lt,ot,vt);throw Z=String(j),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Vt}function rt(j,Z,lt){if(j==null)return j;var ot=[],vt=0;return $(j,ot,"","",function(bt){return Z.call(lt,bt,vt++)}),ot}function pt(j){if(j._status===-1){var Z=j._result;Z=Z(),Z.then(function(lt){(j._status===0||j._status===-1)&&(j._status=1,j._result=lt)},function(lt){(j._status===0||j._status===-1)&&(j._status=2,j._result=lt)}),j._status===-1&&(j._status=0,j._result=Z)}if(j._status===1)return j._result.default;throw j._result}var Dt=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},Gt={map:rt,forEach:function(j,Z,lt){rt(j,function(){Z.apply(this,arguments)},lt)},count:function(j){var Z=0;return rt(j,function(){Z++}),Z},toArray:function(j){return rt(j,function(Z){return Z})||[]},only:function(j){if(!O(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return xt.Activity=b,xt.Children=Gt,xt.Component=et,xt.Fragment=a,xt.Profiler=o,xt.PureComponent=Q,xt.StrictMode=s,xt.Suspense=y,xt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,xt.__COMPILER_RUNTIME={__proto__:null,c:function(j){return I.H.useMemoCache(j)}},xt.cache=function(j){return function(){return j.apply(null,arguments)}},xt.cacheSignal=function(){return null},xt.cloneElement=function(j,Z,lt){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var ot=q({},j.props),vt=j.key;if(Z!=null)for(bt in Z.key!==void 0&&(vt=""+Z.key),Z)!N.call(Z,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&Z.ref===void 0||(ot[bt]=Z[bt]);var bt=arguments.length-2;if(bt===1)ot.children=lt;else if(1<bt){for(var Vt=Array(bt),_e=0;_e<bt;_e++)Vt[_e]=arguments[_e+2];ot.children=Vt}return R(j.type,vt,ot)},xt.createContext=function(j){return j={$$typeof:f,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:u,_context:j},j},xt.createElement=function(j,Z,lt){var ot,vt={},bt=null;if(Z!=null)for(ot in Z.key!==void 0&&(bt=""+Z.key),Z)N.call(Z,ot)&&ot!=="key"&&ot!=="__self"&&ot!=="__source"&&(vt[ot]=Z[ot]);var Vt=arguments.length-2;if(Vt===1)vt.children=lt;else if(1<Vt){for(var _e=Array(Vt),se=0;se<Vt;se++)_e[se]=arguments[se+2];vt.children=_e}if(j&&j.defaultProps)for(ot in Vt=j.defaultProps,Vt)vt[ot]===void 0&&(vt[ot]=Vt[ot]);return R(j,bt,vt)},xt.createRef=function(){return{current:null}},xt.forwardRef=function(j){return{$$typeof:m,render:j}},xt.isValidElement=O,xt.lazy=function(j){return{$$typeof:T,_payload:{_status:-1,_result:j},_init:pt}},xt.memo=function(j,Z){return{$$typeof:g,type:j,compare:Z===void 0?null:Z}},xt.startTransition=function(j){var Z=I.T,lt={};I.T=lt;try{var ot=j(),vt=I.S;vt!==null&&vt(lt,ot),typeof ot=="object"&&ot!==null&&typeof ot.then=="function"&&ot.then(_t,Dt)}catch(bt){Dt(bt)}finally{Z!==null&&lt.types!==null&&(Z.types=lt.types),I.T=Z}},xt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},xt.use=function(j){return I.H.use(j)},xt.useActionState=function(j,Z,lt){return I.H.useActionState(j,Z,lt)},xt.useCallback=function(j,Z){return I.H.useCallback(j,Z)},xt.useContext=function(j){return I.H.useContext(j)},xt.useDebugValue=function(){},xt.useDeferredValue=function(j,Z){return I.H.useDeferredValue(j,Z)},xt.useEffect=function(j,Z){return I.H.useEffect(j,Z)},xt.useEffectEvent=function(j){return I.H.useEffectEvent(j)},xt.useId=function(){return I.H.useId()},xt.useImperativeHandle=function(j,Z,lt){return I.H.useImperativeHandle(j,Z,lt)},xt.useInsertionEffect=function(j,Z){return I.H.useInsertionEffect(j,Z)},xt.useLayoutEffect=function(j,Z){return I.H.useLayoutEffect(j,Z)},xt.useMemo=function(j,Z){return I.H.useMemo(j,Z)},xt.useOptimistic=function(j,Z){return I.H.useOptimistic(j,Z)},xt.useReducer=function(j,Z,lt){return I.H.useReducer(j,Z,lt)},xt.useRef=function(j){return I.H.useRef(j)},xt.useState=function(j){return I.H.useState(j)},xt.useSyncExternalStore=function(j,Z,lt){return I.H.useSyncExternalStore(j,Z,lt)},xt.useTransition=function(){return I.H.useTransition()},xt.version="19.2.3",xt}var e_;function Um(){return e_||(e_=1,Ud.exports=ZA()),Ud.exports}var z=Um();const nm=kv(z);var Ld={exports:{}},ho={},Pd={exports:{}},kd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n_;function WA(){return n_||(n_=1,(function(i){function t($,rt){var pt=$.length;$.push(rt);t:for(;0<pt;){var Dt=pt-1>>>1,Gt=$[Dt];if(0<o(Gt,rt))$[Dt]=rt,$[pt]=Gt,pt=Dt;else break t}}function a($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var rt=$[0],pt=$.pop();if(pt!==rt){$[0]=pt;t:for(var Dt=0,Gt=$.length,j=Gt>>>1;Dt<j;){var Z=2*(Dt+1)-1,lt=$[Z],ot=Z+1,vt=$[ot];if(0>o(lt,pt))ot<Gt&&0>o(vt,lt)?($[Dt]=vt,$[ot]=pt,Dt=ot):($[Dt]=lt,$[Z]=pt,Dt=Z);else if(ot<Gt&&0>o(vt,pt))$[Dt]=vt,$[ot]=pt,Dt=ot;else break t}}return rt}function o($,rt){var pt=$.sortIndex-rt.sortIndex;return pt!==0?pt:$.id-rt.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var y=[],g=[],T=1,b=null,S=3,w=!1,k=!1,q=!1,V=!1,et=typeof setTimeout=="function"?setTimeout:null,at=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function dt($){for(var rt=a(g);rt!==null;){if(rt.callback===null)s(g);else if(rt.startTime<=$)s(g),rt.sortIndex=rt.expirationTime,t(y,rt);else break;rt=a(g)}}function mt($){if(q=!1,dt($),!k)if(a(y)!==null)k=!0,_t||(_t=!0,P());else{var rt=a(g);rt!==null&&ye(mt,rt.startTime-$)}}var _t=!1,I=-1,N=5,R=-1;function U(){return V?!0:!(i.unstable_now()-R<N)}function O(){if(V=!1,_t){var $=i.unstable_now();R=$;var rt=!0;try{t:{k=!1,q&&(q=!1,at(I),I=-1),w=!0;var pt=S;try{e:{for(dt($),b=a(y);b!==null&&!(b.expirationTime>$&&U());){var Dt=b.callback;if(typeof Dt=="function"){b.callback=null,S=b.priorityLevel;var Gt=Dt(b.expirationTime<=$);if($=i.unstable_now(),typeof Gt=="function"){b.callback=Gt,dt($),rt=!0;break e}b===a(y)&&s(y),dt($)}else s(y);b=a(y)}if(b!==null)rt=!0;else{var j=a(g);j!==null&&ye(mt,j.startTime-$),rt=!1}}break t}finally{b=null,S=pt,w=!1}rt=void 0}}finally{rt?P():_t=!1}}}var P;if(typeof Q=="function")P=function(){Q(O)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,ie=C.port2;C.port1.onmessage=O,P=function(){ie.postMessage(null)}}else P=function(){et(O,0)};function ye($,rt){I=et(function(){$(i.unstable_now())},rt)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function($){$.callback=null},i.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<$?Math.floor(1e3/$):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function($){switch(S){case 1:case 2:case 3:var rt=3;break;default:rt=S}var pt=S;S=rt;try{return $()}finally{S=pt}},i.unstable_requestPaint=function(){V=!0},i.unstable_runWithPriority=function($,rt){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var pt=S;S=$;try{return rt()}finally{S=pt}},i.unstable_scheduleCallback=function($,rt,pt){var Dt=i.unstable_now();switch(typeof pt=="object"&&pt!==null?(pt=pt.delay,pt=typeof pt=="number"&&0<pt?Dt+pt:Dt):pt=Dt,$){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=pt+Gt,$={id:T++,callback:rt,priorityLevel:$,startTime:pt,expirationTime:Gt,sortIndex:-1},pt>Dt?($.sortIndex=pt,t(g,$),a(y)===null&&$===a(g)&&(q?(at(I),I=-1):q=!0,ye(mt,pt-Dt))):($.sortIndex=Gt,t(y,$),k||w||(k=!0,_t||(_t=!0,P()))),$},i.unstable_shouldYield=U,i.unstable_wrapCallback=function($){var rt=S;return function(){var pt=S;S=rt;try{return $.apply(this,arguments)}finally{S=pt}}}})(kd)),kd}var i_;function tS(){return i_||(i_=1,Pd.exports=WA()),Pd.exports}var zd={exports:{}},en={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a_;function eS(){if(a_)return en;a_=1;var i=Um();function t(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)g+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var s={d:{f:a,r:function(){throw Error(t(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(y,g,T){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:y,containerInfo:g,implementation:T}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,en.createPortal=function(y,g){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(y,g,null,T)},en.flushSync=function(y){var g=f.T,T=s.p;try{if(f.T=null,s.p=2,y)return y()}finally{f.T=g,s.p=T,s.d.f()}},en.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(y,g))},en.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},en.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var T=g.as,b=m(T,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,w=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;T==="style"?s.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:w}):T==="script"&&s.d.X(y,{crossOrigin:b,integrity:S,fetchPriority:w,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},en.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var T=m(g.as,g.crossOrigin);s.d.M(y,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(y)},en.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var T=g.as,b=m(T,g.crossOrigin);s.d.L(y,T,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},en.preloadModule=function(y,g){if(typeof y=="string")if(g){var T=m(g.as,g.crossOrigin);s.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(y)},en.requestFormReset=function(y){s.d.r(y)},en.unstable_batchedUpdates=function(y,g){return y(g)},en.useFormState=function(y,g,T){return f.H.useFormState(y,g,T)},en.useFormStatus=function(){return f.H.useHostTransitionStatus()},en.version="19.2.3",en}var s_;function nS(){if(s_)return zd.exports;s_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),zd.exports=eS(),zd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r_;function iS(){if(r_)return ho;r_=1;var i=tS(),t=Um(),a=nS();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function f(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(u(e)!==e)throw Error(s(188))}function g(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(s(188));return n!==e?null:e}for(var r=e,l=n;;){var h=r.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===r)return y(h),e;if(d===l)return y(h),n;d=d.sibling}throw Error(s(188))}if(r.return!==l.return)r=h,l=d;else{for(var E=!1,A=h.child;A;){if(A===r){E=!0,r=h,l=d;break}if(A===l){E=!0,l=h,r=d;break}A=A.sibling}if(!E){for(A=d.child;A;){if(A===r){E=!0,r=d,l=h;break}if(A===l){E=!0,l=d,r=h;break}A=A.sibling}if(!E)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?e:n}function T(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=T(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,S=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),et=Symbol.for("react.profiler"),at=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),dt=Symbol.for("react.forward_ref"),mt=Symbol.for("react.suspense"),_t=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function ie(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case q:return"Fragment";case et:return"Profiler";case V:return"StrictMode";case mt:return"Suspense";case _t:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case k:return"Portal";case Q:return e.displayName||"Context";case at:return(e._context.displayName||"Context")+".Consumer";case dt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:ie(e.type)||"Memo";case N:n=e._payload,e=e._init;try{return ie(e(n))}catch{}}return null}var ye=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt={pending:!1,data:null,method:null,action:null},Dt=[],Gt=-1;function j(e){return{current:e}}function Z(e){0>Gt||(e.current=Dt[Gt],Dt[Gt]=null,Gt--)}function lt(e,n){Gt++,Dt[Gt]=e.current,e.current=n}var ot=j(null),vt=j(null),bt=j(null),Vt=j(null);function _e(e,n){switch(lt(bt,n),lt(vt,e),lt(ot,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Ty(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Ty(n),e=by(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Z(ot),lt(ot,e)}function se(){Z(ot),Z(vt),Z(bt)}function ki(e){e.memoizedState!==null&&lt(Vt,e);var n=ot.current,r=by(n,e.type);n!==r&&(lt(vt,e),lt(ot,r))}function ma(e){vt.current===e&&(Z(ot),Z(vt)),Vt.current===e&&(Z(Vt),ro._currentValue=pt)}var pa,ga;function Mn(e){if(pa===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);pa=n&&n[1]||"",ga=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pa+e+ga}var hs=!1;function zi(e,n){if(!e||hs)return"";hs=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(K){var F=K}Reflect.construct(e,[],tt)}else{try{tt.call()}catch(K){F=K}e.call(tt.prototype)}}else{try{throw Error()}catch(K){F=K}(tt=e())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(K){if(K&&F&&typeof K.stack=="string")return[K.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],A=d[1];if(E&&A){var D=E.split(`
`),G=A.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<G.length&&!G[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===G.length)for(l=D.length-1,h=G.length-1;1<=l&&0<=h&&D[l]!==G[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==G[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==G[h]){var X=`
`+D[l].replace(" at new "," at ");return e.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",e.displayName)),X}while(1<=l&&0<=h);break}}}finally{hs=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Mn(r):""}function ya(e,n){switch(e.tag){case 26:case 27:case 5:return Mn(e.type);case 16:return Mn("Lazy");case 13:return e.child!==n&&n!==null?Mn("Suspense Fallback"):Mn("Suspense");case 19:return Mn("SuspenseList");case 0:case 15:return zi(e.type,!1);case 11:return zi(e.type.render,!1);case 1:return zi(e.type,!0);case 31:return Mn("Activity");default:return""}}function W(e){try{var n="",r=null;do n+=ya(e,r),r=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var St=Object.prototype.hasOwnProperty,Ht=i.unstable_scheduleCallback,bn=i.unstable_cancelCallback,tn=i.unstable_shouldYield,fs=i.unstable_requestPaint,ce=i.unstable_now,ds=i.unstable_getCurrentPriorityLevel,ul=i.unstable_ImmediatePriority,cl=i.unstable_UserBlockingPriority,_a=i.unstable_NormalPriority,Lh=i.unstable_LowPriority,Xo=i.unstable_IdlePriority,Jo=i.log,Zo=i.unstable_setDisableYieldValue,Zn=null,qe=null;function Vn(e){if(typeof Jo=="function"&&Zo(e),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(Zn,e)}catch{}}var Te=Math.clz32?Math.clz32:tu,Wo=Math.log,Ws=Math.LN2;function tu(e){return e>>>=0,e===0?32:31-(Wo(e)/Ws|0)|0}var hi=256,ms=262144,Ne=4194304;function fi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function di(e,n,r){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,E=e.pingedLanes;e=e.warmLanes;var A=l&134217727;return A!==0?(l=A&~d,l!==0?h=fi(l):(E&=A,E!==0?h=fi(E):r||(r=A&~e,r!==0&&(h=fi(r))))):(A=l&~d,A!==0?h=fi(A):E!==0?h=fi(E):r||(r=l&~e,r!==0&&(h=fi(r)))),h===0?0:n!==0&&n!==h&&(n&d)===0&&(d=h&-h,r=n&-n,d>=r||d===32&&(r&4194048)!==0)?n:h}function Wn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ph(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eu(){var e=Ne;return Ne<<=1,(Ne&62914560)===0&&(Ne=4194304),e}function mi(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function ps(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function kh(e,n,r,l,h,d){var E=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var A=e.entanglements,D=e.expirationTimes,G=e.hiddenUpdates;for(r=E&~r;0<r;){var X=31-Te(r),tt=1<<X;A[X]=0,D[X]=-1;var F=G[X];if(F!==null)for(G[X]=null,X=0;X<F.length;X++){var K=F[X];K!==null&&(K.lane&=-536870913)}r&=~tt}l!==0&&gs(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(E&~n))}function gs(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-Te(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|r&261930}function hl(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var l=31-Te(r),h=1<<l;h&n|e[l]&n&&(e[l]|=n),r&=~h}}function fl(e,n){var r=n&-n;return r=(r&42)!==0?1:ys(r),(r&(e.suspendedLanes|n))!==0?0:r}function ys(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Bi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function nu(){var e=rt.p;return e!==0?e:(e=window.event,e===void 0?32:Fy(e.type))}function ti(e,n){var r=rt.p;try{return rt.p=e,n()}finally{rt.p=r}}var ei=Math.random().toString(36).slice(2),Re="__reactFiber$"+ei,ze="__reactProps$"+ei,pi="__reactContainer$"+ei,tr="__reactEvents$"+ei,zh="__reactListeners$"+ei,iu="__reactHandles$"+ei,au="__reactResources$"+ei,gi="__reactMarker$"+ei;function er(e){delete e[Re],delete e[ze],delete e[tr],delete e[zh],delete e[iu]}function yi(e){var n=e[Re];if(n)return n;for(var r=e.parentNode;r;){if(n=r[pi]||r[Re]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=Iy(e);e!==null;){if(r=e[Re])return r;e=Iy(e)}return n}e=r,r=e.parentNode}return null}function jn(e){if(e=e[Re]||e[pi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function An(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function _i(e){var n=e[au];return n||(n=e[au]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ie(e){e[gi]=!0}var dl=new Set,ml={};function Ei(e,n){vi(e,n),vi(e+"Capture",n)}function vi(e,n){for(ml[e]=n,e=0;e<n.length;e++)dl.add(n[e])}var pl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gl={},yl={};function su(e){return St.call(yl,e)?!0:St.call(gl,e)?!1:pl.test(e)?yl[e]=!0:(gl[e]=!0,!1)}function nr(e,n,r){if(su(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function Sn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function Ce(e,n,r,l){if(l===null)e.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+l)}}function Be(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ea(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function _l(e,n,r){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(E){r=""+E,d.call(this,E)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(E){r=""+E},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function $t(e){if(!e._valueTracker){var n=Ea(e)?"checked":"value";e._valueTracker=_l(e,n,""+e[n])}}function _s(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return e&&(l=Ea(e)?e.checked?"true":"false":e.value),e=l,e!==r?(n.setValue(e),!0):!1}function Ti(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Es=/[\n"\\]/g;function hn(e){return e.replace(Es,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ir(e,n,r,l,h,d,E,A){e.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.type=E:e.removeAttribute("type"),n!=null?E==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Be(n)):e.value!==""+Be(n)&&(e.value=""+Be(n)):E!=="submit"&&E!=="reset"||e.removeAttribute("value"),n!=null?El(e,E,Be(n)):r!=null?El(e,E,Be(r)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?e.name=""+Be(A):e.removeAttribute("name")}function ru(e,n,r,l,h,d,E,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),n!=null||r!=null){if(!(d!=="submit"&&d!=="reset"||n!=null)){$t(e);return}r=r!=null?""+Be(r):"",n=n!=null?""+Be(n):r,A||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=A?e.checked:!!l,e.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(e.name=E),$t(e)}function El(e,n,r){n==="number"&&Ti(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function va(e,n,r,l){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&l&&(e[r].defaultSelected=!0)}else{for(r=""+Be(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function lu(e,n,r){if(n!=null&&(n=""+Be(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+Be(r):""}function Ta(e,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(ye(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Be(n),e.defaultValue=r,l=e.textContent,l===r&&l!==""&&l!==null&&(e.value=l),$t(e)}function fn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var ou=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vl(e,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,r):typeof r!="number"||r===0||ou.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function Tl(e,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&vl(e,h,l)}else for(var d in n)n.hasOwnProperty(d)&&vl(e,d,n[d])}function ar(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ba=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sr(e){return ba.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ni(){}var bl=null;function Un(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Aa=null,bi=null;function vs(e){var n=jn(e);if(n&&(e=n.stateNode)){var r=e[ze]||null;t:switch(e=n.stateNode,n.type){case"input":if(ir(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+hn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==e&&l.form===e.form){var h=l[ze]||null;if(!h)throw Error(s(90));ir(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===e.form&&_s(l)}break t;case"textarea":lu(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&va(e,!!r.multiple,n,!1)}}}var rr=!1;function Sa(e,n,r){if(rr)return e(n,r);rr=!0;try{var l=e(n);return l}finally{if(rr=!1,(Aa!==null||bi!==null)&&(nc(),Aa&&(n=Aa,e=bi,bi=Aa=null,vs(n),e)))for(n=0;n<e.length;n++)vs(e[n])}}function ii(e,n){var r=e.stateNode;if(r===null)return null;var l=r[ze]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ts=!1;if(Ln)try{var Zt={};Object.defineProperty(Zt,"passive",{get:function(){Ts=!0}}),window.addEventListener("test",Zt,Zt),window.removeEventListener("test",Zt,Zt)}catch{Ts=!1}var Ai=null,Al=null,bs=null;function Sl(){if(bs)return bs;var e,n=Al,r=n.length,l,h="value"in Ai?Ai.value:Ai.textContent,d=h.length;for(e=0;e<r&&n[e]===h[e];e++);var E=r-e;for(l=1;l<=E&&n[r-l]===h[d-l];l++);return bs=h.slice(e,1<l?1-l:void 0)}function As(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Hi(){return!0}function ai(){return!1}function Fe(e){function n(r,l,h,d,E){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var A in e)e.hasOwnProperty(A)&&(r=e[A],this[A]=r?r(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Hi:ai,this.isPropagationStopped=ai,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Hi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Hi)},persist:function(){},isPersistent:Hi}),n}var Gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Si=Fe(Gi),xa=b({},Gi,{view:0,detail:0}),xl=Fe(xa),wa,lr,xi,or=b({},xa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Na,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xi&&(xi&&e.type==="mousemove"?(wa=e.screenX-xi.screenX,lr=e.screenY-xi.screenY):lr=wa=0,xi=e),wa)},movementY:function(e){return"movementY"in e?e.movementY:lr}}),wl=Fe(or),Ss=b({},or,{dataTransfer:0}),cu=Fe(Ss),hu=b({},xa,{relatedTarget:0}),xs=Fe(hu),Nl=b({},Gi,{animationName:0,elapsedTime:0,pseudoElement:0}),fu=Fe(Nl),ur=b({},Gi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),du=Fe(ur),mu=b({},Gi,{data:0}),wi=Fe(mu),pu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _u(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=yu[e])?!!n[e]:!1}function Na(){return _u}var ln=b({},xa,{key:function(e){if(e.key){var n=pu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=As(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Na,charCode:function(e){return e.type==="keypress"?As(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?As(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Eu=Fe(ln),vu=b({},or,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qi=Fe(vu),c=b({},xa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Na}),p=Fe(c),v=b({},Gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),x=Fe(v),B=b({},or,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=Fe(B),st=b({},Gi,{newState:0,oldState:0}),Nt=Fe(st),be=[9,13,27,32],Yt=Ln&&"CompositionEvent"in window,he=null;Ln&&"documentMode"in document&&(he=document.documentMode);var Pn=Ln&&"TextEvent"in window&&!he,Ni=Ln&&(!Yt||he&&8<he&&11>=he),si=" ",ri=!1;function ws(e,n){switch(e){case"keyup":return be.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cr(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var hr=!1;function vb(e,n){switch(e){case"compositionend":return cr(n);case"keypress":return n.which!==32?null:(ri=!0,si);case"textInput":return e=n.data,e===si&&ri?null:e;default:return null}}function Tb(e,n){if(hr)return e==="compositionend"||!Yt&&ws(e,n)?(e=Sl(),bs=Al=Ai=null,hr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ni&&n.locale!=="ko"?null:n.data;default:return null}}var bb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Op(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!bb[e.type]:n==="textarea"}function Mp(e,n,r,l){Aa?bi?bi.push(l):bi=[l]:Aa=l,n=uc(n,"onChange"),0<n.length&&(r=new Si("onChange","change",null,r,l),e.push({event:r,listeners:n}))}var Rl=null,Il=null;function Ab(e){py(e,0)}function Tu(e){var n=An(e);if(_s(n))return e}function Vp(e,n){if(e==="change")return n}var jp=!1;if(Ln){var Bh;if(Ln){var Hh="oninput"in document;if(!Hh){var Up=document.createElement("div");Up.setAttribute("oninput","return;"),Hh=typeof Up.oninput=="function"}Bh=Hh}else Bh=!1;jp=Bh&&(!document.documentMode||9<document.documentMode)}function Lp(){Rl&&(Rl.detachEvent("onpropertychange",Pp),Il=Rl=null)}function Pp(e){if(e.propertyName==="value"&&Tu(Il)){var n=[];Mp(n,Il,e,Un(e)),Sa(Ab,n)}}function Sb(e,n,r){e==="focusin"?(Lp(),Rl=n,Il=r,Rl.attachEvent("onpropertychange",Pp)):e==="focusout"&&Lp()}function xb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Tu(Il)}function wb(e,n){if(e==="click")return Tu(n)}function Nb(e,n){if(e==="input"||e==="change")return Tu(n)}function Rb(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var xn=typeof Object.is=="function"?Object.is:Rb;function Cl(e,n){if(xn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!St.call(n,h)||!xn(e[h],n[h]))return!1}return!0}function kp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zp(e,n){var r=kp(e);e=0;for(var l;r;){if(r.nodeType===3){if(l=e+r.textContent.length,e<=n&&l>=n)return{node:r,offset:n-e};e=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=kp(r)}}function Bp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Bp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Hp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Ti(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=Ti(e.document)}return n}function Gh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Ib=Ln&&"documentMode"in document&&11>=document.documentMode,fr=null,qh=null,Dl=null,Fh=!1;function Gp(e,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Fh||fr==null||fr!==Ti(l)||(l=fr,"selectionStart"in l&&Gh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Dl&&Cl(Dl,l)||(Dl=l,l=uc(qh,"onSelect"),0<l.length&&(n=new Si("onSelect","select",null,n,r),e.push({event:n,listeners:l}),n.target=fr)))}function Ns(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var dr={animationend:Ns("Animation","AnimationEnd"),animationiteration:Ns("Animation","AnimationIteration"),animationstart:Ns("Animation","AnimationStart"),transitionrun:Ns("Transition","TransitionRun"),transitionstart:Ns("Transition","TransitionStart"),transitioncancel:Ns("Transition","TransitionCancel"),transitionend:Ns("Transition","TransitionEnd")},Yh={},qp={};Ln&&(qp=document.createElement("div").style,"AnimationEvent"in window||(delete dr.animationend.animation,delete dr.animationiteration.animation,delete dr.animationstart.animation),"TransitionEvent"in window||delete dr.transitionend.transition);function Rs(e){if(Yh[e])return Yh[e];if(!dr[e])return e;var n=dr[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in qp)return Yh[e]=n[r];return e}var Fp=Rs("animationend"),Yp=Rs("animationiteration"),Kp=Rs("animationstart"),Cb=Rs("transitionrun"),Db=Rs("transitionstart"),Ob=Rs("transitioncancel"),Qp=Rs("transitionend"),$p=new Map,Kh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kh.push("scrollEnd");function li(e,n){$p.set(e,n),Ei(n,[e])}var bu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},kn=[],mr=0,Qh=0;function Au(){for(var e=mr,n=Qh=mr=0;n<e;){var r=kn[n];kn[n++]=null;var l=kn[n];kn[n++]=null;var h=kn[n];kn[n++]=null;var d=kn[n];if(kn[n++]=null,l!==null&&h!==null){var E=l.pending;E===null?h.next=h:(h.next=E.next,E.next=h),l.pending=h}d!==0&&Xp(r,h,d)}}function Su(e,n,r,l){kn[mr++]=e,kn[mr++]=n,kn[mr++]=r,kn[mr++]=l,Qh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function $h(e,n,r,l){return Su(e,n,r,l),xu(e)}function Is(e,n){return Su(e,null,null,n),xu(e)}function Xp(e,n,r){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r);for(var h=!1,d=e.return;d!==null;)d.childLanes|=r,l=d.alternate,l!==null&&(l.childLanes|=r),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&n!==null&&(h=31-Te(r),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=r|536870912),d):null}function xu(e){if(50<Wl)throw Wl=0,sd=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var pr={};function Mb(e,n,r,l){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(e,n,r,l){return new Mb(e,n,r,l)}function Xh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Fi(e,n){var r=e.alternate;return r===null?(r=wn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Jp(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function wu(e,n,r,l,h,d){var E=0;if(l=e,typeof e=="function")Xh(e)&&(E=1);else if(typeof e=="string")E=PA(e,r,ot.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=wn(31,r,n,h),e.elementType=R,e.lanes=d,e;case q:return Cs(r.children,h,d,n);case V:E=8,h|=24;break;case et:return e=wn(12,r,n,h|2),e.elementType=et,e.lanes=d,e;case mt:return e=wn(13,r,n,h),e.elementType=mt,e.lanes=d,e;case _t:return e=wn(19,r,n,h),e.elementType=_t,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Q:E=10;break t;case at:E=9;break t;case dt:E=11;break t;case I:E=14;break t;case N:E=16,l=null;break t}E=29,r=Error(s(130,e===null?"null":typeof e,"")),l=null}return n=wn(E,r,n,h),n.elementType=e,n.type=l,n.lanes=d,n}function Cs(e,n,r,l){return e=wn(7,e,l,n),e.lanes=r,e}function Jh(e,n,r){return e=wn(6,e,null,n),e.lanes=r,e}function Zp(e){var n=wn(18,null,null,0);return n.stateNode=e,n}function Zh(e,n,r){return n=wn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Wp=new WeakMap;function zn(e,n){if(typeof e=="object"&&e!==null){var r=Wp.get(e);return r!==void 0?r:(n={value:e,source:n,stack:W(n)},Wp.set(e,n),n)}return{value:e,source:n,stack:W(n)}}var gr=[],yr=0,Nu=null,Ol=0,Bn=[],Hn=0,Ra=null,Ri=1,Ii="";function Yi(e,n){gr[yr++]=Ol,gr[yr++]=Nu,Nu=e,Ol=n}function tg(e,n,r){Bn[Hn++]=Ri,Bn[Hn++]=Ii,Bn[Hn++]=Ra,Ra=e;var l=Ri;e=Ii;var h=32-Te(l)-1;l&=~(1<<h),r+=1;var d=32-Te(n)+h;if(30<d){var E=h-h%5;d=(l&(1<<E)-1).toString(32),l>>=E,h-=E,Ri=1<<32-Te(n)+h|r<<h|l,Ii=d+e}else Ri=1<<d|r<<h|l,Ii=e}function Wh(e){e.return!==null&&(Yi(e,1),tg(e,1,0))}function tf(e){for(;e===Nu;)Nu=gr[--yr],gr[yr]=null,Ol=gr[--yr],gr[yr]=null;for(;e===Ra;)Ra=Bn[--Hn],Bn[Hn]=null,Ii=Bn[--Hn],Bn[Hn]=null,Ri=Bn[--Hn],Bn[Hn]=null}function eg(e,n){Bn[Hn++]=Ri,Bn[Hn++]=Ii,Bn[Hn++]=Ra,Ri=n.id,Ii=n.overflow,Ra=e}var Ye=null,re=null,kt=!1,Ia=null,Gn=!1,ef=Error(s(519));function Ca(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ml(zn(n,e)),ef}function ng(e){var n=e.stateNode,r=e.type,l=e.memoizedProps;switch(n[Re]=e,n[ze]=l,r){case"dialog":Mt("cancel",n),Mt("close",n);break;case"iframe":case"object":case"embed":Mt("load",n);break;case"video":case"audio":for(r=0;r<eo.length;r++)Mt(eo[r],n);break;case"source":Mt("error",n);break;case"img":case"image":case"link":Mt("error",n),Mt("load",n);break;case"details":Mt("toggle",n);break;case"input":Mt("invalid",n),ru(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Mt("invalid",n);break;case"textarea":Mt("invalid",n),Ta(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||Ey(n.textContent,r)?(l.popover!=null&&(Mt("beforetoggle",n),Mt("toggle",n)),l.onScroll!=null&&Mt("scroll",n),l.onScrollEnd!=null&&Mt("scrollend",n),l.onClick!=null&&(n.onclick=ni),n=!0):n=!1,n||Ca(e,!0)}function ig(e){for(Ye=e.return;Ye;)switch(Ye.tag){case 5:case 31:case 13:Gn=!1;return;case 27:case 3:Gn=!0;return;default:Ye=Ye.return}}function _r(e){if(e!==Ye)return!1;if(!kt)return ig(e),kt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||vd(e.type,e.memoizedProps)),r=!r),r&&re&&Ca(e),ig(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));re=Ry(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));re=Ry(e)}else n===27?(n=re,qa(e.type)?(e=xd,xd=null,re=e):re=n):re=Ye?Fn(e.stateNode.nextSibling):null;return!0}function Ds(){re=Ye=null,kt=!1}function nf(){var e=Ia;return e!==null&&(gn===null?gn=e:gn.push.apply(gn,e),Ia=null),e}function Ml(e){Ia===null?Ia=[e]:Ia.push(e)}var af=j(null),Os=null,Ki=null;function Da(e,n,r){lt(af,n._currentValue),n._currentValue=r}function Qi(e){e._currentValue=af.current,Z(af)}function sf(e,n,r){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===r)break;e=e.return}}function rf(e,n,r,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var E=h.child;d=d.firstContext;t:for(;d!==null;){var A=d;d=h;for(var D=0;D<n.length;D++)if(A.context===n[D]){d.lanes|=r,A=d.alternate,A!==null&&(A.lanes|=r),sf(d.return,r,e),l||(E=null);break t}d=A.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(s(341));E.lanes|=r,d=E.alternate,d!==null&&(d.lanes|=r),sf(E,r,e),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===e){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function Er(e,n,r,l){e=null;for(var h=n,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var A=h.type;xn(h.pendingProps.value,E.value)||(e!==null?e.push(A):e=[A])}}else if(h===Vt.current){if(E=h.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ro):e=[ro])}h=h.return}e!==null&&rf(n,e,r,l),n.flags|=262144}function Ru(e){for(e=e.firstContext;e!==null;){if(!xn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ms(e){Os=e,Ki=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ke(e){return ag(Os,e)}function Iu(e,n){return Os===null&&Ms(e),ag(e,n)}function ag(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ki===null){if(e===null)throw Error(s(308));Ki=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ki=Ki.next=n;return r}var Vb=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},jb=i.unstable_scheduleCallback,Ub=i.unstable_NormalPriority,De={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lf(){return{controller:new Vb,data:new Map,refCount:0}}function Vl(e){e.refCount--,e.refCount===0&&jb(Ub,function(){e.controller.abort()})}var jl=null,of=0,vr=0,Tr=null;function Lb(e,n){if(jl===null){var r=jl=[];of=0,vr=hd(),Tr={status:"pending",value:void 0,then:function(l){r.push(l)}}}return of++,n.then(sg,sg),n}function sg(){if(--of===0&&jl!==null){Tr!==null&&(Tr.status="fulfilled");var e=jl;jl=null,vr=0,Tr=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Pb(e,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var rg=$.S;$.S=function(e,n){G0=ce(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Lb(e,n),rg!==null&&rg(e,n)};var Vs=j(null);function uf(){var e=Vs.current;return e!==null?e:ae.pooledCache}function Cu(e,n){n===null?lt(Vs,Vs.current):lt(Vs,n.pool)}function lg(){var e=uf();return e===null?null:{parent:De._currentValue,pool:e}}var br=Error(s(460)),cf=Error(s(474)),Du=Error(s(542)),Ou={then:function(){}};function og(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ug(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(ni,ni),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,hg(e),e;default:if(typeof n.status=="string")n.then(ni,ni);else{if(e=ae,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,hg(e),e}throw Us=n,br}}function js(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Us=r,br):r}}var Us=null;function cg(){if(Us===null)throw Error(s(459));var e=Us;return Us=null,e}function hg(e){if(e===br||e===Du)throw Error(s(483))}var Ar=null,Ul=0;function Mu(e){var n=Ul;return Ul+=1,Ar===null&&(Ar=[]),ug(Ar,e,n)}function Ll(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Vu(e,n){throw n.$$typeof===S?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function fg(e){function n(L,M){if(e){var H=L.deletions;H===null?(L.deletions=[M],L.flags|=16):H.push(M)}}function r(L,M){if(!e)return null;for(;M!==null;)n(L,M),M=M.sibling;return null}function l(L){for(var M=new Map;L!==null;)L.key!==null?M.set(L.key,L):M.set(L.index,L),L=L.sibling;return M}function h(L,M){return L=Fi(L,M),L.index=0,L.sibling=null,L}function d(L,M,H){return L.index=H,e?(H=L.alternate,H!==null?(H=H.index,H<M?(L.flags|=67108866,M):H):(L.flags|=67108866,M)):(L.flags|=1048576,M)}function E(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function A(L,M,H,J){return M===null||M.tag!==6?(M=Jh(H,L.mode,J),M.return=L,M):(M=h(M,H),M.return=L,M)}function D(L,M,H,J){var gt=H.type;return gt===q?X(L,M,H.props.children,J,H.key):M!==null&&(M.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===N&&js(gt)===M.type)?(M=h(M,H.props),Ll(M,H),M.return=L,M):(M=wu(H.type,H.key,H.props,null,L.mode,J),Ll(M,H),M.return=L,M)}function G(L,M,H,J){return M===null||M.tag!==4||M.stateNode.containerInfo!==H.containerInfo||M.stateNode.implementation!==H.implementation?(M=Zh(H,L.mode,J),M.return=L,M):(M=h(M,H.children||[]),M.return=L,M)}function X(L,M,H,J,gt){return M===null||M.tag!==7?(M=Cs(H,L.mode,J,gt),M.return=L,M):(M=h(M,H),M.return=L,M)}function tt(L,M,H){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Jh(""+M,L.mode,H),M.return=L,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case w:return H=wu(M.type,M.key,M.props,null,L.mode,H),Ll(H,M),H.return=L,H;case k:return M=Zh(M,L.mode,H),M.return=L,M;case N:return M=js(M),tt(L,M,H)}if(ye(M)||P(M))return M=Cs(M,L.mode,H,null),M.return=L,M;if(typeof M.then=="function")return tt(L,Mu(M),H);if(M.$$typeof===Q)return tt(L,Iu(L,M),H);Vu(L,M)}return null}function F(L,M,H,J){var gt=M!==null?M.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return gt!==null?null:A(L,M,""+H,J);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case w:return H.key===gt?D(L,M,H,J):null;case k:return H.key===gt?G(L,M,H,J):null;case N:return H=js(H),F(L,M,H,J)}if(ye(H)||P(H))return gt!==null?null:X(L,M,H,J,null);if(typeof H.then=="function")return F(L,M,Mu(H),J);if(H.$$typeof===Q)return F(L,M,Iu(L,H),J);Vu(L,H)}return null}function K(L,M,H,J,gt){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return L=L.get(H)||null,A(M,L,""+J,gt);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case w:return L=L.get(J.key===null?H:J.key)||null,D(M,L,J,gt);case k:return L=L.get(J.key===null?H:J.key)||null,G(M,L,J,gt);case N:return J=js(J),K(L,M,H,J,gt)}if(ye(J)||P(J))return L=L.get(H)||null,X(M,L,J,gt,null);if(typeof J.then=="function")return K(L,M,H,Mu(J),gt);if(J.$$typeof===Q)return K(L,M,H,Iu(M,J),gt);Vu(M,J)}return null}function ct(L,M,H,J){for(var gt=null,qt=null,ft=M,It=M=0,Ut=null;ft!==null&&It<H.length;It++){ft.index>It?(Ut=ft,ft=null):Ut=ft.sibling;var Ft=F(L,ft,H[It],J);if(Ft===null){ft===null&&(ft=Ut);break}e&&ft&&Ft.alternate===null&&n(L,ft),M=d(Ft,M,It),qt===null?gt=Ft:qt.sibling=Ft,qt=Ft,ft=Ut}if(It===H.length)return r(L,ft),kt&&Yi(L,It),gt;if(ft===null){for(;It<H.length;It++)ft=tt(L,H[It],J),ft!==null&&(M=d(ft,M,It),qt===null?gt=ft:qt.sibling=ft,qt=ft);return kt&&Yi(L,It),gt}for(ft=l(ft);It<H.length;It++)Ut=K(ft,L,It,H[It],J),Ut!==null&&(e&&Ut.alternate!==null&&ft.delete(Ut.key===null?It:Ut.key),M=d(Ut,M,It),qt===null?gt=Ut:qt.sibling=Ut,qt=Ut);return e&&ft.forEach(function($a){return n(L,$a)}),kt&&Yi(L,It),gt}function Et(L,M,H,J){if(H==null)throw Error(s(151));for(var gt=null,qt=null,ft=M,It=M=0,Ut=null,Ft=H.next();ft!==null&&!Ft.done;It++,Ft=H.next()){ft.index>It?(Ut=ft,ft=null):Ut=ft.sibling;var $a=F(L,ft,Ft.value,J);if($a===null){ft===null&&(ft=Ut);break}e&&ft&&$a.alternate===null&&n(L,ft),M=d($a,M,It),qt===null?gt=$a:qt.sibling=$a,qt=$a,ft=Ut}if(Ft.done)return r(L,ft),kt&&Yi(L,It),gt;if(ft===null){for(;!Ft.done;It++,Ft=H.next())Ft=tt(L,Ft.value,J),Ft!==null&&(M=d(Ft,M,It),qt===null?gt=Ft:qt.sibling=Ft,qt=Ft);return kt&&Yi(L,It),gt}for(ft=l(ft);!Ft.done;It++,Ft=H.next())Ft=K(ft,L,It,Ft.value,J),Ft!==null&&(e&&Ft.alternate!==null&&ft.delete(Ft.key===null?It:Ft.key),M=d(Ft,M,It),qt===null?gt=Ft:qt.sibling=Ft,qt=Ft);return e&&ft.forEach(function($A){return n(L,$A)}),kt&&Yi(L,It),gt}function ee(L,M,H,J){if(typeof H=="object"&&H!==null&&H.type===q&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case w:t:{for(var gt=H.key;M!==null;){if(M.key===gt){if(gt=H.type,gt===q){if(M.tag===7){r(L,M.sibling),J=h(M,H.props.children),J.return=L,L=J;break t}}else if(M.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===N&&js(gt)===M.type){r(L,M.sibling),J=h(M,H.props),Ll(J,H),J.return=L,L=J;break t}r(L,M);break}else n(L,M);M=M.sibling}H.type===q?(J=Cs(H.props.children,L.mode,J,H.key),J.return=L,L=J):(J=wu(H.type,H.key,H.props,null,L.mode,J),Ll(J,H),J.return=L,L=J)}return E(L);case k:t:{for(gt=H.key;M!==null;){if(M.key===gt)if(M.tag===4&&M.stateNode.containerInfo===H.containerInfo&&M.stateNode.implementation===H.implementation){r(L,M.sibling),J=h(M,H.children||[]),J.return=L,L=J;break t}else{r(L,M);break}else n(L,M);M=M.sibling}J=Zh(H,L.mode,J),J.return=L,L=J}return E(L);case N:return H=js(H),ee(L,M,H,J)}if(ye(H))return ct(L,M,H,J);if(P(H)){if(gt=P(H),typeof gt!="function")throw Error(s(150));return H=gt.call(H),Et(L,M,H,J)}if(typeof H.then=="function")return ee(L,M,Mu(H),J);if(H.$$typeof===Q)return ee(L,M,Iu(L,H),J);Vu(L,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,M!==null&&M.tag===6?(r(L,M.sibling),J=h(M,H),J.return=L,L=J):(r(L,M),J=Jh(H,L.mode,J),J.return=L,L=J),E(L)):r(L,M)}return function(L,M,H,J){try{Ul=0;var gt=ee(L,M,H,J);return Ar=null,gt}catch(ft){if(ft===br||ft===Du)throw ft;var qt=wn(29,ft,null,L.mode);return qt.lanes=J,qt.return=L,qt}finally{}}}var Ls=fg(!0),dg=fg(!1),Oa=!1;function hf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ff(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ma(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Va(e,n,r){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Kt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=xu(e),Xp(e,null,r),n}return Su(e,l,n,r),xu(e)}function Pl(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,r|=l,n.lanes=r,hl(e,r)}}function df(e,n){var r=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var E={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};d===null?h=d=E:d=d.next=E,r=r.next}while(r!==null);d===null?h=d=n:d=d.next=n}else h=d=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var mf=!1;function kl(){if(mf){var e=Tr;if(e!==null)throw e}}function zl(e,n,r,l){mf=!1;var h=e.updateQueue;Oa=!1;var d=h.firstBaseUpdate,E=h.lastBaseUpdate,A=h.shared.pending;if(A!==null){h.shared.pending=null;var D=A,G=D.next;D.next=null,E===null?d=G:E.next=G,E=D;var X=e.alternate;X!==null&&(X=X.updateQueue,A=X.lastBaseUpdate,A!==E&&(A===null?X.firstBaseUpdate=G:A.next=G,X.lastBaseUpdate=D))}if(d!==null){var tt=h.baseState;E=0,X=G=D=null,A=d;do{var F=A.lane&-536870913,K=F!==A.lane;if(K?(jt&F)===F:(l&F)===F){F!==0&&F===vr&&(mf=!0),X!==null&&(X=X.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var ct=e,Et=A;F=n;var ee=r;switch(Et.tag){case 1:if(ct=Et.payload,typeof ct=="function"){tt=ct.call(ee,tt,F);break t}tt=ct;break t;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=Et.payload,F=typeof ct=="function"?ct.call(ee,tt,F):ct,F==null)break t;tt=b({},tt,F);break t;case 2:Oa=!0}}F=A.callback,F!==null&&(e.flags|=64,K&&(e.flags|=8192),K=h.callbacks,K===null?h.callbacks=[F]:K.push(F))}else K={lane:F,tag:A.tag,payload:A.payload,callback:A.callback,next:null},X===null?(G=X=K,D=tt):X=X.next=K,E|=F;if(A=A.next,A===null){if(A=h.shared.pending,A===null)break;K=A,A=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);X===null&&(D=tt),h.baseState=D,h.firstBaseUpdate=G,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),ka|=E,e.lanes=E,e.memoizedState=tt}}function mg(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function pg(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)mg(r[e],n)}var Sr=j(null),ju=j(0);function gg(e,n){e=ia,lt(ju,e),lt(Sr,n),ia=e|n.baseLanes}function pf(){lt(ju,ia),lt(Sr,Sr.current)}function gf(){ia=ju.current,Z(Sr),Z(ju)}var Nn=j(null),qn=null;function ja(e){var n=e.alternate;lt(Ae,Ae.current&1),lt(Nn,e),qn===null&&(n===null||Sr.current!==null||n.memoizedState!==null)&&(qn=e)}function yf(e){lt(Ae,Ae.current),lt(Nn,e),qn===null&&(qn=e)}function yg(e){e.tag===22?(lt(Ae,Ae.current),lt(Nn,e),qn===null&&(qn=e)):Ua()}function Ua(){lt(Ae,Ae.current),lt(Nn,Nn.current)}function Rn(e){Z(Nn),qn===e&&(qn=null),Z(Ae)}var Ae=j(0);function Uu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Ad(r)||Sd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var $i=0,Rt=null,Wt=null,Oe=null,Lu=!1,xr=!1,Ps=!1,Pu=0,Bl=0,wr=null,kb=0;function Ee(){throw Error(s(321))}function _f(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!xn(e[r],n[r]))return!1;return!0}function Ef(e,n,r,l,h,d){return $i=d,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,$.H=e===null||e.memoizedState===null?t0:Vf,Ps=!1,d=r(l,h),Ps=!1,xr&&(d=Eg(n,r,l,h)),_g(e),d}function _g(e){$.H=ql;var n=Wt!==null&&Wt.next!==null;if($i=0,Oe=Wt=Rt=null,Lu=!1,Bl=0,wr=null,n)throw Error(s(300));e===null||Me||(e=e.dependencies,e!==null&&Ru(e)&&(Me=!0))}function Eg(e,n,r,l){Rt=e;var h=0;do{if(xr&&(wr=null),Bl=0,xr=!1,25<=h)throw Error(s(301));if(h+=1,Oe=Wt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=e0,d=n(r,l)}while(xr);return d}function zb(){var e=$.H,n=e.useState()[0];return n=typeof n.then=="function"?Hl(n):n,e=e.useState()[0],(Wt!==null?Wt.memoizedState:null)!==e&&(Rt.flags|=1024),n}function vf(){var e=Pu!==0;return Pu=0,e}function Tf(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function bf(e){if(Lu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Lu=!1}$i=0,Oe=Wt=Rt=null,xr=!1,Bl=Pu=0,wr=null}function on(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?Rt.memoizedState=Oe=e:Oe=Oe.next=e,Oe}function Se(){if(Wt===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=Wt.next;var n=Oe===null?Rt.memoizedState:Oe.next;if(n!==null)Oe=n,Wt=e;else{if(e===null)throw Rt.alternate===null?Error(s(467)):Error(s(310));Wt=e,e={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Oe===null?Rt.memoizedState=Oe=e:Oe=Oe.next=e}return Oe}function ku(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hl(e){var n=Bl;return Bl+=1,wr===null&&(wr=[]),e=ug(wr,e,n),n=Rt,(Oe===null?n.memoizedState:Oe.next)===null&&(n=n.alternate,$.H=n===null||n.memoizedState===null?t0:Vf),e}function zu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Hl(e);if(e.$$typeof===Q)return Ke(e)}throw Error(s(438,String(e)))}function Af(e){var n=null,r=Rt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Rt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=ku(),Rt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),l=0;l<e;l++)r[l]=U;return n.index++,r}function Xi(e,n){return typeof n=="function"?n(e):n}function Bu(e){var n=Se();return Sf(n,Wt,e)}function Sf(e,n,r){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var E=h.next;h.next=d.next,d.next=E}n.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{n=h.next;var A=E=null,D=null,G=n,X=!1;do{var tt=G.lane&-536870913;if(tt!==G.lane?(jt&tt)===tt:($i&tt)===tt){var F=G.revertLane;if(F===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),tt===vr&&(X=!0);else if(($i&F)===F){G=G.next,F===vr&&(X=!0);continue}else tt={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},D===null?(A=D=tt,E=d):D=D.next=tt,Rt.lanes|=F,ka|=F;tt=G.action,Ps&&r(d,tt),d=G.hasEagerState?G.eagerState:r(d,tt)}else F={lane:tt,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},D===null?(A=D=F,E=d):D=D.next=F,Rt.lanes|=tt,ka|=tt;G=G.next}while(G!==null&&G!==n);if(D===null?E=d:D.next=A,!xn(d,e.memoizedState)&&(Me=!0,X&&(r=Tr,r!==null)))throw r;e.memoizedState=d,e.baseState=E,e.baseQueue=D,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function xf(e){var n=Se(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var l=r.dispatch,h=r.pending,d=n.memoizedState;if(h!==null){r.pending=null;var E=h=h.next;do d=e(d,E.action),E=E.next;while(E!==h);xn(d,n.memoizedState)||(Me=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),r.lastRenderedState=d}return[d,l]}function vg(e,n,r){var l=Rt,h=Se(),d=kt;if(d){if(r===void 0)throw Error(s(407));r=r()}else r=n();var E=!xn((Wt||h).memoizedState,r);if(E&&(h.memoizedState=r,Me=!0),h=h.queue,Rf(Ag.bind(null,l,h,e),[e]),h.getSnapshot!==n||E||Oe!==null&&Oe.memoizedState.tag&1){if(l.flags|=2048,Nr(9,{destroy:void 0},bg.bind(null,l,h,r,n),null),ae===null)throw Error(s(349));d||($i&127)!==0||Tg(l,n,r)}return r}function Tg(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=Rt.updateQueue,n===null?(n=ku(),Rt.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function bg(e,n,r,l){n.value=r,n.getSnapshot=l,Sg(n)&&xg(e)}function Ag(e,n,r){return r(function(){Sg(n)&&xg(e)})}function Sg(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!xn(e,r)}catch{return!0}}function xg(e){var n=Is(e,2);n!==null&&yn(n,e,2)}function wf(e){var n=on();if(typeof e=="function"){var r=e;if(e=r(),Ps){Vn(!0);try{r()}finally{Vn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:e},n}function wg(e,n,r,l){return e.baseState=r,Sf(e,Wt,typeof l=="function"?l:Xi)}function Bb(e,n,r,l,h){if(qu(e))throw Error(s(485));if(e=n.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};$.T!==null?r(!0):d.isTransition=!1,l(d),r=n.pending,r===null?(d.next=n.pending=d,Ng(n,d)):(d.next=r.next,n.pending=r.next=d)}}function Ng(e,n){var r=n.action,l=n.payload,h=e.state;if(n.isTransition){var d=$.T,E={};$.T=E;try{var A=r(h,l),D=$.S;D!==null&&D(E,A),Rg(e,n,A)}catch(G){Nf(e,n,G)}finally{d!==null&&E.types!==null&&(d.types=E.types),$.T=d}}else try{d=r(h,l),Rg(e,n,d)}catch(G){Nf(e,n,G)}}function Rg(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Ig(e,n,l)},function(l){return Nf(e,n,l)}):Ig(e,n,r)}function Ig(e,n,r){n.status="fulfilled",n.value=r,Cg(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,Ng(e,r)))}function Nf(e,n,r){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Cg(n),n=n.next;while(n!==l)}e.action=null}function Cg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Dg(e,n){return n}function Og(e,n){if(kt){var r=ae.formState;if(r!==null){t:{var l=Rt;if(kt){if(re){e:{for(var h=re,d=Gn;h.nodeType!==8;){if(!d){h=null;break e}if(h=Fn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){re=Fn(h.nextSibling),l=h.data==="F!";break t}}Ca(l)}l=!1}l&&(n=r[0])}}return r=on(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dg,lastRenderedState:n},r.queue=l,r=Jg.bind(null,Rt,l),l.dispatch=r,l=wf(!1),d=Mf.bind(null,Rt,!1,l.queue),l=on(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,r=Bb.bind(null,Rt,h,d,r),h.dispatch=r,l.memoizedState=e,[n,r,!1]}function Mg(e){var n=Se();return Vg(n,Wt,e)}function Vg(e,n,r){if(n=Sf(e,n,Dg)[0],e=Bu(Xi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Hl(n)}catch(E){throw E===br?Du:E}else l=n;n=Se();var h=n.queue,d=h.dispatch;return r!==n.memoizedState&&(Rt.flags|=2048,Nr(9,{destroy:void 0},Hb.bind(null,h,r),null)),[l,d,e]}function Hb(e,n){e.action=n}function jg(e){var n=Se(),r=Wt;if(r!==null)return Vg(n,r,e);Se(),n=n.memoizedState,r=Se();var l=r.queue.dispatch;return r.memoizedState=e,[n,l,!1]}function Nr(e,n,r,l){return e={tag:e,create:r,deps:l,inst:n,next:null},n=Rt.updateQueue,n===null&&(n=ku(),Rt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(l=r.next,r.next=e,e.next=l,n.lastEffect=e),e}function Ug(){return Se().memoizedState}function Hu(e,n,r,l){var h=on();Rt.flags|=e,h.memoizedState=Nr(1|n,{destroy:void 0},r,l===void 0?null:l)}function Gu(e,n,r,l){var h=Se();l=l===void 0?null:l;var d=h.memoizedState.inst;Wt!==null&&l!==null&&_f(l,Wt.memoizedState.deps)?h.memoizedState=Nr(n,d,r,l):(Rt.flags|=e,h.memoizedState=Nr(1|n,d,r,l))}function Lg(e,n){Hu(8390656,8,e,n)}function Rf(e,n){Gu(2048,8,e,n)}function Gb(e){Rt.flags|=4;var n=Rt.updateQueue;if(n===null)n=ku(),Rt.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function Pg(e){var n=Se().memoizedState;return Gb({ref:n,nextImpl:e}),function(){if((Kt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function kg(e,n){return Gu(4,2,e,n)}function zg(e,n){return Gu(4,4,e,n)}function Bg(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Hg(e,n,r){r=r!=null?r.concat([e]):null,Gu(4,4,Bg.bind(null,n,e),r)}function If(){}function Gg(e,n){var r=Se();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&_f(n,l[1])?l[0]:(r.memoizedState=[e,n],e)}function qg(e,n){var r=Se();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&_f(n,l[1]))return l[0];if(l=e(),Ps){Vn(!0);try{e()}finally{Vn(!1)}}return r.memoizedState=[l,n],l}function Cf(e,n,r){return r===void 0||($i&1073741824)!==0&&(jt&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=F0(),Rt.lanes|=e,ka|=e,r)}function Fg(e,n,r,l){return xn(r,n)?r:Sr.current!==null?(e=Cf(e,r,l),xn(e,n)||(Me=!0),e):($i&42)===0||($i&1073741824)!==0&&(jt&261930)===0?(Me=!0,e.memoizedState=r):(e=F0(),Rt.lanes|=e,ka|=e,n)}function Yg(e,n,r,l,h){var d=rt.p;rt.p=d!==0&&8>d?d:8;var E=$.T,A={};$.T=A,Mf(e,!1,n,r);try{var D=h(),G=$.S;if(G!==null&&G(A,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var X=Pb(D,l);Gl(e,n,X,Dn(e))}else Gl(e,n,l,Dn(e))}catch(tt){Gl(e,n,{then:function(){},status:"rejected",reason:tt},Dn())}finally{rt.p=d,E!==null&&A.types!==null&&(E.types=A.types),$.T=E}}function qb(){}function Df(e,n,r,l){if(e.tag!==5)throw Error(s(476));var h=Kg(e).queue;Yg(e,h,n,pt,r===null?qb:function(){return Qg(e),r(l)})}function Kg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:pt,baseState:pt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:pt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Qg(e){var n=Kg(e);n.next===null&&(n=e.alternate.memoizedState),Gl(e,n.next.queue,{},Dn())}function Of(){return Ke(ro)}function $g(){return Se().memoizedState}function Xg(){return Se().memoizedState}function Fb(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=Dn();e=Ma(r);var l=Va(n,e,r);l!==null&&(yn(l,n,r),Pl(l,n,r)),n={cache:lf()},e.payload=n;return}n=n.return}}function Yb(e,n,r){var l=Dn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},qu(e)?Zg(n,r):(r=$h(e,n,r,l),r!==null&&(yn(r,e,l),Wg(r,n,l)))}function Jg(e,n,r){var l=Dn();Gl(e,n,r,l)}function Gl(e,n,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(qu(e))Zg(n,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var E=n.lastRenderedState,A=d(E,r);if(h.hasEagerState=!0,h.eagerState=A,xn(A,E))return Su(e,n,h,0),ae===null&&Au(),!1}catch{}finally{}if(r=$h(e,n,h,l),r!==null)return yn(r,e,l),Wg(r,n,l),!0}return!1}function Mf(e,n,r,l){if(l={lane:2,revertLane:hd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},qu(e)){if(n)throw Error(s(479))}else n=$h(e,r,l,2),n!==null&&yn(n,e,2)}function qu(e){var n=e.alternate;return e===Rt||n!==null&&n===Rt}function Zg(e,n){xr=Lu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Wg(e,n,r){if((r&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,r|=l,n.lanes=r,hl(e,r)}}var ql={readContext:Ke,use:zu,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useLayoutEffect:Ee,useInsertionEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useSyncExternalStore:Ee,useId:Ee,useHostTransitionStatus:Ee,useFormState:Ee,useActionState:Ee,useOptimistic:Ee,useMemoCache:Ee,useCacheRefresh:Ee};ql.useEffectEvent=Ee;var t0={readContext:Ke,use:zu,useCallback:function(e,n){return on().memoizedState=[e,n===void 0?null:n],e},useContext:Ke,useEffect:Lg,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Hu(4194308,4,Bg.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Hu(4194308,4,e,n)},useInsertionEffect:function(e,n){Hu(4,2,e,n)},useMemo:function(e,n){var r=on();n=n===void 0?null:n;var l=e();if(Ps){Vn(!0);try{e()}finally{Vn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(e,n,r){var l=on();if(r!==void 0){var h=r(n);if(Ps){Vn(!0);try{r(n)}finally{Vn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=Yb.bind(null,Rt,e),[l.memoizedState,e]},useRef:function(e){var n=on();return e={current:e},n.memoizedState=e},useState:function(e){e=wf(e);var n=e.queue,r=Jg.bind(null,Rt,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:If,useDeferredValue:function(e,n){var r=on();return Cf(r,e,n)},useTransition:function(){var e=wf(!1);return e=Yg.bind(null,Rt,e.queue,!0,!1),on().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var l=Rt,h=on();if(kt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),ae===null)throw Error(s(349));(jt&127)!==0||Tg(l,n,r)}h.memoizedState=r;var d={value:r,getSnapshot:n};return h.queue=d,Lg(Ag.bind(null,l,d,e),[e]),l.flags|=2048,Nr(9,{destroy:void 0},bg.bind(null,l,d,r,n),null),r},useId:function(){var e=on(),n=ae.identifierPrefix;if(kt){var r=Ii,l=Ri;r=(l&~(1<<32-Te(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Pu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=kb++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Of,useFormState:Og,useActionState:Og,useOptimistic:function(e){var n=on();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Mf.bind(null,Rt,!0,r),r.dispatch=n,[e,n]},useMemoCache:Af,useCacheRefresh:function(){return on().memoizedState=Fb.bind(null,Rt)},useEffectEvent:function(e){var n=on(),r={impl:e};return n.memoizedState=r,function(){if((Kt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}},Vf={readContext:Ke,use:zu,useCallback:Gg,useContext:Ke,useEffect:Rf,useImperativeHandle:Hg,useInsertionEffect:kg,useLayoutEffect:zg,useMemo:qg,useReducer:Bu,useRef:Ug,useState:function(){return Bu(Xi)},useDebugValue:If,useDeferredValue:function(e,n){var r=Se();return Fg(r,Wt.memoizedState,e,n)},useTransition:function(){var e=Bu(Xi)[0],n=Se().memoizedState;return[typeof e=="boolean"?e:Hl(e),n]},useSyncExternalStore:vg,useId:$g,useHostTransitionStatus:Of,useFormState:Mg,useActionState:Mg,useOptimistic:function(e,n){var r=Se();return wg(r,Wt,e,n)},useMemoCache:Af,useCacheRefresh:Xg};Vf.useEffectEvent=Pg;var e0={readContext:Ke,use:zu,useCallback:Gg,useContext:Ke,useEffect:Rf,useImperativeHandle:Hg,useInsertionEffect:kg,useLayoutEffect:zg,useMemo:qg,useReducer:xf,useRef:Ug,useState:function(){return xf(Xi)},useDebugValue:If,useDeferredValue:function(e,n){var r=Se();return Wt===null?Cf(r,e,n):Fg(r,Wt.memoizedState,e,n)},useTransition:function(){var e=xf(Xi)[0],n=Se().memoizedState;return[typeof e=="boolean"?e:Hl(e),n]},useSyncExternalStore:vg,useId:$g,useHostTransitionStatus:Of,useFormState:jg,useActionState:jg,useOptimistic:function(e,n){var r=Se();return Wt!==null?wg(r,Wt,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:Af,useCacheRefresh:Xg};e0.useEffectEvent=Pg;function jf(e,n,r,l){n=e.memoizedState,r=r(l,n),r=r==null?n:b({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Uf={enqueueSetState:function(e,n,r){e=e._reactInternals;var l=Dn(),h=Ma(l);h.payload=n,r!=null&&(h.callback=r),n=Va(e,h,l),n!==null&&(yn(n,e,l),Pl(n,e,l))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var l=Dn(),h=Ma(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Va(e,h,l),n!==null&&(yn(n,e,l),Pl(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=Dn(),l=Ma(r);l.tag=2,n!=null&&(l.callback=n),n=Va(e,l,r),n!==null&&(yn(n,e,r),Pl(n,e,r))}};function n0(e,n,r,l,h,d,E){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,E):n.prototype&&n.prototype.isPureReactComponent?!Cl(r,l)||!Cl(h,d):!0}function i0(e,n,r,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==e&&Uf.enqueueReplaceState(n,n.state,null)}function ks(e,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(e=e.defaultProps){r===n&&(r=b({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function a0(e){bu(e)}function s0(e){console.error(e)}function r0(e){bu(e)}function Fu(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function l0(e,n,r){try{var l=e.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Lf(e,n,r){return r=Ma(r),r.tag=3,r.payload={element:null},r.callback=function(){Fu(e,n)},r}function o0(e){return e=Ma(e),e.tag=3,e}function u0(e,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){l0(n,r,l)}}var E=r.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(e.callback=function(){l0(n,r,l),typeof h!="function"&&(za===null?za=new Set([this]):za.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function Kb(e,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&Er(n,r,h,!0),r=Nn.current,r!==null){switch(r.tag){case 31:case 13:return qn===null?ic():r.alternate===null&&ve===0&&(ve=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===Ou?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),od(e,l,h)),!1;case 22:return r.flags|=65536,l===Ou?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),od(e,l,h)),!1}throw Error(s(435,r.tag))}return od(e,l,h),ic(),!1}if(kt)return n=Nn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==ef&&(e=Error(s(422),{cause:l}),Ml(zn(e,r)))):(l!==ef&&(n=Error(s(423),{cause:l}),Ml(zn(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=zn(l,r),h=Lf(e.stateNode,l,h),df(e,h),ve!==4&&(ve=2)),!1;var d=Error(s(520),{cause:l});if(d=zn(d,r),Zl===null?Zl=[d]:Zl.push(d),ve!==4&&(ve=2),n===null)return!0;l=zn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=Lf(r.stateNode,l,e),df(r,e),!1;case 1:if(n=r.type,d=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(za===null||!za.has(d))))return r.flags|=65536,h&=-h,r.lanes|=h,h=o0(h),u0(h,e,r,l),df(r,h),!1}r=r.return}while(r!==null);return!1}var Pf=Error(s(461)),Me=!1;function Qe(e,n,r,l){n.child=e===null?dg(n,null,r,l):Ls(n,e.child,r,l)}function c0(e,n,r,l,h){r=r.render;var d=n.ref;if("ref"in l){var E={};for(var A in l)A!=="ref"&&(E[A]=l[A])}else E=l;return Ms(n),l=Ef(e,n,r,E,d,h),A=vf(),e!==null&&!Me?(Tf(e,n,h),Ji(e,n,h)):(kt&&A&&Wh(n),n.flags|=1,Qe(e,n,l,h),n.child)}function h0(e,n,r,l,h){if(e===null){var d=r.type;return typeof d=="function"&&!Xh(d)&&d.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=d,f0(e,n,d,l,h)):(e=wu(r.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!Yf(e,h)){var E=d.memoizedProps;if(r=r.compare,r=r!==null?r:Cl,r(E,l)&&e.ref===n.ref)return Ji(e,n,h)}return n.flags|=1,e=Fi(d,l),e.ref=n.ref,e.return=n,n.child=e}function f0(e,n,r,l,h){if(e!==null){var d=e.memoizedProps;if(Cl(d,l)&&e.ref===n.ref)if(Me=!1,n.pendingProps=l=d,Yf(e,h))(e.flags&131072)!==0&&(Me=!0);else return n.lanes=e.lanes,Ji(e,n,h)}return kf(e,n,r,l,h)}function d0(e,n,r,l){var h=l.children,d=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(d=d!==null?d.baseLanes|r:r,e!==null){for(l=n.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,n.child=null;return m0(e,n,d,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Cu(n,d!==null?d.cachePool:null),d!==null?gg(n,d):pf(),yg(n);else return l=n.lanes=536870912,m0(e,n,d!==null?d.baseLanes|r:r,r,l)}else d!==null?(Cu(n,d.cachePool),gg(n,d),Ua(),n.memoizedState=null):(e!==null&&Cu(n,null),pf(),Ua());return Qe(e,n,h,r),n.child}function Fl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function m0(e,n,r,l,h){var d=uf();return d=d===null?null:{parent:De._currentValue,pool:d},n.memoizedState={baseLanes:r,cachePool:d},e!==null&&Cu(n,null),pf(),yg(n),e!==null&&Er(e,n,l,!0),n.childLanes=h,null}function Yu(e,n){return n=Qu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function p0(e,n,r){return Ls(n,e.child,null,r),e=Yu(n,n.pendingProps),e.flags|=2,Rn(n),n.memoizedState=null,e}function Qb(e,n,r){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(kt){if(l.mode==="hidden")return e=Yu(n,l),n.lanes=536870912,Fl(null,e);if(yf(n),(e=re)?(e=Ny(e,Gn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ra!==null?{id:Ri,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},r=Zp(e),r.return=n,n.child=r,Ye=n,re=null)):e=null,e===null)throw Ca(n);return n.lanes=536870912,null}return Yu(n,l)}var d=e.memoizedState;if(d!==null){var E=d.dehydrated;if(yf(n),h)if(n.flags&256)n.flags&=-257,n=p0(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(Me||Er(e,n,r,!1),h=(r&e.childLanes)!==0,Me||h){if(l=ae,l!==null&&(E=fl(l,r),E!==0&&E!==d.retryLane))throw d.retryLane=E,Is(e,E),yn(l,e,E),Pf;ic(),n=p0(e,n,r)}else e=d.treeContext,re=Fn(E.nextSibling),Ye=n,kt=!0,Ia=null,Gn=!1,e!==null&&eg(n,e),n=Yu(n,l),n.flags|=4096;return n}return e=Fi(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ku(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function kf(e,n,r,l,h){return Ms(n),r=Ef(e,n,r,l,void 0,h),l=vf(),e!==null&&!Me?(Tf(e,n,h),Ji(e,n,h)):(kt&&l&&Wh(n),n.flags|=1,Qe(e,n,r,h),n.child)}function g0(e,n,r,l,h,d){return Ms(n),n.updateQueue=null,r=Eg(n,l,r,h),_g(e),l=vf(),e!==null&&!Me?(Tf(e,n,d),Ji(e,n,d)):(kt&&l&&Wh(n),n.flags|=1,Qe(e,n,r,d),n.child)}function y0(e,n,r,l,h){if(Ms(n),n.stateNode===null){var d=pr,E=r.contextType;typeof E=="object"&&E!==null&&(d=Ke(E)),d=new r(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Uf,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},hf(n),E=r.contextType,d.context=typeof E=="object"&&E!==null?Ke(E):pr,d.state=n.memoizedState,E=r.getDerivedStateFromProps,typeof E=="function"&&(jf(n,r,E,l),d.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&Uf.enqueueReplaceState(d,d.state,null),zl(n,l,d,h),kl(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){d=n.stateNode;var A=n.memoizedProps,D=ks(r,A);d.props=D;var G=d.context,X=r.contextType;E=pr,typeof X=="object"&&X!==null&&(E=Ke(X));var tt=r.getDerivedStateFromProps;X=typeof tt=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=n.pendingProps!==A,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||G!==E)&&i0(n,d,l,E),Oa=!1;var F=n.memoizedState;d.state=F,zl(n,l,d,h),kl(),G=n.memoizedState,A||F!==G||Oa?(typeof tt=="function"&&(jf(n,r,tt,l),G=n.memoizedState),(D=Oa||n0(n,r,D,l,F,G,E))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=G),d.props=l,d.state=G,d.context=E,l=D):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,ff(e,n),E=n.memoizedProps,X=ks(r,E),d.props=X,tt=n.pendingProps,F=d.context,G=r.contextType,D=pr,typeof G=="object"&&G!==null&&(D=Ke(G)),A=r.getDerivedStateFromProps,(G=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==tt||F!==D)&&i0(n,d,l,D),Oa=!1,F=n.memoizedState,d.state=F,zl(n,l,d,h),kl();var K=n.memoizedState;E!==tt||F!==K||Oa||e!==null&&e.dependencies!==null&&Ru(e.dependencies)?(typeof A=="function"&&(jf(n,r,A,l),K=n.memoizedState),(X=Oa||n0(n,r,X,l,F,K,D)||e!==null&&e.dependencies!==null&&Ru(e.dependencies))?(G||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,D)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===e.memoizedProps&&F===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&F===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=K),d.props=l,d.state=K,d.context=D,l=X):(typeof d.componentDidUpdate!="function"||E===e.memoizedProps&&F===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&F===e.memoizedState||(n.flags|=1024),l=!1)}return d=l,Ku(e,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,e!==null&&l?(n.child=Ls(n,e.child,null,h),n.child=Ls(n,null,r,h)):Qe(e,n,r,h),n.memoizedState=d.state,e=n.child):e=Ji(e,n,h),e}function _0(e,n,r,l){return Ds(),n.flags|=256,Qe(e,n,r,l),n.child}var zf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bf(e){return{baseLanes:e,cachePool:lg()}}function Hf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=Cn),e}function E0(e,n,r){var l=n.pendingProps,h=!1,d=(n.flags&128)!==0,E;if((E=d)||(E=e!==null&&e.memoizedState===null?!1:(Ae.current&2)!==0),E&&(h=!0,n.flags&=-129),E=(n.flags&32)!==0,n.flags&=-33,e===null){if(kt){if(h?ja(n):Ua(),(e=re)?(e=Ny(e,Gn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ra!==null?{id:Ri,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},r=Zp(e),r.return=n,n.child=r,Ye=n,re=null)):e=null,e===null)throw Ca(n);return Sd(e)?n.lanes=32:n.lanes=536870912,null}var A=l.children;return l=l.fallback,h?(Ua(),h=n.mode,A=Qu({mode:"hidden",children:A},h),l=Cs(l,h,r,null),A.return=n,l.return=n,A.sibling=l,n.child=A,l=n.child,l.memoizedState=Bf(r),l.childLanes=Hf(e,E,r),n.memoizedState=zf,Fl(null,l)):(ja(n),Gf(n,A))}var D=e.memoizedState;if(D!==null&&(A=D.dehydrated,A!==null)){if(d)n.flags&256?(ja(n),n.flags&=-257,n=qf(e,n,r)):n.memoizedState!==null?(Ua(),n.child=e.child,n.flags|=128,n=null):(Ua(),A=l.fallback,h=n.mode,l=Qu({mode:"visible",children:l.children},h),A=Cs(A,h,r,null),A.flags|=2,l.return=n,A.return=n,l.sibling=A,n.child=l,Ls(n,e.child,null,r),l=n.child,l.memoizedState=Bf(r),l.childLanes=Hf(e,E,r),n.memoizedState=zf,n=Fl(null,l));else if(ja(n),Sd(A)){if(E=A.nextSibling&&A.nextSibling.dataset,E)var G=E.dgst;E=G,l=Error(s(419)),l.stack="",l.digest=E,Ml({value:l,source:null,stack:null}),n=qf(e,n,r)}else if(Me||Er(e,n,r,!1),E=(r&e.childLanes)!==0,Me||E){if(E=ae,E!==null&&(l=fl(E,r),l!==0&&l!==D.retryLane))throw D.retryLane=l,Is(e,l),yn(E,e,l),Pf;Ad(A)||ic(),n=qf(e,n,r)}else Ad(A)?(n.flags|=192,n.child=e.child,n=null):(e=D.treeContext,re=Fn(A.nextSibling),Ye=n,kt=!0,Ia=null,Gn=!1,e!==null&&eg(n,e),n=Gf(n,l.children),n.flags|=4096);return n}return h?(Ua(),A=l.fallback,h=n.mode,D=e.child,G=D.sibling,l=Fi(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,G!==null?A=Fi(G,A):(A=Cs(A,h,r,null),A.flags|=2),A.return=n,l.return=n,l.sibling=A,n.child=l,Fl(null,l),l=n.child,A=e.child.memoizedState,A===null?A=Bf(r):(h=A.cachePool,h!==null?(D=De._currentValue,h=h.parent!==D?{parent:D,pool:D}:h):h=lg(),A={baseLanes:A.baseLanes|r,cachePool:h}),l.memoizedState=A,l.childLanes=Hf(e,E,r),n.memoizedState=zf,Fl(e.child,l)):(ja(n),r=e.child,e=r.sibling,r=Fi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,e!==null&&(E=n.deletions,E===null?(n.deletions=[e],n.flags|=16):E.push(e)),n.child=r,n.memoizedState=null,r)}function Gf(e,n){return n=Qu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Qu(e,n){return e=wn(22,e,null,n),e.lanes=0,e}function qf(e,n,r){return Ls(n,e.child,null,r),e=Gf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function v0(e,n,r){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),sf(e.return,n,r)}function Ff(e,n,r,l,h,d){var E=e.memoizedState;E===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:d}:(E.isBackwards=n,E.rendering=null,E.renderingStartTime=0,E.last=l,E.tail=r,E.tailMode=h,E.treeForkCount=d)}function T0(e,n,r){var l=n.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var E=Ae.current,A=(E&2)!==0;if(A?(E=E&1|2,n.flags|=128):E&=1,lt(Ae,E),Qe(e,n,l,r),l=kt?Ol:0,!A&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&v0(e,r,n);else if(e.tag===19)v0(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&Uu(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Ff(n,!1,h,r,d,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Uu(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}Ff(n,!0,r,null,d,l);break;case"together":Ff(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Ji(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),ka|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(Er(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,r=Fi(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Fi(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Yf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Ru(e)))}function $b(e,n,r){switch(n.tag){case 3:_e(n,n.stateNode.containerInfo),Da(n,De,e.memoizedState.cache),Ds();break;case 27:case 5:ki(n);break;case 4:_e(n,n.stateNode.containerInfo);break;case 10:Da(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,yf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ja(n),n.flags|=128,null):(r&n.child.childLanes)!==0?E0(e,n,r):(ja(n),e=Ji(e,n,r),e!==null?e.sibling:null);ja(n);break;case 19:var h=(e.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(Er(e,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return T0(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),lt(Ae,Ae.current),l)break;return null;case 22:return n.lanes=0,d0(e,n,r,n.pendingProps);case 24:Da(n,De,e.memoizedState.cache)}return Ji(e,n,r)}function b0(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)Me=!0;else{if(!Yf(e,r)&&(n.flags&128)===0)return Me=!1,$b(e,n,r);Me=(e.flags&131072)!==0}else Me=!1,kt&&(n.flags&1048576)!==0&&tg(n,Ol,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(e=js(n.elementType),n.type=e,typeof e=="function")Xh(e)?(l=ks(e,l),n.tag=1,n=y0(null,n,e,l,r)):(n.tag=0,n=kf(null,n,e,l,r));else{if(e!=null){var h=e.$$typeof;if(h===dt){n.tag=11,n=c0(null,n,e,l,r);break t}else if(h===I){n.tag=14,n=h0(null,n,e,l,r);break t}}throw n=ie(e)||e,Error(s(306,n,""))}}return n;case 0:return kf(e,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=ks(l,n.pendingProps),y0(e,n,l,h,r);case 3:t:{if(_e(n,n.stateNode.containerInfo),e===null)throw Error(s(387));l=n.pendingProps;var d=n.memoizedState;h=d.element,ff(e,n),zl(n,l,null,r);var E=n.memoizedState;if(l=E.cache,Da(n,De,l),l!==d.cache&&rf(n,[De],r,!0),kl(),l=E.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:E.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=_0(e,n,l,r);break t}else if(l!==h){h=zn(Error(s(424)),n),Ml(h),n=_0(e,n,l,r);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(re=Fn(e.firstChild),Ye=n,kt=!0,Ia=null,Gn=!0,r=dg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Ds(),l===h){n=Ji(e,n,r);break t}Qe(e,n,l,r)}n=n.child}return n;case 26:return Ku(e,n),e===null?(r=My(n.type,null,n.pendingProps,null))?n.memoizedState=r:kt||(r=n.type,e=n.pendingProps,l=cc(bt.current).createElement(r),l[Re]=n,l[ze]=e,$e(l,r,e),Ie(l),n.stateNode=l):n.memoizedState=My(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ki(n),e===null&&kt&&(l=n.stateNode=Cy(n.type,n.pendingProps,bt.current),Ye=n,Gn=!0,h=re,qa(n.type)?(xd=h,re=Fn(l.firstChild)):re=h),Qe(e,n,n.pendingProps.children,r),Ku(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&kt&&((h=l=re)&&(l=xA(l,n.type,n.pendingProps,Gn),l!==null?(n.stateNode=l,Ye=n,re=Fn(l.firstChild),Gn=!1,h=!0):h=!1),h||Ca(n)),ki(n),h=n.type,d=n.pendingProps,E=e!==null?e.memoizedProps:null,l=d.children,vd(h,d)?l=null:E!==null&&vd(h,E)&&(n.flags|=32),n.memoizedState!==null&&(h=Ef(e,n,zb,null,null,r),ro._currentValue=h),Ku(e,n),Qe(e,n,l,r),n.child;case 6:return e===null&&kt&&((e=r=re)&&(r=wA(r,n.pendingProps,Gn),r!==null?(n.stateNode=r,Ye=n,re=null,e=!0):e=!1),e||Ca(n)),null;case 13:return E0(e,n,r);case 4:return _e(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Ls(n,null,l,r):Qe(e,n,l,r),n.child;case 11:return c0(e,n,n.type,n.pendingProps,r);case 7:return Qe(e,n,n.pendingProps,r),n.child;case 8:return Qe(e,n,n.pendingProps.children,r),n.child;case 12:return Qe(e,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Da(n,n.type,l.value),Qe(e,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Ms(n),h=Ke(h),l=l(h),n.flags|=1,Qe(e,n,l,r),n.child;case 14:return h0(e,n,n.type,n.pendingProps,r);case 15:return f0(e,n,n.type,n.pendingProps,r);case 19:return T0(e,n,r);case 31:return Qb(e,n,r);case 22:return d0(e,n,r,n.pendingProps);case 24:return Ms(n),l=Ke(De),e===null?(h=uf(),h===null&&(h=ae,d=lf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=r),h=d),n.memoizedState={parent:l,cache:h},hf(n),Da(n,De,h)):((e.lanes&r)!==0&&(ff(e,n),zl(n,null,null,r),kl()),h=e.memoizedState,d=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Da(n,De,l)):(l=d.cache,Da(n,De,l),l!==h.cache&&rf(n,[De],r,!0))),Qe(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Zi(e){e.flags|=4}function Kf(e,n,r,l,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if($0())e.flags|=8192;else throw Us=Ou,cf}else e.flags&=-16777217}function A0(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Py(n))if($0())e.flags|=8192;else throw Us=Ou,cf}function $u(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?eu():536870912,e.lanes|=n,Dr|=n)}function Yl(e,n){if(!kt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function le(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,l=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=r,n}function Xb(e,n,r){var l=n.pendingProps;switch(tf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return le(n),null;case 1:return le(n),null;case 3:return r=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Qi(De),se(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(_r(n)?Zi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,nf())),le(n),null;case 26:var h=n.type,d=n.memoizedState;return e===null?(Zi(n),d!==null?(le(n),A0(n,d)):(le(n),Kf(n,h,null,l,r))):d?d!==e.memoizedState?(Zi(n),le(n),A0(n,d)):(le(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&Zi(n),le(n),Kf(n,h,e,l,r)),null;case 27:if(ma(n),r=bt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Zi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return le(n),null}e=ot.current,_r(n)?ng(n):(e=Cy(h,l,r),n.stateNode=e,Zi(n))}return le(n),null;case 5:if(ma(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Zi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return le(n),null}if(d=ot.current,_r(n))ng(n);else{var E=cc(bt.current);switch(d){case 1:d=E.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=E.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=E.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=E.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=E.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?E.createElement("select",{is:l.is}):E.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?E.createElement(h,{is:l.is}):E.createElement(h)}}d[Re]=n,d[ze]=l;t:for(E=n.child;E!==null;){if(E.tag===5||E.tag===6)d.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===n)break t;for(;E.sibling===null;){if(E.return===null||E.return===n)break t;E=E.return}E.sibling.return=E.return,E=E.sibling}n.stateNode=d;t:switch($e(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Zi(n)}}return le(n),Kf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Zi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(e=bt.current,_r(n)){if(e=n.stateNode,r=n.memoizedProps,l=null,h=Ye,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Re]=n,e=!!(e.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Ey(e.nodeValue,r)),e||Ca(n,!0)}else e=cc(e).createTextNode(l),e[Re]=n,n.stateNode=e}return le(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(l=_r(n),r!==null){if(e===null){if(!l)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Re]=n}else Ds(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;le(n),e=!1}else r=nf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(Rn(n),n):(Rn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return le(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=_r(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Re]=n}else Ds(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;le(n),h=!1}else h=nf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Rn(n),n):(Rn(n),null)}return Rn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,e=e!==null&&e.memoizedState!==null,r&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),$u(n,n.updateQueue),le(n),null);case 4:return se(),e===null&&pd(n.stateNode.containerInfo),le(n),null;case 10:return Qi(n.type),le(n),null;case 19:if(Z(Ae),l=n.memoizedState,l===null)return le(n),null;if(h=(n.flags&128)!==0,d=l.rendering,d===null)if(h)Yl(l,!1);else{if(ve!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(d=Uu(e),d!==null){for(n.flags|=128,Yl(l,!1),e=d.updateQueue,n.updateQueue=e,$u(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Jp(r,e),r=r.sibling;return lt(Ae,Ae.current&1|2),kt&&Yi(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&ce()>tc&&(n.flags|=128,h=!0,Yl(l,!1),n.lanes=4194304)}else{if(!h)if(e=Uu(d),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,$u(n,e),Yl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!kt)return le(n),null}else 2*ce()-l.renderingStartTime>tc&&r!==536870912&&(n.flags|=128,h=!0,Yl(l,!1),n.lanes=4194304);l.isBackwards?(d.sibling=n.child,n.child=d):(e=l.last,e!==null?e.sibling=d:n.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=ce(),e.sibling=null,r=Ae.current,lt(Ae,h?r&1|2:r&1),kt&&Yi(n,l.treeForkCount),e):(le(n),null);case 22:case 23:return Rn(n),gf(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(le(n),n.subtreeFlags&6&&(n.flags|=8192)):le(n),r=n.updateQueue,r!==null&&$u(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),e!==null&&Z(Vs),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Qi(De),le(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function Jb(e,n){switch(tf(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Qi(De),se(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ma(n),null;case 31:if(n.memoizedState!==null){if(Rn(n),n.alternate===null)throw Error(s(340));Ds()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Rn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Ds()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Z(Ae),null;case 4:return se(),null;case 10:return Qi(n.type),null;case 22:case 23:return Rn(n),gf(),e!==null&&Z(Vs),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Qi(De),null;case 25:return null;default:return null}}function S0(e,n){switch(tf(n),n.tag){case 3:Qi(De),se();break;case 26:case 27:case 5:ma(n);break;case 4:se();break;case 31:n.memoizedState!==null&&Rn(n);break;case 13:Rn(n);break;case 19:Z(Ae);break;case 10:Qi(n.type);break;case 22:case 23:Rn(n),gf(),e!==null&&Z(Vs);break;case 24:Qi(De)}}function Kl(e,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&e)===e){l=void 0;var d=r.create,E=r.inst;l=d(),E.destroy=l}r=r.next}while(r!==h)}}catch(A){Jt(n,n.return,A)}}function La(e,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var E=l.inst,A=E.destroy;if(A!==void 0){E.destroy=void 0,h=n;var D=r,G=A;try{G()}catch(X){Jt(h,D,X)}}}l=l.next}while(l!==d)}}catch(X){Jt(n,n.return,X)}}function x0(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{pg(n,r)}catch(l){Jt(e,e.return,l)}}}function w0(e,n,r){r.props=ks(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(l){Jt(e,n,l)}}function Ql(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof r=="function"?e.refCleanup=r(l):r.current=l}}catch(h){Jt(e,n,h)}}function Ci(e,n){var r=e.ref,l=e.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){Jt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Jt(e,n,h)}else r.current=null}function N0(e){var n=e.type,r=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){Jt(e,e.return,h)}}function Qf(e,n,r){try{var l=e.stateNode;EA(l,e.type,r,n),l[ze]=n}catch(h){Jt(e,e.return,h)}}function R0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&qa(e.type)||e.tag===4}function $f(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||R0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&qa(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xf(e,n,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=ni));else if(l!==4&&(l===27&&qa(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Xf(e,n,r),e=e.sibling;e!==null;)Xf(e,n,r),e=e.sibling}function Xu(e,n,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(l!==4&&(l===27&&qa(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Xu(e,n,r),e=e.sibling;e!==null;)Xu(e,n,r),e=e.sibling}function I0(e){var n=e.stateNode,r=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);$e(n,l,r),n[Re]=e,n[ze]=r}catch(d){Jt(e,e.return,d)}}var Wi=!1,Ve=!1,Jf=!1,C0=typeof WeakSet=="function"?WeakSet:Set,He=null;function Zb(e,n){if(e=e.containerInfo,_d=yc,e=Hp(e),Gh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{r.nodeType,d.nodeType}catch{r=null;break t}var E=0,A=-1,D=-1,G=0,X=0,tt=e,F=null;e:for(;;){for(var K;tt!==r||h!==0&&tt.nodeType!==3||(A=E+h),tt!==d||l!==0&&tt.nodeType!==3||(D=E+l),tt.nodeType===3&&(E+=tt.nodeValue.length),(K=tt.firstChild)!==null;)F=tt,tt=K;for(;;){if(tt===e)break e;if(F===r&&++G===h&&(A=E),F===d&&++X===l&&(D=E),(K=tt.nextSibling)!==null)break;tt=F,F=tt.parentNode}tt=K}r=A===-1||D===-1?null:{start:A,end:D}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ed={focusedElem:e,selectionRange:r},yc=!1,He=n;He!==null;)if(n=He,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,He=e;else for(;He!==null;){switch(n=He,d=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,r=n,h=d.memoizedProps,d=d.memoizedState,l=r.stateNode;try{var ct=ks(r.type,h);e=l.getSnapshotBeforeUpdate(ct,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(Et){Jt(r,r.return,Et)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)bd(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":bd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,He=e;break}He=n.return}}function D0(e,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:ea(e,r),l&4&&Kl(5,r);break;case 1:if(ea(e,r),l&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(E){Jt(r,r.return,E)}else{var h=ks(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(E){Jt(r,r.return,E)}}l&64&&x0(r),l&512&&Ql(r,r.return);break;case 3:if(ea(e,r),l&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{pg(e,n)}catch(E){Jt(r,r.return,E)}}break;case 27:n===null&&l&4&&I0(r);case 26:case 5:ea(e,r),n===null&&l&4&&N0(r),l&512&&Ql(r,r.return);break;case 12:ea(e,r);break;case 31:ea(e,r),l&4&&V0(e,r);break;case 13:ea(e,r),l&4&&j0(e,r),l&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=lA.bind(null,r),NA(e,r))));break;case 22:if(l=r.memoizedState!==null||Wi,!l){n=n!==null&&n.memoizedState!==null||Ve,h=Wi;var d=Ve;Wi=l,(Ve=n)&&!d?na(e,r,(r.subtreeFlags&8772)!==0):ea(e,r),Wi=h,Ve=d}break;case 30:break;default:ea(e,r)}}function O0(e){var n=e.alternate;n!==null&&(e.alternate=null,O0(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&er(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var fe=null,dn=!1;function ta(e,n,r){for(r=r.child;r!==null;)M0(e,n,r),r=r.sibling}function M0(e,n,r){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(Zn,r)}catch{}switch(r.tag){case 26:Ve||Ci(r,n),ta(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Ve||Ci(r,n);var l=fe,h=dn;qa(r.type)&&(fe=r.stateNode,dn=!1),ta(e,n,r),io(r.stateNode),fe=l,dn=h;break;case 5:Ve||Ci(r,n);case 6:if(l=fe,h=dn,fe=null,ta(e,n,r),fe=l,dn=h,fe!==null)if(dn)try{(fe.nodeType===9?fe.body:fe.nodeName==="HTML"?fe.ownerDocument.body:fe).removeChild(r.stateNode)}catch(d){Jt(r,n,d)}else try{fe.removeChild(r.stateNode)}catch(d){Jt(r,n,d)}break;case 18:fe!==null&&(dn?(e=fe,xy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),kr(e)):xy(fe,r.stateNode));break;case 4:l=fe,h=dn,fe=r.stateNode.containerInfo,dn=!0,ta(e,n,r),fe=l,dn=h;break;case 0:case 11:case 14:case 15:La(2,r,n),Ve||La(4,r,n),ta(e,n,r);break;case 1:Ve||(Ci(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&w0(r,n,l)),ta(e,n,r);break;case 21:ta(e,n,r);break;case 22:Ve=(l=Ve)||r.memoizedState!==null,ta(e,n,r),Ve=l;break;default:ta(e,n,r)}}function V0(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{kr(e)}catch(r){Jt(n,n.return,r)}}}function j0(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{kr(e)}catch(r){Jt(n,n.return,r)}}function Wb(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new C0),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new C0),n;default:throw Error(s(435,e.tag))}}function Ju(e,n){var r=Wb(e);n.forEach(function(l){if(!r.has(l)){r.add(l);var h=oA.bind(null,e,l);l.then(h,h)}})}function mn(e,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],d=e,E=n,A=E;t:for(;A!==null;){switch(A.tag){case 27:if(qa(A.type)){fe=A.stateNode,dn=!1;break t}break;case 5:fe=A.stateNode,dn=!1;break t;case 3:case 4:fe=A.stateNode.containerInfo,dn=!0;break t}A=A.return}if(fe===null)throw Error(s(160));M0(d,E,h),fe=null,dn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)U0(n,e),n=n.sibling}var oi=null;function U0(e,n){var r=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:mn(n,e),pn(e),l&4&&(La(3,e,e.return),Kl(3,e),La(5,e,e.return));break;case 1:mn(n,e),pn(e),l&512&&(Ve||r===null||Ci(r,r.return)),l&64&&Wi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=oi;if(mn(n,e),pn(e),l&512&&(Ve||r===null||Ci(r,r.return)),l&4){var d=r!==null?r.memoizedState:null;if(l=e.memoizedState,r===null)if(l===null)if(e.stateNode===null){t:{l=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[gi]||d[Re]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),$e(d,l,r),d[Re]=e,Ie(d),l=d;break t;case"link":var E=Uy("link","href",h).get(l+(r.href||""));if(E){for(var A=0;A<E.length;A++)if(d=E[A],d.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&d.getAttribute("rel")===(r.rel==null?null:r.rel)&&d.getAttribute("title")===(r.title==null?null:r.title)&&d.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){E.splice(A,1);break e}}d=h.createElement(l),$e(d,l,r),h.head.appendChild(d);break;case"meta":if(E=Uy("meta","content",h).get(l+(r.content||""))){for(A=0;A<E.length;A++)if(d=E[A],d.getAttribute("content")===(r.content==null?null:""+r.content)&&d.getAttribute("name")===(r.name==null?null:r.name)&&d.getAttribute("property")===(r.property==null?null:r.property)&&d.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&d.getAttribute("charset")===(r.charSet==null?null:r.charSet)){E.splice(A,1);break e}}d=h.createElement(l),$e(d,l,r),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Re]=e,Ie(d),l=d}e.stateNode=l}else Ly(h,e.type,e.stateNode);else e.stateNode=jy(h,l,e.memoizedProps);else d!==l?(d===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):d.count--,l===null?Ly(h,e.type,e.stateNode):jy(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Qf(e,e.memoizedProps,r.memoizedProps)}break;case 27:mn(n,e),pn(e),l&512&&(Ve||r===null||Ci(r,r.return)),r!==null&&l&4&&Qf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(mn(n,e),pn(e),l&512&&(Ve||r===null||Ci(r,r.return)),e.flags&32){h=e.stateNode;try{fn(h,"")}catch(ct){Jt(e,e.return,ct)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Qf(e,h,r!==null?r.memoizedProps:h)),l&1024&&(Jf=!0);break;case 6:if(mn(n,e),pn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,r=e.stateNode;try{r.nodeValue=l}catch(ct){Jt(e,e.return,ct)}}break;case 3:if(dc=null,h=oi,oi=hc(n.containerInfo),mn(n,e),oi=h,pn(e),l&4&&r!==null&&r.memoizedState.isDehydrated)try{kr(n.containerInfo)}catch(ct){Jt(e,e.return,ct)}Jf&&(Jf=!1,L0(e));break;case 4:l=oi,oi=hc(e.stateNode.containerInfo),mn(n,e),pn(e),oi=l;break;case 12:mn(n,e),pn(e);break;case 31:mn(n,e),pn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ju(e,l)));break;case 13:mn(n,e),pn(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Wu=ce()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ju(e,l)));break;case 22:h=e.memoizedState!==null;var D=r!==null&&r.memoizedState!==null,G=Wi,X=Ve;if(Wi=G||h,Ve=X||D,mn(n,e),Ve=X,Wi=G,pn(e),l&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||D||Wi||Ve||zs(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){D=r=n;try{if(d=D.stateNode,h)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{A=D.stateNode;var tt=D.memoizedProps.style,F=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;A.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(ct){Jt(D,D.return,ct)}}}else if(n.tag===6){if(r===null){D=n;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(ct){Jt(D,D.return,ct)}}}else if(n.tag===18){if(r===null){D=n;try{var K=D.stateNode;h?wy(K,!0):wy(D.stateNode,!1)}catch(ct){Jt(D,D.return,ct)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Ju(e,r))));break;case 19:mn(n,e),pn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ju(e,l)));break;case 30:break;case 21:break;default:mn(n,e),pn(e)}}function pn(e){var n=e.flags;if(n&2){try{for(var r,l=e.return;l!==null;){if(R0(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var h=r.stateNode,d=$f(e);Xu(e,d,h);break;case 5:var E=r.stateNode;r.flags&32&&(fn(E,""),r.flags&=-33);var A=$f(e);Xu(e,A,E);break;case 3:case 4:var D=r.stateNode.containerInfo,G=$f(e);Xf(e,G,D);break;default:throw Error(s(161))}}catch(X){Jt(e,e.return,X)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function L0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;L0(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ea(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)D0(e,n.alternate,n),n=n.sibling}function zs(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:La(4,n,n.return),zs(n);break;case 1:Ci(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&w0(n,n.return,r),zs(n);break;case 27:io(n.stateNode);case 26:case 5:Ci(n,n.return),zs(n);break;case 22:n.memoizedState===null&&zs(n);break;case 30:zs(n);break;default:zs(n)}e=e.sibling}}function na(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,d=n,E=d.flags;switch(d.tag){case 0:case 11:case 15:na(h,d,r),Kl(4,d);break;case 1:if(na(h,d,r),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(G){Jt(l,l.return,G)}if(l=d,h=l.updateQueue,h!==null){var A=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)mg(D[h],A)}catch(G){Jt(l,l.return,G)}}r&&E&64&&x0(d),Ql(d,d.return);break;case 27:I0(d);case 26:case 5:na(h,d,r),r&&l===null&&E&4&&N0(d),Ql(d,d.return);break;case 12:na(h,d,r);break;case 31:na(h,d,r),r&&E&4&&V0(h,d);break;case 13:na(h,d,r),r&&E&4&&j0(h,d);break;case 22:d.memoizedState===null&&na(h,d,r),Ql(d,d.return);break;case 30:break;default:na(h,d,r)}n=n.sibling}}function Zf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Vl(r))}function Wf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Vl(e))}function ui(e,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)P0(e,n,r,l),n=n.sibling}function P0(e,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ui(e,n,r,l),h&2048&&Kl(9,n);break;case 1:ui(e,n,r,l);break;case 3:ui(e,n,r,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Vl(e)));break;case 12:if(h&2048){ui(e,n,r,l),e=n.stateNode;try{var d=n.memoizedProps,E=d.id,A=d.onPostCommit;typeof A=="function"&&A(E,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(D){Jt(n,n.return,D)}}else ui(e,n,r,l);break;case 31:ui(e,n,r,l);break;case 13:ui(e,n,r,l);break;case 23:break;case 22:d=n.stateNode,E=n.alternate,n.memoizedState!==null?d._visibility&2?ui(e,n,r,l):$l(e,n):d._visibility&2?ui(e,n,r,l):(d._visibility|=2,Rr(e,n,r,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Zf(E,n);break;case 24:ui(e,n,r,l),h&2048&&Wf(n.alternate,n);break;default:ui(e,n,r,l)}}function Rr(e,n,r,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var d=e,E=n,A=r,D=l,G=E.flags;switch(E.tag){case 0:case 11:case 15:Rr(d,E,A,D,h),Kl(8,E);break;case 23:break;case 22:var X=E.stateNode;E.memoizedState!==null?X._visibility&2?Rr(d,E,A,D,h):$l(d,E):(X._visibility|=2,Rr(d,E,A,D,h)),h&&G&2048&&Zf(E.alternate,E);break;case 24:Rr(d,E,A,D,h),h&&G&2048&&Wf(E.alternate,E);break;default:Rr(d,E,A,D,h)}n=n.sibling}}function $l(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,l=n,h=l.flags;switch(l.tag){case 22:$l(r,l),h&2048&&Zf(l.alternate,l);break;case 24:$l(r,l),h&2048&&Wf(l.alternate,l);break;default:$l(r,l)}n=n.sibling}}var Xl=8192;function Ir(e,n,r){if(e.subtreeFlags&Xl)for(e=e.child;e!==null;)k0(e,n,r),e=e.sibling}function k0(e,n,r){switch(e.tag){case 26:Ir(e,n,r),e.flags&Xl&&e.memoizedState!==null&&kA(r,oi,e.memoizedState,e.memoizedProps);break;case 5:Ir(e,n,r);break;case 3:case 4:var l=oi;oi=hc(e.stateNode.containerInfo),Ir(e,n,r),oi=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Xl,Xl=16777216,Ir(e,n,r),Xl=l):Ir(e,n,r));break;default:Ir(e,n,r)}}function z0(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Jl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];He=l,H0(l,e)}z0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)B0(e),e=e.sibling}function B0(e){switch(e.tag){case 0:case 11:case 15:Jl(e),e.flags&2048&&La(9,e,e.return);break;case 3:Jl(e);break;case 12:Jl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Zu(e)):Jl(e);break;default:Jl(e)}}function Zu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];He=l,H0(l,e)}z0(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:La(8,n,n.return),Zu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Zu(n));break;default:Zu(n)}e=e.sibling}}function H0(e,n){for(;He!==null;){var r=He;switch(r.tag){case 0:case 11:case 15:La(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Vl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,He=l;else t:for(r=e;He!==null;){l=He;var h=l.sibling,d=l.return;if(O0(l),l===r){He=null;break t}if(h!==null){h.return=d,He=h;break t}He=d}}}var tA={getCacheForType:function(e){var n=Ke(De),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return Ke(De).controller.signal}},eA=typeof WeakMap=="function"?WeakMap:Map,Kt=0,ae=null,Ot=null,jt=0,Xt=0,In=null,Pa=!1,Cr=!1,td=!1,ia=0,ve=0,ka=0,Bs=0,ed=0,Cn=0,Dr=0,Zl=null,gn=null,nd=!1,Wu=0,G0=0,tc=1/0,ec=null,za=null,Le=0,Ba=null,Or=null,aa=0,id=0,ad=null,q0=null,Wl=0,sd=null;function Dn(){return(Kt&2)!==0&&jt!==0?jt&-jt:$.T!==null?hd():nu()}function F0(){if(Cn===0)if((jt&536870912)===0||kt){var e=ms;ms<<=1,(ms&3932160)===0&&(ms=262144),Cn=e}else Cn=536870912;return e=Nn.current,e!==null&&(e.flags|=32),Cn}function yn(e,n,r){(e===ae&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)&&(Mr(e,0),Ha(e,jt,Cn,!1)),ps(e,r),((Kt&2)===0||e!==ae)&&(e===ae&&((Kt&2)===0&&(Bs|=r),ve===4&&Ha(e,jt,Cn,!1)),Di(e))}function Y0(e,n,r){if((Kt&6)!==0)throw Error(s(327));var l=!r&&(n&127)===0&&(n&e.expiredLanes)===0||Wn(e,n),h=l?aA(e,n):ld(e,n,!0),d=l;do{if(h===0){Cr&&!l&&Ha(e,n,0,!1);break}else{if(r=e.current.alternate,d&&!nA(r)){h=ld(e,n,!1),d=!1;continue}if(h===2){if(d=n,e.errorRecoveryDisabledLanes&d)var E=0;else E=e.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){n=E;t:{var A=e;h=Zl;var D=A.current.memoizedState.isDehydrated;if(D&&(Mr(A,E).flags|=256),E=ld(A,E,!1),E!==2){if(td&&!D){A.errorRecoveryDisabledLanes|=d,Bs|=d,h=4;break t}d=gn,gn=h,d!==null&&(gn===null?gn=d:gn.push.apply(gn,d))}h=E}if(d=!1,h!==2)continue}}if(h===1){Mr(e,0),Ha(e,n,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Ha(l,n,Cn,!Pa);break t;case 2:gn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=Wu+300-ce(),10<h)){if(Ha(l,n,Cn,!Pa),di(l,0,!0)!==0)break t;aa=n,l.timeoutHandle=Ay(K0.bind(null,l,r,gn,ec,nd,n,Cn,Bs,Dr,Pa,d,"Throttled",-0,0),h);break t}K0(l,r,gn,ec,nd,n,Cn,Bs,Dr,Pa,d,null,-0,0)}}break}while(!0);Di(e)}function K0(e,n,r,l,h,d,E,A,D,G,X,tt,F,K){if(e.timeoutHandle=-1,tt=n.subtreeFlags,tt&8192||(tt&16785408)===16785408){tt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ni},k0(n,d,tt);var ct=(d&62914560)===d?Wu-ce():(d&4194048)===d?G0-ce():0;if(ct=zA(tt,ct),ct!==null){aa=d,e.cancelPendingCommit=ct(ey.bind(null,e,n,d,r,l,h,E,A,D,X,tt,null,F,K)),Ha(e,d,E,!G);return}}ey(e,n,d,r,l,h,E,A,D)}function nA(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],d=h.getSnapshot;h=h.value;try{if(!xn(d(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ha(e,n,r,l){n&=~ed,n&=~Bs,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var d=31-Te(h),E=1<<d;l[d]=-1,h&=~E}r!==0&&gs(e,r,n)}function nc(){return(Kt&6)===0?(to(0),!1):!0}function rd(){if(Ot!==null){if(Xt===0)var e=Ot.return;else e=Ot,Ki=Os=null,bf(e),Ar=null,Ul=0,e=Ot;for(;e!==null;)S0(e.alternate,e),e=e.return;Ot=null}}function Mr(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,bA(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),aa=0,rd(),ae=e,Ot=r=Fi(e.current,null),jt=n,Xt=0,In=null,Pa=!1,Cr=Wn(e,n),td=!1,Dr=Cn=ed=Bs=ka=ve=0,gn=Zl=null,nd=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-Te(l),d=1<<h;n|=e[h],l&=~d}return ia=n,Au(),r}function Q0(e,n){Rt=null,$.H=ql,n===br||n===Du?(n=cg(),Xt=3):n===cf?(n=cg(),Xt=4):Xt=n===Pf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,In=n,Ot===null&&(ve=1,Fu(e,zn(n,e.current)))}function $0(){var e=Nn.current;return e===null?!0:(jt&4194048)===jt?qn===null:(jt&62914560)===jt||(jt&536870912)!==0?e===qn:!1}function X0(){var e=$.H;return $.H=ql,e===null?ql:e}function J0(){var e=$.A;return $.A=tA,e}function ic(){ve=4,Pa||(jt&4194048)!==jt&&Nn.current!==null||(Cr=!0),(ka&134217727)===0&&(Bs&134217727)===0||ae===null||Ha(ae,jt,Cn,!1)}function ld(e,n,r){var l=Kt;Kt|=2;var h=X0(),d=J0();(ae!==e||jt!==n)&&(ec=null,Mr(e,n)),n=!1;var E=ve;t:do try{if(Xt!==0&&Ot!==null){var A=Ot,D=In;switch(Xt){case 8:rd(),E=6;break t;case 3:case 2:case 9:case 6:Nn.current===null&&(n=!0);var G=Xt;if(Xt=0,In=null,Vr(e,A,D,G),r&&Cr){E=0;break t}break;default:G=Xt,Xt=0,In=null,Vr(e,A,D,G)}}iA(),E=ve;break}catch(X){Q0(e,X)}while(!0);return n&&e.shellSuspendCounter++,Ki=Os=null,Kt=l,$.H=h,$.A=d,Ot===null&&(ae=null,jt=0,Au()),E}function iA(){for(;Ot!==null;)Z0(Ot)}function aA(e,n){var r=Kt;Kt|=2;var l=X0(),h=J0();ae!==e||jt!==n?(ec=null,tc=ce()+500,Mr(e,n)):Cr=Wn(e,n);t:do try{if(Xt!==0&&Ot!==null){n=Ot;var d=In;e:switch(Xt){case 1:Xt=0,In=null,Vr(e,n,d,1);break;case 2:case 9:if(og(d)){Xt=0,In=null,W0(n);break}n=function(){Xt!==2&&Xt!==9||ae!==e||(Xt=7),Di(e)},d.then(n,n);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:og(d)?(Xt=0,In=null,W0(n)):(Xt=0,In=null,Vr(e,n,d,7));break;case 5:var E=null;switch(Ot.tag){case 26:E=Ot.memoizedState;case 5:case 27:var A=Ot;if(E?Py(E):A.stateNode.complete){Xt=0,In=null;var D=A.sibling;if(D!==null)Ot=D;else{var G=A.return;G!==null?(Ot=G,ac(G)):Ot=null}break e}}Xt=0,In=null,Vr(e,n,d,5);break;case 6:Xt=0,In=null,Vr(e,n,d,6);break;case 8:rd(),ve=6;break t;default:throw Error(s(462))}}sA();break}catch(X){Q0(e,X)}while(!0);return Ki=Os=null,$.H=l,$.A=h,Kt=r,Ot!==null?0:(ae=null,jt=0,Au(),ve)}function sA(){for(;Ot!==null&&!tn();)Z0(Ot)}function Z0(e){var n=b0(e.alternate,e,ia);e.memoizedProps=e.pendingProps,n===null?ac(e):Ot=n}function W0(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=g0(r,n,n.pendingProps,n.type,void 0,jt);break;case 11:n=g0(r,n,n.pendingProps,n.type.render,n.ref,jt);break;case 5:bf(n);default:S0(r,n),n=Ot=Jp(n,ia),n=b0(r,n,ia)}e.memoizedProps=e.pendingProps,n===null?ac(e):Ot=n}function Vr(e,n,r,l){Ki=Os=null,bf(n),Ar=null,Ul=0;var h=n.return;try{if(Kb(e,h,n,r,jt)){ve=1,Fu(e,zn(r,e.current)),Ot=null;return}}catch(d){if(h!==null)throw Ot=h,d;ve=1,Fu(e,zn(r,e.current)),Ot=null;return}n.flags&32768?(kt||l===1?e=!0:Cr||(jt&536870912)!==0?e=!1:(Pa=e=!0,(l===2||l===9||l===3||l===6)&&(l=Nn.current,l!==null&&l.tag===13&&(l.flags|=16384))),ty(n,e)):ac(n)}function ac(e){var n=e;do{if((n.flags&32768)!==0){ty(n,Pa);return}e=n.return;var r=Xb(n.alternate,n,ia);if(r!==null){Ot=r;return}if(n=n.sibling,n!==null){Ot=n;return}Ot=n=e}while(n!==null);ve===0&&(ve=5)}function ty(e,n){do{var r=Jb(e.alternate,e);if(r!==null){r.flags&=32767,Ot=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Ot=e;return}Ot=e=r}while(e!==null);ve=6,Ot=null}function ey(e,n,r,l,h,d,E,A,D){e.cancelPendingCommit=null;do sc();while(Le!==0);if((Kt&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(d=n.lanes|n.childLanes,d|=Qh,kh(e,r,d,E,A,D),e===ae&&(Ot=ae=null,jt=0),Or=n,Ba=e,aa=r,id=d,ad=h,q0=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,uA(_a,function(){return ry(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,h=rt.p,rt.p=2,E=Kt,Kt|=4;try{Zb(e,n,r)}finally{Kt=E,rt.p=h,$.T=l}}Le=1,ny(),iy(),ay()}}function ny(){if(Le===1){Le=0;var e=Ba,n=Or,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=$.T,$.T=null;var l=rt.p;rt.p=2;var h=Kt;Kt|=4;try{U0(n,e);var d=Ed,E=Hp(e.containerInfo),A=d.focusedElem,D=d.selectionRange;if(E!==A&&A&&A.ownerDocument&&Bp(A.ownerDocument.documentElement,A)){if(D!==null&&Gh(A)){var G=D.start,X=D.end;if(X===void 0&&(X=G),"selectionStart"in A)A.selectionStart=G,A.selectionEnd=Math.min(X,A.value.length);else{var tt=A.ownerDocument||document,F=tt&&tt.defaultView||window;if(F.getSelection){var K=F.getSelection(),ct=A.textContent.length,Et=Math.min(D.start,ct),ee=D.end===void 0?Et:Math.min(D.end,ct);!K.extend&&Et>ee&&(E=ee,ee=Et,Et=E);var L=zp(A,Et),M=zp(A,ee);if(L&&M&&(K.rangeCount!==1||K.anchorNode!==L.node||K.anchorOffset!==L.offset||K.focusNode!==M.node||K.focusOffset!==M.offset)){var H=tt.createRange();H.setStart(L.node,L.offset),K.removeAllRanges(),Et>ee?(K.addRange(H),K.extend(M.node,M.offset)):(H.setEnd(M.node,M.offset),K.addRange(H))}}}}for(tt=[],K=A;K=K.parentNode;)K.nodeType===1&&tt.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<tt.length;A++){var J=tt[A];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}yc=!!_d,Ed=_d=null}finally{Kt=h,rt.p=l,$.T=r}}e.current=n,Le=2}}function iy(){if(Le===2){Le=0;var e=Ba,n=Or,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=$.T,$.T=null;var l=rt.p;rt.p=2;var h=Kt;Kt|=4;try{D0(e,n.alternate,n)}finally{Kt=h,rt.p=l,$.T=r}}Le=3}}function ay(){if(Le===4||Le===3){Le=0,fs();var e=Ba,n=Or,r=aa,l=q0;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Le=5:(Le=0,Or=Ba=null,sy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(za=null),Bi(r),n=n.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(Zn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=$.T,h=rt.p,rt.p=2,$.T=null;try{for(var d=e.onRecoverableError,E=0;E<l.length;E++){var A=l[E];d(A.value,{componentStack:A.stack})}}finally{$.T=n,rt.p=h}}(aa&3)!==0&&sc(),Di(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===sd?Wl++:(Wl=0,sd=e):Wl=0,to(0)}}function sy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Vl(n)))}function sc(){return ny(),iy(),ay(),ry()}function ry(){if(Le!==5)return!1;var e=Ba,n=id;id=0;var r=Bi(aa),l=$.T,h=rt.p;try{rt.p=32>r?32:r,$.T=null,r=ad,ad=null;var d=Ba,E=aa;if(Le=0,Or=Ba=null,aa=0,(Kt&6)!==0)throw Error(s(331));var A=Kt;if(Kt|=4,B0(d.current),P0(d,d.current,E,r),Kt=A,to(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(Zn,d)}catch{}return!0}finally{rt.p=h,$.T=l,sy(e,n)}}function ly(e,n,r){n=zn(r,n),n=Lf(e.stateNode,n,2),e=Va(e,n,2),e!==null&&(ps(e,2),Di(e))}function Jt(e,n,r){if(e.tag===3)ly(e,e,r);else for(;n!==null;){if(n.tag===3){ly(n,e,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(za===null||!za.has(l))){e=zn(r,e),r=o0(2),l=Va(n,r,2),l!==null&&(u0(r,l,n,e),ps(l,2),Di(l));break}}n=n.return}}function od(e,n,r){var l=e.pingCache;if(l===null){l=e.pingCache=new eA;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(td=!0,h.add(r),e=rA.bind(null,e,n,r),n.then(e,e))}function rA(e,n,r){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,ae===e&&(jt&r)===r&&(ve===4||ve===3&&(jt&62914560)===jt&&300>ce()-Wu?(Kt&2)===0&&Mr(e,0):ed|=r,Dr===jt&&(Dr=0)),Di(e)}function oy(e,n){n===0&&(n=eu()),e=Is(e,n),e!==null&&(ps(e,n),Di(e))}function lA(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),oy(e,r)}function oA(e,n){var r=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),oy(e,r)}function uA(e,n){return Ht(e,n)}var rc=null,jr=null,ud=!1,lc=!1,cd=!1,Ga=0;function Di(e){e!==jr&&e.next===null&&(jr===null?rc=jr=e:jr=jr.next=e),lc=!0,ud||(ud=!0,hA())}function to(e,n){if(!cd&&lc){cd=!0;do for(var r=!1,l=rc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var E=l.suspendedLanes,A=l.pingedLanes;d=(1<<31-Te(42|e)+1)-1,d&=h&~(E&~A),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(r=!0,fy(l,d))}else d=jt,d=di(l,l===ae?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Wn(l,d)||(r=!0,fy(l,d));l=l.next}while(r);cd=!1}}function cA(){uy()}function uy(){lc=ud=!1;var e=0;Ga!==0&&TA()&&(e=Ga);for(var n=ce(),r=null,l=rc;l!==null;){var h=l.next,d=cy(l,n);d===0?(l.next=null,r===null?rc=h:r.next=h,h===null&&(jr=r)):(r=l,(e!==0||(d&3)!==0)&&(lc=!0)),l=h}Le!==0&&Le!==5||to(e),Ga!==0&&(Ga=0)}function cy(e,n){for(var r=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var E=31-Te(d),A=1<<E,D=h[E];D===-1?((A&r)===0||(A&l)!==0)&&(h[E]=Ph(A,n)):D<=n&&(e.expiredLanes|=A),d&=~A}if(n=ae,r=jt,r=di(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,r===0||e===n&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&bn(l),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Wn(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(l!==null&&bn(l),Bi(r)){case 2:case 8:r=cl;break;case 32:r=_a;break;case 268435456:r=Xo;break;default:r=_a}return l=hy.bind(null,e),r=Ht(r,l),e.callbackPriority=n,e.callbackNode=r,n}return l!==null&&l!==null&&bn(l),e.callbackPriority=2,e.callbackNode=null,2}function hy(e,n){if(Le!==0&&Le!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(sc()&&e.callbackNode!==r)return null;var l=jt;return l=di(e,e===ae?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Y0(e,l,n),cy(e,ce()),e.callbackNode!=null&&e.callbackNode===r?hy.bind(null,e):null)}function fy(e,n){if(sc())return null;Y0(e,n,!0)}function hA(){AA(function(){(Kt&6)!==0?Ht(ul,cA):uy()})}function hd(){if(Ga===0){var e=vr;e===0&&(e=hi,hi<<=1,(hi&261888)===0&&(hi=256)),Ga=e}return Ga}function dy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:sr(""+e)}function my(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function fA(e,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var d=dy((h[ze]||null).action),E=l.submitter;E&&(n=(n=E[ze]||null)?dy(n.formAction):E.getAttribute("formAction"),n!==null&&(d=n,E=null));var A=new Si("action","action",null,l,h);e.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ga!==0){var D=E?my(h,E):new FormData(h);Df(r,{pending:!0,data:D,method:h.method,action:d},null,D)}}else typeof d=="function"&&(A.preventDefault(),D=E?my(h,E):new FormData(h),Df(r,{pending:!0,data:D,method:h.method,action:d},d,D))},currentTarget:h}]})}}for(var fd=0;fd<Kh.length;fd++){var dd=Kh[fd],dA=dd.toLowerCase(),mA=dd[0].toUpperCase()+dd.slice(1);li(dA,"on"+mA)}li(Fp,"onAnimationEnd"),li(Yp,"onAnimationIteration"),li(Kp,"onAnimationStart"),li("dblclick","onDoubleClick"),li("focusin","onFocus"),li("focusout","onBlur"),li(Cb,"onTransitionRun"),li(Db,"onTransitionStart"),li(Ob,"onTransitionCancel"),li(Qp,"onTransitionEnd"),vi("onMouseEnter",["mouseout","mouseover"]),vi("onMouseLeave",["mouseout","mouseover"]),vi("onPointerEnter",["pointerout","pointerover"]),vi("onPointerLeave",["pointerout","pointerover"]),Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(eo));function py(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var l=e[r],h=l.event;l=l.listeners;t:{var d=void 0;if(n)for(var E=l.length-1;0<=E;E--){var A=l[E],D=A.instance,G=A.currentTarget;if(A=A.listener,D!==d&&h.isPropagationStopped())break t;d=A,h.currentTarget=G;try{d(h)}catch(X){bu(X)}h.currentTarget=null,d=D}else for(E=0;E<l.length;E++){if(A=l[E],D=A.instance,G=A.currentTarget,A=A.listener,D!==d&&h.isPropagationStopped())break t;d=A,h.currentTarget=G;try{d(h)}catch(X){bu(X)}h.currentTarget=null,d=D}}}}function Mt(e,n){var r=n[tr];r===void 0&&(r=n[tr]=new Set);var l=e+"__bubble";r.has(l)||(gy(n,e,2,!1),r.add(l))}function md(e,n,r){var l=0;n&&(l|=4),gy(r,e,l,n)}var oc="_reactListening"+Math.random().toString(36).slice(2);function pd(e){if(!e[oc]){e[oc]=!0,dl.forEach(function(r){r!=="selectionchange"&&(pA.has(r)||md(r,!1,e),md(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[oc]||(n[oc]=!0,md("selectionchange",!1,n))}}function gy(e,n,r,l){switch(Fy(n)){case 2:var h=GA;break;case 8:h=qA;break;default:h=Cd}r=h.bind(null,n,r,e),h=void 0,!Ts||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function gd(e,n,r,l,h){var d=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var A=l.stateNode.containerInfo;if(A===h)break;if(E===4)for(E=l.return;E!==null;){var D=E.tag;if((D===3||D===4)&&E.stateNode.containerInfo===h)return;E=E.return}for(;A!==null;){if(E=yi(A),E===null)return;if(D=E.tag,D===5||D===6||D===26||D===27){l=d=E;continue t}A=A.parentNode}}l=l.return}Sa(function(){var G=d,X=Un(r),tt=[];t:{var F=$p.get(e);if(F!==void 0){var K=Si,ct=e;switch(e){case"keypress":if(As(r)===0)break t;case"keydown":case"keyup":K=Eu;break;case"focusin":ct="focus",K=xs;break;case"focusout":ct="blur",K=xs;break;case"beforeblur":case"afterblur":K=xs;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=wl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=cu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=p;break;case Fp:case Yp:case Kp:K=fu;break;case Qp:K=x;break;case"scroll":case"scrollend":K=xl;break;case"wheel":K=Y;break;case"copy":case"cut":case"paste":K=du;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=qi;break;case"toggle":case"beforetoggle":K=Nt}var Et=(n&4)!==0,ee=!Et&&(e==="scroll"||e==="scrollend"),L=Et?F!==null?F+"Capture":null:F;Et=[];for(var M=G,H;M!==null;){var J=M;if(H=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||H===null||L===null||(J=ii(M,L),J!=null&&Et.push(no(M,J,H))),ee)break;M=M.return}0<Et.length&&(F=new K(F,ct,null,r,X),tt.push({event:F,listeners:Et}))}}if((n&7)===0){t:{if(F=e==="mouseover"||e==="pointerover",K=e==="mouseout"||e==="pointerout",F&&r!==bl&&(ct=r.relatedTarget||r.fromElement)&&(yi(ct)||ct[pi]))break t;if((K||F)&&(F=X.window===X?X:(F=X.ownerDocument)?F.defaultView||F.parentWindow:window,K?(ct=r.relatedTarget||r.toElement,K=G,ct=ct?yi(ct):null,ct!==null&&(ee=u(ct),Et=ct.tag,ct!==ee||Et!==5&&Et!==27&&Et!==6)&&(ct=null)):(K=null,ct=G),K!==ct)){if(Et=wl,J="onMouseLeave",L="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(Et=qi,J="onPointerLeave",L="onPointerEnter",M="pointer"),ee=K==null?F:An(K),H=ct==null?F:An(ct),F=new Et(J,M+"leave",K,r,X),F.target=ee,F.relatedTarget=H,J=null,yi(X)===G&&(Et=new Et(L,M+"enter",ct,r,X),Et.target=H,Et.relatedTarget=ee,J=Et),ee=J,K&&ct)e:{for(Et=gA,L=K,M=ct,H=0,J=L;J;J=Et(J))H++;J=0;for(var gt=M;gt;gt=Et(gt))J++;for(;0<H-J;)L=Et(L),H--;for(;0<J-H;)M=Et(M),J--;for(;H--;){if(L===M||M!==null&&L===M.alternate){Et=L;break e}L=Et(L),M=Et(M)}Et=null}else Et=null;K!==null&&yy(tt,F,K,Et,!1),ct!==null&&ee!==null&&yy(tt,ee,ct,Et,!0)}}t:{if(F=G?An(G):window,K=F.nodeName&&F.nodeName.toLowerCase(),K==="select"||K==="input"&&F.type==="file")var qt=Vp;else if(Op(F))if(jp)qt=Nb;else{qt=xb;var ft=Sb}else K=F.nodeName,!K||K.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?G&&ar(G.elementType)&&(qt=Vp):qt=wb;if(qt&&(qt=qt(e,G))){Mp(tt,qt,r,X);break t}ft&&ft(e,F,G),e==="focusout"&&G&&F.type==="number"&&G.memoizedProps.value!=null&&El(F,"number",F.value)}switch(ft=G?An(G):window,e){case"focusin":(Op(ft)||ft.contentEditable==="true")&&(fr=ft,qh=G,Dl=null);break;case"focusout":Dl=qh=fr=null;break;case"mousedown":Fh=!0;break;case"contextmenu":case"mouseup":case"dragend":Fh=!1,Gp(tt,r,X);break;case"selectionchange":if(Ib)break;case"keydown":case"keyup":Gp(tt,r,X)}var It;if(Yt)t:{switch(e){case"compositionstart":var Ut="onCompositionStart";break t;case"compositionend":Ut="onCompositionEnd";break t;case"compositionupdate":Ut="onCompositionUpdate";break t}Ut=void 0}else hr?ws(e,r)&&(Ut="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Ut="onCompositionStart");Ut&&(Ni&&r.locale!=="ko"&&(hr||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&hr&&(It=Sl()):(Ai=X,Al="value"in Ai?Ai.value:Ai.textContent,hr=!0)),ft=uc(G,Ut),0<ft.length&&(Ut=new wi(Ut,e,null,r,X),tt.push({event:Ut,listeners:ft}),It?Ut.data=It:(It=cr(r),It!==null&&(Ut.data=It)))),(It=Pn?vb(e,r):Tb(e,r))&&(Ut=uc(G,"onBeforeInput"),0<Ut.length&&(ft=new wi("onBeforeInput","beforeinput",null,r,X),tt.push({event:ft,listeners:Ut}),ft.data=It)),fA(tt,e,G,r,X)}py(tt,n)})}function no(e,n,r){return{instance:e,listener:n,currentTarget:r}}function uc(e,n){for(var r=n+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ii(e,r),h!=null&&l.unshift(no(e,h,d)),h=ii(e,n),h!=null&&l.push(no(e,h,d))),e.tag===3)return l;e=e.return}return[]}function gA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function yy(e,n,r,l,h){for(var d=n._reactName,E=[];r!==null&&r!==l;){var A=r,D=A.alternate,G=A.stateNode;if(A=A.tag,D!==null&&D===l)break;A!==5&&A!==26&&A!==27||G===null||(D=G,h?(G=ii(r,d),G!=null&&E.unshift(no(r,G,D))):h||(G=ii(r,d),G!=null&&E.push(no(r,G,D)))),r=r.return}E.length!==0&&e.push({event:n,listeners:E})}var yA=/\r\n?/g,_A=/\u0000|\uFFFD/g;function _y(e){return(typeof e=="string"?e:""+e).replace(yA,`
`).replace(_A,"")}function Ey(e,n){return n=_y(n),_y(e)===n}function te(e,n,r,l,h,d){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||fn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&fn(e,""+l);break;case"className":Sn(e,"class",l);break;case"tabIndex":Sn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Sn(e,r,l);break;case"style":Tl(e,l,d);break;case"data":if(n!=="object"){Sn(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=sr(""+l),e.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(r==="formAction"?(n!=="input"&&te(e,n,"name",h.name,h,null),te(e,n,"formEncType",h.formEncType,h,null),te(e,n,"formMethod",h.formMethod,h,null),te(e,n,"formTarget",h.formTarget,h,null)):(te(e,n,"encType",h.encType,h,null),te(e,n,"method",h.method,h,null),te(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=sr(""+l),e.setAttribute(r,l);break;case"onClick":l!=null&&(e.onclick=ni);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}r=sr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""+l):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":l===!0?e.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,l):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(r,l):e.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(r):e.setAttribute(r,l);break;case"popover":Mt("beforetoggle",e),Mt("toggle",e),nr(e,"popover",l);break;case"xlinkActuate":Ce(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ce(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ce(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ce(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ce(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ce(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ce(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ce(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ce(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":nr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=uu.get(r)||r,nr(e,r,l))}}function yd(e,n,r,l,h,d){switch(r){case"style":Tl(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"children":typeof l=="string"?fn(e,l):(typeof l=="number"||typeof l=="bigint")&&fn(e,""+l);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=ni);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ml.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),d=e[ze]||null,d=d!=null?d[r]:null,typeof d=="function"&&e.removeEventListener(n,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,l,h);break t}r in e?e[r]=l:l===!0?e.setAttribute(r,""):nr(e,r,l)}}}function $e(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",e),Mt("load",e);var l=!1,h=!1,d;for(d in r)if(r.hasOwnProperty(d)){var E=r[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:te(e,n,d,E,r,null)}}h&&te(e,n,"srcSet",r.srcSet,r,null),l&&te(e,n,"src",r.src,r,null);return;case"input":Mt("invalid",e);var A=d=E=h=null,D=null,G=null;for(l in r)if(r.hasOwnProperty(l)){var X=r[l];if(X!=null)switch(l){case"name":h=X;break;case"type":E=X;break;case"checked":D=X;break;case"defaultChecked":G=X;break;case"value":d=X;break;case"defaultValue":A=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,n));break;default:te(e,n,l,X,r,null)}}ru(e,d,A,D,G,E,h,!1);return;case"select":Mt("invalid",e),l=E=d=null;for(h in r)if(r.hasOwnProperty(h)&&(A=r[h],A!=null))switch(h){case"value":d=A;break;case"defaultValue":E=A;break;case"multiple":l=A;default:te(e,n,h,A,r,null)}n=d,r=E,e.multiple=!!l,n!=null?va(e,!!l,n,!1):r!=null&&va(e,!!l,r,!0);return;case"textarea":Mt("invalid",e),d=h=l=null;for(E in r)if(r.hasOwnProperty(E)&&(A=r[E],A!=null))switch(E){case"value":l=A;break;case"defaultValue":h=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:te(e,n,E,A,r,null)}Ta(e,l,h,d);return;case"option":for(D in r)if(r.hasOwnProperty(D)&&(l=r[D],l!=null))switch(D){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:te(e,n,D,l,r,null)}return;case"dialog":Mt("beforetoggle",e),Mt("toggle",e),Mt("cancel",e),Mt("close",e);break;case"iframe":case"object":Mt("load",e);break;case"video":case"audio":for(l=0;l<eo.length;l++)Mt(eo[l],e);break;case"image":Mt("error",e),Mt("load",e);break;case"details":Mt("toggle",e);break;case"embed":case"source":case"link":Mt("error",e),Mt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in r)if(r.hasOwnProperty(G)&&(l=r[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:te(e,n,G,l,r,null)}return;default:if(ar(n)){for(X in r)r.hasOwnProperty(X)&&(l=r[X],l!==void 0&&yd(e,n,X,l,r,void 0));return}}for(A in r)r.hasOwnProperty(A)&&(l=r[A],l!=null&&te(e,n,A,l,r,null))}function EA(e,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,E=null,A=null,D=null,G=null,X=null;for(K in r){var tt=r[K];if(r.hasOwnProperty(K)&&tt!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":D=tt;default:l.hasOwnProperty(K)||te(e,n,K,null,l,tt)}}for(var F in l){var K=l[F];if(tt=r[F],l.hasOwnProperty(F)&&(K!=null||tt!=null))switch(F){case"type":d=K;break;case"name":h=K;break;case"checked":G=K;break;case"defaultChecked":X=K;break;case"value":E=K;break;case"defaultValue":A=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,n));break;default:K!==tt&&te(e,n,F,K,l,tt)}}ir(e,E,A,D,G,X,d,h);return;case"select":K=E=A=F=null;for(d in r)if(D=r[d],r.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":K=D;default:l.hasOwnProperty(d)||te(e,n,d,null,l,D)}for(h in l)if(d=l[h],D=r[h],l.hasOwnProperty(h)&&(d!=null||D!=null))switch(h){case"value":F=d;break;case"defaultValue":A=d;break;case"multiple":E=d;default:d!==D&&te(e,n,h,d,l,D)}n=A,r=E,l=K,F!=null?va(e,!!r,F,!1):!!l!=!!r&&(n!=null?va(e,!!r,n,!0):va(e,!!r,r?[]:"",!1));return;case"textarea":K=F=null;for(A in r)if(h=r[A],r.hasOwnProperty(A)&&h!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:te(e,n,A,null,l,h)}for(E in l)if(h=l[E],d=r[E],l.hasOwnProperty(E)&&(h!=null||d!=null))switch(E){case"value":F=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&te(e,n,E,h,l,d)}lu(e,F,K);return;case"option":for(var ct in r)if(F=r[ct],r.hasOwnProperty(ct)&&F!=null&&!l.hasOwnProperty(ct))switch(ct){case"selected":e.selected=!1;break;default:te(e,n,ct,null,l,F)}for(D in l)if(F=l[D],K=r[D],l.hasOwnProperty(D)&&F!==K&&(F!=null||K!=null))switch(D){case"selected":e.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:te(e,n,D,F,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Et in r)F=r[Et],r.hasOwnProperty(Et)&&F!=null&&!l.hasOwnProperty(Et)&&te(e,n,Et,null,l,F);for(G in l)if(F=l[G],K=r[G],l.hasOwnProperty(G)&&F!==K&&(F!=null||K!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,n));break;default:te(e,n,G,F,l,K)}return;default:if(ar(n)){for(var ee in r)F=r[ee],r.hasOwnProperty(ee)&&F!==void 0&&!l.hasOwnProperty(ee)&&yd(e,n,ee,void 0,l,F);for(X in l)F=l[X],K=r[X],!l.hasOwnProperty(X)||F===K||F===void 0&&K===void 0||yd(e,n,X,F,l,K);return}}for(var L in r)F=r[L],r.hasOwnProperty(L)&&F!=null&&!l.hasOwnProperty(L)&&te(e,n,L,null,l,F);for(tt in l)F=l[tt],K=r[tt],!l.hasOwnProperty(tt)||F===K||F==null&&K==null||te(e,n,tt,F,l,K)}function vy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function vA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],d=h.transferSize,E=h.initiatorType,A=h.duration;if(d&&A&&vy(E)){for(E=0,A=h.responseEnd,l+=1;l<r.length;l++){var D=r[l],G=D.startTime;if(G>A)break;var X=D.transferSize,tt=D.initiatorType;X&&vy(tt)&&(D=D.responseEnd,E+=X*(D<A?1:(A-G)/(D-G)))}if(--l,n+=8*(d+E)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var _d=null,Ed=null;function cc(e){return e.nodeType===9?e:e.ownerDocument}function Ty(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function by(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function vd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Td=null;function TA(){var e=window.event;return e&&e.type==="popstate"?e===Td?!1:(Td=e,!0):(Td=null,!1)}var Ay=typeof setTimeout=="function"?setTimeout:void 0,bA=typeof clearTimeout=="function"?clearTimeout:void 0,Sy=typeof Promise=="function"?Promise:void 0,AA=typeof queueMicrotask=="function"?queueMicrotask:typeof Sy<"u"?function(e){return Sy.resolve(null).then(e).catch(SA)}:Ay;function SA(e){setTimeout(function(){throw e})}function qa(e){return e==="head"}function xy(e,n){var r=n,l=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){e.removeChild(h),kr(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")io(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,io(r);for(var d=r.firstChild;d;){var E=d.nextSibling,A=d.nodeName;d[gi]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&d.rel.toLowerCase()==="stylesheet"||r.removeChild(d),d=E}}else r==="body"&&io(e.ownerDocument.body);r=h}while(r);kr(n)}function wy(e,n){var r=e;e=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=l}while(r)}function bd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":bd(r),er(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function xA(e,n,r,l){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[gi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Fn(e.nextSibling),e===null)break}return null}function wA(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Fn(e.nextSibling),e===null))return null;return e}function Ny(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Fn(e.nextSibling),e===null))return null;return e}function Ad(e){return e.data==="$?"||e.data==="$~"}function Sd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function NA(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Fn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var xd=null;function Ry(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return Fn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function Iy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function Cy(e,n,r){switch(n=cc(r),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function io(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);er(e)}var Yn=new Map,Dy=new Set;function hc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var sa=rt.d;rt.d={f:RA,r:IA,D:CA,C:DA,L:OA,m:MA,X:jA,S:VA,M:UA};function RA(){var e=sa.f(),n=nc();return e||n}function IA(e){var n=jn(e);n!==null&&n.tag===5&&n.type==="form"?Qg(n):sa.r(e)}var Ur=typeof document>"u"?null:document;function Oy(e,n,r){var l=Ur;if(l&&typeof n=="string"&&n){var h=hn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),Dy.has(h)||(Dy.add(h),e={rel:e,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),$e(n,"link",e),Ie(n),l.head.appendChild(n)))}}function CA(e){sa.D(e),Oy("dns-prefetch",e,null)}function DA(e,n){sa.C(e,n),Oy("preconnect",e,n)}function OA(e,n,r){sa.L(e,n,r);var l=Ur;if(l&&e&&n){var h='link[rel="preload"][as="'+hn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+hn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+hn(r.imageSizes)+'"]')):h+='[href="'+hn(e)+'"]';var d=h;switch(n){case"style":d=Lr(e);break;case"script":d=Pr(e)}Yn.has(d)||(e=b({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Yn.set(d,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(ao(d))||n==="script"&&l.querySelector(so(d))||(n=l.createElement("link"),$e(n,"link",e),Ie(n),l.head.appendChild(n)))}}function MA(e,n){sa.m(e,n);var r=Ur;if(r&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+hn(l)+'"][href="'+hn(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Pr(e)}if(!Yn.has(d)&&(e=b({rel:"modulepreload",href:e},n),Yn.set(d,e),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(so(d)))return}l=r.createElement("link"),$e(l,"link",e),Ie(l),r.head.appendChild(l)}}}function VA(e,n,r){sa.S(e,n,r);var l=Ur;if(l&&e){var h=_i(l).hoistableStyles,d=Lr(e);n=n||"default";var E=h.get(d);if(!E){var A={loading:0,preload:null};if(E=l.querySelector(ao(d)))A.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Yn.get(d))&&wd(e,r);var D=E=l.createElement("link");Ie(D),$e(D,"link",e),D._p=new Promise(function(G,X){D.onload=G,D.onerror=X}),D.addEventListener("load",function(){A.loading|=1}),D.addEventListener("error",function(){A.loading|=2}),A.loading|=4,fc(E,n,l)}E={type:"stylesheet",instance:E,count:1,state:A},h.set(d,E)}}}function jA(e,n){sa.X(e,n);var r=Ur;if(r&&e){var l=_i(r).hoistableScripts,h=Pr(e),d=l.get(h);d||(d=r.querySelector(so(h)),d||(e=b({src:e,async:!0},n),(n=Yn.get(h))&&Nd(e,n),d=r.createElement("script"),Ie(d),$e(d,"link",e),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function UA(e,n){sa.M(e,n);var r=Ur;if(r&&e){var l=_i(r).hoistableScripts,h=Pr(e),d=l.get(h);d||(d=r.querySelector(so(h)),d||(e=b({src:e,async:!0,type:"module"},n),(n=Yn.get(h))&&Nd(e,n),d=r.createElement("script"),Ie(d),$e(d,"link",e),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function My(e,n,r,l){var h=(h=bt.current)?hc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Lr(r.href),r=_i(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Lr(r.href);var d=_i(h).hoistableStyles,E=d.get(e);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,E),(d=h.querySelector(ao(e)))&&!d._p&&(E.instance=d,E.state.loading=5),Yn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Yn.set(e,r),d||LA(h,e,r,E.state))),n&&l===null)throw Error(s(528,""));return E}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Pr(r),r=_i(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Lr(e){return'href="'+hn(e)+'"'}function ao(e){return'link[rel="stylesheet"]['+e+"]"}function Vy(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function LA(e,n,r,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),$e(n,"link",r),Ie(n),e.head.appendChild(n))}function Pr(e){return'[src="'+hn(e)+'"]'}function so(e){return"script[async]"+e}function jy(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+hn(r.href)+'"]');if(l)return n.instance=l,Ie(l),l;var h=b({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ie(l),$e(l,"style",h),fc(l,r.precedence,e),n.instance=l;case"stylesheet":h=Lr(r.href);var d=e.querySelector(ao(h));if(d)return n.state.loading|=4,n.instance=d,Ie(d),d;l=Vy(r),(h=Yn.get(h))&&wd(l,h),d=(e.ownerDocument||e).createElement("link"),Ie(d);var E=d;return E._p=new Promise(function(A,D){E.onload=A,E.onerror=D}),$e(d,"link",l),n.state.loading|=4,fc(d,r.precedence,e),n.instance=d;case"script":return d=Pr(r.src),(h=e.querySelector(so(d)))?(n.instance=h,Ie(h),h):(l=r,(h=Yn.get(d))&&(l=b({},r),Nd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ie(h),$e(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,fc(l,r.precedence,e));return n.instance}function fc(e,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,E=0;E<l.length;E++){var A=l[E];if(A.dataset.precedence===n)d=A;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function wd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Nd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var dc=null;function Uy(e,n,r){if(dc===null){var l=new Map,h=dc=new Map;h.set(r,l)}else h=dc,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(e))return l;for(l.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var d=r[h];if(!(d[gi]||d[Re]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(n)||"";E=e+E;var A=l.get(E);A?A.push(d):l.set(E,[d])}}return l}function Ly(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function PA(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Py(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function kA(e,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Lr(l.href),d=n.querySelector(ao(h));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=mc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=d,Ie(d);return}d=n.ownerDocument||n,l=Vy(l),(h=Yn.get(h))&&wd(l,h),d=d.createElement("link"),Ie(d);var E=d;E._p=new Promise(function(A,D){E.onload=A,E.onerror=D}),$e(d,"link",l),r.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=mc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var Rd=0;function zA(e,n){return e.stylesheets&&e.count===0&&gc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var l=setTimeout(function(){if(e.stylesheets&&gc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+n);0<e.imgBytes&&Rd===0&&(Rd=62500*vA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&gc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Rd?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function mc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var pc=null;function gc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,pc=new Map,n.forEach(BA,e),pc=null,mc.call(e))}function BA(e,n){if(!(n.state.loading&4)){var r=pc.get(e);if(r)var l=r.get(null);else{r=new Map,pc.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var E=h[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(r.set(E.dataset.precedence,E),l=E)}l&&r.set(null,l)}h=n.instance,E=h.getAttribute("data-precedence"),d=r.get(E)||l,d===l&&r.set(null,h),r.set(E,h),this.count++,l=mc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var ro={$$typeof:Q,Provider:null,Consumer:null,_currentValue:pt,_currentValue2:pt,_threadCount:0};function HA(e,n,r,l,h,d,E,A,D){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mi(0),this.hiddenUpdates=mi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function ky(e,n,r,l,h,d,E,A,D,G,X,tt){return e=new HA(e,n,r,E,D,G,X,tt,A),n=1,d===!0&&(n|=24),d=wn(3,null,null,n),e.current=d,d.stateNode=e,n=lf(),n.refCount++,e.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:r,cache:n},hf(d),e}function zy(e){return e?(e=pr,e):pr}function By(e,n,r,l,h,d){h=zy(h),l.context===null?l.context=h:l.pendingContext=h,l=Ma(n),l.payload={element:r},d=d===void 0?null:d,d!==null&&(l.callback=d),r=Va(e,l,n),r!==null&&(yn(r,e,n),Pl(r,e,n))}function Hy(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function Id(e,n){Hy(e,n),(e=e.alternate)&&Hy(e,n)}function Gy(e){if(e.tag===13||e.tag===31){var n=Is(e,67108864);n!==null&&yn(n,e,67108864),Id(e,67108864)}}function qy(e){if(e.tag===13||e.tag===31){var n=Dn();n=ys(n);var r=Is(e,n);r!==null&&yn(r,e,n),Id(e,n)}}var yc=!0;function GA(e,n,r,l){var h=$.T;$.T=null;var d=rt.p;try{rt.p=2,Cd(e,n,r,l)}finally{rt.p=d,$.T=h}}function qA(e,n,r,l){var h=$.T;$.T=null;var d=rt.p;try{rt.p=8,Cd(e,n,r,l)}finally{rt.p=d,$.T=h}}function Cd(e,n,r,l){if(yc){var h=Dd(l);if(h===null)gd(e,n,l,_c,r),Yy(e,l);else if(YA(h,e,n,r,l))l.stopPropagation();else if(Yy(e,l),n&4&&-1<FA.indexOf(e)){for(;h!==null;){var d=jn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=fi(d.pendingLanes);if(E!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;E;){var D=1<<31-Te(E);A.entanglements[1]|=D,E&=~D}Di(d),(Kt&6)===0&&(tc=ce()+500,to(0))}}break;case 31:case 13:A=Is(d,2),A!==null&&yn(A,d,2),nc(),Id(d,2)}if(d=Dd(l),d===null&&gd(e,n,l,_c,r),d===h)break;h=d}h!==null&&l.stopPropagation()}else gd(e,n,l,null,r)}}function Dd(e){return e=Un(e),Od(e)}var _c=null;function Od(e){if(_c=null,e=yi(e),e!==null){var n=u(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=f(n),e!==null)return e;e=null}else if(r===31){if(e=m(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return _c=e,null}function Fy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ds()){case ul:return 2;case cl:return 8;case _a:case Lh:return 32;case Xo:return 268435456;default:return 32}default:return 32}}var Md=!1,Fa=null,Ya=null,Ka=null,lo=new Map,oo=new Map,Qa=[],FA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Yy(e,n){switch(e){case"focusin":case"focusout":Fa=null;break;case"dragenter":case"dragleave":Ya=null;break;case"mouseover":case"mouseout":Ka=null;break;case"pointerover":case"pointerout":lo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":oo.delete(n.pointerId)}}function uo(e,n,r,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},n!==null&&(n=jn(n),n!==null&&Gy(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function YA(e,n,r,l,h){switch(n){case"focusin":return Fa=uo(Fa,e,n,r,l,h),!0;case"dragenter":return Ya=uo(Ya,e,n,r,l,h),!0;case"mouseover":return Ka=uo(Ka,e,n,r,l,h),!0;case"pointerover":var d=h.pointerId;return lo.set(d,uo(lo.get(d)||null,e,n,r,l,h)),!0;case"gotpointercapture":return d=h.pointerId,oo.set(d,uo(oo.get(d)||null,e,n,r,l,h)),!0}return!1}function Ky(e){var n=yi(e.target);if(n!==null){var r=u(n);if(r!==null){if(n=r.tag,n===13){if(n=f(r),n!==null){e.blockedOn=n,ti(e.priority,function(){qy(r)});return}}else if(n===31){if(n=m(r),n!==null){e.blockedOn=n,ti(e.priority,function(){qy(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ec(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Dd(e.nativeEvent);if(r===null){r=e.nativeEvent;var l=new r.constructor(r.type,r);bl=l,r.target.dispatchEvent(l),bl=null}else return n=jn(r),n!==null&&Gy(n),e.blockedOn=r,!1;n.shift()}return!0}function Qy(e,n,r){Ec(e)&&r.delete(n)}function KA(){Md=!1,Fa!==null&&Ec(Fa)&&(Fa=null),Ya!==null&&Ec(Ya)&&(Ya=null),Ka!==null&&Ec(Ka)&&(Ka=null),lo.forEach(Qy),oo.forEach(Qy)}function vc(e,n){e.blockedOn===n&&(e.blockedOn=null,Md||(Md=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,KA)))}var Tc=null;function $y(e){Tc!==e&&(Tc=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Tc===e&&(Tc=null);for(var n=0;n<e.length;n+=3){var r=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(Od(l||r)===null)continue;break}var d=jn(r);d!==null&&(e.splice(n,3),n-=3,Df(d,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function kr(e){function n(D){return vc(D,e)}Fa!==null&&vc(Fa,e),Ya!==null&&vc(Ya,e),Ka!==null&&vc(Ka,e),lo.forEach(n),oo.forEach(n);for(var r=0;r<Qa.length;r++){var l=Qa[r];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Qa.length&&(r=Qa[0],r.blockedOn===null);)Ky(r),r.blockedOn===null&&Qa.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],d=r[l+1],E=h[ze]||null;if(typeof d=="function")E||$y(r);else if(E){var A=null;if(d&&d.hasAttribute("formAction")){if(h=d,E=d[ze]||null)A=E.formAction;else if(Od(h)!==null)continue}else A=E.action;typeof A=="function"?r[l+1]=A:(r.splice(l,3),l-=3),$y(r)}}}function Xy(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(E){return h=E})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Vd(e){this._internalRoot=e}bc.prototype.render=Vd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=Dn();By(r,l,e,n,null,null)},bc.prototype.unmount=Vd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;By(e.current,2,null,e,null,null),nc(),n[pi]=null}};function bc(e){this._internalRoot=e}bc.prototype.unstable_scheduleHydration=function(e){if(e){var n=nu();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Qa.length&&n!==0&&n<Qa[r].priority;r++);Qa.splice(r,0,e),r===0&&Ky(e)}};var Jy=t.version;if(Jy!=="19.2.3")throw Error(s(527,Jy,"19.2.3"));rt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(n),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var QA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ac.isDisabled&&Ac.supportsFiber)try{Zn=Ac.inject(QA),qe=Ac}catch{}}return ho.createRoot=function(e,n){if(!o(e))throw Error(s(299));var r=!1,l="",h=a0,d=s0,E=r0;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(E=n.onRecoverableError)),n=ky(e,1,!1,null,null,r,l,null,h,d,E,Xy),e[pi]=n.current,pd(e),new Vd(n)},ho.hydrateRoot=function(e,n,r){if(!o(e))throw Error(s(299));var l=!1,h="",d=a0,E=s0,A=r0,D=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(E=r.onCaughtError),r.onRecoverableError!==void 0&&(A=r.onRecoverableError),r.formState!==void 0&&(D=r.formState)),n=ky(e,1,!0,n,r??null,l,h,D,d,E,A,Xy),n.context=zy(null),r=n.current,l=Dn(),l=ys(l),h=Ma(l),h.callback=null,Va(r,h,l),r=l,n.current.lanes=r,ps(n,r),Di(n),e[pi]=n.current,pd(e),new bc(n)},ho.version="19.2.3",ho}var l_;function aS(){if(l_)return Ld.exports;l_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Ld.exports=iS(),Ld.exports}var sS=aS();const rS=kv(sS);/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var o_="popstate";function lS(i={}){function t(o,u){let{pathname:f="/",search:m="",hash:y=""}=Xs(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),im("",{pathname:f,search:m,hash:y},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function a(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let y=o.location.href,g=y.indexOf("#");m=g===-1?y:y.slice(0,g)}return m+"#"+(typeof u=="string"?u:No(u))}function s(o,u){$n(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return uS(t,a,s,i)}function pe(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function $n(i,t){if(!i){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function oS(){return Math.random().toString(36).substring(2,10)}function u_(i,t){return{usr:i.state,key:i.key,idx:t}}function im(i,t,a=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof t=="string"?Xs(t):t,state:a,key:t&&t.key||s||oS()}}function No({pathname:i="/",search:t="",hash:a=""}){return t&&t!=="?"&&(i+=t.charAt(0)==="?"?t:"?"+t),a&&a!=="#"&&(i+=a.charAt(0)==="#"?a:"#"+a),i}function Xs(i){let t={};if(i){let a=i.indexOf("#");a>=0&&(t.hash=i.substring(a),i=i.substring(0,a));let s=i.indexOf("?");s>=0&&(t.search=i.substring(s),i=i.substring(0,s)),i&&(t.pathname=i)}return t}function uS(i,t,a,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",y=null,g=T();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function T(){return(f.state||{idx:null}).idx}function b(){m="POP";let V=T(),et=V==null?null:V-g;g=V,y&&y({action:m,location:q.location,delta:et})}function S(V,et){m="PUSH";let at=im(q.location,V,et);a&&a(at,V),g=T()+1;let Q=u_(at,g),dt=q.createHref(at);try{f.pushState(Q,"",dt)}catch(mt){if(mt instanceof DOMException&&mt.name==="DataCloneError")throw mt;o.location.assign(dt)}u&&y&&y({action:m,location:q.location,delta:1})}function w(V,et){m="REPLACE";let at=im(q.location,V,et);a&&a(at,V),g=T();let Q=u_(at,g),dt=q.createHref(at);f.replaceState(Q,"",dt),u&&y&&y({action:m,location:q.location,delta:0})}function k(V){return cS(V)}let q={get action(){return m},get location(){return i(o,f)},listen(V){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(o_,b),y=V,()=>{o.removeEventListener(o_,b),y=null}},createHref(V){return t(o,V)},createURL:k,encodeLocation(V){let et=k(V);return{pathname:et.pathname,search:et.search,hash:et.hash}},push:S,replace:w,go(V){return f.go(V)}};return q}function cS(i,t=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),pe(a,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:No(i);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=a+s),new URL(s,a)}function zv(i,t,a="/"){return hS(i,t,a,!1)}function hS(i,t,a,s){let o=typeof t=="string"?Xs(t):t,u=oa(o.pathname||"/",a);if(u==null)return null;let f=Bv(i);fS(f);let m=null;for(let y=0;m==null&&y<f.length;++y){let g=AS(u);m=TS(f[y],g,s)}return m}function Bv(i,t=[],a=[],s="",o=!1){let u=(f,m,y=o,g)=>{let T={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(T.relativePath.startsWith("/")){if(!T.relativePath.startsWith(s)&&y)return;pe(T.relativePath.startsWith(s),`Absolute route path "${T.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),T.relativePath=T.relativePath.slice(s.length)}let b=ra([s,T.relativePath]),S=a.concat(T);f.children&&f.children.length>0&&(pe(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),Bv(f.children,t,S,b,y)),!(f.path==null&&!f.index)&&t.push({path:b,score:ES(b,f.index),routesMeta:S})};return i.forEach((f,m)=>{var y;if(f.path===""||!((y=f.path)!=null&&y.includes("?")))u(f,m);else for(let g of Hv(f.path))u(f,m,!0,g)}),t}function Hv(i){let t=i.split("/");if(t.length===0)return[];let[a,...s]=t,o=a.endsWith("?"),u=a.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=Hv(s.join("/")),m=[];return m.push(...f.map(y=>y===""?u:[u,y].join("/"))),o&&m.push(...f),m.map(y=>i.startsWith("/")&&y===""?"/":y)}function fS(i){i.sort((t,a)=>t.score!==a.score?a.score-t.score:vS(t.routesMeta.map(s=>s.childrenIndex),a.routesMeta.map(s=>s.childrenIndex)))}var dS=/^:[\w-]+$/,mS=3,pS=2,gS=1,yS=10,_S=-2,c_=i=>i==="*";function ES(i,t){let a=i.split("/"),s=a.length;return a.some(c_)&&(s+=_S),t&&(s+=pS),a.filter(o=>!c_(o)).reduce((o,u)=>o+(dS.test(u)?mS:u===""?gS:yS),s)}function vS(i,t){return i.length===t.length&&i.slice(0,-1).every((s,o)=>s===t[o])?i[i.length-1]-t[t.length-1]:0}function TS(i,t,a=!1){let{routesMeta:s}=i,o={},u="/",f=[];for(let m=0;m<s.length;++m){let y=s[m],g=m===s.length-1,T=u==="/"?t:t.slice(u.length)||"/",b=qc({path:y.relativePath,caseSensitive:y.caseSensitive,end:g},T),S=y.route;if(!b&&g&&a&&!s[s.length-1].route.index&&(b=qc({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},T)),!b)return null;Object.assign(o,b.params),f.push({params:o,pathname:ra([u,b.pathname]),pathnameBase:NS(ra([u,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(u=ra([u,b.pathnameBase]))}return f}function qc(i,t){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[a,s]=bS(i.path,i.caseSensitive,i.end),o=t.match(a);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:T,isOptional:b},S)=>{if(T==="*"){let k=m[S]||"";f=u.slice(0,u.length-k.length).replace(/(.)\/+$/,"$1")}const w=m[S];return b&&!w?g[T]=void 0:g[T]=(w||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:i}}function bS(i,t=!1,a=!0){$n(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,y)=>(s.push({paramName:m,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function AS(i){try{return i.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return $n(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),i}}function oa(i,t){if(t==="/")return i;if(!i.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,s=i.charAt(a);return s&&s!=="/"?null:i.slice(a)||"/"}var Gv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,SS=i=>Gv.test(i);function xS(i,t="/"){let{pathname:a,search:s="",hash:o=""}=typeof i=="string"?Xs(i):i,u;if(a)if(SS(a))u=a;else{if(a.includes("//")){let f=a;a=a.replace(/\/\/+/g,"/"),$n(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${a}`)}a.startsWith("/")?u=h_(a.substring(1),"/"):u=h_(a,t)}else u=t;return{pathname:u,search:RS(s),hash:IS(o)}}function h_(i,t){let a=t.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?a.length>1&&a.pop():o!=="."&&a.push(o)}),a.length>1?a.join("/"):"/"}function Bd(i,t,a,s){return`Cannot include a '${i}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function wS(i){return i.filter((t,a)=>a===0||t.route.path&&t.route.path.length>0)}function qv(i){let t=wS(i);return t.map((a,s)=>s===t.length-1?a.pathname:a.pathnameBase)}function Fv(i,t,a,s=!1){let o;typeof i=="string"?o=Xs(i):(o={...i},pe(!o.pathname||!o.pathname.includes("?"),Bd("?","pathname","search",o)),pe(!o.pathname||!o.pathname.includes("#"),Bd("#","pathname","hash",o)),pe(!o.search||!o.search.includes("#"),Bd("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=a;else{let b=t.length-1;if(!s&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),b-=1;o.pathname=S.join("/")}m=b>=0?t[b]:"/"}let y=xS(o,m),g=f&&f!=="/"&&f.endsWith("/"),T=(u||f===".")&&a.endsWith("/");return!y.pathname.endsWith("/")&&(g||T)&&(y.pathname+="/"),y}var ra=i=>i.join("/").replace(/\/\/+/g,"/"),NS=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),RS=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,IS=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,CS=class{constructor(i,t,a,s=!1){this.status=i,this.statusText=t||"",this.internal=s,a instanceof Error?(this.data=a.toString(),this.error=a):this.data=a}};function DS(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function OS(i){return i.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Yv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Kv(i,t){let a=i;if(typeof a!="string"||!Gv.test(a))return{absoluteURL:void 0,isExternal:!1,to:a};let s=a,o=!1;if(Yv)try{let u=new URL(window.location.href),f=a.startsWith("//")?new URL(u.protocol+a):new URL(a),m=oa(f.pathname,t);f.origin===u.origin&&m!=null?a=m+f.search+f.hash:o=!0}catch{$n(!1,`<Link to="${a}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Qv=["POST","PUT","PATCH","DELETE"];new Set(Qv);var MS=["GET",...Qv];new Set(MS);var nl=z.createContext(null);nl.displayName="DataRouter";var dh=z.createContext(null);dh.displayName="DataRouterState";var VS=z.createContext(!1),$v=z.createContext({isTransitioning:!1});$v.displayName="ViewTransition";var jS=z.createContext(new Map);jS.displayName="Fetchers";var US=z.createContext(null);US.displayName="Await";var Jn=z.createContext(null);Jn.displayName="Navigation";var Uo=z.createContext(null);Uo.displayName="Location";var da=z.createContext({outlet:null,matches:[],isDataRoute:!1});da.displayName="Route";var Lm=z.createContext(null);Lm.displayName="RouteError";var Xv="REACT_ROUTER_ERROR",LS="REDIRECT",PS="ROUTE_ERROR_RESPONSE";function kS(i){if(i.startsWith(`${Xv}:${LS}:{`))try{let t=JSON.parse(i.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function zS(i){if(i.startsWith(`${Xv}:${PS}:{`))try{let t=JSON.parse(i.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new CS(t.status,t.statusText,t.data)}catch{}}function BS(i,{relative:t}={}){pe(Lo(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:s}=z.useContext(Jn),{hash:o,pathname:u,search:f}=Po(i,{relative:t}),m=u;return a!=="/"&&(m=u==="/"?a:ra([a,u])),s.createHref({pathname:m,search:f,hash:o})}function Lo(){return z.useContext(Uo)!=null}function ls(){return pe(Lo(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(Uo).location}var Jv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Zv(i){z.useContext(Jn).static||z.useLayoutEffect(i)}function HS(){let{isDataRoute:i}=z.useContext(da);return i?ex():GS()}function GS(){pe(Lo(),"useNavigate() may be used only in the context of a <Router> component.");let i=z.useContext(nl),{basename:t,navigator:a}=z.useContext(Jn),{matches:s}=z.useContext(da),{pathname:o}=ls(),u=JSON.stringify(qv(s)),f=z.useRef(!1);return Zv(()=>{f.current=!0}),z.useCallback((y,g={})=>{if($n(f.current,Jv),!f.current)return;if(typeof y=="number"){a.go(y);return}let T=Fv(y,JSON.parse(u),o,g.relative==="path");i==null&&t!=="/"&&(T.pathname=T.pathname==="/"?t:ra([t,T.pathname])),(g.replace?a.replace:a.push)(T,g.state,g)},[t,a,u,o,i])}z.createContext(null);function Po(i,{relative:t}={}){let{matches:a}=z.useContext(da),{pathname:s}=ls(),o=JSON.stringify(qv(a));return z.useMemo(()=>Fv(i,JSON.parse(o),s,t==="path"),[i,o,s,t])}function qS(i,t){return Wv(i,t)}function Wv(i,t,a,s,o){var at;pe(Lo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=z.useContext(Jn),{matches:f}=z.useContext(da),m=f[f.length-1],y=m?m.params:{},g=m?m.pathname:"/",T=m?m.pathnameBase:"/",b=m&&m.route;{let Q=b&&b.path||"";e1(g,!b||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let S=ls(),w;if(t){let Q=typeof t=="string"?Xs(t):t;pe(T==="/"||((at=Q.pathname)==null?void 0:at.startsWith(T)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${Q.pathname}" was given in the \`location\` prop.`),w=Q}else w=S;let k=w.pathname||"/",q=k;if(T!=="/"){let Q=T.replace(/^\//,"").split("/");q="/"+k.replace(/^\//,"").split("/").slice(Q.length).join("/")}let V=zv(i,{pathname:q});$n(b||V!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),$n(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let et=$S(V&&V.map(Q=>Object.assign({},Q,{params:Object.assign({},y,Q.params),pathname:ra([T,u.encodeLocation?u.encodeLocation(Q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?T:ra([T,u.encodeLocation?u.encodeLocation(Q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Q.pathnameBase])})),f,a,s,o);return t&&et?z.createElement(Uo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},et):et}function FS(){let i=tx(),t=DS(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),a=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:u},"ErrorBoundary")," or"," ",z.createElement("code",{style:u},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},t),a?z.createElement("pre",{style:o},a):null,f)}var YS=z.createElement(FS,null),t1=class extends z.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,t){return t.location!==i.location||t.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:t.error,location:t.location,revalidation:i.revalidation||t.revalidation}}componentDidCatch(i,t){this.props.onError?this.props.onError(i,t):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const a=zS(i.digest);a&&(i=a)}let t=i!==void 0?z.createElement(da.Provider,{value:this.props.routeContext},z.createElement(Lm.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?z.createElement(KS,{error:i},t):t}};t1.contextType=VS;var Hd=new WeakMap;function KS({children:i,error:t}){let{basename:a}=z.useContext(Jn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let s=kS(t.digest);if(s){let o=Hd.get(t);if(o)throw o;let u=Kv(s.location,a);if(Yv&&!Hd.get(t))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Hd.set(t,f),f}return z.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return i}function QS({routeContext:i,match:t,children:a}){let s=z.useContext(nl);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),z.createElement(da.Provider,{value:i},a)}function $S(i,t=[],a=null,s=null,o=null){if(i==null){if(!a)return null;if(a.errors)i=a.matches;else if(t.length===0&&!a.initialized&&a.matches.length>0)i=a.matches;else return null}let u=i,f=a==null?void 0:a.errors;if(f!=null){let T=u.findIndex(b=>b.route.id&&(f==null?void 0:f[b.route.id])!==void 0);pe(T>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,T+1))}let m=!1,y=-1;if(a)for(let T=0;T<u.length;T++){let b=u[T];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(y=T),b.route.id){let{loaderData:S,errors:w}=a,k=b.route.loader&&!S.hasOwnProperty(b.route.id)&&(!w||w[b.route.id]===void 0);if(b.route.lazy||k){m=!0,y>=0?u=u.slice(0,y+1):u=[u[0]];break}}}let g=a&&s?(T,b)=>{var S,w;s(T,{location:a.location,params:((w=(S=a.matches)==null?void 0:S[0])==null?void 0:w.params)??{},unstable_pattern:OS(a.matches),errorInfo:b})}:void 0;return u.reduceRight((T,b,S)=>{let w,k=!1,q=null,V=null;a&&(w=f&&b.route.id?f[b.route.id]:void 0,q=b.route.errorElement||YS,m&&(y<0&&S===0?(e1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,V=null):y===S&&(k=!0,V=b.route.hydrateFallbackElement||null)));let et=t.concat(u.slice(0,S+1)),at=()=>{let Q;return w?Q=q:k?Q=V:b.route.Component?Q=z.createElement(b.route.Component,null):b.route.element?Q=b.route.element:Q=T,z.createElement(QS,{match:b,routeContext:{outlet:T,matches:et,isDataRoute:a!=null},children:Q})};return a&&(b.route.ErrorBoundary||b.route.errorElement||S===0)?z.createElement(t1,{location:a.location,revalidation:a.revalidation,component:q,error:w,children:at(),routeContext:{outlet:null,matches:et,isDataRoute:!0},onError:g}):at()},null)}function Pm(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XS(i){let t=z.useContext(nl);return pe(t,Pm(i)),t}function JS(i){let t=z.useContext(dh);return pe(t,Pm(i)),t}function ZS(i){let t=z.useContext(da);return pe(t,Pm(i)),t}function km(i){let t=ZS(i),a=t.matches[t.matches.length-1];return pe(a.route.id,`${i} can only be used on routes that contain a unique "id"`),a.route.id}function WS(){return km("useRouteId")}function tx(){var s;let i=z.useContext(Lm),t=JS("useRouteError"),a=km("useRouteError");return i!==void 0?i:(s=t.errors)==null?void 0:s[a]}function ex(){let{router:i}=XS("useNavigate"),t=km("useNavigate"),a=z.useRef(!1);return Zv(()=>{a.current=!0}),z.useCallback(async(o,u={})=>{$n(a.current,Jv),a.current&&(typeof o=="number"?await i.navigate(o):await i.navigate(o,{fromRouteId:t,...u}))},[i,t])}var f_={};function e1(i,t,a){!t&&!f_[i]&&(f_[i]=!0,$n(!1,a))}z.memo(nx);function nx({routes:i,future:t,state:a,onError:s}){return Wv(i,void 0,a,s,t)}function zr(i){pe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ix({basename:i="/",children:t=null,location:a,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){pe(!Lo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=i.replace(/^\/*/,"/"),y=z.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof a=="string"&&(a=Xs(a));let{pathname:g="/",search:T="",hash:b="",state:S=null,key:w="default"}=a,k=z.useMemo(()=>{let q=oa(g,m);return q==null?null:{location:{pathname:q,search:T,hash:b,state:S,key:w},navigationType:s}},[m,g,T,b,S,w,s]);return $n(k!=null,`<Router basename="${m}"> is not able to match the URL "${g}${T}${b}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:z.createElement(Jn.Provider,{value:y},z.createElement(Uo.Provider,{children:t,value:k}))}function ax({children:i,location:t}){return qS(am(i),t)}function am(i,t=[]){let a=[];return z.Children.forEach(i,(s,o)=>{if(!z.isValidElement(s))return;let u=[...t,o];if(s.type===z.Fragment){a.push.apply(a,am(s.props.children,u));return}pe(s.type===zr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),pe(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=am(s.props.children,u)),a.push(f)}),a}var jc="get",Uc="application/x-www-form-urlencoded";function mh(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function sx(i){return mh(i)&&i.tagName.toLowerCase()==="button"}function rx(i){return mh(i)&&i.tagName.toLowerCase()==="form"}function lx(i){return mh(i)&&i.tagName.toLowerCase()==="input"}function ox(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function ux(i,t){return i.button===0&&(!t||t==="_self")&&!ox(i)}var Sc=null;function cx(){if(Sc===null)try{new FormData(document.createElement("form"),0),Sc=!1}catch{Sc=!0}return Sc}var hx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Gd(i){return i!=null&&!hx.has(i)?($n(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Uc}"`),null):i}function fx(i,t){let a,s,o,u,f;if(rx(i)){let m=i.getAttribute("action");s=m?oa(m,t):null,a=i.getAttribute("method")||jc,o=Gd(i.getAttribute("enctype"))||Uc,u=new FormData(i)}else if(sx(i)||lx(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=i.getAttribute("formaction")||m.getAttribute("action");if(s=y?oa(y,t):null,a=i.getAttribute("formmethod")||m.getAttribute("method")||jc,o=Gd(i.getAttribute("formenctype"))||Gd(m.getAttribute("enctype"))||Uc,u=new FormData(m,i),!cx()){let{name:g,type:T,value:b}=i;if(T==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,b)}}else{if(mh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=jc,s=null,o=Uc,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:a.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function zm(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function dx(i,t,a,s){let o=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return a?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:t&&oa(o.pathname,t)==="/"?o.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function mx(i,t){if(i.id in t)return t[i.id];try{let a=await import(i.module);return t[i.id]=a,a}catch(a){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function px(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function gx(i,t,a){let s=await Promise.all(i.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await mx(u,a);return f.links?f.links():[]}return[]}));return vx(s.flat(1).filter(px).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function d_(i,t,a,s,o,u){let f=(y,g)=>a[g]?y.route.id!==a[g].route.id:!0,m=(y,g)=>{var T;return a[g].pathname!==y.pathname||((T=a[g].route.path)==null?void 0:T.endsWith("*"))&&a[g].params["*"]!==y.params["*"]};return u==="assets"?t.filter((y,g)=>f(y,g)||m(y,g)):u==="data"?t.filter((y,g)=>{var b;let T=s.routes[y.route.id];if(!T||!T.hasLoader)return!1;if(f(y,g)||m(y,g))return!0;if(y.route.shouldRevalidate){let S=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=a[0])==null?void 0:b.params)||{},nextUrl:new URL(i,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function yx(i,t,{includeHydrateFallback:a}={}){return _x(i.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),a&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function _x(i){return[...new Set(i)]}function Ex(i){let t={},a=Object.keys(i).sort();for(let s of a)t[s]=i[s];return t}function vx(i,t){let a=new Set;return new Set(t),i.reduce((s,o)=>{let u=JSON.stringify(Ex(o));return a.has(u)||(a.add(u),s.push({key:u,link:o})),s},[])}function n1(){let i=z.useContext(nl);return zm(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function Tx(){let i=z.useContext(dh);return zm(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Bm=z.createContext(void 0);Bm.displayName="FrameworkContext";function i1(){let i=z.useContext(Bm);return zm(i,"You must render this element inside a <HydratedRouter> element"),i}function bx(i,t){let a=z.useContext(Bm),[s,o]=z.useState(!1),[u,f]=z.useState(!1),{onFocus:m,onBlur:y,onMouseEnter:g,onMouseLeave:T,onTouchStart:b}=t,S=z.useRef(null);z.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let q=et=>{et.forEach(at=>{f(at.isIntersecting)})},V=new IntersectionObserver(q,{threshold:.5});return S.current&&V.observe(S.current),()=>{V.disconnect()}}},[i]),z.useEffect(()=>{if(s){let q=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(q)}}},[s]);let w=()=>{o(!0)},k=()=>{o(!1),f(!1)};return a?i!=="intent"?[u,S,{}]:[u,S,{onFocus:fo(m,w),onBlur:fo(y,k),onMouseEnter:fo(g,w),onMouseLeave:fo(T,k),onTouchStart:fo(b,w)}]:[!1,S,{}]}function fo(i,t){return a=>{i&&i(a),a.defaultPrevented||t(a)}}function Ax({page:i,...t}){let{router:a}=n1(),s=z.useMemo(()=>zv(a.routes,i,a.basename),[a.routes,i,a.basename]);return s?z.createElement(xx,{page:i,matches:s,...t}):null}function Sx(i){let{manifest:t,routeModules:a}=i1(),[s,o]=z.useState([]);return z.useEffect(()=>{let u=!1;return gx(i,t,a).then(f=>{u||o(f)}),()=>{u=!0}},[i,t,a]),s}function xx({page:i,matches:t,...a}){let s=ls(),{future:o,manifest:u,routeModules:f}=i1(),{basename:m}=n1(),{loaderData:y,matches:g}=Tx(),T=z.useMemo(()=>d_(i,t,g,u,s,"data"),[i,t,g,u,s]),b=z.useMemo(()=>d_(i,t,g,u,s,"assets"),[i,t,g,u,s]),S=z.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let q=new Set,V=!1;if(t.forEach(at=>{var dt;let Q=u.routes[at.route.id];!Q||!Q.hasLoader||(!T.some(mt=>mt.route.id===at.route.id)&&at.route.id in y&&((dt=f[at.route.id])!=null&&dt.shouldRevalidate)||Q.hasClientLoader?V=!0:q.add(at.route.id))}),q.size===0)return[];let et=dx(i,m,o.unstable_trailingSlashAwareDataRequests,"data");return V&&q.size>0&&et.searchParams.set("_routes",t.filter(at=>q.has(at.route.id)).map(at=>at.route.id).join(",")),[et.pathname+et.search]},[m,o.unstable_trailingSlashAwareDataRequests,y,s,u,T,t,i,f]),w=z.useMemo(()=>yx(b,u),[b,u]),k=Sx(b);return z.createElement(z.Fragment,null,S.map(q=>z.createElement("link",{key:q,rel:"prefetch",as:"fetch",href:q,...a})),w.map(q=>z.createElement("link",{key:q,rel:"modulepreload",href:q,...a})),k.map(({key:q,link:V})=>z.createElement("link",{key:q,nonce:a.nonce,...V})))}function wx(...i){return t=>{i.forEach(a=>{typeof a=="function"?a(t):a!=null&&(a.current=t)})}}var Nx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Nx&&(window.__reactRouterVersion="7.12.0")}catch{}function Rx({basename:i,children:t,unstable_useTransitions:a,window:s}){let o=z.useRef();o.current==null&&(o.current=lS({window:s,v5Compat:!0}));let u=o.current,[f,m]=z.useState({action:u.action,location:u.location}),y=z.useCallback(g=>{a===!1?m(g):z.startTransition(()=>m(g))},[a]);return z.useLayoutEffect(()=>u.listen(y),[u,y]),z.createElement(ix,{basename:i,children:t,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:a})}var a1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hm=z.forwardRef(function({onClick:t,discover:a="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:y,to:g,preventScrollReset:T,viewTransition:b,unstable_defaultShouldRevalidate:S,...w},k){let{basename:q,unstable_useTransitions:V}=z.useContext(Jn),et=typeof g=="string"&&a1.test(g),at=Kv(g,q);g=at.to;let Q=BS(g,{relative:o}),[dt,mt,_t]=bx(s,w),I=Ox(g,{replace:f,state:m,target:y,preventScrollReset:T,relative:o,viewTransition:b,unstable_defaultShouldRevalidate:S,unstable_useTransitions:V});function N(U){t&&t(U),U.defaultPrevented||I(U)}let R=z.createElement("a",{...w,..._t,href:at.absoluteURL||Q,onClick:at.isExternal||u?t:N,ref:wx(k,mt),target:y,"data-discover":!et&&a==="render"?"true":void 0});return dt&&!et?z.createElement(z.Fragment,null,R,z.createElement(Ax,{page:Q})):R});Hm.displayName="Link";var Ix=z.forwardRef(function({"aria-current":t="page",caseSensitive:a=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:y,...g},T){let b=Po(f,{relative:g.relative}),S=ls(),w=z.useContext(dh),{navigator:k,basename:q}=z.useContext(Jn),V=w!=null&&Lx(b)&&m===!0,et=k.encodeLocation?k.encodeLocation(b).pathname:b.pathname,at=S.pathname,Q=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;a||(at=at.toLowerCase(),Q=Q?Q.toLowerCase():null,et=et.toLowerCase()),Q&&q&&(Q=oa(Q,q)||Q);const dt=et!=="/"&&et.endsWith("/")?et.length-1:et.length;let mt=at===et||!o&&at.startsWith(et)&&at.charAt(dt)==="/",_t=Q!=null&&(Q===et||!o&&Q.startsWith(et)&&Q.charAt(et.length)==="/"),I={isActive:mt,isPending:_t,isTransitioning:V},N=mt?t:void 0,R;typeof s=="function"?R=s(I):R=[s,mt?"active":null,_t?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let U=typeof u=="function"?u(I):u;return z.createElement(Hm,{...g,"aria-current":N,className:R,ref:T,style:U,to:f,viewTransition:m},typeof y=="function"?y(I):y)});Ix.displayName="NavLink";var Cx=z.forwardRef(({discover:i="render",fetcherKey:t,navigate:a,reloadDocument:s,replace:o,state:u,method:f=jc,action:m,onSubmit:y,relative:g,preventScrollReset:T,viewTransition:b,unstable_defaultShouldRevalidate:S,...w},k)=>{let{unstable_useTransitions:q}=z.useContext(Jn),V=jx(),et=Ux(m,{relative:g}),at=f.toLowerCase()==="get"?"get":"post",Q=typeof m=="string"&&a1.test(m),dt=mt=>{if(y&&y(mt),mt.defaultPrevented)return;mt.preventDefault();let _t=mt.nativeEvent.submitter,I=(_t==null?void 0:_t.getAttribute("formmethod"))||f,N=()=>V(_t||mt.currentTarget,{fetcherKey:t,method:I,navigate:a,replace:o,state:u,relative:g,preventScrollReset:T,viewTransition:b,unstable_defaultShouldRevalidate:S});q&&a!==!1?z.startTransition(()=>N()):N()};return z.createElement("form",{ref:k,method:at,action:et,onSubmit:s?y:dt,...w,"data-discover":!Q&&i==="render"?"true":void 0})});Cx.displayName="Form";function Dx(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function s1(i){let t=z.useContext(nl);return pe(t,Dx(i)),t}function Ox(i,{target:t,replace:a,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:y}={}){let g=HS(),T=ls(),b=Po(i,{relative:u});return z.useCallback(S=>{if(ux(S,t)){S.preventDefault();let w=a!==void 0?a:No(T)===No(b),k=()=>g(i,{replace:w,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});y?z.startTransition(()=>k()):k()}},[T,g,b,a,s,t,i,o,u,f,m,y])}var Mx=0,Vx=()=>`__${String(++Mx)}__`;function jx(){let{router:i}=s1("useSubmit"),{basename:t}=z.useContext(Jn),a=WS(),s=i.fetch,o=i.navigate;return z.useCallback(async(u,f={})=>{let{action:m,method:y,encType:g,formData:T,body:b}=fx(u,t);if(f.navigate===!1){let S=f.fetcherKey||Vx();await s(S,a,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:T,body:b,formMethod:f.method||y,formEncType:f.encType||g,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:T,body:b,formMethod:f.method||y,formEncType:f.encType||g,replace:f.replace,state:f.state,fromRouteId:a,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,t,a])}function Ux(i,{relative:t}={}){let{basename:a}=z.useContext(Jn),s=z.useContext(da);pe(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Po(i||".",{relative:t})},f=ls();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),y=m.getAll("index");if(y.some(T=>T==="")){m.delete("index"),y.filter(b=>b).forEach(b=>m.append("index",b));let T=m.toString();u.search=T?`?${T}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(u.pathname=u.pathname==="/"?a:ra([a,u.pathname])),No(u)}function Lx(i,{relative:t}={}){let a=z.useContext($v);pe(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=s1("useViewTransitionState"),o=Po(i,{relative:t});if(!a.isTransitioning)return!1;let u=oa(a.currentLocation.pathname,s)||a.currentLocation.pathname,f=oa(a.nextLocation.pathname,s)||a.nextLocation.pathname;return qc(o.pathname,f)!=null||qc(o.pathname,u)!=null}/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),kx=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,a,s)=>s?s.toUpperCase():a.toLowerCase()),m_=i=>{const t=kx(i);return t.charAt(0).toUpperCase()+t.slice(1)},r1=(...i)=>i.filter((t,a,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===a).join(" ").trim(),zx=i=>{for(const t in i)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Bx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=z.forwardRef(({color:i="currentColor",size:t=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},y)=>z.createElement("svg",{ref:y,...Bx,width:t,height:t,stroke:i,strokeWidth:s?Number(a)*24/Number(t):a,className:r1("lucide",o),...!u&&!zx(m)&&{"aria-hidden":"true"},...m},[...f.map(([g,T])=>z.createElement(g,T)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=(i,t)=>{const a=z.forwardRef(({className:s,...o},u)=>z.createElement(Hx,{ref:u,iconNode:t,className:r1(`lucide-${Px(m_(i))}`,`lucide-${i}`,s),...o}));return a.displayName=m_(i),a};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],qx=Ct("calendar",Gx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],p_=Ct("camera",Fx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Lc=Ct("check",Yx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Qx=Ct("chevron-right",Kx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Xx=Ct("circle-alert",$x);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Zx=Ct("circle-check-big",Jx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],t2=Ct("circle-check",Wx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],n2=Ct("clock",e2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],a2=Ct("eye",i2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],r2=Ct("flame",s2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],g_=Ct("gift",l2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],u2=Ct("graduation-cap",o2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],h2=Ct("heart",c2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Fc=Ct("history",f2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],m2=Ct("layout-dashboard",d2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],g2=Ct("log-out",p2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],_2=Ct("medal",y2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],v2=Ct("menu",E2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],sm=Ct("package",T2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],rm=Ct("plus",b2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],S2=Ct("qr-code",A2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]],w2=Ct("scan-line",x2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],R2=Ct("search",N2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],C2=Ct("send",I2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Yc=Ct("shield-check",D2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],M2=Ct("shopping-bag",O2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],j2=Ct("shopping-cart",V2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],lm=Ct("sparkles",U2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],P2=Ct("star",L2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Kc=Ct("target",k2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=[["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}],["path",{d:"M7 10v12",key:"1qc93n"}]],B2=Ct("thumbs-up",z2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],G2=Ct("trending-up",H2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],F2=Ct("trophy",q2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],om=Ct("user-plus",Y2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Q2=Ct("user",K2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],X2=Ct("users",$2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ko=Ct("x",J2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],l1=Ct("zap",Z2);var Qn=(i=>(i.STUDENT="STUDENT",i.ADMIN="ADMIN",i.GUEST="GUEST",i))(Qn||{});const W2=()=>{};var y_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1=function(i){const t=[];let a=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?t[a++]=o:o<2048?(t[a++]=o>>6|192,t[a++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),t[a++]=o>>18|240,t[a++]=o>>12&63|128,t[a++]=o>>6&63|128,t[a++]=o&63|128):(t[a++]=o>>12|224,t[a++]=o>>6&63|128,t[a++]=o&63|128)}return t},tw=function(i){const t=[];let a=0,s=0;for(;a<i.length;){const o=i[a++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[a++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[a++],f=i[a++],m=i[a++],y=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(y>>10)),t[s++]=String.fromCharCode(56320+(y&1023))}else{const u=i[a++],f=i[a++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},u1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const a=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,y=o+2<i.length,g=y?i[o+2]:0,T=u>>2,b=(u&3)<<4|m>>4;let S=(m&15)<<2|g>>6,w=g&63;y||(w=64,f||(S=64)),s.push(a[T],a[b],a[S],a[w])}return s.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(o1(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):tw(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const a=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=a[i.charAt(o++)],m=o<i.length?a[i.charAt(o)]:0;++o;const g=o<i.length?a[i.charAt(o)]:64;++o;const b=o<i.length?a[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||b==null)throw new ew;const S=u<<2|m>>4;if(s.push(S),g!==64){const w=m<<4&240|g>>2;if(s.push(w),b!==64){const k=g<<6&192|b;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class ew extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nw=function(i){const t=o1(i);return u1.encodeByteArray(t,!0)},Qc=function(i){return nw(i).replace(/\./g,"")},iw=function(i){try{return u1.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw=()=>aw().__FIREBASE_DEFAULTS__,rw=()=>{if(typeof process>"u"||typeof y_>"u")return;const i=y_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},lw=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&iw(i[1]);return t&&JSON.parse(t)},Gm=()=>{try{return W2()||sw()||rw()||lw()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},ow=i=>{var t,a;return(a=(t=Gm())==null?void 0:t.emulatorHosts)==null?void 0:a[i]},uw=i=>{const t=ow(i);if(!t)return;const a=t.lastIndexOf(":");if(a<=0||a+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(a+1),10);return t[0]==="["?[t.substring(1,a-1),s]:[t.substring(0,a),s]},c1=()=>{var i;return(i=Gm())==null?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,a)=>{this.resolve=t,this.reject=a})}wrapCallback(t){return(a,s)=>{a?this.reject(a):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(a):t(a,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function hw(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const a={alg:"none",type:"JWT"},s=t||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Qc(JSON.stringify(a)),Qc(JSON.stringify(f)),""].join(".")}const vo={};function dw(){const i={prod:[],emulator:[]};for(const t of Object.keys(vo))vo[t]?i.emulator.push(t):i.prod.push(t);return i}function mw(i){let t=document.getElementById(i),a=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),a=!0),{created:a,element:t}}let __=!1;function pw(i,t){if(typeof window>"u"||typeof document>"u"||!qm(window.location.host)||vo[i]===t||vo[i]||__)return;vo[i]=t;function a(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=dw().prod.length>0;function f(){const S=document.getElementById(s);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function y(S,w){S.setAttribute("width","24"),S.setAttribute("id",w),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{__=!0,f()},S}function T(S,w){S.setAttribute("id",w),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function b(){const S=mw(s),w=a("text"),k=document.getElementById(w)||document.createElement("span"),q=a("learnmore"),V=document.getElementById(q)||document.createElement("a"),et=a("preprendIcon"),at=document.getElementById(et)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const Q=S.element;m(Q),T(V,q);const dt=g();y(at,et),Q.append(at,k,V,dt),document.body.appendChild(Q)}u?(k.innerText="Preview backend disconnected.",at.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(at.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yw(){var t;const i=(t=Gm())==null?void 0:t.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _w(){return!yw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ew(){try{return typeof indexedDB=="object"}catch{return!1}}function vw(){return new Promise((i,t)=>{try{let a=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),a||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{a=!1},o.onerror=()=>{var u;t(((u=o.error)==null?void 0:u.message)||"")}}catch(a){t(a)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="FirebaseError";class il extends Error{constructor(t,a,s){super(a),this.code=t,this.customData=s,this.name=Tw,Object.setPrototypeOf(this,il.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,h1.prototype.create)}}class h1{constructor(t,a,s){this.service=t,this.serviceName=a,this.errors=s}create(t,...a){const s=a[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?bw(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new il(o,m,s)}}function bw(i,t){return i.replace(Aw,(a,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const Aw=/\{\$([^}]+)}/g;function $c(i,t){if(i===t)return!0;const a=Object.keys(i),s=Object.keys(t);for(const o of a){if(!s.includes(o))return!1;const u=i[o],f=t[o];if(E_(u)&&E_(f)){if(!$c(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!a.includes(o))return!1;return!0}function E_(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(i){return i&&i._delegate?i._delegate:i}class Ro{constructor(t,a,s){this.name=t,this.instanceFactory=a,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(t,a){this.name=t,this.container=a,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const a=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(a)){const s=new cw;if(this.instancesDeferred.set(a,s),this.isInitialized(a)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:a});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(a).promise}getImmediate(t){const a=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(t==null?void 0:t.optional)??!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(ww(t))try{this.getOrInitializeService({instanceIdentifier:Hs})}catch{}for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=Hs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(a=>"INTERNAL"in a).map(a=>a.INTERNAL.delete()),...t.filter(a=>"_delete"in a).map(a=>a._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Hs){return this.instances.has(t)}getOptions(t=Hs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:a={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:a});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,a){const s=this.normalizeInstanceIdentifier(a),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,a){const s=this.onInitCallbacks.get(a);if(s)for(const o of s)try{o(t,a)}catch{}}getOrInitializeService({instanceIdentifier:t,options:a={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:xw(t),options:a}),this.instances.set(t,s),this.instancesOptions.set(t,a),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Hs){return this.component?this.component.multipleInstances?t:Hs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xw(i){return i===Hs?void 0:i}function ww(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const a=this.getProvider(t.name);if(a.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);a.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const a=new Sw(t,this);return this.providers.set(t,a),a}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Bt||(Bt={}));const Rw={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},Iw=Bt.INFO,Cw={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},Dw=(i,t,...a)=>{if(t<i.logLevel)return;const s=new Date().toISOString(),o=Cw[t];if(o)console[o](`[${s}]  ${i.name}:`,...a);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class f1{constructor(t){this.name=t,this._logLevel=Iw,this._logHandler=Dw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Bt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Rw[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...t),this._logHandler(this,Bt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...t),this._logHandler(this,Bt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...t),this._logHandler(this,Bt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...t),this._logHandler(this,Bt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...t),this._logHandler(this,Bt.ERROR,...t)}}const Ow=(i,t)=>t.some(a=>i instanceof a);let v_,T_;function Mw(){return v_||(v_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Vw(){return T_||(T_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const d1=new WeakMap,um=new WeakMap,m1=new WeakMap,qd=new WeakMap,Fm=new WeakMap;function jw(i){const t=new Promise((a,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{a(Ja(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return t.then(a=>{a instanceof IDBCursor&&d1.set(a,i)}).catch(()=>{}),Fm.set(t,i),t}function Uw(i){if(um.has(i))return;const t=new Promise((a,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{a(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});um.set(i,t)}let cm={get(i,t,a){if(i instanceof IDBTransaction){if(t==="done")return um.get(i);if(t==="objectStoreNames")return i.objectStoreNames||m1.get(i);if(t==="store")return a.objectStoreNames[1]?void 0:a.objectStore(a.objectStoreNames[0])}return Ja(i[t])},set(i,t,a){return i[t]=a,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function Lw(i){cm=i(cm)}function Pw(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...a){const s=i.call(Fd(this),t,...a);return m1.set(s,t.sort?t.sort():[t]),Ja(s)}:Vw().includes(i)?function(...t){return i.apply(Fd(this),t),Ja(d1.get(this))}:function(...t){return Ja(i.apply(Fd(this),t))}}function kw(i){return typeof i=="function"?Pw(i):(i instanceof IDBTransaction&&Uw(i),Ow(i,Mw())?new Proxy(i,cm):i)}function Ja(i){if(i instanceof IDBRequest)return jw(i);if(qd.has(i))return qd.get(i);const t=kw(i);return t!==i&&(qd.set(i,t),Fm.set(t,i)),t}const Fd=i=>Fm.get(i);function zw(i,t,{blocked:a,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,t),m=Ja(f);return s&&f.addEventListener("upgradeneeded",y=>{s(Ja(f.result),y.oldVersion,y.newVersion,Ja(f.transaction),y)}),a&&f.addEventListener("blocked",y=>a(y.oldVersion,y.newVersion,y)),m.then(y=>{u&&y.addEventListener("close",()=>u()),o&&y.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const Bw=["get","getKey","getAll","getAllKeys","count"],Hw=["put","add","delete","clear"],Yd=new Map;function b_(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(Yd.get(t))return Yd.get(t);const a=t.replace(/FromIndex$/,""),s=t!==a,o=Hw.includes(a);if(!(a in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Bw.includes(a)))return;const u=async function(f,...m){const y=this.transaction(f,o?"readwrite":"readonly");let g=y.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[a](...m),o&&y.done]))[0]};return Yd.set(t,u),u}Lw(i=>({...i,get:(t,a,s)=>b_(t,a)||i.get(t,a,s),has:(t,a)=>!!b_(t,a)||i.has(t,a)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(a=>{if(qw(a)){const s=a.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(a=>a).join(" ")}}function qw(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const hm="@firebase/app",A_="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=new f1("@firebase/app"),Fw="@firebase/app-compat",Yw="@firebase/analytics-compat",Kw="@firebase/analytics",Qw="@firebase/app-check-compat",$w="@firebase/app-check",Xw="@firebase/auth",Jw="@firebase/auth-compat",Zw="@firebase/database",Ww="@firebase/data-connect",tN="@firebase/database-compat",eN="@firebase/functions",nN="@firebase/functions-compat",iN="@firebase/installations",aN="@firebase/installations-compat",sN="@firebase/messaging",rN="@firebase/messaging-compat",lN="@firebase/performance",oN="@firebase/performance-compat",uN="@firebase/remote-config",cN="@firebase/remote-config-compat",hN="@firebase/storage",fN="@firebase/storage-compat",dN="@firebase/firestore",mN="@firebase/ai",pN="@firebase/firestore-compat",gN="firebase",yN="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm="[DEFAULT]",_N={[hm]:"fire-core",[Fw]:"fire-core-compat",[Kw]:"fire-analytics",[Yw]:"fire-analytics-compat",[$w]:"fire-app-check",[Qw]:"fire-app-check-compat",[Xw]:"fire-auth",[Jw]:"fire-auth-compat",[Zw]:"fire-rtdb",[Ww]:"fire-data-connect",[tN]:"fire-rtdb-compat",[eN]:"fire-fn",[nN]:"fire-fn-compat",[iN]:"fire-iid",[aN]:"fire-iid-compat",[sN]:"fire-fcm",[rN]:"fire-fcm-compat",[lN]:"fire-perf",[oN]:"fire-perf-compat",[uN]:"fire-rc",[cN]:"fire-rc-compat",[hN]:"fire-gcs",[fN]:"fire-gcs-compat",[dN]:"fire-fst",[pN]:"fire-fst-compat",[mN]:"fire-vertex","fire-js":"fire-js",[gN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc=new Map,EN=new Map,dm=new Map;function S_(i,t){try{i.container.addComponent(t)}catch(a){ua.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,a)}}function Jc(i){const t=i.name;if(dm.has(t))return ua.debug(`There were multiple attempts to register component ${t}.`),!1;dm.set(t,i);for(const a of Xc.values())S_(a,i);for(const a of EN.values())S_(a,i);return!0}function vN(i,t){const a=i.container.getProvider("heartbeat").getImmediate({optional:!0});return a&&a.triggerHeartbeat(),i.container.getProvider(t)}function TN(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Za=new h1("app","Firebase",bN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(t,a,s){this._isDeleted=!1,this._options={...t},this._config={...a},this._name=a.name,this._automaticDataCollectionEnabled=a.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ro("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Za.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=yN;function p1(i,t={}){let a=i;typeof t!="object"&&(t={name:t});const s={name:fm,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw Za.create("bad-app-name",{appName:String(o)});if(a||(a=c1()),!a)throw Za.create("no-options");const u=Xc.get(o);if(u){if($c(a,u.options)&&$c(s,u.config))return u;throw Za.create("duplicate-app",{appName:o})}const f=new Nw(o);for(const y of dm.values())f.addComponent(y);const m=new AN(a,s,f);return Xc.set(o,m),m}function xN(i=fm){const t=Xc.get(i);if(!t&&i===fm&&c1())return p1();if(!t)throw Za.create("no-app",{appName:i});return t}function Kr(i,t,a){let s=_N[i]??i;a&&(s+=`-${a}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${t}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ua.warn(f.join(" "));return}Jc(new Ro(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN="firebase-heartbeat-database",NN=1,Io="firebase-heartbeat-store";let Kd=null;function g1(){return Kd||(Kd=zw(wN,NN,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(Io)}catch(a){console.warn(a)}}}}).catch(i=>{throw Za.create("idb-open",{originalErrorMessage:i.message})})),Kd}async function RN(i){try{const a=(await g1()).transaction(Io),s=await a.objectStore(Io).get(y1(i));return await a.done,s}catch(t){if(t instanceof il)ua.warn(t.message);else{const a=Za.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ua.warn(a.message)}}}async function x_(i,t){try{const s=(await g1()).transaction(Io,"readwrite");await s.objectStore(Io).put(t,y1(i)),await s.done}catch(a){if(a instanceof il)ua.warn(a.message);else{const s=Za.create("idb-set",{originalErrorMessage:a==null?void 0:a.message});ua.warn(s.message)}}}function y1(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=1024,CN=30;class DN{constructor(t){this.container=t,this._heartbeatsCache=null;const a=this.container.getProvider("app").getImmediate();this._storage=new MN(a),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,a;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=w_();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((a=this._heartbeatsCache)==null?void 0:a.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>CN){const f=VN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ua.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const a=w_(),{heartbeatsToSend:s,unsentEntries:o}=ON(this._heartbeatsCache.heartbeats),u=Qc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=a,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(a){return ua.warn(a),""}}}function w_(){return new Date().toISOString().substring(0,10)}function ON(i,t=IN){const a=[];let s=i.slice();for(const o of i){const u=a.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),N_(a)>t){u.dates.pop();break}}else if(a.push({agent:o.agent,dates:[o.date]}),N_(a)>t){a.pop();break}s=s.slice(1)}return{heartbeatsToSend:a,unsentEntries:s}}class MN{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ew()?vw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const a=await RN(this.app);return a!=null&&a.heartbeats?a:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return x_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return x_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function N_(i){return Qc(JSON.stringify({version:2,heartbeats:i})).length}function VN(i){if(i.length===0)return-1;let t=0,a=i[0].date;for(let s=1;s<i.length;s++)i[s].date<a&&(a=i[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(i){Jc(new Ro("platform-logger",t=>new Gw(t),"PRIVATE")),Jc(new Ro("heartbeat",t=>new DN(t),"PRIVATE")),Kr(hm,A_,i),Kr(hm,A_,"esm2020"),Kr("fire-js","")}jN("");var R_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wa,_1;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(I,N){function R(){}R.prototype=N.prototype,I.F=N.prototype,I.prototype=new R,I.prototype.constructor=I,I.D=function(U,O,P){for(var C=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)C[ie-2]=arguments[ie];return N.prototype[O].apply(U,C)}}function a(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,a),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,N,R){R||(R=0);const U=Array(16);if(typeof N=="string")for(var O=0;O<16;++O)U[O]=N.charCodeAt(R++)|N.charCodeAt(R++)<<8|N.charCodeAt(R++)<<16|N.charCodeAt(R++)<<24;else for(O=0;O<16;++O)U[O]=N[R++]|N[R++]<<8|N[R++]<<16|N[R++]<<24;N=I.g[0],R=I.g[1],O=I.g[2];let P=I.g[3],C;C=N+(P^R&(O^P))+U[0]+3614090360&4294967295,N=R+(C<<7&4294967295|C>>>25),C=P+(O^N&(R^O))+U[1]+3905402710&4294967295,P=N+(C<<12&4294967295|C>>>20),C=O+(R^P&(N^R))+U[2]+606105819&4294967295,O=P+(C<<17&4294967295|C>>>15),C=R+(N^O&(P^N))+U[3]+3250441966&4294967295,R=O+(C<<22&4294967295|C>>>10),C=N+(P^R&(O^P))+U[4]+4118548399&4294967295,N=R+(C<<7&4294967295|C>>>25),C=P+(O^N&(R^O))+U[5]+1200080426&4294967295,P=N+(C<<12&4294967295|C>>>20),C=O+(R^P&(N^R))+U[6]+2821735955&4294967295,O=P+(C<<17&4294967295|C>>>15),C=R+(N^O&(P^N))+U[7]+4249261313&4294967295,R=O+(C<<22&4294967295|C>>>10),C=N+(P^R&(O^P))+U[8]+1770035416&4294967295,N=R+(C<<7&4294967295|C>>>25),C=P+(O^N&(R^O))+U[9]+2336552879&4294967295,P=N+(C<<12&4294967295|C>>>20),C=O+(R^P&(N^R))+U[10]+4294925233&4294967295,O=P+(C<<17&4294967295|C>>>15),C=R+(N^O&(P^N))+U[11]+2304563134&4294967295,R=O+(C<<22&4294967295|C>>>10),C=N+(P^R&(O^P))+U[12]+1804603682&4294967295,N=R+(C<<7&4294967295|C>>>25),C=P+(O^N&(R^O))+U[13]+4254626195&4294967295,P=N+(C<<12&4294967295|C>>>20),C=O+(R^P&(N^R))+U[14]+2792965006&4294967295,O=P+(C<<17&4294967295|C>>>15),C=R+(N^O&(P^N))+U[15]+1236535329&4294967295,R=O+(C<<22&4294967295|C>>>10),C=N+(O^P&(R^O))+U[1]+4129170786&4294967295,N=R+(C<<5&4294967295|C>>>27),C=P+(R^O&(N^R))+U[6]+3225465664&4294967295,P=N+(C<<9&4294967295|C>>>23),C=O+(N^R&(P^N))+U[11]+643717713&4294967295,O=P+(C<<14&4294967295|C>>>18),C=R+(P^N&(O^P))+U[0]+3921069994&4294967295,R=O+(C<<20&4294967295|C>>>12),C=N+(O^P&(R^O))+U[5]+3593408605&4294967295,N=R+(C<<5&4294967295|C>>>27),C=P+(R^O&(N^R))+U[10]+38016083&4294967295,P=N+(C<<9&4294967295|C>>>23),C=O+(N^R&(P^N))+U[15]+3634488961&4294967295,O=P+(C<<14&4294967295|C>>>18),C=R+(P^N&(O^P))+U[4]+3889429448&4294967295,R=O+(C<<20&4294967295|C>>>12),C=N+(O^P&(R^O))+U[9]+568446438&4294967295,N=R+(C<<5&4294967295|C>>>27),C=P+(R^O&(N^R))+U[14]+3275163606&4294967295,P=N+(C<<9&4294967295|C>>>23),C=O+(N^R&(P^N))+U[3]+4107603335&4294967295,O=P+(C<<14&4294967295|C>>>18),C=R+(P^N&(O^P))+U[8]+1163531501&4294967295,R=O+(C<<20&4294967295|C>>>12),C=N+(O^P&(R^O))+U[13]+2850285829&4294967295,N=R+(C<<5&4294967295|C>>>27),C=P+(R^O&(N^R))+U[2]+4243563512&4294967295,P=N+(C<<9&4294967295|C>>>23),C=O+(N^R&(P^N))+U[7]+1735328473&4294967295,O=P+(C<<14&4294967295|C>>>18),C=R+(P^N&(O^P))+U[12]+2368359562&4294967295,R=O+(C<<20&4294967295|C>>>12),C=N+(R^O^P)+U[5]+4294588738&4294967295,N=R+(C<<4&4294967295|C>>>28),C=P+(N^R^O)+U[8]+2272392833&4294967295,P=N+(C<<11&4294967295|C>>>21),C=O+(P^N^R)+U[11]+1839030562&4294967295,O=P+(C<<16&4294967295|C>>>16),C=R+(O^P^N)+U[14]+4259657740&4294967295,R=O+(C<<23&4294967295|C>>>9),C=N+(R^O^P)+U[1]+2763975236&4294967295,N=R+(C<<4&4294967295|C>>>28),C=P+(N^R^O)+U[4]+1272893353&4294967295,P=N+(C<<11&4294967295|C>>>21),C=O+(P^N^R)+U[7]+4139469664&4294967295,O=P+(C<<16&4294967295|C>>>16),C=R+(O^P^N)+U[10]+3200236656&4294967295,R=O+(C<<23&4294967295|C>>>9),C=N+(R^O^P)+U[13]+681279174&4294967295,N=R+(C<<4&4294967295|C>>>28),C=P+(N^R^O)+U[0]+3936430074&4294967295,P=N+(C<<11&4294967295|C>>>21),C=O+(P^N^R)+U[3]+3572445317&4294967295,O=P+(C<<16&4294967295|C>>>16),C=R+(O^P^N)+U[6]+76029189&4294967295,R=O+(C<<23&4294967295|C>>>9),C=N+(R^O^P)+U[9]+3654602809&4294967295,N=R+(C<<4&4294967295|C>>>28),C=P+(N^R^O)+U[12]+3873151461&4294967295,P=N+(C<<11&4294967295|C>>>21),C=O+(P^N^R)+U[15]+530742520&4294967295,O=P+(C<<16&4294967295|C>>>16),C=R+(O^P^N)+U[2]+3299628645&4294967295,R=O+(C<<23&4294967295|C>>>9),C=N+(O^(R|~P))+U[0]+4096336452&4294967295,N=R+(C<<6&4294967295|C>>>26),C=P+(R^(N|~O))+U[7]+1126891415&4294967295,P=N+(C<<10&4294967295|C>>>22),C=O+(N^(P|~R))+U[14]+2878612391&4294967295,O=P+(C<<15&4294967295|C>>>17),C=R+(P^(O|~N))+U[5]+4237533241&4294967295,R=O+(C<<21&4294967295|C>>>11),C=N+(O^(R|~P))+U[12]+1700485571&4294967295,N=R+(C<<6&4294967295|C>>>26),C=P+(R^(N|~O))+U[3]+2399980690&4294967295,P=N+(C<<10&4294967295|C>>>22),C=O+(N^(P|~R))+U[10]+4293915773&4294967295,O=P+(C<<15&4294967295|C>>>17),C=R+(P^(O|~N))+U[1]+2240044497&4294967295,R=O+(C<<21&4294967295|C>>>11),C=N+(O^(R|~P))+U[8]+1873313359&4294967295,N=R+(C<<6&4294967295|C>>>26),C=P+(R^(N|~O))+U[15]+4264355552&4294967295,P=N+(C<<10&4294967295|C>>>22),C=O+(N^(P|~R))+U[6]+2734768916&4294967295,O=P+(C<<15&4294967295|C>>>17),C=R+(P^(O|~N))+U[13]+1309151649&4294967295,R=O+(C<<21&4294967295|C>>>11),C=N+(O^(R|~P))+U[4]+4149444226&4294967295,N=R+(C<<6&4294967295|C>>>26),C=P+(R^(N|~O))+U[11]+3174756917&4294967295,P=N+(C<<10&4294967295|C>>>22),C=O+(N^(P|~R))+U[2]+718787259&4294967295,O=P+(C<<15&4294967295|C>>>17),C=R+(P^(O|~N))+U[9]+3951481745&4294967295,I.g[0]=I.g[0]+N&4294967295,I.g[1]=I.g[1]+(O+(C<<21&4294967295|C>>>11))&4294967295,I.g[2]=I.g[2]+O&4294967295,I.g[3]=I.g[3]+P&4294967295}s.prototype.v=function(I,N){N===void 0&&(N=I.length);const R=N-this.blockSize,U=this.C;let O=this.h,P=0;for(;P<N;){if(O==0)for(;P<=R;)o(this,I,P),P+=this.blockSize;if(typeof I=="string"){for(;P<N;)if(U[O++]=I.charCodeAt(P++),O==this.blockSize){o(this,U),O=0;break}}else for(;P<N;)if(U[O++]=I[P++],O==this.blockSize){o(this,U),O=0;break}}this.h=O,this.o+=N},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var N=1;N<I.length-8;++N)I[N]=0;N=this.o*8;for(var R=I.length-8;R<I.length;++R)I[R]=N&255,N/=256;for(this.v(I),I=Array(16),N=0,R=0;R<4;++R)for(let U=0;U<32;U+=8)I[N++]=this.g[R]>>>U&255;return I};function u(I,N){var R=m;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=N(I)}function f(I,N){this.h=N;const R=[];let U=!0;for(let O=I.length-1;O>=0;O--){const P=I[O]|0;U&&P==N||(R[O]=P,U=!1)}this.g=R}var m={};function y(I){return-128<=I&&I<128?u(I,function(N){return new f([N|0],N<0?-1:0)}):new f([I|0],I<0?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return b;if(I<0)return V(g(-I));const N=[];let R=1;for(let U=0;I>=R;U++)N[U]=I/R|0,R*=4294967296;return new f(N,0)}function T(I,N){if(I.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(I.charAt(0)=="-")return V(T(I.substring(1),N));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=g(Math.pow(N,8));let U=b;for(let P=0;P<I.length;P+=8){var O=Math.min(8,I.length-P);const C=parseInt(I.substring(P,P+O),N);O<8?(O=g(Math.pow(N,O)),U=U.j(O).add(g(C))):(U=U.j(R),U=U.add(g(C)))}return U}var b=y(0),S=y(1),w=y(16777216);i=f.prototype,i.m=function(){if(q(this))return-V(this).m();let I=0,N=1;for(let R=0;R<this.g.length;R++){const U=this.i(R);I+=(U>=0?U:4294967296+U)*N,N*=4294967296}return I},i.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(k(this))return"0";if(q(this))return"-"+V(this).toString(I);const N=g(Math.pow(I,6));var R=this;let U="";for(;;){const O=dt(R,N).g;R=et(R,O.j(N));let P=((R.g.length>0?R.g[0]:R.h)>>>0).toString(I);if(R=O,k(R))return P+U;for(;P.length<6;)P="0"+P;U=P+U}},i.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function k(I){if(I.h!=0)return!1;for(let N=0;N<I.g.length;N++)if(I.g[N]!=0)return!1;return!0}function q(I){return I.h==-1}i.l=function(I){return I=et(this,I),q(I)?-1:k(I)?0:1};function V(I){const N=I.g.length,R=[];for(let U=0;U<N;U++)R[U]=~I.g[U];return new f(R,~I.h).add(S)}i.abs=function(){return q(this)?V(this):this},i.add=function(I){const N=Math.max(this.g.length,I.g.length),R=[];let U=0;for(let O=0;O<=N;O++){let P=U+(this.i(O)&65535)+(I.i(O)&65535),C=(P>>>16)+(this.i(O)>>>16)+(I.i(O)>>>16);U=C>>>16,P&=65535,C&=65535,R[O]=C<<16|P}return new f(R,R[R.length-1]&-2147483648?-1:0)};function et(I,N){return I.add(V(N))}i.j=function(I){if(k(this)||k(I))return b;if(q(this))return q(I)?V(this).j(V(I)):V(V(this).j(I));if(q(I))return V(this.j(V(I)));if(this.l(w)<0&&I.l(w)<0)return g(this.m()*I.m());const N=this.g.length+I.g.length,R=[];for(var U=0;U<2*N;U++)R[U]=0;for(U=0;U<this.g.length;U++)for(let O=0;O<I.g.length;O++){const P=this.i(U)>>>16,C=this.i(U)&65535,ie=I.i(O)>>>16,ye=I.i(O)&65535;R[2*U+2*O]+=C*ye,at(R,2*U+2*O),R[2*U+2*O+1]+=P*ye,at(R,2*U+2*O+1),R[2*U+2*O+1]+=C*ie,at(R,2*U+2*O+1),R[2*U+2*O+2]+=P*ie,at(R,2*U+2*O+2)}for(I=0;I<N;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=N;I<2*N;I++)R[I]=0;return new f(R,0)};function at(I,N){for(;(I[N]&65535)!=I[N];)I[N+1]+=I[N]>>>16,I[N]&=65535,N++}function Q(I,N){this.g=I,this.h=N}function dt(I,N){if(k(N))throw Error("division by zero");if(k(I))return new Q(b,b);if(q(I))return N=dt(V(I),N),new Q(V(N.g),V(N.h));if(q(N))return N=dt(I,V(N)),new Q(V(N.g),N.h);if(I.g.length>30){if(q(I)||q(N))throw Error("slowDivide_ only works with positive integers.");for(var R=S,U=N;U.l(I)<=0;)R=mt(R),U=mt(U);var O=_t(R,1),P=_t(U,1);for(U=_t(U,2),R=_t(R,2);!k(U);){var C=P.add(U);C.l(I)<=0&&(O=O.add(R),P=C),U=_t(U,1),R=_t(R,1)}return N=et(I,O.j(N)),new Q(O,N)}for(O=b;I.l(N)>=0;){for(R=Math.max(1,Math.floor(I.m()/N.m())),U=Math.ceil(Math.log(R)/Math.LN2),U=U<=48?1:Math.pow(2,U-48),P=g(R),C=P.j(N);q(C)||C.l(I)>0;)R-=U,P=g(R),C=P.j(N);k(P)&&(P=S),O=O.add(P),I=et(I,C)}return new Q(O,I)}i.B=function(I){return dt(this,I).h},i.and=function(I){const N=Math.max(this.g.length,I.g.length),R=[];for(let U=0;U<N;U++)R[U]=this.i(U)&I.i(U);return new f(R,this.h&I.h)},i.or=function(I){const N=Math.max(this.g.length,I.g.length),R=[];for(let U=0;U<N;U++)R[U]=this.i(U)|I.i(U);return new f(R,this.h|I.h)},i.xor=function(I){const N=Math.max(this.g.length,I.g.length),R=[];for(let U=0;U<N;U++)R[U]=this.i(U)^I.i(U);return new f(R,this.h^I.h)};function mt(I){const N=I.g.length+1,R=[];for(let U=0;U<N;U++)R[U]=I.i(U)<<1|I.i(U-1)>>>31;return new f(R,I.h)}function _t(I,N){const R=N>>5;N%=32;const U=I.g.length-R,O=[];for(let P=0;P<U;P++)O[P]=N>0?I.i(P+R)>>>N|I.i(P+R+1)<<32-N:I.i(P+R);return new f(O,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,_1=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=T,Wa=f}).apply(typeof R_<"u"?R_:typeof self<"u"?self:typeof window<"u"?window:{});var xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var E1,po,v1,Pc,mm,T1,b1,A1;(function(){var i,t=Object.defineProperty;function a(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof xc=="object"&&xc];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=a(this);function o(c,p){if(p)t:{var v=s;c=c.split(".");for(var x=0;x<c.length-1;x++){var B=c[x];if(!(B in v))break t;v=v[B]}c=c[c.length-1],x=v[c],p=p(x),p!=x&&p!=null&&t(v,c,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(p){var v=[],x;for(x in p)Object.prototype.hasOwnProperty.call(p,x)&&v.push([x,p[x]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function m(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function y(c,p,v){return c.call.apply(c.bind,arguments)}function g(c,p,v){return g=y,g.apply(null,arguments)}function T(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var x=v.slice();return x.push.apply(x,arguments),c.apply(this,x)}}function b(c,p){function v(){}v.prototype=p.prototype,c.Z=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(x,B,Y){for(var st=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)st[Nt-2]=arguments[Nt];return p.prototype[B].apply(x,st)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function w(c){const p=c.length;if(p>0){const v=Array(p);for(let x=0;x<p;x++)v[x]=c[x];return v}return[]}function k(c,p){for(let x=1;x<arguments.length;x++){const B=arguments[x];var v=typeof B;if(v=v!="object"?v:B?Array.isArray(B)?"array":v:"null",v=="array"||v=="object"&&typeof B.length=="number"){v=c.length||0;const Y=B.length||0;c.length=v+Y;for(let st=0;st<Y;st++)c[v+st]=B[st]}else c.push(B)}}class q{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function V(c){f.setTimeout(()=>{throw c},0)}function et(){var c=I;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class at{constructor(){this.h=this.g=null}add(p,v){const x=Q.get();x.set(p,v),this.h?this.h.next=x:this.g=x,this.h=x}}var Q=new q(()=>new dt,c=>c.reset());class dt{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let mt,_t=!1,I=new at,N=()=>{const c=Promise.resolve(void 0);mt=()=>{c.then(R)}};function R(){for(var c;c=et();){try{c.h.call(c.g)}catch(v){V(v)}var p=Q;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}_t=!1}function U(){this.u=this.u,this.C=this.C}U.prototype.u=!1,U.prototype.dispose=function(){this.u||(this.u=!0,this.N())},U.prototype[Symbol.dispose]=function(){this.dispose()},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,p),f.removeEventListener("test",v,p)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function ie(c,p){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}b(ie,O),ie.prototype.init=function(c,p){const v=this.type=c.type,x=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ye="closure_listenable_"+(Math.random()*1e6|0),$=0;function rt(c,p,v,x,B){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!x,this.ha=B,this.key=++$,this.da=this.fa=!1}function pt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Dt(c,p,v){for(const x in c)p.call(v,c[x],x,c)}function Gt(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function j(c){const p={};for(const v in c)p[v]=c[v];return p}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lt(c,p){let v,x;for(let B=1;B<arguments.length;B++){x=arguments[B];for(v in x)c[v]=x[v];for(let Y=0;Y<Z.length;Y++)v=Z[Y],Object.prototype.hasOwnProperty.call(x,v)&&(c[v]=x[v])}}function ot(c){this.src=c,this.g={},this.h=0}ot.prototype.add=function(c,p,v,x,B){const Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);const st=bt(c,p,x,B);return st>-1?(p=c[st],v||(p.fa=!1)):(p=new rt(p,this.src,Y,!!x,B),p.fa=v,c.push(p)),p};function vt(c,p){const v=p.type;if(v in c.g){var x=c.g[v],B=Array.prototype.indexOf.call(x,p,void 0),Y;(Y=B>=0)&&Array.prototype.splice.call(x,B,1),Y&&(pt(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function bt(c,p,v,x){for(let B=0;B<c.length;++B){const Y=c[B];if(!Y.da&&Y.listener==p&&Y.capture==!!v&&Y.ha==x)return B}return-1}var Vt="closure_lm_"+(Math.random()*1e6|0),_e={};function se(c,p,v,x,B){if(Array.isArray(p)){for(let Y=0;Y<p.length;Y++)se(c,p[Y],v,x,B);return null}return v=W(v),c&&c[ye]?c.J(p,v,m(x)?!!x.capture:!1,B):ki(c,p,v,!1,x,B)}function ki(c,p,v,x,B,Y){if(!p)throw Error("Invalid event type");const st=m(B)?!!B.capture:!!B;let Nt=zi(c);if(Nt||(c[Vt]=Nt=new ot(c)),v=Nt.add(p,v,x,st,Y),v.proxy)return v;if(x=ma(),v.proxy=x,x.src=c,x.listener=v,c.addEventListener)P||(B=st),B===void 0&&(B=!1),c.addEventListener(p.toString(),x,B);else if(c.attachEvent)c.attachEvent(Mn(p.toString()),x);else if(c.addListener&&c.removeListener)c.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ma(){function c(v){return p.call(c.src,c.listener,v)}const p=hs;return c}function pa(c,p,v,x,B){if(Array.isArray(p))for(var Y=0;Y<p.length;Y++)pa(c,p[Y],v,x,B);else x=m(x)?!!x.capture:!!x,v=W(v),c&&c[ye]?(c=c.i,Y=String(p).toString(),Y in c.g&&(p=c.g[Y],v=bt(p,v,x,B),v>-1&&(pt(p[v]),Array.prototype.splice.call(p,v,1),p.length==0&&(delete c.g[Y],c.h--)))):c&&(c=zi(c))&&(p=c.g[p.toString()],c=-1,p&&(c=bt(p,v,x,B)),(v=c>-1?p[c]:null)&&ga(v))}function ga(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[ye])vt(p.i,c);else{var v=c.type,x=c.proxy;p.removeEventListener?p.removeEventListener(v,x,c.capture):p.detachEvent?p.detachEvent(Mn(v),x):p.addListener&&p.removeListener&&p.removeListener(x),(v=zi(p))?(vt(v,c),v.h==0&&(v.src=null,p[Vt]=null)):pt(c)}}}function Mn(c){return c in _e?_e[c]:_e[c]="on"+c}function hs(c,p){if(c.da)c=!0;else{p=new ie(p,this);const v=c.listener,x=c.ha||c.src;c.fa&&ga(c),c=v.call(x,p)}return c}function zi(c){return c=c[Vt],c instanceof ot?c:null}var ya="__closure_events_fn_"+(Math.random()*1e9>>>0);function W(c){return typeof c=="function"?c:(c[ya]||(c[ya]=function(p){return c.handleEvent(p)}),c[ya])}function St(){U.call(this),this.i=new ot(this),this.M=this,this.G=null}b(St,U),St.prototype[ye]=!0,St.prototype.removeEventListener=function(c,p,v,x){pa(this,c,p,v,x)};function Ht(c,p){var v,x=c.G;if(x)for(v=[];x;x=x.G)v.push(x);if(c=c.M,x=p.type||p,typeof p=="string")p=new O(p,c);else if(p instanceof O)p.target=p.target||c;else{var B=p;p=new O(x,c),lt(p,B)}B=!0;let Y,st;if(v)for(st=v.length-1;st>=0;st--)Y=p.g=v[st],B=bn(Y,x,!0,p)&&B;if(Y=p.g=c,B=bn(Y,x,!0,p)&&B,B=bn(Y,x,!1,p)&&B,v)for(st=0;st<v.length;st++)Y=p.g=v[st],B=bn(Y,x,!1,p)&&B}St.prototype.N=function(){if(St.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const v=c.g[p];for(let x=0;x<v.length;x++)pt(v[x]);delete c.g[p],c.h--}}this.G=null},St.prototype.J=function(c,p,v,x){return this.i.add(String(c),p,!1,v,x)},St.prototype.K=function(c,p,v,x){return this.i.add(String(c),p,!0,v,x)};function bn(c,p,v,x){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let B=!0;for(let Y=0;Y<p.length;++Y){const st=p[Y];if(st&&!st.da&&st.capture==v){const Nt=st.listener,be=st.ha||st.src;st.fa&&vt(c.i,st),B=Nt.call(be,x)!==!1&&B}}return B&&!x.defaultPrevented}function tn(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:f.setTimeout(c,p||0)}function fs(c){c.g=tn(()=>{c.g=null,c.i&&(c.i=!1,fs(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class ce extends U{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:fs(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ds(c){U.call(this),this.h=c,this.g={}}b(ds,U);var ul=[];function cl(c){Dt(c.g,function(p,v){this.g.hasOwnProperty(v)&&ga(p)},c),c.g={}}ds.prototype.N=function(){ds.Z.N.call(this),cl(this)},ds.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _a=f.JSON.stringify,Lh=f.JSON.parse,Xo=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Jo(){}function Zo(){}var Zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qe(){O.call(this,"d")}b(qe,O);function Vn(){O.call(this,"c")}b(Vn,O);var Te={},Wo=null;function Ws(){return Wo=Wo||new St}Te.Ia="serverreachability";function tu(c){O.call(this,Te.Ia,c)}b(tu,O);function hi(c){const p=Ws();Ht(p,new tu(p))}Te.STAT_EVENT="statevent";function ms(c,p){O.call(this,Te.STAT_EVENT,c),this.stat=p}b(ms,O);function Ne(c){const p=Ws();Ht(p,new ms(p,c))}Te.Ja="timingevent";function fi(c,p){O.call(this,Te.Ja,c),this.size=p}b(fi,O);function di(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},p)}function Wn(){this.g=!0}Wn.prototype.ua=function(){this.g=!1};function Ph(c,p,v,x,B,Y){c.info(function(){if(c.g)if(Y){var st="",Nt=Y.split("&");for(let Yt=0;Yt<Nt.length;Yt++){var be=Nt[Yt].split("=");if(be.length>1){const he=be[0];be=be[1];const Pn=he.split("_");st=Pn.length>=2&&Pn[1]=="type"?st+(he+"="+be+"&"):st+(he+"=redacted&")}}}else st=null;else st=Y;return"XMLHTTP REQ ("+x+") [attempt "+B+"]: "+p+`
`+v+`
`+st})}function eu(c,p,v,x,B,Y,st){c.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+B+"]: "+p+`
`+v+`
`+Y+" "+st})}function mi(c,p,v,x){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+kh(c,v)+(x?" "+x:"")})}function ps(c,p){c.info(function(){return"TIMEOUT: "+p})}Wn.prototype.info=function(){};function kh(c,p){if(!c.g)return p;if(!p)return null;try{const Y=JSON.parse(p);if(Y){for(c=0;c<Y.length;c++)if(Array.isArray(Y[c])){var v=Y[c];if(!(v.length<2)){var x=v[1];if(Array.isArray(x)&&!(x.length<1)){var B=x[0];if(B!="noop"&&B!="stop"&&B!="close")for(let st=1;st<x.length;st++)x[st]=""}}}}return _a(Y)}catch{return p}}var gs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},hl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},fl;function ys(){}b(ys,Jo),ys.prototype.g=function(){return new XMLHttpRequest},fl=new ys;function Bi(c){return encodeURIComponent(String(c))}function nu(c){var p=1;c=c.split(":");const v=[];for(;p>0&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function ti(c,p,v,x){this.j=c,this.i=p,this.l=v,this.S=x||1,this.V=new ds(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ei}function ei(){this.i=null,this.g="",this.h=!1}var Re={},ze={};function pi(c,p,v){c.M=1,c.A=_s(Ce(p)),c.u=v,c.R=!0,tr(c,null)}function tr(c,p){c.F=Date.now(),gi(c),c.B=Ce(c.A);var v=c.B,x=c.S;Array.isArray(x)||(x=[String(x)]),ar(v.i,"t",x),c.C=0,v=c.j.L,c.h=new ei,c.g=yu(c.j,v?p:null,!c.u),c.P>0&&(c.O=new ce(g(c.Y,c,c.g),c.P)),p=c.V,v=c.g,x=c.ba;var B="readystatechange";Array.isArray(B)||(B&&(ul[0]=B.toString()),B=ul);for(let Y=0;Y<B.length;Y++){const st=se(v,B[Y],x||p.handleEvent,!1,p.h||p);if(!st)break;p.g[st.key]=st}p=c.J?j(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),hi(),Ph(c.i,c.v,c.B,c.l,c.S,c.u)}ti.prototype.ba=function(c){c=c.target;const p=this.O;p&&ai(c)==3?p.j():this.Y(c)},ti.prototype.Y=function(c){try{if(c==this.g)t:{const Nt=ai(this.g),be=this.g.ya(),Yt=this.g.ca();if(!(Nt<3)&&(Nt!=3||this.g&&(this.h.h||this.g.la()||Fe(this.g)))){this.K||Nt!=4||be==7||(be==8||Yt<=0?hi(3):hi(2)),yi(this);var p=this.g.ca();this.X=p;var v=zh(this);if(this.o=p==200,eu(this.i,this.v,this.B,this.l,this.S,Nt,p),this.o){if(this.U&&!this.L){e:{if(this.g){var x,B=this.g;if((x=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(x)){var Y=x;break e}}Y=null}if(c=Y)mi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,_i(this,c);else{this.o=!1,this.m=3,Ne(12),An(this),jn(this);break t}}if(this.R){c=!0;let he;for(;!this.K&&this.C<v.length;)if(he=au(this,v),he==ze){Nt==4&&(this.m=4,Ne(14),c=!1),mi(this.i,this.l,null,"[Incomplete Response]");break}else if(he==Re){this.m=4,Ne(15),mi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else mi(this.i,this.l,he,null),_i(this,he);if(iu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||v.length!=0||this.h.h||(this.m=1,Ne(16),c=!1),this.o=this.o&&c,!c)mi(this.i,this.l,v,"[Invalid Chunked Response]"),An(this),jn(this);else if(v.length>0&&!this.W){this.W=!0;var st=this.j;st.g==this&&st.aa&&!st.P&&(st.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Nl(st),st.P=!0,Ne(11))}}else mi(this.i,this.l,v,null),_i(this,v);Nt==4&&An(this),this.o&&!this.K&&(Nt==4?du(this.j,this):(this.o=!1,gi(this)))}else Gi(this.g),p==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ne(12)):(this.m=0,Ne(13)),An(this),jn(this)}}}catch{}finally{}};function zh(c){if(!iu(c))return c.g.la();const p=Fe(c.g);if(p==="")return"";let v="";const x=p.length,B=ai(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return An(c),jn(c),"";c.h.i=new f.TextDecoder}for(let Y=0;Y<x;Y++)c.h.h=!0,v+=c.h.i.decode(p[Y],{stream:!(B&&Y==x-1)});return p.length=0,c.h.g+=v,c.C=0,c.h.g}function iu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function au(c,p){var v=c.C,x=p.indexOf(`
`,v);return x==-1?ze:(v=Number(p.substring(v,x)),isNaN(v)?Re:(x+=1,x+v>p.length?ze:(p=p.slice(x,x+v),c.C=x+v,p)))}ti.prototype.cancel=function(){this.K=!0,An(this)};function gi(c){c.T=Date.now()+c.H,er(c,c.H)}function er(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=di(g(c.aa,c),p)}function yi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}ti.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(ps(this.i,this.B),this.M!=2&&(hi(),Ne(17)),An(this),this.m=2,jn(this)):er(this,this.T-c)};function jn(c){c.j.I==0||c.K||du(c.j,c)}function An(c){yi(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,cl(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function _i(c,p){try{var v=c.j;if(v.I!=0&&(v.g==c||vi(v.h,c))){if(!c.L&&vi(v.h,c)&&v.I==3){try{var x=v.Ba.g.parse(p)}catch{x=null}if(Array.isArray(x)&&x.length==3){var B=x;if(B[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)ur(v),wa(v);else break t;xs(v),Ne(18)}}else v.xa=B[1],0<v.xa-v.K&&B[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=di(g(v.Va,v),6e3));Ei(v.h)<=1&&v.ta&&(v.ta=void 0)}else wi(v,11)}else if((c.L||v.g==c)&&ur(v),!C(p))for(B=v.Ba.g.parse(p),p=0;p<B.length;p++){let Yt=B[p];const he=Yt[0];if(!(he<=v.K))if(v.K=he,Yt=Yt[1],v.I==2)if(Yt[0]=="c"){v.M=Yt[1],v.ba=Yt[2];const Pn=Yt[3];Pn!=null&&(v.ka=Pn,v.j.info("VER="+v.ka));const Ni=Yt[4];Ni!=null&&(v.za=Ni,v.j.info("SVER="+v.za));const si=Yt[5];si!=null&&typeof si=="number"&&si>0&&(x=1.5*si,v.O=x,v.j.info("backChannelRequestTimeoutMs_="+x)),x=v;const ri=c.g;if(ri){const ws=ri.g?ri.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ws){var Y=x.h;Y.g||ws.indexOf("spdy")==-1&&ws.indexOf("quic")==-1&&ws.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(pl(Y,Y.h),Y.h=null))}if(x.G){const cr=ri.g?ri.g.getResponseHeader("X-HTTP-Session-Id"):null;cr&&(x.wa=cr,$t(x.J,x.G,cr))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),x=v;var st=c;if(x.na=gu(x,x.L?x.ba:null,x.W),st.L){gl(x.h,st);var Nt=st,be=x.O;be&&(Nt.H=be),Nt.D&&(yi(Nt),gi(Nt)),x.g=st}else hu(x);v.i.length>0&&xi(v)}else Yt[0]!="stop"&&Yt[0]!="close"||wi(v,7);else v.I==3&&(Yt[0]=="stop"||Yt[0]=="close"?Yt[0]=="stop"?wi(v,7):xl(v):Yt[0]!="noop"&&v.l&&v.l.qa(Yt),v.A=0)}}hi(4)}catch{}}var Ie=class{constructor(c,p){this.g=c,this.map=p}};function dl(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ml(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ei(c){return c.h?1:c.g?c.g.size:0}function vi(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function pl(c,p){c.g?c.g.add(p):c.h=p}function gl(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}dl.prototype.cancel=function(){if(this.i=yl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function yl(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.G);return p}return w(c.i)}var su=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nr(c,p){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const x=c[v].indexOf("=");let B,Y=null;x>=0?(B=c[v].substring(0,x),Y=c[v].substring(x+1)):B=c[v],p(B,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Sn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof Sn?(this.l=c.l,Be(this,c.j),this.o=c.o,this.g=c.g,Ea(this,c.u),this.h=c.h,_l(this,uu(c.i)),this.m=c.m):c&&(p=String(c).match(su))?(this.l=!1,Be(this,p[1]||"",!0),this.o=Ti(p[2]||""),this.g=Ti(p[3]||"",!0),Ea(this,p[4]),this.h=Ti(p[5]||"",!0),_l(this,p[6]||"",!0),this.m=Ti(p[7]||"")):(this.l=!1,this.i=new Ta(null,this.l))}Sn.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(Es(p,ir,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push(Es(p,ir,!0),"@"),c.push(Bi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Es(v,v.charAt(0)=="/"?El:ru,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Es(v,lu)),c.join("")},Sn.prototype.resolve=function(c){const p=Ce(this);let v=!!c.j;v?Be(p,c.j):v=!!c.o,v?p.o=c.o:v=!!c.g,v?p.g=c.g:v=c.u!=null;var x=c.h;if(v)Ea(p,c.u);else if(v=!!c.h){if(x.charAt(0)!="/")if(this.g&&!this.h)x="/"+x;else{var B=p.h.lastIndexOf("/");B!=-1&&(x=p.h.slice(0,B+1)+x)}if(B=x,B==".."||B==".")x="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){x=B.lastIndexOf("/",0)==0,B=B.split("/");const Y=[];for(let st=0;st<B.length;){const Nt=B[st++];Nt=="."?x&&st==B.length&&Y.push(""):Nt==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),x&&st==B.length&&Y.push("")):(Y.push(Nt),x=!0)}x=Y.join("/")}else x=B}return v?p.h=x:v=c.i.toString()!=="",v?_l(p,uu(c.i)):v=!!c.m,v&&(p.m=c.m),p};function Ce(c){return new Sn(c)}function Be(c,p,v){c.j=v?Ti(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function Ea(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function _l(c,p,v){p instanceof Ta?(c.i=p,sr(c.i,c.l)):(v||(p=Es(p,va)),c.i=new Ta(p,c.l))}function $t(c,p,v){c.i.set(p,v)}function _s(c){return $t(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ti(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Es(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,hn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function hn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ir=/[#\/\?@]/g,ru=/[#\?:]/g,El=/[#\?]/g,va=/[#\?@]/g,lu=/#/g;function Ta(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function fn(c){c.g||(c.g=new Map,c.h=0,c.i&&nr(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}i=Ta.prototype,i.add=function(c,p){fn(this),this.i=null,c=ba(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function ou(c,p){fn(c),p=ba(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function vl(c,p){return fn(c),p=ba(c,p),c.g.has(p)}i.forEach=function(c,p){fn(this),this.g.forEach(function(v,x){v.forEach(function(B){c.call(p,B,x,this)},this)},this)};function Tl(c,p){fn(c);let v=[];if(typeof p=="string")vl(c,p)&&(v=v.concat(c.g.get(ba(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)v=v.concat(c[p]);return v}i.set=function(c,p){return fn(this),this.i=null,c=ba(this,c),vl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},i.get=function(c,p){return c?(c=Tl(this,c),c.length>0?String(c[0]):p):p};function ar(c,p,v){ou(c,p),v.length>0&&(c.i=null,c.g.set(ba(c,p),w(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let x=0;x<p.length;x++){var v=p[x];const B=Bi(v);v=Tl(this,v);for(let Y=0;Y<v.length;Y++){let st=B;v[Y]!==""&&(st+="="+Bi(v[Y])),c.push(st)}}return this.i=c.join("&")};function uu(c){const p=new Ta;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function ba(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function sr(c,p){p&&!c.j&&(fn(c),c.i=null,c.g.forEach(function(v,x){const B=x.toLowerCase();x!=B&&(ou(this,x),ar(this,B,v))},c)),c.j=p}function ni(c,p){const v=new Wn;if(f.Image){const x=new Image;x.onload=T(Un,v,"TestLoadImage: loaded",!0,p,x),x.onerror=T(Un,v,"TestLoadImage: error",!1,p,x),x.onabort=T(Un,v,"TestLoadImage: abort",!1,p,x),x.ontimeout=T(Un,v,"TestLoadImage: timeout",!1,p,x),f.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=c}else p(!1)}function bl(c,p){const v=new Wn,x=new AbortController,B=setTimeout(()=>{x.abort(),Un(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:x.signal}).then(Y=>{clearTimeout(B),Y.ok?Un(v,"TestPingServer: ok",!0,p):Un(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(B),Un(v,"TestPingServer: error",!1,p)})}function Un(c,p,v,x,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),x(v)}catch{}}function Aa(){this.g=new Xo}function bi(c){this.i=c.Sb||null,this.h=c.ab||!1}b(bi,Jo),bi.prototype.g=function(){return new vs(this.i,this.h)};function vs(c,p){St.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(vs,St),i=vs.prototype,i.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,ii(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||f).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Sa(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ii(this)),this.g&&(this.readyState=3,ii(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;rr(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function rr(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?Sa(this):ii(this),this.readyState==3&&rr(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,Sa(this))},i.Na=function(c){this.g&&(this.response=c,Sa(this))},i.ga=function(){this.g&&Sa(this)};function Sa(c){c.readyState=4,c.l=null,c.j=null,c.B=null,ii(c)}i.setRequestHeader=function(c,p){this.A.append(c,p)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function ii(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(vs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ln(c){let p="";return Dt(c,function(v,x){p+=x,p+=":",p+=v,p+=`\r
`}),p}function Ts(c,p,v){t:{for(x in v){var x=!1;break t}x=!0}x||(v=Ln(v),typeof c=="string"?v!=null&&Bi(v):$t(c,p,v))}function Zt(c){St.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Zt,St);var Ai=/^https?$/i,Al=["POST","PUT"];i=Zt.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,p,v,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():fl.g(),this.g.onreadystatechange=S(g(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(Y){bs(this,Y);return}if(c=v||"",v=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var B in x)v.set(B,x[B]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const Y of x.keys())v.set(Y,x.get(Y));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(v.keys()).find(Y=>Y.toLowerCase()=="content-type"),B=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Al,p,void 0)>=0)||x||B||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,st]of v)this.g.setRequestHeader(Y,st);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(Y){bs(this,Y)}};function bs(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,Sl(c),Hi(c)}function Sl(c){c.A||(c.A=!0,Ht(c,"complete"),Ht(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ht(this,"complete"),Ht(this,"abort"),Hi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hi(this,!0)),Zt.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?As(this):this.Xa())},i.Xa=function(){As(this)};function As(c){if(c.h&&typeof u<"u"){if(c.v&&ai(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ht(c,"readystatechange"),ai(c)==4){c.h=!1;try{const Y=c.ca();t:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var v;if(!(v=p)){var x;if(x=Y===0){let st=String(c.D).match(su)[1]||null;!st&&f.self&&f.self.location&&(st=f.self.location.protocol.slice(0,-1)),x=!Ai.test(st?st.toLowerCase():"")}v=x}if(v)Ht(c,"complete"),Ht(c,"success");else{c.o=6;try{var B=ai(c)>2?c.g.statusText:""}catch{B=""}c.l=B+" ["+c.ca()+"]",Sl(c)}}finally{Hi(c)}}}}function Hi(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,p||Ht(c,"ready");try{v.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function ai(c){return c.g?c.g.readyState:0}i.ca=function(){try{return ai(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Lh(p)}};function Fe(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Gi(c){const p={};c=(c.g&&ai(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<c.length;x++){if(C(c[x]))continue;var v=nu(c[x]);const B=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Y=p[B]||[];p[B]=Y,Y.push(v)}Gt(p,function(x){return x.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Si(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function xa(c){this.za=0,this.i=[],this.j=new Wn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Si("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Si("baseRetryDelayMs",5e3,c),this.Za=Si("retryDelaySeedMs",1e4,c),this.Ta=Si("forwardChannelMaxRetries",2,c),this.va=Si("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new dl(c&&c.concurrentRequestLimit),this.Ba=new Aa,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=xa.prototype,i.ka=8,i.I=1,i.connect=function(c,p,v,x){Ne(0),this.W=c,this.H=p||{},v&&x!==void 0&&(this.H.OSID=v,this.H.OAID=x),this.F=this.X,this.J=gu(this,null,this.W),xi(this)};function xl(c){if(lr(c),c.I==3){var p=c.V++,v=Ce(c.J);if($t(v,"SID",c.M),$t(v,"RID",p),$t(v,"TYPE","terminate"),Ss(c,v),p=new ti(c,c.j,p),p.M=2,p.A=_s(Ce(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(p.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=p.A,v=!0),v||(p.g=yu(p.j,null),p.g.ea(p.A)),p.F=Date.now(),gi(p)}pu(c)}function wa(c){c.g&&(Nl(c),c.g.cancel(),c.g=null)}function lr(c){wa(c),c.v&&(f.clearTimeout(c.v),c.v=null),ur(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function xi(c){if(!ml(c.h)&&!c.m){c.m=!0;var p=c.Ea;mt||N(),_t||(mt(),_t=!0),I.add(p,c),c.D=0}}function or(c,p){return Ei(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=di(g(c.Ea,c,p),mu(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const B=new ti(this,this.j,c);let Y=this.o;if(this.U&&(Y?(Y=j(Y),lt(Y,this.U)):Y=this.U),this.u!==null||this.R||(B.J=Y,Y=null),this.S)t:{for(var p=0,v=0;v<this.i.length;v++){e:{var x=this.i[v];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break e}x=void 0}if(x===void 0)break;if(p+=x,p>4096){p=v;break t}if(p===4096||v===this.i.length-1){p=v+1;break t}}p=1e3}else p=1e3;p=cu(this,B,p),v=Ce(this.J),$t(v,"RID",c),$t(v,"CVER",22),this.G&&$t(v,"X-HTTP-Session-Id",this.G),Ss(this,v),Y&&(this.R?p="headers="+Bi(Ln(Y))+"&"+p:this.u&&Ts(v,this.u,Y)),pl(this.h,B),this.Ra&&$t(v,"TYPE","init"),this.S?($t(v,"$req",p),$t(v,"SID","null"),B.U=!0,pi(B,v,null)):pi(B,v,p),this.I=2}}else this.I==3&&(c?wl(this,c):this.i.length==0||ml(this.h)||wl(this))};function wl(c,p){var v;p?v=p.l:v=c.V++;const x=Ce(c.J);$t(x,"SID",c.M),$t(x,"RID",v),$t(x,"AID",c.K),Ss(c,x),c.u&&c.o&&Ts(x,c.u,c.o),v=new ti(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),p&&(c.i=p.G.concat(c.i)),p=cu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),pl(c.h,v),pi(v,x,p)}function Ss(c,p){c.H&&Dt(c.H,function(v,x){$t(p,x,v)}),c.l&&Dt({},function(v,x){$t(p,x,v)})}function cu(c,p,v){v=Math.min(c.i.length,v);const x=c.l?g(c.l.Ka,c.l,c):null;t:{var B=c.i;let Nt=-1;for(;;){const be=["count="+v];Nt==-1?v>0?(Nt=B[0].g,be.push("ofs="+Nt)):Nt=0:be.push("ofs="+Nt);let Yt=!0;for(let he=0;he<v;he++){var Y=B[he].g;const Pn=B[he].map;if(Y-=Nt,Y<0)Nt=Math.max(0,B[he].g-100),Yt=!1;else try{Y="req"+Y+"_"||"";try{var st=Pn instanceof Map?Pn:Object.entries(Pn);for(const[Ni,si]of st){let ri=si;m(si)&&(ri=_a(si)),be.push(Y+Ni+"="+encodeURIComponent(ri))}}catch(Ni){throw be.push(Y+"type="+encodeURIComponent("_badmap")),Ni}}catch{x&&x(Pn)}}if(Yt){st=be.join("&");break t}}st=void 0}return c=c.i.splice(0,v),p.G=c,st}function hu(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;mt||N(),_t||(mt(),_t=!0),I.add(p,c),c.A=0}}function xs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=di(g(c.Da,c),mu(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,fu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=di(g(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ne(10),wa(this),fu(this))};function Nl(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function fu(c){c.g=new ti(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=Ce(c.na);$t(p,"RID","rpc"),$t(p,"SID",c.M),$t(p,"AID",c.K),$t(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&$t(p,"TO",c.ia),$t(p,"TYPE","xmlhttp"),Ss(c,p),c.u&&c.o&&Ts(p,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=_s(Ce(p)),v.u=null,v.R=!0,tr(v,c)}i.Va=function(){this.C!=null&&(this.C=null,wa(this),xs(this),Ne(19))};function ur(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function du(c,p){var v=null;if(c.g==p){ur(c),Nl(c),c.g=null;var x=2}else if(vi(c.h,p))v=p.G,gl(c.h,p),x=1;else return;if(c.I!=0){if(p.o)if(x==1){v=p.u?p.u.length:0,p=Date.now()-p.F;var B=c.D;x=Ws(),Ht(x,new fi(x,v)),xi(c)}else hu(c);else if(B=p.m,B==3||B==0&&p.X>0||!(x==1&&or(c,p)||x==2&&xs(c)))switch(v&&v.length>0&&(p=c.h,p.i=p.i.concat(v)),B){case 1:wi(c,5);break;case 4:wi(c,10);break;case 3:wi(c,6);break;default:wi(c,2)}}}function mu(c,p){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*p}function wi(c,p){if(c.j.info("Error code "+p),p==2){var v=g(c.bb,c),x=c.Ua;const B=!x;x=new Sn(x||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Be(x,"https"),_s(x),B?ni(x.toString(),v):bl(x.toString(),v)}else Ne(2);c.I=0,c.l&&c.l.pa(p),pu(c),lr(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Ne(2)):(this.j.info("Failed to ping google.com"),Ne(1))};function pu(c){if(c.I=0,c.ja=[],c.l){const p=yl(c.h);(p.length!=0||c.i.length!=0)&&(k(c.ja,p),k(c.ja,c.i),c.h.i.length=0,w(c.i),c.i.length=0),c.l.oa()}}function gu(c,p,v){var x=v instanceof Sn?Ce(v):new Sn(v);if(x.g!="")p&&(x.g=p+"."+x.g),Ea(x,x.u);else{var B=f.location;x=B.protocol,p=p?p+"."+B.hostname:B.hostname,B=+B.port;const Y=new Sn(null);x&&Be(Y,x),p&&(Y.g=p),B&&Ea(Y,B),v&&(Y.h=v),x=Y}return v=c.G,p=c.wa,v&&p&&$t(x,v,p),$t(x,"VER",c.ka),Ss(c,x),x}function yu(c,p,v){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new Zt(new bi({ab:v})):new Zt(c.ma),p.Fa(c.L),p}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function _u(){}i=_u.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Na(){}Na.prototype.g=function(c,p){return new ln(c,p)};function ln(c,p){St.call(this),this.g=new xa(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!C(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!C(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new qi(this)}b(ln,St),ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){xl(this.g)},ln.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=_a(c),c=v);p.i.push(new Ie(p.Ya++,c)),p.I==3&&xi(p)},ln.prototype.N=function(){this.g.l=null,delete this.j,xl(this.g),delete this.g,ln.Z.N.call(this)};function Eu(c){qe.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){t:{for(const v in p){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}b(Eu,qe);function vu(){Vn.call(this),this.status=1}b(vu,Vn);function qi(c){this.g=c}b(qi,_u),qi.prototype.ra=function(){Ht(this.g,"a")},qi.prototype.qa=function(c){Ht(this.g,new Eu(c))},qi.prototype.pa=function(c){Ht(this.g,new vu)},qi.prototype.oa=function(){Ht(this.g,"b")},Na.prototype.createWebChannel=Na.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,A1=function(){return new Na},b1=function(){return Ws()},T1=Te,mm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},gs.NO_ERROR=0,gs.TIMEOUT=8,gs.HTTP_ERROR=6,Pc=gs,hl.COMPLETE="complete",v1=hl,Zo.EventType=Zn,Zn.OPEN="a",Zn.CLOSE="b",Zn.ERROR="c",Zn.MESSAGE="d",St.prototype.listen=St.prototype.J,po=Zo,Zt.prototype.listenOnce=Zt.prototype.K,Zt.prototype.getLastError=Zt.prototype.Ha,Zt.prototype.getLastErrorCode=Zt.prototype.ya,Zt.prototype.getStatus=Zt.prototype.ca,Zt.prototype.getResponseJson=Zt.prototype.La,Zt.prototype.getResponseText=Zt.prototype.la,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Fa,E1=Zt}).apply(typeof xc<"u"?xc:typeof self<"u"?self:typeof window<"u"?window:{});const I_="@firebase/firestore",C_="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let al="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs=new f1("@firebase/firestore");function Br(){return Qs.logLevel}function ut(i,...t){if(Qs.logLevel<=Bt.DEBUG){const a=t.map(Ym);Qs.debug(`Firestore (${al}): ${i}`,...a)}}function ca(i,...t){if(Qs.logLevel<=Bt.ERROR){const a=t.map(Ym);Qs.error(`Firestore (${al}): ${i}`,...a)}}function Xr(i,...t){if(Qs.logLevel<=Bt.WARN){const a=t.map(Ym);Qs.warn(`Firestore (${al}): ${i}`,...a)}}function Ym(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(a){return JSON.stringify(a)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(i,t,a){let s="Unexpected state";typeof t=="string"?s=t:a=t,S1(i,s,a)}function S1(i,t,a){let s=`FIRESTORE (${al}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(a!==void 0)try{s+=" CONTEXT: "+JSON.stringify(a)}catch{s+=" CONTEXT: "+a}throw ca(s),new Error(s)}function Qt(i,t,a,s){let o="Unexpected state";typeof a=="string"?o=a:s=a,i||S1(t,o,s)}function wt(i,t){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const it={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends il{constructor(t,a){super(t,a),this.code=t,this.message=a,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(){this.promise=new Promise(((t,a)=>{this.resolve=t,this.reject=a}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(t,a){this.user=a,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class UN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,a){t.enqueueRetryable((()=>a(an.UNAUTHENTICATED)))}shutdown(){}}class LN{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,a){this.changeListener=a,t.enqueueRetryable((()=>a(this.token.user)))}shutdown(){this.changeListener=null}}class PN{constructor(t){this.t=t,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,a){Qt(this.o===void 0,42304);let s=this.i;const o=y=>this.i!==s?(s=this.i,a(y)):Promise.resolve();let u=new la;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new la,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const y=u;t.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},m=y=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((y=>m(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new la)}}),0),f()}getToken(){const t=this.i,a=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(a).then((s=>this.i!==t?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qt(typeof s.accessToken=="string",31837,{l:s}),new x1(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Qt(t===null||typeof t=="string",2055,{h:t}),new an(t)}}class kN{constructor(t,a,s){this.P=t,this.T=a,this.I=s,this.type="FirstParty",this.user=an.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class zN{constructor(t,a,s){this.P=t,this.T=a,this.I=s}getToken(){return Promise.resolve(new kN(this.P,this.T,this.I))}start(t,a){t.enqueueRetryable((()=>a(an.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class D_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BN{constructor(t,a){this.V=a,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,TN(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,a){Qt(this.o===void 0,3512);const s=u=>{u.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ut("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?a(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new D_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((a=>a?(Qt(typeof a.token=="string",44558,{tokenResult:a}),this.m=a.token,new D_(a.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),a=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(a);else for(let s=0;s<i;s++)a[s]=Math.floor(256*Math.random());return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=HN(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<a&&(s+=t.charAt(o[u]%62))}return s}}function Lt(i,t){return i<t?-1:i>t?1:0}function pm(i,t){const a=Math.min(i.length,t.length);for(let s=0;s<a;s++){const o=i.charAt(s),u=t.charAt(s);if(o!==u)return Qd(o)===Qd(u)?Lt(o,u):Qd(o)?1:-1}return Lt(i.length,t.length)}const GN=55296,qN=57343;function Qd(i){const t=i.charCodeAt(0);return t>=GN&&t<=qN}function Jr(i,t,a){return i.length===t.length&&i.every(((s,o)=>a(s,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_="__name__";class Oi{constructor(t,a,s){a===void 0?a=0:a>t.length&&Tt(637,{offset:a,range:t.length}),s===void 0?s=t.length-a:s>t.length-a&&Tt(1746,{length:s,range:t.length-a}),this.segments=t,this.offset=a,this.len=s}get length(){return this.len}isEqual(t){return Oi.comparator(this,t)===0}child(t){const a=this.segments.slice(this.offset,this.limit());return t instanceof Oi?t.forEach((s=>{a.push(s)})):a.push(t),this.construct(a)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==t.get(a))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==t.get(a))return!1;return!0}forEach(t){for(let a=this.offset,s=this.limit();a<s;a++)t(this.segments[a])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,a){const s=Math.min(t.length,a.length);for(let o=0;o<s;o++){const u=Oi.compareSegments(t.get(o),a.get(o));if(u!==0)return u}return Lt(t.length,a.length)}static compareSegments(t,a){const s=Oi.isNumericId(t),o=Oi.isNumericId(a);return s&&!o?-1:!s&&o?1:s&&o?Oi.extractNumericId(t).compare(Oi.extractNumericId(a)):pm(t,a)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Wa.fromString(t.substring(4,t.length-2))}}class oe extends Oi{construct(t,a,s){return new oe(t,a,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const a=[];for(const s of t){if(s.indexOf("//")>=0)throw new ht(it.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);a.push(...s.split("/").filter((o=>o.length>0)))}return new oe(a)}static emptyPath(){return new oe([])}}const FN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Je extends Oi{construct(t,a,s){return new Je(t,a,s)}static isValidIdentifier(t){return FN.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Je.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===O_}static keyField(){return new Je([O_])}static fromServerFormat(t){const a=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ht(it.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);a.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ht(it.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ht(it.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=y,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ht(it.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Je(a)}static emptyPath(){return new Je([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t){this.path=t}static fromPath(t){return new yt(oe.fromString(t))}static fromName(t){return new yt(oe.fromString(t).popFirst(5))}static empty(){return new yt(oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&oe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,a){return oe.comparator(t.path,a.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new oe(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(i,t,a){if(!a)throw new ht(it.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function YN(i,t,a,s){if(t===!0&&s===!0)throw new ht(it.INVALID_ARGUMENT,`${i} and ${a} cannot be used together.`)}function M_(i){if(!yt.isDocumentKey(i))throw new ht(it.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function V_(i){if(yt.isDocumentKey(i))throw new ht(it.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function N1(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Qm(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":Tt(12329,{type:typeof i})}function vn(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new ht(it.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const a=Qm(i);throw new ht(it.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${a}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(i,t){const a={typeString:i};return t&&(a.value=t),a}function zo(i,t){if(!N1(i))throw new ht(it.INVALID_ARGUMENT,"JSON must be an object");let a;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in i)){a=`JSON missing required field: '${s}'`;break}const f=i[s];if(o&&typeof f!==o){a=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){a=`Expected '${s}' field to equal '${u.value}'`;break}}if(a)throw new ht(it.INVALID_ARGUMENT,a);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_=-62135596800,U_=1e6;class ue{static now(){return ue.fromMillis(Date.now())}static fromDate(t){return ue.fromMillis(t.getTime())}static fromMillis(t){const a=Math.floor(t/1e3),s=Math.floor((t-1e3*a)*U_);return new ue(a,s)}constructor(t,a){if(this.seconds=t,this.nanoseconds=a,a<0)throw new ht(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(a>=1e9)throw new ht(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(t<j_)throw new ht(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ht(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/U_}_compareTo(t){return this.seconds===t.seconds?Lt(this.nanoseconds,t.nanoseconds):Lt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ue._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(zo(t,ue._jsonSchema))return new ue(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-j_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ue._jsonSchemaVersion="firestore/timestamp/1.0",ue._jsonSchema={type:Ue("string",ue._jsonSchemaVersion),seconds:Ue("number"),nanoseconds:Ue("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new ue(0,0))}static max(){return new At(new ue(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co=-1;function KN(i,t){const a=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=At.fromTimestamp(s===1e9?new ue(a+1,0):new ue(a,s));return new es(o,yt.empty(),t)}function QN(i){return new es(i.readTime,i.key,Co)}class es{constructor(t,a,s){this.readTime=t,this.documentKey=a,this.largestBatchId=s}static min(){return new es(At.min(),yt.empty(),Co)}static max(){return new es(At.max(),yt.empty(),Co)}}function $N(i,t){let a=i.readTime.compareTo(t.readTime);return a!==0?a:(a=yt.comparator(i.documentKey,t.documentKey),a!==0?a:Lt(i.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class JN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sl(i){if(i.code!==it.FAILED_PRECONDITION||i.message!==XN)throw i;ut("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((a=>{this.isDone=!0,this.result=a,this.nextCallback&&this.nextCallback(a)}),(a=>{this.isDone=!0,this.error=a,this.catchCallback&&this.catchCallback(a)}))}catch(t){return this.next(void 0,t)}next(t,a){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(a,this.error):this.wrapSuccess(t,this.result):new nt(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(a,u).next(s,o)}}))}toPromise(){return new Promise(((t,a)=>{this.next(t,a)}))}wrapUserFunction(t){try{const a=t();return a instanceof nt?a:nt.resolve(a)}catch(a){return nt.reject(a)}}wrapSuccess(t,a){return t?this.wrapUserFunction((()=>t(a))):nt.resolve(a)}wrapFailure(t,a){return t?this.wrapUserFunction((()=>t(a))):nt.reject(a)}static resolve(t){return new nt(((a,s)=>{a(t)}))}static reject(t){return new nt(((a,s)=>{s(t)}))}static waitFor(t){return new nt(((a,s)=>{let o=0,u=0,f=!1;t.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&a()}),(y=>s(y)))})),f=!0,u===o&&a()}))}static or(t){let a=nt.resolve(!1);for(const s of t)a=a.next((o=>o?nt.resolve(o):s()));return a}static forEach(t,a){const s=[];return t.forEach(((o,u)=>{s.push(a.call(this,o,u))})),this.waitFor(s)}static mapArray(t,a){return new nt(((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let y=0;y<u;y++){const g=y;a(t[g]).next((T=>{f[g]=T,++m,m===u&&s(f)}),(T=>o(T)))}}))}static doWhile(t,a){return new nt(((s,o)=>{const u=()=>{t()===!0?a().next((()=>{u()}),o):s()};u()}))}}function ZN(i){const t=i.match(/Android ([\d.]+)/i),a=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(a)}function rl(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(t,a){this.previousValue=t,a&&(a.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>a.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ph.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m=-1;function gh(i){return i==null}function Zc(i){return i===0&&1/i==-1/0}function WN(i){return typeof i=="number"&&Number.isInteger(i)&&!Zc(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1="";function tR(i){let t="";for(let a=0;a<i.length;a++)t.length>0&&(t=L_(t)),t=eR(i.get(a),t);return L_(t)}function eR(i,t){let a=t;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":a+="";break;case R1:a+="";break;default:a+=u}}return a}function L_(i){return i+R1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(i){let t=0;for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&t++;return t}function os(i,t){for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&t(a,i[a])}function I1(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(t,a){this.comparator=t,this.root=a||Xe.EMPTY}insert(t,a){return new ge(this.comparator,this.root.insert(t,a,this.comparator).copy(null,null,Xe.BLACK,null,null))}remove(t){return new ge(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Xe.BLACK,null,null))}get(t){let a=this.root;for(;!a.isEmpty();){const s=this.comparator(t,a.key);if(s===0)return a.value;s<0?a=a.left:s>0&&(a=a.right)}return null}indexOf(t){let a=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return a+s.left.size;o<0?s=s.left:(a+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((a,s)=>(t(a,s),!1)))}toString(){const t=[];return this.inorderTraversal(((a,s)=>(t.push(`${a}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new wc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new wc(this.root,t,this.comparator,!1)}getReverseIterator(){return new wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new wc(this.root,t,this.comparator,!0)}}class wc{constructor(t,a,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=a?s(t.key,a):1,a&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const a={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return a}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Xe{constructor(t,a,s,o,u){this.key=t,this.value=a,this.color=s??Xe.RED,this.left=o??Xe.EMPTY,this.right=u??Xe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,a,s,o,u){return new Xe(t??this.key,a??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,a,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,a,s),null):u===0?o.copy(null,a,null,null,null):o.copy(null,null,null,null,o.right.insert(t,a,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,a){let s,o=this;if(a(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,a),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),a(t,o.key)===0){if(o.right.isEmpty())return Xe.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,a))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Xe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Xe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),a=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,a)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Tt(27949);return t+(this.isRed()?0:1)}}Xe.EMPTY=null,Xe.RED=!0,Xe.BLACK=!1;Xe.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(t,a,s,o,u){return this}insert(t,a,s){return new Xe(t,a)}remove(t,a){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(t){this.comparator=t,this.data=new ge(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((a,s)=>(t(a),!1)))}forEachInRange(t,a){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;a(o.key)}}forEachWhile(t,a){let s;for(s=a!==void 0?this.data.getIteratorFrom(a):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const a=this.data.getIteratorFrom(t);return a.hasNext()?a.getNext().key:null}getIterator(){return new k_(this.data.getIterator())}getIteratorFrom(t){return new k_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let a=this;return a.size<t.size&&(a=t,t=this),t.forEach((s=>{a=a.add(s)})),a}isEqual(t){if(!(t instanceof ke)||this.size!==t.size)return!1;const a=this.data.getIterator(),s=t.data.getIterator();for(;a.hasNext();){const o=a.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((a=>{t.push(a)})),t}toString(){const t=[];return this.forEach((a=>t.push(a))),"SortedSet("+t.toString()+")"}copy(t){const a=new ke(this.comparator);return a.data=t,a}}class k_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(t){this.fields=t,t.sort(Je.comparator)}static empty(){return new On([])}unionWith(t){let a=new ke(Je.comparator);for(const s of this.fields)a=a.add(s);for(const s of t)a=a.add(s);return new On(a.toArray())}covers(t){for(const a of this.fields)if(a.isPrefixOf(t))return!0;return!1}isEqual(t){return Jr(this.fields,t.fields,((a,s)=>a.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(t){this.binaryString=t}static fromBase64String(t){const a=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new C1("Invalid base64 string: "+u):u}})(t);return new Ze(a)}static fromUint8Array(t){const a=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new Ze(a)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(a){return btoa(a)})(this.binaryString)}toUint8Array(){return(function(a){const s=new Uint8Array(a.length);for(let o=0;o<a.length;o++)s[o]=a.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Lt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ze.EMPTY_BYTE_STRING=new Ze("");const nR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ns(i){if(Qt(!!i,39018),typeof i=="string"){let t=0;const a=nR.exec(i);if(Qt(!!a,46558,{timestamp:i}),a[1]){let o=a[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:xe(i.seconds),nanos:xe(i.nanos)}}function xe(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function is(i){return typeof i=="string"?Ze.fromBase64String(i):Ze.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="server_timestamp",O1="__type__",M1="__previous_value__",V1="__local_write_time__";function Xm(i){var a,s;return((s=(((a=i==null?void 0:i.mapValue)==null?void 0:a.fields)||{})[O1])==null?void 0:s.stringValue)===D1}function yh(i){const t=i.mapValue.fields[M1];return Xm(t)?yh(t):t}function Do(i){const t=ns(i.mapValue.fields[V1].timestampValue);return new ue(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(t,a,s,o,u,f,m,y,g,T){this.databaseId=t,this.appId=a,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=g,this.isUsingEmulator=T}}const Wc="(default)";class Oo{constructor(t,a){this.projectId=t,this.database=a||Wc}static empty(){return new Oo("","")}get isDefaultDatabase(){return this.database===Wc}isEqual(t){return t instanceof Oo&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1="__type__",aR="__max__",Nc={mapValue:{}},U1="__vector__",th="value";function as(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Xm(i)?4:rR(i)?9007199254740991:sR(i)?10:11:Tt(28295,{value:i})}function Li(i,t){if(i===t)return!0;const a=as(i);if(a!==as(t))return!1;switch(a){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return Do(i).isEqual(Do(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ns(o.timestampValue),m=ns(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(i,t);case 5:return i.stringValue===t.stringValue;case 6:return(function(o,u){return is(o.bytesValue).isEqual(is(u.bytesValue))})(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return(function(o,u){return xe(o.geoPointValue.latitude)===xe(u.geoPointValue.latitude)&&xe(o.geoPointValue.longitude)===xe(u.geoPointValue.longitude)})(i,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return xe(o.integerValue)===xe(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=xe(o.doubleValue),m=xe(u.doubleValue);return f===m?Zc(f)===Zc(m):isNaN(f)&&isNaN(m)}return!1})(i,t);case 9:return Jr(i.arrayValue.values||[],t.arrayValue.values||[],Li);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(P_(f)!==P_(m))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(m[y]===void 0||!Li(f[y],m[y])))return!1;return!0})(i,t);default:return Tt(52216,{left:i})}}function Mo(i,t){return(i.values||[]).find((a=>Li(a,t)))!==void 0}function Zr(i,t){if(i===t)return 0;const a=as(i),s=as(t);if(a!==s)return Lt(a,s);switch(a){case 0:case 9007199254740991:return 0;case 1:return Lt(i.booleanValue,t.booleanValue);case 2:return(function(u,f){const m=xe(u.integerValue||u.doubleValue),y=xe(f.integerValue||f.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1})(i,t);case 3:return z_(i.timestampValue,t.timestampValue);case 4:return z_(Do(i),Do(t));case 5:return pm(i.stringValue,t.stringValue);case 6:return(function(u,f){const m=is(u),y=is(f);return m.compareTo(y)})(i.bytesValue,t.bytesValue);case 7:return(function(u,f){const m=u.split("/"),y=f.split("/");for(let g=0;g<m.length&&g<y.length;g++){const T=Lt(m[g],y[g]);if(T!==0)return T}return Lt(m.length,y.length)})(i.referenceValue,t.referenceValue);case 8:return(function(u,f){const m=Lt(xe(u.latitude),xe(f.latitude));return m!==0?m:Lt(xe(u.longitude),xe(f.longitude))})(i.geoPointValue,t.geoPointValue);case 9:return B_(i.arrayValue,t.arrayValue);case 10:return(function(u,f){var S,w,k,q;const m=u.fields||{},y=f.fields||{},g=(S=m[th])==null?void 0:S.arrayValue,T=(w=y[th])==null?void 0:w.arrayValue,b=Lt(((k=g==null?void 0:g.values)==null?void 0:k.length)||0,((q=T==null?void 0:T.values)==null?void 0:q.length)||0);return b!==0?b:B_(g,T)})(i.mapValue,t.mapValue);case 11:return(function(u,f){if(u===Nc.mapValue&&f===Nc.mapValue)return 0;if(u===Nc.mapValue)return 1;if(f===Nc.mapValue)return-1;const m=u.fields||{},y=Object.keys(m),g=f.fields||{},T=Object.keys(g);y.sort(),T.sort();for(let b=0;b<y.length&&b<T.length;++b){const S=pm(y[b],T[b]);if(S!==0)return S;const w=Zr(m[y[b]],g[T[b]]);if(w!==0)return w}return Lt(y.length,T.length)})(i.mapValue,t.mapValue);default:throw Tt(23264,{he:a})}}function z_(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return Lt(i,t);const a=ns(i),s=ns(t),o=Lt(a.seconds,s.seconds);return o!==0?o:Lt(a.nanos,s.nanos)}function B_(i,t){const a=i.values||[],s=t.values||[];for(let o=0;o<a.length&&o<s.length;++o){const u=Zr(a[o],s[o]);if(u)return u}return Lt(a.length,s.length)}function Wr(i){return gm(i)}function gm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(a){const s=ns(a);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(a){return is(a).toBase64()})(i.bytesValue):"referenceValue"in i?(function(a){return yt.fromName(a).toString()})(i.referenceValue):"geoPointValue"in i?(function(a){return`geo(${a.latitude},${a.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(a){let s="[",o=!0;for(const u of a.values||[])o?o=!1:s+=",",s+=gm(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(a){const s=Object.keys(a.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${gm(a.fields[f])}`;return o+"}"})(i.mapValue):Tt(61005,{value:i})}function kc(i){switch(as(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=yh(i);return t?16+kc(t):16;case 5:return 2*i.stringValue.length;case 6:return is(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+kc(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return os(s.fields,((u,f)=>{o+=u.length+kc(f)})),o})(i.mapValue);default:throw Tt(13486,{value:i})}}function ym(i){return!!i&&"integerValue"in i}function Jm(i){return!!i&&"arrayValue"in i}function H_(i){return!!i&&"nullValue"in i}function G_(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function zc(i){return!!i&&"mapValue"in i}function sR(i){var a,s;return((s=(((a=i==null?void 0:i.mapValue)==null?void 0:a.fields)||{})[j1])==null?void 0:s.stringValue)===U1}function To(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const t={mapValue:{fields:{}}};return os(i.mapValue.fields,((a,s)=>t.mapValue.fields[a]=To(s))),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let a=0;a<(i.arrayValue.values||[]).length;++a)t.arrayValue.values[a]=To(i.arrayValue.values[a]);return t}return{...i}}function rR(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===aR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(t){this.value=t}static empty(){return new En({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let a=this.value;for(let s=0;s<t.length-1;++s)if(a=(a.mapValue.fields||{})[t.get(s)],!zc(a))return null;return a=(a.mapValue.fields||{})[t.lastSegment()],a||null}}set(t,a){this.getFieldsMap(t.popLast())[t.lastSegment()]=To(a)}setAll(t){let a=Je.emptyPath(),s={},o=[];t.forEach(((f,m)=>{if(!a.isImmediateParentOf(m)){const y=this.getFieldsMap(a);this.applyChanges(y,s,o),s={},o=[],a=m.popLast()}f?s[m.lastSegment()]=To(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(a);this.applyChanges(u,s,o)}delete(t){const a=this.field(t.popLast());zc(a)&&a.mapValue.fields&&delete a.mapValue.fields[t.lastSegment()]}isEqual(t){return Li(this.value,t.value)}getFieldsMap(t){let a=this.value;a.mapValue.fields||(a.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=a.mapValue.fields[t.get(s)];zc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},a.mapValue.fields[t.get(s)]=o),a=o}return a.mapValue.fields}applyChanges(t,a,s){os(a,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new En(To(this.value))}}function L1(i){const t=[];return os(i.fields,((a,s)=>{const o=new Je([a]);if(zc(s)){const u=L1(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new On(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(t,a,s,o,u,f,m){this.key=t,this.documentType=a,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new sn(t,0,At.min(),At.min(),At.min(),En.empty(),0)}static newFoundDocument(t,a,s,o){return new sn(t,1,a,At.min(),s,o,0)}static newNoDocument(t,a){return new sn(t,2,a,At.min(),At.min(),En.empty(),0)}static newUnknownDocument(t,a){return new sn(t,3,a,At.min(),At.min(),En.empty(),2)}convertToFoundDocument(t,a){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=a,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof sn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(t,a){this.position=t,this.inclusive=a}}function q_(i,t,a){let s=0;for(let o=0;o<i.position.length;o++){const u=t[o],f=i.position[o];if(u.field.isKeyField()?s=yt.comparator(yt.fromName(f.referenceValue),a.key):s=Zr(f,a.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function F_(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let a=0;a<i.position.length;a++)if(!Li(i.position[a],t.position[a]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(t,a="asc"){this.field=t,this.dir=a}}function lR(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{}class Pe extends P1{constructor(t,a,s){super(),this.field=t,this.op=a,this.value=s}static create(t,a,s){return t.isKeyField()?a==="in"||a==="not-in"?this.createKeyFieldInFilter(t,a,s):new uR(t,a,s):a==="array-contains"?new fR(t,s):a==="in"?new dR(t,s):a==="not-in"?new mR(t,s):a==="array-contains-any"?new pR(t,s):new Pe(t,a,s)}static createKeyFieldInFilter(t,a,s){return a==="in"?new cR(t,s):new hR(t,s)}matches(t){const a=t.data.field(this.field);return this.op==="!="?a!==null&&a.nullValue===void 0&&this.matchesComparison(Zr(a,this.value)):a!==null&&as(this.value)===as(a)&&this.matchesComparison(Zr(a,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pi extends P1{constructor(t,a){super(),this.filters=t,this.op=a,this.Pe=null}static create(t,a){return new Pi(t,a)}matches(t){return k1(this)?this.filters.find((a=>!a.matches(t)))===void 0:this.filters.find((a=>a.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,a)=>t.concat(a.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function k1(i){return i.op==="and"}function z1(i){return oR(i)&&k1(i)}function oR(i){for(const t of i.filters)if(t instanceof Pi)return!1;return!0}function _m(i){if(i instanceof Pe)return i.field.canonicalString()+i.op.toString()+Wr(i.value);if(z1(i))return i.filters.map((t=>_m(t))).join(",");{const t=i.filters.map((a=>_m(a))).join(",");return`${i.op}(${t})`}}function B1(i,t){return i instanceof Pe?(function(s,o){return o instanceof Pe&&s.op===o.op&&s.field.isEqual(o.field)&&Li(s.value,o.value)})(i,t):i instanceof Pi?(function(s,o){return o instanceof Pi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&B1(f,o.filters[m])),!0):!1})(i,t):void Tt(19439)}function H1(i){return i instanceof Pe?(function(a){return`${a.field.canonicalString()} ${a.op} ${Wr(a.value)}`})(i):i instanceof Pi?(function(a){return a.op.toString()+" {"+a.getFilters().map(H1).join(" ,")+"}"})(i):"Filter"}class uR extends Pe{constructor(t,a,s){super(t,a,s),this.key=yt.fromName(s.referenceValue)}matches(t){const a=yt.comparator(t.key,this.key);return this.matchesComparison(a)}}class cR extends Pe{constructor(t,a){super(t,"in",a),this.keys=G1("in",a)}matches(t){return this.keys.some((a=>a.isEqual(t.key)))}}class hR extends Pe{constructor(t,a){super(t,"not-in",a),this.keys=G1("not-in",a)}matches(t){return!this.keys.some((a=>a.isEqual(t.key)))}}function G1(i,t){var a;return(((a=t.arrayValue)==null?void 0:a.values)||[]).map((s=>yt.fromName(s.referenceValue)))}class fR extends Pe{constructor(t,a){super(t,"array-contains",a)}matches(t){const a=t.data.field(this.field);return Jm(a)&&Mo(a.arrayValue,this.value)}}class dR extends Pe{constructor(t,a){super(t,"in",a)}matches(t){const a=t.data.field(this.field);return a!==null&&Mo(this.value.arrayValue,a)}}class mR extends Pe{constructor(t,a){super(t,"not-in",a)}matches(t){if(Mo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const a=t.data.field(this.field);return a!==null&&a.nullValue===void 0&&!Mo(this.value.arrayValue,a)}}class pR extends Pe{constructor(t,a){super(t,"array-contains-any",a)}matches(t){const a=t.data.field(this.field);return!(!Jm(a)||!a.arrayValue.values)&&a.arrayValue.values.some((s=>Mo(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(t,a=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=a,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function Y_(i,t=null,a=[],s=[],o=null,u=null,f=null){return new gR(i,t,a,s,o,u,f)}function Zm(i){const t=wt(i);if(t.Te===null){let a=t.path.canonicalString();t.collectionGroup!==null&&(a+="|cg:"+t.collectionGroup),a+="|f:",a+=t.filters.map((s=>_m(s))).join(","),a+="|ob:",a+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),gh(t.limit)||(a+="|l:",a+=t.limit),t.startAt&&(a+="|lb:",a+=t.startAt.inclusive?"b:":"a:",a+=t.startAt.position.map((s=>Wr(s))).join(",")),t.endAt&&(a+="|ub:",a+=t.endAt.inclusive?"a:":"b:",a+=t.endAt.position.map((s=>Wr(s))).join(",")),t.Te=a}return t.Te}function Wm(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let a=0;a<i.orderBy.length;a++)if(!lR(i.orderBy[a],t.orderBy[a]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let a=0;a<i.filters.length;a++)if(!B1(i.filters[a],t.filters[a]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!F_(i.startAt,t.startAt)&&F_(i.endAt,t.endAt)}function Em(i){return yt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(t,a=null,s=[],o=[],u=null,f="F",m=null,y=null){this.path=t,this.collectionGroup=a,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function yR(i,t,a,s,o,u,f,m){return new _h(i,t,a,s,o,u,f,m)}function Eh(i){return new _h(i)}function K_(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function _R(i){return i.collectionGroup!==null}function bo(i){const t=wt(i);if(t.Ie===null){t.Ie=[];const a=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),a.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new ke(Je.comparator);return f.filters.forEach((y=>{y.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(t).forEach((u=>{a.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new nh(u,s))})),a.has(Je.keyField().canonicalString())||t.Ie.push(new nh(Je.keyField(),s))}return t.Ie}function Mi(i){const t=wt(i);return t.Ee||(t.Ee=ER(t,bo(i))),t.Ee}function ER(i,t){if(i.limitType==="F")return Y_(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new nh(o.field,u)}));const a=i.endAt?new eh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new eh(i.startAt.position,i.startAt.inclusive):null;return Y_(i.path,i.collectionGroup,t,i.filters,i.limit,a,s)}}function vm(i,t,a){return new _h(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,a,i.startAt,i.endAt)}function vh(i,t){return Wm(Mi(i),Mi(t))&&i.limitType===t.limitType}function q1(i){return`${Zm(Mi(i))}|lt:${i.limitType}`}function Hr(i){return`Query(target=${(function(a){let s=a.path.canonicalString();return a.collectionGroup!==null&&(s+=" collectionGroup="+a.collectionGroup),a.filters.length>0&&(s+=`, filters: [${a.filters.map((o=>H1(o))).join(", ")}]`),gh(a.limit)||(s+=", limit: "+a.limit),a.orderBy.length>0&&(s+=`, orderBy: [${a.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),a.startAt&&(s+=", startAt: ",s+=a.startAt.inclusive?"b:":"a:",s+=a.startAt.position.map((o=>Wr(o))).join(",")),a.endAt&&(s+=", endAt: ",s+=a.endAt.inclusive?"a:":"b:",s+=a.endAt.position.map((o=>Wr(o))).join(",")),`Target(${s})`})(Mi(i))}; limitType=${i.limitType})`}function Th(i,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):yt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,t)&&(function(s,o){for(const u of bo(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,t)&&(function(s,o){return!(s.startAt&&!(function(f,m,y){const g=q_(f,m,y);return f.inclusive?g<=0:g<0})(s.startAt,bo(s),o)||s.endAt&&!(function(f,m,y){const g=q_(f,m,y);return f.inclusive?g>=0:g>0})(s.endAt,bo(s),o))})(i,t)}function vR(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function F1(i){return(t,a)=>{let s=!1;for(const o of bo(i)){const u=TR(o,t,a);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function TR(i,t,a){const s=i.field.isKeyField()?yt.comparator(t.key,a.key):(function(u,f,m){const y=f.data.field(u),g=m.data.field(u);return y!==null&&g!==null?Zr(y,g):Tt(42886)})(i.field,t,a);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Tt(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(t,a){this.mapKeyFn=t,this.equalsFn=a,this.inner={},this.innerSize=0}get(t){const a=this.mapKeyFn(t),s=this.inner[a];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,a){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,a]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,a]);o.push([t,a]),this.innerSize++}delete(t){const a=this.mapKeyFn(t),s=this.inner[a];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[a]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){os(this.inner,((a,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return I1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=new ge(yt.comparator);function ha(){return bR}const Y1=new ge(yt.comparator);function go(...i){let t=Y1;for(const a of i)t=t.insert(a.key,a);return t}function K1(i){let t=Y1;return i.forEach(((a,s)=>t=t.insert(a,s.overlayedDocument))),t}function qs(){return Ao()}function Q1(){return Ao()}function Ao(){return new Js((i=>i.toString()),((i,t)=>i.isEqual(t)))}const AR=new ge(yt.comparator),SR=new ke(yt.comparator);function Pt(...i){let t=SR;for(const a of i)t=t.add(a);return t}const xR=new ke(Lt);function wR(){return xR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zc(t)?"-0":t}}function $1(i){return{integerValue:""+i}}function NR(i,t){return WN(t)?$1(t):tp(i,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(){this._=void 0}}function RR(i,t,a){return i instanceof ih?(function(o,u){const f={fields:{[O1]:{stringValue:D1},[V1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Xm(u)&&(u=yh(u)),u&&(f.fields[M1]=u),{mapValue:f}})(a,t):i instanceof Vo?J1(i,t):i instanceof jo?Z1(i,t):(function(o,u){const f=X1(o,u),m=Q_(f)+Q_(o.Ae);return ym(f)&&ym(o.Ae)?$1(m):tp(o.serializer,m)})(i,t)}function IR(i,t,a){return i instanceof Vo?J1(i,t):i instanceof jo?Z1(i,t):a}function X1(i,t){return i instanceof ah?(function(s){return ym(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class ih extends bh{}class Vo extends bh{constructor(t){super(),this.elements=t}}function J1(i,t){const a=W1(t);for(const s of i.elements)a.some((o=>Li(o,s)))||a.push(s);return{arrayValue:{values:a}}}class jo extends bh{constructor(t){super(),this.elements=t}}function Z1(i,t){let a=W1(t);for(const s of i.elements)a=a.filter((o=>!Li(o,s)));return{arrayValue:{values:a}}}class ah extends bh{constructor(t,a){super(),this.serializer=t,this.Ae=a}}function Q_(i){return xe(i.integerValue||i.doubleValue)}function W1(i){return Jm(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function CR(i,t){return i.field.isEqual(t.field)&&(function(s,o){return s instanceof Vo&&o instanceof Vo||s instanceof jo&&o instanceof jo?Jr(s.elements,o.elements,Li):s instanceof ah&&o instanceof ah?Li(s.Ae,o.Ae):s instanceof ih&&o instanceof ih})(i.transform,t.transform)}class DR{constructor(t,a){this.version=t,this.transformResults=a}}class Tn{constructor(t,a){this.updateTime=t,this.exists=a}static none(){return new Tn}static exists(t){return new Tn(void 0,t)}static updateTime(t){return new Tn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Bc(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class Ah{}function tT(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new Sh(i.key,Tn.none()):new Bo(i.key,i.data,Tn.none());{const a=i.data,s=En.empty();let o=new ke(Je.comparator);for(let u of t.fields)if(!o.has(u)){let f=a.field(u);f===null&&u.length>1&&(u=u.popLast(),f=a.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new us(i.key,s,new On(o.toArray()),Tn.none())}}function OR(i,t,a){i instanceof Bo?(function(o,u,f){const m=o.value.clone(),y=X_(o.fieldTransforms,u,f.transformResults);m.setAll(y),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(i,t,a):i instanceof us?(function(o,u,f){if(!Bc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=X_(o.fieldTransforms,u,f.transformResults),y=u.data;y.setAll(eT(o)),y.setAll(m),u.convertToFoundDocument(f.version,y).setHasCommittedMutations()})(i,t,a):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,a)}function So(i,t,a,s){return i instanceof Bo?(function(u,f,m,y){if(!Bc(u.precondition,f))return m;const g=u.value.clone(),T=J_(u.fieldTransforms,y,f);return g.setAll(T),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(i,t,a,s):i instanceof us?(function(u,f,m,y){if(!Bc(u.precondition,f))return m;const g=J_(u.fieldTransforms,y,f),T=f.data;return T.setAll(eT(u)),T.setAll(g),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(i,t,a,s):(function(u,f,m){return Bc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(i,t,a)}function MR(i,t){let a=null;for(const s of i.fieldTransforms){const o=t.data.field(s.field),u=X1(s.transform,o||null);u!=null&&(a===null&&(a=En.empty()),a.set(s.field,u))}return a||null}function $_(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Jr(s,o,((u,f)=>CR(u,f)))})(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class Bo extends Ah{constructor(t,a,s,o=[]){super(),this.key=t,this.value=a,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class us extends Ah{constructor(t,a,s,o,u=[]){super(),this.key=t,this.data=a,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function eT(i){const t=new Map;return i.fieldMask.fields.forEach((a=>{if(!a.isEmpty()){const s=i.data.field(a);t.set(a,s)}})),t}function X_(i,t,a){const s=new Map;Qt(i.length===a.length,32656,{Re:a.length,Ve:i.length});for(let o=0;o<a.length;o++){const u=i[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,IR(f,m,a[o]))}return s}function J_(i,t,a){const s=new Map;for(const o of i){const u=o.transform,f=a.data.field(o.field);s.set(o.field,RR(u,f,t))}return s}class Sh extends Ah{constructor(t,a){super(),this.key=t,this.precondition=a,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VR extends Ah{constructor(t,a){super(),this.key=t,this.precondition=a,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(t,a,s,o){this.batchId=t,this.localWriteTime=a,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,a){const s=a.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&OR(u,t,s[o])}}applyToLocalView(t,a){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(a=So(s,t,a,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(a=So(s,t,a,this.localWriteTime));return a}applyToLocalDocumentSet(t,a){const s=Q1();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=a.has(o.key)?null:m;const y=tT(f,m);y!==null&&s.set(o.key,y),f.isValidDocument()||f.convertToNoDocument(At.min())})),s}keys(){return this.mutations.reduce(((t,a)=>t.add(a.key)),Pt())}isEqual(t){return this.batchId===t.batchId&&Jr(this.mutations,t.mutations,((a,s)=>$_(a,s)))&&Jr(this.baseMutations,t.baseMutations,((a,s)=>$_(a,s)))}}class ep{constructor(t,a,s,o){this.batch=t,this.commitVersion=a,this.mutationResults=s,this.docVersions=o}static from(t,a,s){Qt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return AR})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new ep(t,a,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(t,a){this.largestBatchId=t,this.mutation=a}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(t,a){this.count=t,this.unchangedNames=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je,zt;function PR(i){switch(i){case it.OK:return Tt(64938);case it.CANCELLED:case it.UNKNOWN:case it.DEADLINE_EXCEEDED:case it.RESOURCE_EXHAUSTED:case it.INTERNAL:case it.UNAVAILABLE:case it.UNAUTHENTICATED:return!1;case it.INVALID_ARGUMENT:case it.NOT_FOUND:case it.ALREADY_EXISTS:case it.PERMISSION_DENIED:case it.FAILED_PRECONDITION:case it.ABORTED:case it.OUT_OF_RANGE:case it.UNIMPLEMENTED:case it.DATA_LOSS:return!0;default:return Tt(15467,{code:i})}}function nT(i){if(i===void 0)return ca("GRPC error has no .code"),it.UNKNOWN;switch(i){case je.OK:return it.OK;case je.CANCELLED:return it.CANCELLED;case je.UNKNOWN:return it.UNKNOWN;case je.DEADLINE_EXCEEDED:return it.DEADLINE_EXCEEDED;case je.RESOURCE_EXHAUSTED:return it.RESOURCE_EXHAUSTED;case je.INTERNAL:return it.INTERNAL;case je.UNAVAILABLE:return it.UNAVAILABLE;case je.UNAUTHENTICATED:return it.UNAUTHENTICATED;case je.INVALID_ARGUMENT:return it.INVALID_ARGUMENT;case je.NOT_FOUND:return it.NOT_FOUND;case je.ALREADY_EXISTS:return it.ALREADY_EXISTS;case je.PERMISSION_DENIED:return it.PERMISSION_DENIED;case je.FAILED_PRECONDITION:return it.FAILED_PRECONDITION;case je.ABORTED:return it.ABORTED;case je.OUT_OF_RANGE:return it.OUT_OF_RANGE;case je.UNIMPLEMENTED:return it.UNIMPLEMENTED;case je.DATA_LOSS:return it.DATA_LOSS;default:return Tt(39323,{code:i})}}(zt=je||(je={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR=new Wa([4294967295,4294967295],0);function Z_(i){const t=kR().encode(i),a=new _1;return a.update(t),new Uint8Array(a.digest())}function W_(i){const t=new DataView(i.buffer),a=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Wa([a,s],0),new Wa([o,u],0)]}class np{constructor(t,a,s){if(this.bitmap=t,this.padding=a,this.hashCount=s,a<0||a>=8)throw new yo(`Invalid padding: ${a}`);if(s<0)throw new yo(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new yo(`Invalid hash count: ${s}`);if(t.length===0&&a!==0)throw new yo(`Invalid padding when bitmap length is 0: ${a}`);this.ge=8*t.length-a,this.pe=Wa.fromNumber(this.ge)}ye(t,a,s){let o=t.add(a.multiply(Wa.fromNumber(s)));return o.compare(zR)===1&&(o=new Wa([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const a=Z_(t),[s,o]=W_(a);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(t,a,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new np(u,o,a);return s.forEach((m=>f.insert(m))),f}insert(t){if(this.ge===0)return;const a=Z_(t),[s,o]=W_(a);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(t){const a=Math.floor(t/8),s=t%8;this.bitmap[a]|=1<<s}}class yo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(t,a,s,o,u){this.snapshotVersion=t,this.targetChanges=a,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,a,s){const o=new Map;return o.set(t,Ho.createSynthesizedTargetChangeForCurrentChange(t,a,s)),new xh(At.min(),o,new ge(Lt),ha(),Pt())}}class Ho{constructor(t,a,s,o,u){this.resumeToken=t,this.current=a,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,a,s){return new Ho(s,a,Pt(),Pt(),Pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(t,a,s,o){this.be=t,this.removedTargetIds=a,this.key=s,this.De=o}}class iT{constructor(t,a){this.targetId=t,this.Ce=a}}class aT{constructor(t,a,s=Ze.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=a,this.resumeToken=s,this.cause=o}}class tE{constructor(){this.ve=0,this.Fe=eE(),this.Me=Ze.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Pt(),a=Pt(),s=Pt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:a=a.add(o);break;case 1:s=s.add(o);break;default:Tt(38017,{changeType:u})}})),new Ho(this.Me,this.xe,t,a,s)}qe(){this.Oe=!1,this.Fe=eE()}Qe(t,a){this.Oe=!0,this.Fe=this.Fe.insert(t,a)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class BR{constructor(t){this.Ge=t,this.ze=new Map,this.je=ha(),this.Je=Rc(),this.He=Rc(),this.Ye=new ge(Lt)}Ze(t){for(const a of t.be)t.De&&t.De.isFoundDocument()?this.Xe(a,t.De):this.et(a,t.key,t.De);for(const a of t.removedTargetIds)this.et(a,t.key,t.De)}tt(t){this.forEachTarget(t,(a=>{const s=this.nt(a);switch(t.state){case 0:this.rt(a)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(a);break;case 3:this.rt(a)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(a)&&(this.it(a),s.Le(t.resumeToken));break;default:Tt(56790,{state:t.state})}}))}forEachTarget(t,a){t.targetIds.length>0?t.targetIds.forEach(a):this.ze.forEach(((s,o)=>{this.rt(o)&&a(o)}))}st(t){const a=t.targetId,s=t.Ce.count,o=this.ot(a);if(o){const u=o.target;if(Em(u))if(s===0){const f=new yt(u.path);this.et(a,f,sn.newNoDocument(f,At.min()))}else Qt(s===1,20013,{expectedCount:s});else{const f=this._t(a);if(f!==s){const m=this.ut(t),y=m?this.ct(m,t,f):1;if(y!==0){this.it(a);const g=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(a,g)}}}}}ut(t){const a=t.Ce.unchangedNames;if(!a||!a.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=a;let f,m;try{f=is(s).toUint8Array()}catch(y){if(y instanceof C1)return Xr("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new np(f,o,u)}catch(y){return Xr(y instanceof yo?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.ge===0?null:m}ct(t,a,s){return a.Ce.count===s-this.Pt(t,a.targetId)?0:2}Pt(t,a){const s=this.Ge.getRemoteKeysForTarget(a);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(a,u,null),o++)})),o}Tt(t){const a=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Em(m.target)){const y=new yt(m.target.path);this.It(y).has(f)||this.Et(f,y)||this.et(f,y,sn.newNoDocument(y,t))}u.Be&&(a.set(f,u.ke()),u.qe())}}));let s=Pt();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((y=>{const g=this.ot(y);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const o=new xh(t,a,this.Ye,this.je,s);return this.je=ha(),this.Je=Rc(),this.He=Rc(),this.Ye=new ge(Lt),o}Xe(t,a){if(!this.rt(t))return;const s=this.Et(t,a.key)?2:0;this.nt(t).Qe(a.key,s),this.je=this.je.insert(a.key,a),this.Je=this.Je.insert(a.key,this.It(a.key).add(t)),this.He=this.He.insert(a.key,this.dt(a.key).add(t))}et(t,a,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,a)?o.Qe(a,1):o.$e(a),this.He=this.He.insert(a,this.dt(a).delete(t)),this.He=this.He.insert(a,this.dt(a).add(t)),s&&(this.je=this.je.insert(a,s))}removeTarget(t){this.ze.delete(t)}_t(t){const a=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+a.addedDocuments.size-a.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let a=this.ze.get(t);return a||(a=new tE,this.ze.set(t,a)),a}dt(t){let a=this.He.get(t);return a||(a=new ke(Lt),this.He=this.He.insert(t,a)),a}It(t){let a=this.Je.get(t);return a||(a=new ke(Lt),this.Je=this.Je.insert(t,a)),a}rt(t){const a=this.ot(t)!==null;return a||ut("WatchChangeAggregator","Detected inactive target",t),a}ot(t){const a=this.ze.get(t);return a&&a.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new tE),this.Ge.getRemoteKeysForTarget(t).forEach((a=>{this.et(t,a,null)}))}Et(t,a){return this.Ge.getRemoteKeysForTarget(t).has(a)}}function Rc(){return new ge(yt.comparator)}function eE(){return new ge(yt.comparator)}const HR={asc:"ASCENDING",desc:"DESCENDING"},GR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qR={and:"AND",or:"OR"};class FR{constructor(t,a){this.databaseId=t,this.useProto3Json=a}}function Tm(i,t){return i.useProto3Json||gh(t)?t:{value:t}}function sh(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function sT(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function YR(i,t){return sh(i,t.toTimestamp())}function Vi(i){return Qt(!!i,49232),At.fromTimestamp((function(a){const s=ns(a);return new ue(s.seconds,s.nanos)})(i))}function ip(i,t){return bm(i,t).canonicalString()}function bm(i,t){const a=(function(o){return new oe(["projects",o.projectId,"databases",o.database])})(i).child("documents");return t===void 0?a:a.child(t)}function rT(i){const t=oe.fromString(i);return Qt(hT(t),10190,{key:t.toString()}),t}function Am(i,t){return ip(i.databaseId,t.path)}function $d(i,t){const a=rT(t);if(a.get(1)!==i.databaseId.projectId)throw new ht(it.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+a.get(1)+" vs "+i.databaseId.projectId);if(a.get(3)!==i.databaseId.database)throw new ht(it.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+a.get(3)+" vs "+i.databaseId.database);return new yt(oT(a))}function lT(i,t){return ip(i.databaseId,t)}function KR(i){const t=rT(i);return t.length===4?oe.emptyPath():oT(t)}function Sm(i){return new oe(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function oT(i){return Qt(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function nE(i,t,a){return{name:Am(i,t),fields:a.value.mapValue.fields}}function QR(i,t){let a;if("targetChange"in t){t.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Tt(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,T){return g.useProto3Json?(Qt(T===void 0||typeof T=="string",58123),Ze.fromBase64String(T||"")):(Qt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Ze.fromUint8Array(T||new Uint8Array))})(i,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&(function(g){const T=g.code===void 0?it.UNKNOWN:nT(g.code);return new ht(T,g.message||"")})(f);a=new aT(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=$d(i,s.document.name),u=Vi(s.document.updateTime),f=s.document.createTime?Vi(s.document.createTime):At.min(),m=new En({mapValue:{fields:s.document.fields}}),y=sn.newFoundDocument(o,u,f,m),g=s.targetIds||[],T=s.removedTargetIds||[];a=new Hc(g,T,y.key,y)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=$d(i,s.document),u=s.readTime?Vi(s.readTime):At.min(),f=sn.newNoDocument(o,u),m=s.removedTargetIds||[];a=new Hc([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=$d(i,s.document),u=s.removedTargetIds||[];a=new Hc([],u,o,null)}else{if(!("filter"in t))return Tt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new LR(o,u),m=s.targetId;a=new iT(m,f)}}return a}function $R(i,t){let a;if(t instanceof Bo)a={update:nE(i,t.key,t.value)};else if(t instanceof Sh)a={delete:Am(i,t.key)};else if(t instanceof us)a={update:nE(i,t.key,t.data),updateMask:aI(t.fieldMask)};else{if(!(t instanceof VR))return Tt(16599,{Vt:t.type});a={verify:Am(i,t.key)}}return t.fieldTransforms.length>0&&(a.updateTransforms=t.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof ih)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Vo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof jo)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof ah)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Tt(20930,{transform:f.transform})})(0,s)))),t.precondition.isNone||(a.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:YR(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Tt(27497)})(i,t.precondition)),a}function XR(i,t){return i&&i.length>0?(Qt(t!==void 0,14353),i.map((a=>(function(o,u){let f=o.updateTime?Vi(o.updateTime):Vi(u);return f.isEqual(At.min())&&(f=Vi(u)),new DR(f,o.transformResults||[])})(a,t)))):[]}function JR(i,t){return{documents:[lT(i,t.path)]}}function ZR(i,t){const a={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,a.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),a.structuredQuery.from=[{collectionId:s.lastSegment()}]),a.parent=lT(i,o);const u=(function(g){if(g.length!==0)return cT(Pi.create(g,"and"))})(t.filters);u&&(a.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((T=>(function(S){return{field:Gr(S.field),direction:eI(S.dir)}})(T)))})(t.orderBy);f&&(a.structuredQuery.orderBy=f);const m=Tm(i,t.limit);return m!==null&&(a.structuredQuery.limit=m),t.startAt&&(a.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(a.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:a,parent:o}}function WR(i){let t=KR(i.parent);const a=i.structuredQuery,s=a.from?a.from.length:0;let o=null;if(s>0){Qt(s===1,65062);const T=a.from[0];T.allDescendants?o=T.collectionId:t=t.child(T.collectionId)}let u=[];a.where&&(u=(function(b){const S=uT(b);return S instanceof Pi&&z1(S)?S.getFilters():[S]})(a.where));let f=[];a.orderBy&&(f=(function(b){return b.map((S=>(function(k){return new nh(qr(k.field),(function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(S)))})(a.orderBy));let m=null;a.limit&&(m=(function(b){let S;return S=typeof b=="object"?b.value:b,gh(S)?null:S})(a.limit));let y=null;a.startAt&&(y=(function(b){const S=!!b.before,w=b.values||[];return new eh(w,S)})(a.startAt));let g=null;return a.endAt&&(g=(function(b){const S=!b.before,w=b.values||[];return new eh(w,S)})(a.endAt)),yR(t,o,f,u,m,"F",y,g)}function tI(i,t){const a=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:o})}})(t.purpose);return a==null?null:{"goog-listen-tags":a}}function uT(i){return i.unaryFilter!==void 0?(function(a){switch(a.unaryFilter.op){case"IS_NAN":const s=qr(a.unaryFilter.field);return Pe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=qr(a.unaryFilter.field);return Pe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=qr(a.unaryFilter.field);return Pe.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=qr(a.unaryFilter.field);return Pe.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}})(i):i.fieldFilter!==void 0?(function(a){return Pe.create(qr(a.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}})(a.fieldFilter.op),a.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(a){return Pi.create(a.compositeFilter.filters.map((s=>uT(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}})(a.compositeFilter.op))})(i):Tt(30097,{filter:i})}function eI(i){return HR[i]}function nI(i){return GR[i]}function iI(i){return qR[i]}function Gr(i){return{fieldPath:i.canonicalString()}}function qr(i){return Je.fromServerFormat(i.fieldPath)}function cT(i){return i instanceof Pe?(function(a){if(a.op==="=="){if(G_(a.value))return{unaryFilter:{field:Gr(a.field),op:"IS_NAN"}};if(H_(a.value))return{unaryFilter:{field:Gr(a.field),op:"IS_NULL"}}}else if(a.op==="!="){if(G_(a.value))return{unaryFilter:{field:Gr(a.field),op:"IS_NOT_NAN"}};if(H_(a.value))return{unaryFilter:{field:Gr(a.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gr(a.field),op:nI(a.op),value:a.value}}})(i):i instanceof Pi?(function(a){const s=a.getFilters().map((o=>cT(o)));return s.length===1?s[0]:{compositeFilter:{op:iI(a.op),filters:s}}})(i):Tt(54877,{filter:i})}function aI(i){const t=[];return i.fields.forEach((a=>t.push(a.canonicalString()))),{fieldPaths:t}}function hT(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(t,a,s,o,u=At.min(),f=At.min(),m=Ze.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=a,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(t){return new Xa(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,a){return new Xa(this.target,this.targetId,this.purpose,this.sequenceNumber,a,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Xa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Xa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(t){this.yt=t}}function rI(i){const t=WR({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?vm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(){this.Cn=new oI}addToCollectionParentIndex(t,a){return this.Cn.add(a),nt.resolve()}getCollectionParents(t,a){return nt.resolve(this.Cn.getEntries(a))}addFieldIndex(t,a){return nt.resolve()}deleteFieldIndex(t,a){return nt.resolve()}deleteAllFieldIndexes(t){return nt.resolve()}createTargetIndexes(t,a){return nt.resolve()}getDocumentsMatchingTarget(t,a){return nt.resolve(null)}getIndexType(t,a){return nt.resolve(0)}getFieldIndexes(t,a){return nt.resolve([])}getNextCollectionGroupToUpdate(t){return nt.resolve(null)}getMinOffset(t,a){return nt.resolve(es.min())}getMinOffsetFromCollectionGroup(t,a){return nt.resolve(es.min())}updateCollectionGroup(t,a,s){return nt.resolve()}updateIndexEntries(t,a){return nt.resolve()}}class oI{constructor(){this.index={}}add(t){const a=t.lastSegment(),s=t.popLast(),o=this.index[a]||new ke(oe.comparator),u=!o.has(s);return this.index[a]=o.add(s),u}has(t){const a=t.lastSegment(),s=t.popLast(),o=this.index[a];return o&&o.has(s)}getEntries(t){return(this.index[t]||new ke(oe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fT=41943040;class _n{static withCacheSize(t){return new _n(t,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,a,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=a,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(fT,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new tl(0)}static cr(){return new tl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="LruGarbageCollector",uI=1048576;function sE([i,t],[a,s]){const o=Lt(i,a);return o===0?Lt(t,s):o}class cI{constructor(t){this.Ir=t,this.buffer=new ke(sE),this.Er=0}dr(){return++this.Er}Ar(t){const a=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(a);else{const s=this.buffer.last();sE(a,s)<0&&(this.buffer=this.buffer.delete(s).add(a))}}get maxValue(){return this.buffer.last()[0]}}class hI{constructor(t,a,s){this.garbageCollector=t,this.asyncQueue=a,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ut(aE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(a){rl(a)?ut(aE,"Ignoring IndexedDB error during garbage collection: ",a):await sl(a)}await this.Vr(3e5)}))}}class fI{constructor(t,a){this.mr=t,this.params=a}calculateTargetCount(t,a){return this.mr.gr(t).next((s=>Math.floor(a/100*s)))}nthSequenceNumber(t,a){if(a===0)return nt.resolve(ph.ce);const s=new cI(a);return this.mr.forEachTarget(t,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(t,a,s){return this.mr.removeTargets(t,a,s)}removeOrphanedDocuments(t,a){return this.mr.removeOrphanedDocuments(t,a)}collect(t,a){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(iE)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iE):this.yr(t,a)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,a){let s,o,u,f,m,y,g;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(t,o)))).next((b=>(s=b,m=Date.now(),this.removeTargets(t,s,a)))).next((b=>(u=b,y=Date.now(),this.removeOrphanedDocuments(t,s)))).next((b=>(g=Date.now(),Br()<=Bt.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(y-m)+`ms
	Removed ${b} documents in `+(g-y)+`ms
Total Duration: ${g-T}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function dI(i,t){return new fI(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(){this.changes=new Js((t=>t.toString()),((t,a)=>t.isEqual(a))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,a){this.assertNotApplied(),this.changes.set(t,sn.newInvalidDocument(t).setReadTime(a))}getEntry(t,a){this.assertNotApplied();const s=this.changes.get(a);return s!==void 0?nt.resolve(s):this.getFromCache(t,a)}getEntries(t,a){return this.getAllFromCache(t,a)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(t,a){this.overlayedDocument=t,this.mutatedFields=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(t,a,s,o){this.remoteDocumentCache=t,this.mutationQueue=a,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,a){let s=null;return this.documentOverlayCache.getOverlay(t,a).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,a)))).next((o=>(s!==null&&So(s.mutation,o,On.empty(),ue.now()),o)))}getDocuments(t,a){return this.remoteDocumentCache.getEntries(t,a).next((s=>this.getLocalViewOfDocuments(t,s,Pt()).next((()=>s))))}getLocalViewOfDocuments(t,a,s=Pt()){const o=qs();return this.populateOverlays(t,o,a).next((()=>this.computeViews(t,a,o,s).next((u=>{let f=go();return u.forEach(((m,y)=>{f=f.insert(m,y.overlayedDocument)})),f}))))}getOverlayedDocuments(t,a){const s=qs();return this.populateOverlays(t,s,a).next((()=>this.computeViews(t,a,s,Pt())))}populateOverlays(t,a,s){const o=[];return s.forEach((u=>{a.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,m)=>{a.set(f,m)}))}))}computeViews(t,a,s,o){let u=ha();const f=Ao(),m=(function(){return Ao()})();return a.forEach(((y,g)=>{const T=s.get(g.key);o.has(g.key)&&(T===void 0||T.mutation instanceof us)?u=u.insert(g.key,g):T!==void 0?(f.set(g.key,T.mutation.getFieldMask()),So(T.mutation,g,T.mutation.getFieldMask(),ue.now())):f.set(g.key,On.empty())})),this.recalculateAndSaveOverlays(t,u).next((y=>(y.forEach(((g,T)=>f.set(g,T))),a.forEach(((g,T)=>m.set(g,new pI(T,f.get(g)??null)))),m)))}recalculateAndSaveOverlays(t,a){const s=Ao();let o=new ge(((f,m)=>f-m)),u=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,a).next((f=>{for(const m of f)m.keys().forEach((y=>{const g=a.get(y);if(g===null)return;let T=s.get(y)||On.empty();T=m.applyToLocalView(g,T),s.set(y,T);const b=(o.get(m.batchId)||Pt()).add(y);o=o.insert(m.batchId,b)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),g=y.key,T=y.value,b=Q1();T.forEach((S=>{if(!u.has(S)){const w=tT(a.get(S),s.get(S));w!==null&&b.set(S,w),u=u.add(S)}})),f.push(this.documentOverlayCache.saveOverlays(t,g,b))}return nt.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,a){return this.remoteDocumentCache.getEntries(t,a).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,a,s,o){return(function(f){return yt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(a)?this.getDocumentsMatchingDocumentQuery(t,a.path):_R(a)?this.getDocumentsMatchingCollectionGroupQuery(t,a,s,o):this.getDocumentsMatchingCollectionQuery(t,a,s,o)}getNextDocuments(t,a,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,a,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,a,s.largestBatchId,o-u.size):nt.resolve(qs());let m=Co,y=u;return f.next((g=>nt.forEach(g,((T,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(T)?nt.resolve():this.remoteDocumentCache.getEntry(t,T).next((S=>{y=y.insert(T,S)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,y,g,Pt()))).next((T=>({batchId:m,changes:K1(T)})))))}))}getDocumentsMatchingDocumentQuery(t,a){return this.getDocument(t,new yt(a)).next((s=>{let o=go();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,a,s,o){const u=a.collectionGroup;let f=go();return this.indexManager.getCollectionParents(t,u).next((m=>nt.forEach(m,(y=>{const g=(function(b,S){return new _h(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(a,y.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next((T=>{T.forEach(((b,S)=>{f=f.insert(b,S)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,a,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,a.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,a,s,u,o)))).next((f=>{u.forEach(((y,g)=>{const T=g.getKey();f.get(T)===null&&(f=f.insert(T,sn.newInvalidDocument(T)))}));let m=go();return f.forEach(((y,g)=>{const T=u.get(y);T!==void 0&&So(T.mutation,g,On.empty(),ue.now()),Th(a,g)&&(m=m.insert(y,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,a){return nt.resolve(this.Lr.get(a))}saveBundleMetadata(t,a){return this.Lr.set(a.id,(function(o){return{id:o.id,version:o.version,createTime:Vi(o.createTime)}})(a)),nt.resolve()}getNamedQuery(t,a){return nt.resolve(this.kr.get(a))}saveNamedQuery(t,a){return this.kr.set(a.name,(function(o){return{name:o.name,query:rI(o.bundledQuery),readTime:Vi(o.readTime)}})(a)),nt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(){this.overlays=new ge(yt.comparator),this.qr=new Map}getOverlay(t,a){return nt.resolve(this.overlays.get(a))}getOverlays(t,a){const s=qs();return nt.forEach(a,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,a,s){return s.forEach(((o,u)=>{this.St(t,a,u)})),nt.resolve()}removeOverlaysForBatchId(t,a,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),nt.resolve()}getOverlaysForCollection(t,a,s){const o=qs(),u=a.length+1,f=new yt(a.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const y=m.getNext().value,g=y.getKey();if(!a.isPrefixOf(g.path))break;g.path.length===u&&y.largestBatchId>s&&o.set(y.getKey(),y)}return nt.resolve(o)}getOverlaysForCollectionGroup(t,a,s,o){let u=new ge(((g,T)=>g-T));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===a&&g.largestBatchId>s){let T=u.get(g.largestBatchId);T===null&&(T=qs(),u=u.insert(g.largestBatchId,T)),T.set(g.getKey(),g)}}const m=qs(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((g,T)=>m.set(g,T))),!(m.size()>=o)););return nt.resolve(m)}St(t,a,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new UR(a,s));let u=this.qr.get(a);u===void 0&&(u=Pt(),this.qr.set(a,u)),this.qr.set(a,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(){this.sessionToken=Ze.EMPTY_BYTE_STRING}getSessionToken(t){return nt.resolve(this.sessionToken)}setSessionToken(t,a){return this.sessionToken=a,nt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(){this.Qr=new ke(Ge.$r),this.Ur=new ke(Ge.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,a){const s=new Ge(t,a);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,a){t.forEach((s=>this.addReference(s,a)))}removeReference(t,a){this.Gr(new Ge(t,a))}zr(t,a){t.forEach((s=>this.removeReference(s,a)))}jr(t){const a=new yt(new oe([])),s=new Ge(a,t),o=new Ge(a,t+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const a=new yt(new oe([])),s=new Ge(a,t),o=new Ge(a,t+1);let u=Pt();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const a=new Ge(t,0),s=this.Qr.firstAfterOrEqual(a);return s!==null&&t.isEqual(s.key)}}class Ge{constructor(t,a){this.key=t,this.Yr=a}static $r(t,a){return yt.comparator(t.key,a.key)||Lt(t.Yr,a.Yr)}static Kr(t,a){return Lt(t.Yr,a.Yr)||yt.comparator(t.key,a.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(t,a){this.indexManager=t,this.referenceDelegate=a,this.mutationQueue=[],this.tr=1,this.Zr=new ke(Ge.$r)}checkEmpty(t){return nt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,a,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new jR(u,a,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Ge(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return nt.resolve(f)}lookupMutationBatch(t,a){return nt.resolve(this.Xr(a))}getNextMutationBatchAfterBatchId(t,a){const s=a+1,o=this.ei(s),u=o<0?0:o;return nt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(this.mutationQueue.length===0?$m:this.tr-1)}getAllMutationBatches(t){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,a){const s=new Ge(a,0),o=new Ge(a,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),nt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,a){let s=new ke(Lt);return a.forEach((o=>{const u=new Ge(o,0),f=new Ge(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),nt.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,a){const s=a.path,o=s.length+1;let u=s;yt.isDocumentKey(u)||(u=u.child(""));const f=new Ge(new yt(u),0);let m=new ke(Lt);return this.Zr.forEachWhile((y=>{const g=y.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(y.Yr)),!0)}),f),nt.resolve(this.ti(m))}ti(t){const a=[];return t.forEach((s=>{const o=this.Xr(s);o!==null&&a.push(o)})),a}removeMutationBatch(t,a){Qt(this.ni(a.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return nt.forEach(a.mutations,(o=>{const u=new Ge(o.key,a.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,a){const s=new Ge(a,0),o=this.Zr.firstAfterOrEqual(s);return nt.resolve(a.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,nt.resolve()}ni(t,a){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const a=this.ei(t);return a<0||a>=this.mutationQueue.length?null:this.mutationQueue[a]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(t){this.ri=t,this.docs=(function(){return new ge(yt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,a){const s=a.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(a);return this.docs=this.docs.insert(s,{document:a.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const a=this.docs.get(t);a&&(this.docs=this.docs.remove(t),this.size-=a.size)}getEntry(t,a){const s=this.docs.get(a);return nt.resolve(s?s.document.mutableCopy():sn.newInvalidDocument(a))}getEntries(t,a){let s=ha();return a.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():sn.newInvalidDocument(o))})),nt.resolve(s)}getDocumentsMatchingQuery(t,a,s,o){let u=ha();const f=a.path,m=new yt(f.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:g,value:{document:T}}=y.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||$N(QN(T),s)<=0||(o.has(T.key)||Th(a,T))&&(u=u.insert(T.key,T.mutableCopy()))}return nt.resolve(u)}getAllFromCollectionGroup(t,a,s,o){Tt(9500)}ii(t,a){return nt.forEach(this.docs,(s=>a(s)))}newChangeBuffer(t){return new bI(this)}getSize(t){return nt.resolve(this.size)}}class bI extends mI{constructor(t){super(),this.Nr=t}applyChanges(t){const a=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?a.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)})),nt.waitFor(a)}getFromCache(t,a){return this.Nr.getEntry(t,a)}getAllFromCache(t,a){return this.Nr.getEntries(t,a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(t){this.persistence=t,this.si=new Js((a=>Zm(a)),Wm),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new ap,this.targetCount=0,this.ai=tl.ur()}forEachTarget(t,a){return this.si.forEach(((s,o)=>a(o))),nt.resolve()}getLastRemoteSnapshotVersion(t){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return nt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(t,a,s){return s&&(this.lastRemoteSnapshotVersion=s),a>this.oi&&(this.oi=a),nt.resolve()}Pr(t){this.si.set(t.target,t);const a=t.targetId;a>this.highestTargetId&&(this.ai=new tl(a),this.highestTargetId=a),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,a){return this.Pr(a),this.targetCount+=1,nt.resolve()}updateTargetData(t,a){return this.Pr(a),nt.resolve()}removeTargetData(t,a){return this.si.delete(a.target),this._i.jr(a.targetId),this.targetCount-=1,nt.resolve()}removeTargets(t,a,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=a&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),nt.waitFor(u).next((()=>o))}getTargetCount(t){return nt.resolve(this.targetCount)}getTargetData(t,a){const s=this.si.get(a)||null;return nt.resolve(s)}addMatchingKeys(t,a,s){return this._i.Wr(a,s),nt.resolve()}removeMatchingKeys(t,a,s){this._i.zr(a,s);const o=this.persistence.referenceDelegate,u=[];return o&&a.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),nt.waitFor(u)}removeMatchingKeysForTargetId(t,a){return this._i.jr(a),nt.resolve()}getMatchingKeysForTargetId(t,a){const s=this._i.Hr(a);return nt.resolve(s)}containsKey(t,a){return nt.resolve(this._i.containsKey(a))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(t,a){this.ui={},this.overlays={},this.ci=new ph(0),this.li=!1,this.li=!0,this.hi=new EI,this.referenceDelegate=t(this),this.Pi=new AI(this),this.indexManager=new lI,this.remoteDocumentCache=(function(o){return new TI(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new sI(a),this.Ii=new yI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let a=this.overlays[t.toKey()];return a||(a=new _I,this.overlays[t.toKey()]=a),a}getMutationQueue(t,a){let s=this.ui[t.toKey()];return s||(s=new vI(a,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,a,s){ut("MemoryPersistence","Starting transaction:",t);const o=new SI(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,a){return nt.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,a))))}}class SI extends JN{constructor(t){super(),this.currentSequenceNumber=t}}class sp{constructor(t){this.persistence=t,this.Ri=new ap,this.Vi=null}static mi(t){return new sp(t)}get fi(){if(this.Vi)return this.Vi;throw Tt(60996)}addReference(t,a,s){return this.Ri.addReference(s,a),this.fi.delete(s.toString()),nt.resolve()}removeReference(t,a,s){return this.Ri.removeReference(s,a),this.fi.add(s.toString()),nt.resolve()}markPotentiallyOrphaned(t,a){return this.fi.add(a.toString()),nt.resolve()}removeTarget(t,a){this.Ri.jr(a.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,a.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(t,a)))}Ei(){this.Vi=new Set}di(t){const a=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.fi,(s=>{const o=yt.fromPath(s);return this.gi(t,o).next((u=>{u||a.removeEntry(o,At.min())}))})).next((()=>(this.Vi=null,a.apply(t))))}updateLimboDocument(t,a){return this.gi(t,a).next((s=>{s?this.fi.delete(a.toString()):this.fi.add(a.toString())}))}Ti(t){return 0}gi(t,a){return nt.or([()=>nt.resolve(this.Ri.containsKey(a)),()=>this.persistence.getTargetCache().containsKey(t,a),()=>this.persistence.Ai(t,a)])}}class rh{constructor(t,a){this.persistence=t,this.pi=new Js((s=>tR(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=dI(this,a)}static mi(t,a){return new rh(t,a)}Ei(){}di(t){return nt.resolve()}forEachTarget(t,a){return this.persistence.getTargetCache().forEachTarget(t,a)}gr(t){const a=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>a.next((o=>s+o))))}wr(t){let a=0;return this.pr(t,(s=>{a++})).next((()=>a))}pr(t,a){return nt.forEach(this.pi,((s,o)=>this.br(t,s,o).next((u=>u?nt.resolve():a(o)))))}removeTargets(t,a,s){return this.persistence.getTargetCache().removeTargets(t,a,s)}removeOrphanedDocuments(t,a){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(f=>this.br(t,f,a).next((m=>{m||(s++,u.removeEntry(f,At.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,a){return this.pi.set(a,t.currentSequenceNumber),nt.resolve()}removeTarget(t,a){const s=a.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,a,s){return this.pi.set(s,t.currentSequenceNumber),nt.resolve()}removeReference(t,a,s){return this.pi.set(s,t.currentSequenceNumber),nt.resolve()}updateLimboDocument(t,a){return this.pi.set(a,t.currentSequenceNumber),nt.resolve()}Ti(t){let a=t.key.toString().length;return t.isFoundDocument()&&(a+=kc(t.data.value)),a}br(t,a,s){return nt.or([()=>this.persistence.Ai(t,a),()=>this.persistence.getTargetCache().containsKey(t,a),()=>{const o=this.pi.get(a);return nt.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(t,a,s,o){this.targetId=t,this.fromCache=a,this.Es=s,this.ds=o}static As(t,a){let s=Pt(),o=Pt();for(const u of a.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new rp(t,a.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return _w()?8:ZN(gw())>0?6:4})()}initialize(t,a){this.ps=t,this.indexManager=a,this.Rs=!0}getDocumentsMatchingQuery(t,a,s,o){const u={result:null};return this.ys(t,a).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(t,a,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new xI;return this.Ss(t,a,f).next((m=>{if(u.result=m,this.Vs)return this.bs(t,a,f,m.size)}))})).next((()=>u.result))}bs(t,a,s,o){return s.documentReadCount<this.fs?(Br()<=Bt.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",Hr(a),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),nt.resolve()):(Br()<=Bt.DEBUG&&ut("QueryEngine","Query:",Hr(a),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Br()<=Bt.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",Hr(a),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Mi(a))):nt.resolve())}ys(t,a){if(K_(a))return nt.resolve(null);let s=Mi(a);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(a.limit!==null&&o===1&&(a=vm(a,null,"F"),s=Mi(a)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const f=Pt(...u);return this.ps.getDocuments(t,f).next((m=>this.indexManager.getMinOffset(t,s).next((y=>{const g=this.Ds(a,m);return this.Cs(a,g,f,y.readTime)?this.ys(t,vm(a,null,"F")):this.vs(t,g,a,y)}))))})))))}ws(t,a,s,o){return K_(a)||o.isEqual(At.min())?nt.resolve(null):this.ps.getDocuments(t,s).next((u=>{const f=this.Ds(a,u);return this.Cs(a,f,s,o)?nt.resolve(null):(Br()<=Bt.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Hr(a)),this.vs(t,f,a,KN(o,Co)).next((m=>m)))}))}Ds(t,a){let s=new ke(F1(t));return a.forEach(((o,u)=>{Th(t,u)&&(s=s.add(u))})),s}Cs(t,a,s,o){if(t.limit===null)return!1;if(s.size!==a.size)return!0;const u=t.limitType==="F"?a.last():a.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,a,s){return Br()<=Bt.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",Hr(a)),this.ps.getDocumentsMatchingQuery(t,a,es.min(),s)}vs(t,a,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next((u=>(a.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp="LocalStore",NI=3e8;class RI{constructor(t,a,s,o){this.persistence=t,this.Fs=a,this.serializer=o,this.Ms=new ge(Lt),this.xs=new Js((u=>Zm(u)),Wm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new gI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(a=>t.collect(a,this.Ms)))}}function II(i,t,a,s){return new RI(i,t,a,s)}async function mT(i,t){const a=wt(i);return await a.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return a.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,a.Bs(t),a.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let y=Pt();for(const g of o){f.push(g.batchId);for(const T of g.mutations)y=y.add(T.key)}for(const g of u){m.push(g.batchId);for(const T of g.mutations)y=y.add(T.key)}return a.localDocuments.getDocuments(s,y).next((g=>({Ls:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function CI(i,t){const a=wt(i);return a.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=a.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,y,g,T){const b=g.batch,S=b.keys();let w=nt.resolve();return S.forEach((k=>{w=w.next((()=>T.getEntry(y,k))).next((q=>{const V=g.docVersions.get(k);Qt(V!==null,48541),q.version.compareTo(V)<0&&(b.applyToRemoteDocument(q,g),q.isValidDocument()&&(q.setReadTime(g.commitVersion),T.addEntry(q)))}))})),w.next((()=>m.mutationQueue.removeMutationBatch(y,b)))})(a,s,t,u).next((()=>u.apply(s))).next((()=>a.mutationQueue.performConsistencyCheck(s))).next((()=>a.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let y=Pt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(y=y.add(m.batch.mutations[g].key));return y})(t)))).next((()=>a.localDocuments.getDocuments(s,o)))}))}function pT(i){const t=wt(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(a=>t.Pi.getLastRemoteSnapshotVersion(a)))}function DI(i,t){const a=wt(i),s=t.snapshotVersion;let o=a.Ms;return a.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=a.Ns.newChangeBuffer({trackRemovals:!0});o=a.Ms;const m=[];t.targetChanges.forEach(((T,b)=>{const S=o.get(b);if(!S)return;m.push(a.Pi.removeMatchingKeys(u,T.removedDocuments,b).next((()=>a.Pi.addMatchingKeys(u,T.addedDocuments,b))));let w=S.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(b)!==null?w=w.withResumeToken(Ze.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):T.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(T.resumeToken,s)),o=o.insert(b,w),(function(q,V,et){return q.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=NI?!0:et.addedDocuments.size+et.modifiedDocuments.size+et.removedDocuments.size>0})(S,w,T)&&m.push(a.Pi.updateTargetData(u,w))}));let y=ha(),g=Pt();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&m.push(a.persistence.referenceDelegate.updateLimboDocument(u,T))})),m.push(OI(u,f,t.documentUpdates).next((T=>{y=T.ks,g=T.qs}))),!s.isEqual(At.min())){const T=a.Pi.getLastRemoteSnapshotVersion(u).next((b=>a.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(T)}return nt.waitFor(m).next((()=>f.apply(u))).next((()=>a.localDocuments.getLocalViewOfDocuments(u,y,g))).next((()=>y))})).then((u=>(a.Ms=o,u)))}function OI(i,t,a){let s=Pt(),o=Pt();return a.forEach((u=>s=s.add(u))),t.getEntries(i,s).next((u=>{let f=ha();return a.forEach(((m,y)=>{const g=u.get(m);y.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),y.isNoDocument()&&y.version.isEqual(At.min())?(t.removeEntry(m,y.readTime),f=f.insert(m,y)):!g.isValidDocument()||y.version.compareTo(g.version)>0||y.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(y),f=f.insert(m,y)):ut(lp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",y.version)})),{ks:f,qs:o}}))}function MI(i,t){const a=wt(i);return a.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=$m),a.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function VI(i,t){const a=wt(i);return a.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return a.Pi.getTargetData(s,t).next((u=>u?(o=u,nt.resolve(o)):a.Pi.allocateTargetId(s).next((f=>(o=new Xa(t,f,"TargetPurposeListen",s.currentSequenceNumber),a.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=a.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(a.Ms=a.Ms.insert(s.targetId,s),a.xs.set(t,s.targetId)),s}))}async function xm(i,t,a){const s=wt(i),o=s.Ms.get(t),u=a?"readwrite":"readwrite-primary";try{a||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!rl(f))throw f;ut(lp,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function rE(i,t,a){const s=wt(i);let o=At.min(),u=Pt();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(y,g,T){const b=wt(y),S=b.xs.get(T);return S!==void 0?nt.resolve(b.Ms.get(S)):b.Pi.getTargetData(g,T)})(s,f,Mi(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((y=>{u=y}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,t,a?o:At.min(),a?u:Pt()))).next((m=>(jI(s,vR(t),m),{documents:m,Qs:u})))))}function jI(i,t,a){let s=i.Os.get(t)||At.min();a.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Os.set(t,s)}class lE{constructor(){this.activeTargetIds=wR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class UI{constructor(){this.Mo=new lE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,a,s){}addLocalQueryTarget(t,a=!0){return a&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,a,s){this.xo[t]=a}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new lE,Promise.resolve()}handleUserChange(t,a,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="ConnectivityMonitor";class uE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ut(oE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ut(oE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ic=null;function wm(){return Ic===null?Ic=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ic++,"0x"+Ic.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd="RestConnection",PI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kI{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const a=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=a+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Wc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,a,s,o,u){const f=wm(),m=this.zo(t,a.toUriEncodedString());ut(Xd,`Sending RPC '${t}' ${f}:`,m,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,u);const{host:g}=new URL(m),T=qm(g);return this.Jo(t,m,y,s,T).then((b=>(ut(Xd,`Received RPC '${t}' ${f}: `,b),b)),(b=>{throw Xr(Xd,`RPC '${t}' ${f} failed with error: `,b,"url: ",m,"request:",s),b}))}Ho(t,a,s,o,u,f){return this.Go(t,a,s,o,u)}jo(t,a,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+al})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}zo(t,a){const s=PI[t];return`${this.Uo}/v1/${a}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nn="WebChannelConnection";class BI extends kI{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,a,s,o,u){const f=wm();return new Promise(((m,y)=>{const g=new E1;g.setWithCredentials(!0),g.listenOnce(v1.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Pc.NO_ERROR:const b=g.getResponseJson();ut(nn,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(b)),m(b);break;case Pc.TIMEOUT:ut(nn,`RPC '${t}' ${f} timed out`),y(new ht(it.DEADLINE_EXCEEDED,"Request time out"));break;case Pc.HTTP_ERROR:const S=g.getStatus();if(ut(nn,`RPC '${t}' ${f} failed with status:`,S,"response text:",g.getResponseText()),S>0){let w=g.getResponseJson();Array.isArray(w)&&(w=w[0]);const k=w==null?void 0:w.error;if(k&&k.status&&k.message){const q=(function(et){const at=et.toLowerCase().replace(/_/g,"-");return Object.values(it).indexOf(at)>=0?at:it.UNKNOWN})(k.status);y(new ht(q,k.message))}else y(new ht(it.UNKNOWN,"Server responded with status "+g.getStatus()))}else y(new ht(it.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{l_:t,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ut(nn,`RPC '${t}' ${f} completed.`)}}));const T=JSON.stringify(o);ut(nn,`RPC '${t}' ${f} sending request:`,o),g.send(a,"POST",T,s,15)}))}T_(t,a,s){const o=wm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=A1(),m=b1(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(y.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,a,s),y.encodeInitMessageHeaders=!0;const T=u.join("");ut(nn,`Creating RPC '${t}' stream ${o}: ${T}`,y);const b=f.createWebChannel(T,y);this.I_(b);let S=!1,w=!1;const k=new zI({Yo:V=>{w?ut(nn,`Not sending because RPC '${t}' stream ${o} is closed:`,V):(S||(ut(nn,`Opening RPC '${t}' stream ${o} transport.`),b.open(),S=!0),ut(nn,`RPC '${t}' stream ${o} sending:`,V),b.send(V))},Zo:()=>b.close()}),q=(V,et,at)=>{V.listen(et,(Q=>{try{at(Q)}catch(dt){setTimeout((()=>{throw dt}),0)}}))};return q(b,po.EventType.OPEN,(()=>{w||(ut(nn,`RPC '${t}' stream ${o} transport opened.`),k.o_())})),q(b,po.EventType.CLOSE,(()=>{w||(w=!0,ut(nn,`RPC '${t}' stream ${o} transport closed`),k.a_(),this.E_(b))})),q(b,po.EventType.ERROR,(V=>{w||(w=!0,Xr(nn,`RPC '${t}' stream ${o} transport errored. Name:`,V.name,"Message:",V.message),k.a_(new ht(it.UNAVAILABLE,"The operation could not be completed")))})),q(b,po.EventType.MESSAGE,(V=>{var et;if(!w){const at=V.data[0];Qt(!!at,16349);const Q=at,dt=(Q==null?void 0:Q.error)||((et=Q[0])==null?void 0:et.error);if(dt){ut(nn,`RPC '${t}' stream ${o} received error:`,dt);const mt=dt.status;let _t=(function(R){const U=je[R];if(U!==void 0)return nT(U)})(mt),I=dt.message;_t===void 0&&(_t=it.INTERNAL,I="Unknown error status: "+mt+" with message "+dt.message),w=!0,k.a_(new ht(_t,I)),b.close()}else ut(nn,`RPC '${t}' stream ${o} received:`,at),k.u_(at)}})),q(m,T1.STAT_EVENT,(V=>{V.stat===mm.PROXY?ut(nn,`RPC '${t}' stream ${o} detected buffering proxy`):V.stat===mm.NOPROXY&&ut(nn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{k.__()}),0),k}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((a=>a===t))}}function Jd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(i){return new FR(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(t,a,s=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=a,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const a=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,a-s);o>0&&ut("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${a} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="PersistentStream";class yT{constructor(t,a,s,o,u,f,m,y){this.Mi=t,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new gT(t,a)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,a){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():a&&a.code===it.RESOURCE_EXHAUSTED?(ca(a.toString()),ca("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):a&&a.code===it.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(a)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),a=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===a&&this.G_(s,o)}),(s=>{t((()=>{const o=new ht(it.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,a){const s=this.W_(this.D_);this.stream=this.j_(t,a),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ut(cE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return a=>{this.Mi.enqueueAndForget((()=>this.D_===t?a():(ut(cE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class HI extends yT{constructor(t,a,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",a,s,o,f),this.serializer=u}j_(t,a){return this.connection.T_("Listen",t,a)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const a=QR(this.serializer,t),s=(function(u){if(!("targetChange"in u))return At.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?At.min():f.readTime?Vi(f.readTime):At.min()})(t);return this.listener.H_(a,s)}Y_(t){const a={};a.database=Sm(this.serializer),a.addTarget=(function(u,f){let m;const y=f.target;if(m=Em(y)?{documents:JR(u,y)}:{query:ZR(u,y).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=sT(u,f.resumeToken);const g=Tm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(At.min())>0){m.readTime=sh(u,f.snapshotVersion.toTimestamp());const g=Tm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,t);const s=tI(this.serializer,t);s&&(a.labels=s),this.q_(a)}Z_(t){const a={};a.database=Sm(this.serializer),a.removeTarget=t,this.q_(a)}}class GI extends yT{constructor(t,a,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",a,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,a){return this.connection.T_("Write",t,a)}J_(t){return Qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const a=XR(t.writeResults,t.commitTime),s=Vi(t.commitTime);return this.listener.na(s,a)}ra(){const t={};t.database=Sm(this.serializer),this.q_(t)}ea(t){const a={streamToken:this.lastStreamToken,writes:t.map((s=>$R(this.serializer,s)))};this.q_(a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{}class FI extends qI{constructor(t,a,s,o){super(),this.authCredentials=t,this.appCheckCredentials=a,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ht(it.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,a,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(t,bm(a,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ht(it.UNKNOWN,u.toString())}))}Ho(t,a,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(t,bm(a,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ht(it.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class YI{constructor(t,a){this.asyncQueue=t,this.onlineStateHandler=a,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const a=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ca(a),this.aa=!1):ut("OnlineStateTracker",a)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s="RemoteStore";class KI{constructor(t,a,s,o,u){this.localStore=t,this.datastore=a,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{Zs(this)&&(ut($s,"Restarting streams for network reachability change."),await(async function(y){const g=wt(y);g.Ea.add(4),await Go(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Nh(g)})(this))}))})),this.Ra=new YI(s,o)}}async function Nh(i){if(Zs(i))for(const t of i.da)await t(!0)}async function Go(i){for(const t of i.da)await t(!1)}function _T(i,t){const a=wt(i);a.Ia.has(t.targetId)||(a.Ia.set(t.targetId,t),hp(a)?cp(a):ll(a).O_()&&up(a,t))}function op(i,t){const a=wt(i),s=ll(a);a.Ia.delete(t),s.O_()&&ET(a,t),a.Ia.size===0&&(s.O_()?s.L_():Zs(a)&&a.Ra.set("Unknown"))}function up(i,t){if(i.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const a=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(a)}ll(i).Y_(t)}function ET(i,t){i.Va.Ue(t),ll(i).Z_(t)}function cp(i){i.Va=new BR({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),At:t=>i.Ia.get(t)||null,ht:()=>i.datastore.serializer.databaseId}),ll(i).start(),i.Ra.ua()}function hp(i){return Zs(i)&&!ll(i).x_()&&i.Ia.size>0}function Zs(i){return wt(i).Ea.size===0}function vT(i){i.Va=void 0}async function QI(i){i.Ra.set("Online")}async function $I(i){i.Ia.forEach(((t,a)=>{up(i,t)}))}async function XI(i,t){vT(i),hp(i)?(i.Ra.ha(t),cp(i)):i.Ra.set("Unknown")}async function JI(i,t,a){if(i.Ra.set("Online"),t instanceof aT&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(i,t)}catch(s){ut($s,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await lh(i,s)}else if(t instanceof Hc?i.Va.Ze(t):t instanceof iT?i.Va.st(t):i.Va.tt(t),!a.isEqual(At.min()))try{const s=await pT(i.localStore);a.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((y,g)=>{if(y.resumeToken.approximateByteSize()>0){const T=u.Ia.get(g);T&&u.Ia.set(g,T.withResumeToken(y.resumeToken,f))}})),m.targetMismatches.forEach(((y,g)=>{const T=u.Ia.get(y);if(!T)return;u.Ia.set(y,T.withResumeToken(Ze.EMPTY_BYTE_STRING,T.snapshotVersion)),ET(u,y);const b=new Xa(T.target,y,g,T.sequenceNumber);up(u,b)})),u.remoteSyncer.applyRemoteEvent(m)})(i,a)}catch(s){ut($s,"Failed to raise snapshot:",s),await lh(i,s)}}async function lh(i,t,a){if(!rl(t))throw t;i.Ea.add(1),await Go(i),i.Ra.set("Offline"),a||(a=()=>pT(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ut($s,"Retrying IndexedDB access"),await a(),i.Ea.delete(1),await Nh(i)}))}function TT(i,t){return t().catch((a=>lh(i,a,t)))}async function Rh(i){const t=wt(i),a=ss(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:$m;for(;ZI(t);)try{const o=await MI(t.localStore,s);if(o===null){t.Ta.length===0&&a.L_();break}s=o.batchId,WI(t,o)}catch(o){await lh(t,o)}bT(t)&&AT(t)}function ZI(i){return Zs(i)&&i.Ta.length<10}function WI(i,t){i.Ta.push(t);const a=ss(i);a.O_()&&a.X_&&a.ea(t.mutations)}function bT(i){return Zs(i)&&!ss(i).x_()&&i.Ta.length>0}function AT(i){ss(i).start()}async function tC(i){ss(i).ra()}async function eC(i){const t=ss(i);for(const a of i.Ta)t.ea(a.mutations)}async function nC(i,t,a){const s=i.Ta.shift(),o=ep.from(s,t,a);await TT(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Rh(i)}async function iC(i,t){t&&ss(i).X_&&await(async function(s,o){if((function(f){return PR(f)&&f!==it.ABORTED})(o.code)){const u=s.Ta.shift();ss(s).B_(),await TT(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Rh(s)}})(i,t),bT(i)&&AT(i)}async function hE(i,t){const a=wt(i);a.asyncQueue.verifyOperationInProgress(),ut($s,"RemoteStore received new credentials");const s=Zs(a);a.Ea.add(3),await Go(a),s&&a.Ra.set("Unknown"),await a.remoteSyncer.handleCredentialChange(t),a.Ea.delete(3),await Nh(a)}async function aC(i,t){const a=wt(i);t?(a.Ea.delete(2),await Nh(a)):t||(a.Ea.add(2),await Go(a),a.Ra.set("Unknown"))}function ll(i){return i.ma||(i.ma=(function(a,s,o){const u=wt(a);return u.sa(),new HI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:QI.bind(null,i),t_:$I.bind(null,i),r_:XI.bind(null,i),H_:JI.bind(null,i)}),i.da.push((async t=>{t?(i.ma.B_(),hp(i)?cp(i):i.Ra.set("Unknown")):(await i.ma.stop(),vT(i))}))),i.ma}function ss(i){return i.fa||(i.fa=(function(a,s,o){const u=wt(a);return u.sa(),new GI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:tC.bind(null,i),r_:iC.bind(null,i),ta:eC.bind(null,i),na:nC.bind(null,i)}),i.da.push((async t=>{t?(i.fa.B_(),await Rh(i)):(await i.fa.stop(),i.Ta.length>0&&(ut($s,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(t,a,s,o,u){this.asyncQueue=t,this.timerId=a,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new la,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,a,s,o,u){const f=Date.now()+s,m=new fp(t,a,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht(it.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dp(i,t){if(ca("AsyncQueue",`${t}: ${i}`),rl(i))return new ht(it.UNAVAILABLE,`${t}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{static emptySet(t){return new Qr(t.comparator)}constructor(t){this.comparator=t?(a,s)=>t(a,s)||yt.comparator(a.key,s.key):(a,s)=>yt.comparator(a.key,s.key),this.keyedMap=go(),this.sortedSet=new ge(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const a=this.keyedMap.get(t);return a?this.sortedSet.indexOf(a):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((a,s)=>(t(a),!1)))}add(t){const a=this.delete(t.key);return a.copy(a.keyedMap.insert(t.key,t),a.sortedSet.insert(t,null))}delete(t){const a=this.get(t);return a?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(a)):this}isEqual(t){if(!(t instanceof Qr)||this.size!==t.size)return!1;const a=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;a.hasNext();){const o=a.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((a=>{t.push(a.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,a){const s=new Qr;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=a,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(){this.ga=new ge(yt.comparator)}track(t){const a=t.doc.key,s=this.ga.get(a);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(a,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(a,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(a,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(a,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(a):t.type===1&&s.type===2?this.ga=this.ga.insert(a,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(a,{type:2,doc:t.doc}):Tt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(a,t)}ya(){const t=[];return this.ga.inorderTraversal(((a,s)=>{t.push(s)})),t}}class el{constructor(t,a,s,o,u,f,m,y,g){this.query=t,this.docs=a,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=g}static fromInitialDocuments(t,a,s,o,u){const f=[];return a.forEach((m=>{f.push({type:0,doc:m})})),new el(t,a,Qr.emptySet(a),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&vh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const a=this.docChanges,s=t.docChanges;if(a.length!==s.length)return!1;for(let o=0;o<a.length;o++)if(a[o].type!==s[o].type||!a[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class rC{constructor(){this.queries=dE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(a,s){const o=wt(a),u=o.queries;o.queries=dE(),u.forEach(((f,m)=>{for(const y of m.Sa)y.onError(s)}))})(this,new ht(it.ABORTED,"Firestore shutting down"))}}function dE(){return new Js((i=>q1(i)),vh)}async function mp(i,t){const a=wt(i);let s=3;const o=t.query;let u=a.queries.get(o);u?!u.ba()&&t.Da()&&(s=2):(u=new sC,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await a.onListen(o,!0);break;case 1:u.wa=await a.onListen(o,!1);break;case 2:await a.onFirstRemoteStoreListen(o)}}catch(f){const m=dp(f,`Initialization of query '${Hr(t.query)}' failed`);return void t.onError(m)}a.queries.set(o,u),u.Sa.push(t),t.va(a.onlineState),u.wa&&t.Fa(u.wa)&&gp(a)}async function pp(i,t){const a=wt(i),s=t.query;let o=3;const u=a.queries.get(s);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return a.queries.delete(s),a.onUnlisten(s,!0);case 1:return a.queries.delete(s),a.onUnlisten(s,!1);case 2:return a.onLastRemoteStoreUnlisten(s);default:return}}function lC(i,t){const a=wt(i);let s=!1;for(const o of t){const u=o.query,f=a.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&gp(a)}function oC(i,t,a){const s=wt(i),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(a);s.queries.delete(t)}function gp(i){i.Ca.forEach((t=>{t.next()}))}var Nm,mE;(mE=Nm||(Nm={})).Ma="default",mE.Cache="cache";class yp{constructor(t,a,s){this.query=t,this.xa=a,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new el(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let a=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),a=!0):this.La(t,this.onlineState)&&(this.ka(t),a=!0),this.Na=t,a}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let a=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),a=!0),a}La(t,a){if(!t.fromCache||!this.Da())return!0;const s=a!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||a==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const a=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!a)&&this.options.includeMetadataChanges===!0}ka(t){t=el.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Nm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(t){this.key=t}}class xT{constructor(t){this.key=t}}class uC{constructor(t,a){this.query=t,this.Ya=a,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pt(),this.mutatedKeys=Pt(),this.eu=F1(t),this.tu=new Qr(this.eu)}get nu(){return this.Ya}ru(t,a){const s=a?a.iu:new fE,o=a?a.tu:this.tu;let u=a?a.mutatedKeys:this.mutatedKeys,f=o,m=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((T,b)=>{const S=o.get(T),w=Th(this.query,b)?b:null,k=!!S&&this.mutatedKeys.has(S.key),q=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let V=!1;S&&w?S.data.isEqual(w.data)?k!==q&&(s.track({type:3,doc:w}),V=!0):this.su(S,w)||(s.track({type:2,doc:w}),V=!0,(y&&this.eu(w,y)>0||g&&this.eu(w,g)<0)&&(m=!0)):!S&&w?(s.track({type:0,doc:w}),V=!0):S&&!w&&(s.track({type:1,doc:S}),V=!0,(y||g)&&(m=!0)),V&&(w?(f=f.add(w),u=q?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(t,a){return t.hasLocalMutations&&a.hasCommittedMutations&&!a.hasLocalMutations}applyChanges(t,a,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((T,b)=>(function(w,k){const q=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{Rt:V})}};return q(w)-q(k)})(T.type,b.type)||this.eu(T.doc,b.doc))),this.ou(s),o=o??!1;const m=a&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,g=y!==this.Za;return this.Za=y,f.length!==0||g?{snapshot:new el(this.query,t.tu,u,f,t.mutatedKeys,y===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new fE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((a=>this.Ya=this.Ya.add(a))),t.modifiedDocuments.forEach((a=>{})),t.removedDocuments.forEach((a=>this.Ya=this.Ya.delete(a))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Pt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const a=[];return t.forEach((s=>{this.Xa.has(s)||a.push(new xT(s))})),this.Xa.forEach((s=>{t.has(s)||a.push(new ST(s))})),a}cu(t){this.Ya=t.Qs,this.Xa=Pt();const a=this.ru(t.documents);return this.applyChanges(a,!0)}lu(){return el.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const _p="SyncEngine";class cC{constructor(t,a,s){this.query=t,this.targetId=a,this.view=s}}class hC{constructor(t){this.key=t,this.hu=!1}}class fC{constructor(t,a,s,o,u,f){this.localStore=t,this.remoteStore=a,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Js((m=>q1(m)),vh),this.Iu=new Map,this.Eu=new Set,this.du=new ge(yt.comparator),this.Au=new Map,this.Ru=new ap,this.Vu={},this.mu=new Map,this.fu=tl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function dC(i,t,a=!0){const s=DT(i);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await wT(s,t,a,!0),o}async function mC(i,t){const a=DT(i);await wT(a,t,!0,!1)}async function wT(i,t,a,s){const o=await VI(i.localStore,Mi(t)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,a);let m;return s&&(m=await pC(i,t,u,f==="current",o.resumeToken)),i.isPrimaryClient&&a&&_T(i.remoteStore,o),m}async function pC(i,t,a,s,o){i.pu=(b,S,w)=>(async function(q,V,et,at){let Q=V.view.ru(et);Q.Cs&&(Q=await rE(q.localStore,V.query,!1).then((({documents:I})=>V.view.ru(I,Q))));const dt=at&&at.targetChanges.get(V.targetId),mt=at&&at.targetMismatches.get(V.targetId)!=null,_t=V.view.applyChanges(Q,q.isPrimaryClient,dt,mt);return gE(q,V.targetId,_t.au),_t.snapshot})(i,b,S,w);const u=await rE(i.localStore,t,!0),f=new uC(t,u.Qs),m=f.ru(u.documents),y=Ho.createSynthesizedTargetChangeForCurrentChange(a,s&&i.onlineState!=="Offline",o),g=f.applyChanges(m,i.isPrimaryClient,y);gE(i,a,g.au);const T=new cC(t,a,f);return i.Tu.set(t,T),i.Iu.has(a)?i.Iu.get(a).push(t):i.Iu.set(a,[t]),g.snapshot}async function gC(i,t,a){const s=wt(i),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!vh(f,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await xm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),a&&op(s.remoteStore,o.targetId),Rm(s,o.targetId)})).catch(sl)):(Rm(s,o.targetId),await xm(s.localStore,o.targetId,!0))}async function yC(i,t){const a=wt(i),s=a.Tu.get(t),o=a.Iu.get(s.targetId);a.isPrimaryClient&&o.length===1&&(a.sharedClientState.removeLocalQueryTarget(s.targetId),op(a.remoteStore,s.targetId))}async function _C(i,t,a){const s=xC(i);try{const o=await(function(f,m){const y=wt(f),g=ue.now(),T=m.reduce(((w,k)=>w.add(k.key)),Pt());let b,S;return y.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let k=ha(),q=Pt();return y.Ns.getEntries(w,T).next((V=>{k=V,k.forEach(((et,at)=>{at.isValidDocument()||(q=q.add(et))}))})).next((()=>y.localDocuments.getOverlayedDocuments(w,k))).next((V=>{b=V;const et=[];for(const at of m){const Q=MR(at,b.get(at.key).overlayedDocument);Q!=null&&et.push(new us(at.key,Q,L1(Q.value.mapValue),Tn.exists(!0)))}return y.mutationQueue.addMutationBatch(w,g,et,m)})).next((V=>{S=V;const et=V.applyToLocalDocumentSet(b,q);return y.documentOverlayCache.saveOverlays(w,V.batchId,et)}))})).then((()=>({batchId:S.batchId,changes:K1(b)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,y){let g=f.Vu[f.currentUser.toKey()];g||(g=new ge(Lt)),g=g.insert(m,y),f.Vu[f.currentUser.toKey()]=g})(s,o.batchId,a),await qo(s,o.changes),await Rh(s.remoteStore)}catch(o){const u=dp(o,"Failed to persist write");a.reject(u)}}async function NT(i,t){const a=wt(i);try{const s=await DI(a.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=a.Au.get(u);f&&(Qt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Qt(f.hu,14607):o.removedDocuments.size>0&&(Qt(f.hu,42227),f.hu=!1))})),await qo(a,s,t)}catch(s){await sl(s)}}function pE(i,t,a){const s=wt(i);if(s.isPrimaryClient&&a===0||!s.isPrimaryClient&&a===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const y=wt(f);y.onlineState=m;let g=!1;y.queries.forEach(((T,b)=>{for(const S of b.Sa)S.va(m)&&(g=!0)})),g&&gp(y)})(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function EC(i,t,a){const s=wt(i);s.sharedClientState.updateQueryState(t,"rejected",a);const o=s.Au.get(t),u=o&&o.key;if(u){let f=new ge(yt.comparator);f=f.insert(u,sn.newNoDocument(u,At.min()));const m=Pt().add(u),y=new xh(At.min(),new Map,new ge(Lt),f,m);await NT(s,y),s.du=s.du.remove(u),s.Au.delete(t),Ep(s)}else await xm(s.localStore,t,!1).then((()=>Rm(s,t,a))).catch(sl)}async function vC(i,t){const a=wt(i),s=t.batch.batchId;try{const o=await CI(a.localStore,t);IT(a,s,null),RT(a,s),a.sharedClientState.updateMutationState(s,"acknowledged"),await qo(a,o)}catch(o){await sl(o)}}async function TC(i,t,a){const s=wt(i);try{const o=await(function(f,m){const y=wt(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let T;return y.mutationQueue.lookupMutationBatch(g,m).next((b=>(Qt(b!==null,37113),T=b.keys(),y.mutationQueue.removeMutationBatch(g,b)))).next((()=>y.mutationQueue.performConsistencyCheck(g))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(g,T,m))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,T))).next((()=>y.localDocuments.getDocuments(g,T)))}))})(s.localStore,t);IT(s,t,a),RT(s,t),s.sharedClientState.updateMutationState(t,"rejected",a),await qo(s,o)}catch(o){await sl(o)}}function RT(i,t){(i.mu.get(t)||[]).forEach((a=>{a.resolve()})),i.mu.delete(t)}function IT(i,t,a){const s=wt(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(a?u.reject(a):u.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function Rm(i,t,a=null){i.sharedClientState.removeLocalQueryTarget(t);for(const s of i.Iu.get(t))i.Tu.delete(s),a&&i.Pu.yu(s,a);i.Iu.delete(t),i.isPrimaryClient&&i.Ru.jr(t).forEach((s=>{i.Ru.containsKey(s)||CT(i,s)}))}function CT(i,t){i.Eu.delete(t.path.canonicalString());const a=i.du.get(t);a!==null&&(op(i.remoteStore,a),i.du=i.du.remove(t),i.Au.delete(a),Ep(i))}function gE(i,t,a){for(const s of a)s instanceof ST?(i.Ru.addReference(s.key,t),bC(i,s)):s instanceof xT?(ut(_p,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,t),i.Ru.containsKey(s.key)||CT(i,s.key)):Tt(19791,{wu:s})}function bC(i,t){const a=t.key,s=a.path.canonicalString();i.du.get(a)||i.Eu.has(s)||(ut(_p,"New document in limbo: "+a),i.Eu.add(s),Ep(i))}function Ep(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const t=i.Eu.values().next().value;i.Eu.delete(t);const a=new yt(oe.fromString(t)),s=i.fu.next();i.Au.set(s,new hC(a)),i.du=i.du.insert(a,s),_T(i.remoteStore,new Xa(Mi(Eh(a.path)),s,"TargetPurposeLimboResolution",ph.ce))}}async function qo(i,t,a){const s=wt(i),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,y)=>{f.push(s.pu(y,t,a).then((g=>{var T;if((g||a)&&s.isPrimaryClient){const b=g?!g.fromCache:(T=a==null?void 0:a.targetChanges.get(y.targetId))==null?void 0:T.current;s.sharedClientState.updateQueryState(y.targetId,b?"current":"not-current")}if(g){o.push(g);const b=rp.As(y.targetId,g);u.push(b)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(y,g){const T=wt(y);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>nt.forEach(g,(S=>nt.forEach(S.Es,(w=>T.persistence.referenceDelegate.addReference(b,S.targetId,w))).next((()=>nt.forEach(S.ds,(w=>T.persistence.referenceDelegate.removeReference(b,S.targetId,w)))))))))}catch(b){if(!rl(b))throw b;ut(lp,"Failed to update sequence numbers: "+b)}for(const b of g){const S=b.targetId;if(!b.fromCache){const w=T.Ms.get(S),k=w.snapshotVersion,q=w.withLastLimboFreeSnapshotVersion(k);T.Ms=T.Ms.insert(S,q)}}})(s.localStore,u))}async function AC(i,t){const a=wt(i);if(!a.currentUser.isEqual(t)){ut(_p,"User change. New user:",t.toKey());const s=await mT(a.localStore,t);a.currentUser=t,(function(u,f){u.mu.forEach((m=>{m.forEach((y=>{y.reject(new ht(it.CANCELLED,f))}))})),u.mu.clear()})(a,"'waitForPendingWrites' promise is rejected due to a user change."),a.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await qo(a,s.Ls)}}function SC(i,t){const a=wt(i),s=a.Au.get(t);if(s&&s.hu)return Pt().add(s.key);{let o=Pt();const u=a.Iu.get(t);if(!u)return o;for(const f of u){const m=a.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function DT(i){const t=wt(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=NT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=SC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=EC.bind(null,t),t.Pu.H_=lC.bind(null,t.eventManager),t.Pu.yu=oC.bind(null,t.eventManager),t}function xC(i){const t=wt(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=vC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=TC.bind(null,t),t}class oh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=wh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,a){return null}Mu(t,a){return null}vu(t){return II(this.persistence,new wI,t.initialUser,this.serializer)}Cu(t){return new dT(sp.mi,this.serializer)}Du(t){return new UI}async terminate(){var t,a;(t=this.gcScheduler)==null||t.stop(),(a=this.indexBackfillerScheduler)==null||a.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}oh.provider={build:()=>new oh};class wC extends oh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,a){Qt(this.persistence.referenceDelegate instanceof rh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new hI(s,t.asyncQueue,a)}Cu(t){const a=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new dT((s=>rh.mi(s,a)),this.serializer)}}class Im{async initialize(t,a){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(a),this.remoteStore=this.createRemoteStore(a),this.eventManager=this.createEventManager(a),this.syncEngine=this.createSyncEngine(a,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>pE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=AC.bind(null,this.syncEngine),await aC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new rC})()}createDatastore(t){const a=wh(t.databaseInfo.databaseId),s=(function(u){return new BI(u)})(t.databaseInfo);return(function(u,f,m,y){return new FI(u,f,m,y)})(t.authCredentials,t.appCheckCredentials,s,a)}createRemoteStore(t){return(function(s,o,u,f,m){return new KI(s,o,u,f,m)})(this.localStore,this.datastore,t.asyncQueue,(a=>pE(this.syncEngine,a,0)),(function(){return uE.v()?new uE:new LI})())}createSyncEngine(t,a){return(function(o,u,f,m,y,g,T){const b=new fC(o,u,f,m,y,g);return T&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,a)}async terminate(){var t,a;await(async function(o){const u=wt(o);ut($s,"RemoteStore shutting down."),u.Ea.add(5),await Go(u),u.Aa.shutdown(),u.Ra.set("Unknown")})(this.remoteStore),(t=this.datastore)==null||t.terminate(),(a=this.eventManager)==null||a.terminate()}}Im.provider={build:()=>new Im};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ca("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,a){setTimeout((()=>{this.muted||t(a)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs="FirestoreClient";class NC{constructor(t,a,s,o,u){this.authCredentials=t,this.appCheckCredentials=a,this.asyncQueue=s,this.databaseInfo=o,this.user=an.UNAUTHENTICATED,this.clientId=Km.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ut(rs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ut(rs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new la;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(a){const s=dp(a,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Zd(i,t){i.asyncQueue.verifyOperationInProgress(),ut(rs,"Initializing OfflineComponentProvider");const a=i.configuration;await t.initialize(a);let s=a.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await mT(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=t}async function yE(i,t){i.asyncQueue.verifyOperationInProgress();const a=await RC(i);ut(rs,"Initializing OnlineComponentProvider"),await t.initialize(a,i.configuration),i.setCredentialChangeListener((s=>hE(t.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>hE(t.remoteStore,o))),i._onlineComponents=t}async function RC(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ut(rs,"Using user provided OfflineComponentProvider");try{await Zd(i,i._uninitializedComponentsProvider._offline)}catch(t){const a=t;if(!(function(o){return o.name==="FirebaseError"?o.code===it.FAILED_PRECONDITION||o.code===it.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(a))throw a;Xr("Error using user provided cache. Falling back to memory cache: "+a),await Zd(i,new oh)}}else ut(rs,"Using default OfflineComponentProvider"),await Zd(i,new wC(void 0));return i._offlineComponents}async function OT(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ut(rs,"Using user provided OnlineComponentProvider"),await yE(i,i._uninitializedComponentsProvider._online)):(ut(rs,"Using default OnlineComponentProvider"),await yE(i,new Im))),i._onlineComponents}function IC(i){return OT(i).then((t=>t.syncEngine))}async function uh(i){const t=await OT(i),a=t.eventManager;return a.onListen=dC.bind(null,t.syncEngine),a.onUnlisten=gC.bind(null,t.syncEngine),a.onFirstRemoteStoreListen=mC.bind(null,t.syncEngine),a.onLastRemoteStoreUnlisten=yC.bind(null,t.syncEngine),a}function CC(i,t,a={}){const s=new la;return i.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,y,g){const T=new vp({next:S=>{T.Nu(),f.enqueueAndForget((()=>pp(u,b)));const w=S.docs.has(m);!w&&S.fromCache?g.reject(new ht(it.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&S.fromCache&&y&&y.source==="server"?g.reject(new ht(it.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),b=new yp(Eh(m.path),T,{includeMetadataChanges:!0,qa:!0});return mp(u,b)})(await uh(i),i.asyncQueue,t,a,s))),s.promise}function DC(i,t,a={}){const s=new la;return i.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,y,g){const T=new vp({next:S=>{T.Nu(),f.enqueueAndForget((()=>pp(u,b))),S.fromCache&&y.source==="server"?g.reject(new ht(it.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),b=new yp(m,T,{includeMetadataChanges:!0,qa:!0});return mp(u,b)})(await uh(i),i.asyncQueue,t,a,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MT(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT="firestore.googleapis.com",EE=!0;class vE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ht(it.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=VT,this.ssl=EE}else this.host=t.host,this.ssl=t.ssl??EE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=fT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<uI)throw new ht(it.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}YN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=MT(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ht(it.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ht(it.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ht(it.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ih{constructor(t,a,s,o){this._authCredentials=t,this._appCheckCredentials=a,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht(it.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ht(it.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new UN;switch(s.type){case"firstParty":return new zN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ht(it.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(a){const s=_E.get(a);s&&(ut("ComponentProvider","Removing Datastore"),_E.delete(a),s.terminate())})(this),Promise.resolve()}}function OC(i,t,a,s={}){var g;i=vn(i,Ih);const o=qm(t),u=i._getSettings(),f={...u,emulatorOptions:i._getEmulatorOptions()},m=`${t}:${a}`;o&&(hw(`https://${m}`),pw("Firestore",!0)),u.host!==VT&&u.host!==m&&Xr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:m,ssl:o,emulatorOptions:s};if(!$c(y,f)&&(i._setSettings(y),s.mockUserToken)){let T,b;if(typeof s.mockUserToken=="string")T=s.mockUserToken,b=an.MOCK_USER;else{T=fw(s.mockUserToken,(g=i._app)==null?void 0:g.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new ht(it.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new an(S)}i._authCredentials=new LN(new x1(T,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(t,a,s){this.converter=a,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Fo(this.firestore,t,this._query)}}class we{constructor(t,a,s){this.converter=a,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ts(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new we(this.firestore,t,this._key)}toJSON(){return{type:we._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,a,s){if(zo(a,we._jsonSchema))return new we(t,s||null,new yt(oe.fromString(a.referencePath)))}}we._jsonSchemaVersion="firestore/documentReference/1.0",we._jsonSchema={type:Ue("string",we._jsonSchemaVersion),referencePath:Ue("string")};class ts extends Fo{constructor(t,a,s){super(t,a,Eh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new we(this.firestore,null,new yt(t))}withConverter(t){return new ts(this.firestore,t,this._path)}}function cs(i,t,...a){if(i=ci(i),w1("collection","path",t),i instanceof Ih){const s=oe.fromString(t,...a);return V_(s),new ts(i,null,s)}{if(!(i instanceof we||i instanceof ts))throw new ht(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(oe.fromString(t,...a));return V_(s),new ts(i.firestore,null,s)}}function rn(i,t,...a){if(i=ci(i),arguments.length===1&&(t=Km.newId()),w1("doc","path",t),i instanceof Ih){const s=oe.fromString(t,...a);return M_(s),new we(i,null,new yt(s))}{if(!(i instanceof we||i instanceof ts))throw new ht(it.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(oe.fromString(t,...a));return M_(s),new we(i.firestore,i instanceof ts?i.converter:null,new yt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="AsyncQueue";class bE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new gT(this,"async_queue_retry"),this._c=()=>{const s=Jd();s&&ut(TE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const a=Jd();a&&typeof a.addEventListener=="function"&&a.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const a=Jd();a&&typeof a.removeEventListener=="function"&&a.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const a=new la;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(a.resolve,a.reject),a.promise))).then((()=>a.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!rl(t))throw t;ut(TE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const a=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,ca("INTERNAL UNHANDLED ERROR: ",AE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=a,a}enqueueAfterDelay(t,a,s){this.uc(),this.oc.indexOf(t)>-1&&(a=0);const o=fp.createAndSchedule(this,t,a,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Tt(47125,{Pc:AE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const a of this.tc)if(a.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((a,s)=>a.targetTimeMs-s.targetTimeMs));for(const a of this.tc)if(a.skipDelay(),t!=="all"&&a.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const a=this.tc.indexOf(t);this.tc.splice(a,1)}}function AE(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(i){return(function(a,s){if(typeof a!="object"||a===null)return!1;const o=a;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class fa extends Ih{constructor(t,a,s,o){super(t,a,s,o),this.type="firestore",this._queue=new bE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new bE(t),this._firestoreClient=void 0,await t}}}function MC(i,t){const a=typeof i=="object"?i:xN(),s=typeof i=="string"?i:Wc,o=vN(a,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=uw("firestore");u&&OC(o,...u)}return o}function Yo(i){if(i._terminated)throw new ht(it.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||VC(i),i._firestoreClient}function VC(i){var s,o,u;const t=i._freezeSettings(),a=(function(m,y,g,T){return new iR(m,y,g,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,MT(T.experimentalLongPollingOptions),T.useFetchStreams,T.isUsingEmulator)})(i._databaseId,((s=i._app)==null?void 0:s.options.appId)||"",i._persistenceKey,t);i._componentsProvider||(o=t.localCache)!=null&&o._offlineComponentProvider&&((u=t.localCache)!=null&&u._onlineComponentProvider)&&(i._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),i._firestoreClient=new NC(i._authCredentials,i._appCheckCredentials,i._queue,a,i._componentsProvider&&(function(m){const y=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(y),_online:y}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Kn(Ze.fromBase64String(t))}catch(a){throw new ht(it.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+a)}}static fromUint8Array(t){return new Kn(Ze.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(zo(t,Kn._jsonSchema))return Kn.fromBase64String(t.bytes)}}Kn._jsonSchemaVersion="firestore/bytes/1.0",Kn._jsonSchema={type:Ue("string",Kn._jsonSchemaVersion),bytes:Ue("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(...t){for(let a=0;a<t.length;++a)if(t[a].length===0)throw new ht(it.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Je(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(t,a){if(!isFinite(t)||t<-90||t>90)throw new ht(it.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(a)||a<-180||a>180)throw new ht(it.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+a);this._lat=t,this._long=a}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Lt(this._lat,t._lat)||Lt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ji._jsonSchemaVersion}}static fromJSON(t){if(zo(t,ji._jsonSchema))return new ji(t.latitude,t.longitude)}}ji._jsonSchemaVersion="firestore/geoPoint/1.0",ji._jsonSchema={type:Ue("string",ji._jsonSchemaVersion),latitude:Ue("number"),longitude:Ue("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(t){this._values=(t||[]).map((a=>a))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ui._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(zo(t,Ui._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((a=>typeof a=="number")))return new Ui(t.vectorValues);throw new ht(it.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ui._jsonSchemaVersion="firestore/vectorValue/1.0",Ui._jsonSchema={type:Ue("string",Ui._jsonSchemaVersion),vectorValues:Ue("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC=/^__.*__$/;class UC{constructor(t,a,s){this.data=t,this.fieldMask=a,this.fieldTransforms=s}toMutation(t,a){return this.fieldMask!==null?new us(t,this.data,this.fieldMask,a,this.fieldTransforms):new Bo(t,this.data,a,this.fieldTransforms)}}class jT{constructor(t,a,s){this.data=t,this.fieldMask=a,this.fieldTransforms=s}toMutation(t,a){return new us(t,this.data,this.fieldMask,a,this.fieldTransforms)}}function UT(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{Ac:i})}}class bp{constructor(t,a,s,o,u,f){this.settings=t,this.databaseId=a,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new bp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var o;const a=(o=this.path)==null?void 0:o.child(t),s=this.Vc({path:a,fc:!1});return s.gc(t),s}yc(t){var o;const a=(o=this.path)==null?void 0:o.child(t),s=this.Vc({path:a,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return ch(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((a=>t.isPrefixOf(a)))!==void 0||this.fieldTransforms.find((a=>t.isPrefixOf(a.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(UT(this.Ac)&&jC.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class LC{constructor(t,a,s){this.databaseId=t,this.ignoreUndefinedProperties=a,this.serializer=s||wh(t)}Cc(t,a,s,o=!1){return new bp({Ac:t,methodName:a,Dc:s,path:Je.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ap(i){const t=i._freezeSettings(),a=wh(i._databaseId);return new LC(i._databaseId,!!t.ignoreUndefinedProperties,a)}function LT(i,t,a,s,o,u={}){const f=i.Cc(u.merge||u.mergeFields?2:0,t,a,o);Sp("Data must be an object, but it was:",f,s);const m=zT(s,f);let y,g;if(u.merge)y=new On(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const b of u.mergeFields){const S=Cm(t,b,a);if(!f.contains(S))throw new ht(it.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);HT(T,S)||T.push(S)}y=new On(T),g=f.fieldTransforms.filter((b=>y.covers(b.field)))}else y=null,g=f.fieldTransforms;return new UC(new En(m),y,g)}class Ch extends Tp{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ch}}function PT(i,t,a,s){const o=i.Cc(1,t,a);Sp("Data must be an object, but it was:",o,s);const u=[],f=En.empty();os(s,((y,g)=>{const T=xp(t,y,a);g=ci(g);const b=o.yc(T);if(g instanceof Ch)u.push(T);else{const S=Dh(g,b);S!=null&&(u.push(T),f.set(T,S))}}));const m=new On(u);return new jT(f,m,o.fieldTransforms)}function kT(i,t,a,s,o,u){const f=i.Cc(1,t,a),m=[Cm(t,s,a)],y=[o];if(u.length%2!=0)throw new ht(it.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(Cm(t,u[S])),y.push(u[S+1]);const g=[],T=En.empty();for(let S=m.length-1;S>=0;--S)if(!HT(g,m[S])){const w=m[S];let k=y[S];k=ci(k);const q=f.yc(w);if(k instanceof Ch)g.push(w);else{const V=Dh(k,q);V!=null&&(g.push(w),T.set(w,V))}}const b=new On(g);return new jT(T,b,f.fieldTransforms)}function Dh(i,t){if(BT(i=ci(i)))return Sp("Unsupported field value:",t,i),zT(i,t);if(i instanceof Tp)return(function(s,o){if(!UT(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let y=Dh(m,o.wc(f));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),f++}return{arrayValue:{values:u}}})(i,t)}return(function(s,o){if((s=ci(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return NR(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=ue.fromDate(s);return{timestampValue:sh(o.serializer,u)}}if(s instanceof ue){const u=new ue(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:sh(o.serializer,u)}}if(s instanceof ji)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Kn)return{bytesValue:sT(o.serializer,s._byteString)};if(s instanceof we){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:ip(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ui)return(function(f,m){return{mapValue:{fields:{[j1]:{stringValue:U1},[th]:{arrayValue:{values:f.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return tp(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Qm(s)}`)})(i,t)}function zT(i,t){const a={};return I1(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):os(i,((s,o)=>{const u=Dh(o,t.mc(s));u!=null&&(a[s]=u)})),{mapValue:{fields:a}}}function BT(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof ue||i instanceof ji||i instanceof Kn||i instanceof we||i instanceof Tp||i instanceof Ui)}function Sp(i,t,a){if(!BT(a)||!N1(a)){const s=Qm(a);throw s==="an object"?t.Sc(i+" a custom object"):t.Sc(i+" "+s)}}function Cm(i,t,a){if((t=ci(t))instanceof Ko)return t._internalPath;if(typeof t=="string")return xp(i,t);throw ch("Field path arguments must be of type string or ",i,!1,void 0,a)}const PC=new RegExp("[~\\*/\\[\\]]");function xp(i,t,a){if(t.search(PC)>=0)throw ch(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,a);try{return new Ko(...t.split("."))._internalPath}catch{throw ch(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,a)}}function ch(i,t,a,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;a&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(u||f)&&(y+=" (found",u&&(y+=` in field ${s}`),f&&(y+=` in document ${o}`),y+=")"),new ht(it.INVALID_ARGUMENT,m+i+y)}function HT(i,t){return i.some((a=>a.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(t,a,s,o,u){this._firestore=t,this._userDataWriter=a,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new we(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new kC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const a=this._document.data.field(qT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a)}}}class kC extends GT{data(){return super.data()}}function qT(i,t){return typeof t=="string"?xp(i,t):t instanceof Ko?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ht(it.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zC{convertValue(t,a="none"){switch(as(t)){case 0:return null;case 1:return t.booleanValue;case 2:return xe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,a);case 5:return t.stringValue;case 6:return this.convertBytes(is(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,a);case 11:return this.convertObject(t.mapValue,a);case 10:return this.convertVectorValue(t.mapValue);default:throw Tt(62114,{value:t})}}convertObject(t,a){return this.convertObjectMap(t.fields,a)}convertObjectMap(t,a="none"){const s={};return os(t,((o,u)=>{s[o]=this.convertValue(u,a)})),s}convertVectorValue(t){var s,o,u;const a=(u=(o=(s=t.fields)==null?void 0:s[th].arrayValue)==null?void 0:o.values)==null?void 0:u.map((f=>xe(f.doubleValue)));return new Ui(a)}convertGeoPoint(t){return new ji(xe(t.latitude),xe(t.longitude))}convertArray(t,a){return(t.values||[]).map((s=>this.convertValue(s,a)))}convertServerTimestamp(t,a){switch(a){case"previous":const s=yh(t);return s==null?null:this.convertValue(s,a);case"estimate":return this.convertTimestamp(Do(t));default:return null}}convertTimestamp(t){const a=ns(t);return new ue(a.seconds,a.nanos)}convertDocumentKey(t,a){const s=oe.fromString(t);Qt(hT(s),9688,{name:t});const o=new Oo(s.get(1),s.get(3)),u=new yt(s.popFirst(5));return o.isEqual(a)||ca(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${a.projectId}/${a.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(i,t,a){let s;return s=i?a&&(a.merge||a.mergeFields)?i.toFirestore(t,a):i.toFirestore(t):t,s}class _o{constructor(t,a){this.hasPendingWrites=t,this.fromCache=a}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Fs extends GT{constructor(t,a,s,o,u,f){super(t,a,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const a=new Gc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(a,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,a={}){if(this._document){const s=this._document.data.field(qT("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,a.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(it.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,a={};return a.type=Fs._jsonSchemaVersion,a.bundle="",a.bundleSource="DocumentSnapshot",a.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?a:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),a.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),a)}}Fs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Fs._jsonSchema={type:Ue("string",Fs._jsonSchemaVersion),bundleSource:Ue("string","DocumentSnapshot"),bundleName:Ue("string"),bundle:Ue("string")};class Gc extends Fs{data(t={}){return super.data(t)}}class Ys{constructor(t,a,s,o){this._firestore=t,this._userDataWriter=a,this._snapshot=o,this.metadata=new _o(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((a=>t.push(a))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,a){this._snapshot.docs.forEach((s=>{t.call(a,new Gc(this._firestore,this._userDataWriter,s.key,s,new _o(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const a=!!t.includeMetadataChanges;if(a&&this._snapshot.excludesMetadataChanges)throw new ht(it.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===a||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const y=new Gc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new _o(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const y=new Gc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new _o(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,T=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),T=f.indexOf(m.doc.key)),{type:BC(m.type),doc:y,oldIndex:g,newIndex:T}}))}})(this,a),this._cachedChangesIncludeMetadataChanges=a),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(it.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ys._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Km.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const a=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(a.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function BC(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(i){i=vn(i,we);const t=vn(i.firestore,fa);return CC(Yo(t),i._key).then((a=>KT(t,i,a)))}Ys._jsonSchemaVersion="firestore/querySnapshot/1.0",Ys._jsonSchema={type:Ue("string",Ys._jsonSchemaVersion),bundleSource:Ue("string","QuerySnapshot"),bundleName:Ue("string"),bundle:Ue("string")};class Np extends zC{constructor(t){super(),this.firestore=t}convertBytes(t){return new Kn(t)}convertReference(t){const a=this.convertDocumentKey(t,this.firestore._databaseId);return new we(this.firestore,null,a)}}function Rp(i){i=vn(i,Fo);const t=vn(i.firestore,fa),a=Yo(t),s=new Np(t);return FT(i._query),DC(a,i._query).then((o=>new Ys(t,s,i,o)))}function ol(i,t,a){i=vn(i,we);const s=vn(i.firestore,fa),o=YT(i.converter,t,a);return Oh(s,[LT(Ap(s),"setDoc",i._key,o,i.converter!==null,a).toMutation(i._key,Tn.none())])}function Qo(i,t,a,...s){i=vn(i,we);const o=vn(i.firestore,fa),u=Ap(o);let f;return f=typeof(t=ci(t))=="string"||t instanceof Ko?kT(u,"updateDoc",i._key,t,a,s):PT(u,"updateDoc",i._key,t),Oh(o,[f.toMutation(i._key,Tn.exists(!0))])}function HC(i){return Oh(vn(i.firestore,fa),[new Sh(i._key,Tn.none())])}function $o(i,...t){var y,g,T;i=ci(i);let a={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||SE(t[s])||(a=t[s++]);const o={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(SE(t[s])){const b=t[s];t[s]=(y=b.next)==null?void 0:y.bind(b),t[s+1]=(g=b.error)==null?void 0:g.bind(b),t[s+2]=(T=b.complete)==null?void 0:T.bind(b)}let u,f,m;if(i instanceof we)f=vn(i.firestore,fa),m=Eh(i._key.path),u={next:b=>{t[s]&&t[s](KT(f,i,b))},error:t[s+1],complete:t[s+2]};else{const b=vn(i,Fo);f=vn(b.firestore,fa),m=b._query;const S=new Np(f);u={next:w=>{t[s]&&t[s](new Ys(f,S,b,w))},error:t[s+1],complete:t[s+2]},FT(i._query)}return(function(S,w,k,q){const V=new vp(q),et=new yp(w,V,k);return S.asyncQueue.enqueueAndForget((async()=>mp(await uh(S),et))),()=>{V.Nu(),S.asyncQueue.enqueueAndForget((async()=>pp(await uh(S),et)))}})(Yo(f),m,o,u)}function Oh(i,t){return(function(s,o){const u=new la;return s.asyncQueue.enqueueAndForget((async()=>_C(await IC(s),o,u))),u.promise})(Yo(i),t)}function KT(i,t,a){const s=a.docs.get(t._key),o=new Np(i);return new Fs(i,o,t._key,s,new _o(a.hasPendingWrites,a.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(t,a){this._firestore=t,this._commitHandler=a,this._mutations=[],this._committed=!1,this._dataReader=Ap(t)}set(t,a,s){this._verifyNotCommitted();const o=Wd(t,this._firestore),u=YT(o.converter,a,s),f=LT(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,s);return this._mutations.push(f.toMutation(o._key,Tn.none())),this}update(t,a,s,...o){this._verifyNotCommitted();const u=Wd(t,this._firestore);let f;return f=typeof(a=ci(a))=="string"||a instanceof Ko?kT(this._dataReader,"WriteBatch.update",u._key,a,s,o):PT(this._dataReader,"WriteBatch.update",u._key,a),this._mutations.push(f.toMutation(u._key,Tn.exists(!0))),this}delete(t){this._verifyNotCommitted();const a=Wd(t,this._firestore);return this._mutations=this._mutations.concat(new Sh(a._key,Tn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ht(it.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Wd(i,t){if((i=ci(i)).firestore!==t)throw new ht(it.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mh(i){return Yo(i=vn(i,fa)),new GC(i,(t=>Oh(i,t)))}(function(t,a=!0){(function(o){al=o})(SN),Jc(new Ro("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new fa(new PN(s.getProvider("auth-internal")),new BN(f,s.getProvider("app-check-internal")),(function(g,T){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ht(it.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Oo(g.options.projectId,T)})(f,o),f);return u={useFetchStreams:a,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Kr(I_,C_,t),Kr(I_,C_,"esm2020")})();var qC="firebase",FC="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kr(qC,FC,"app");const YC={apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""},KC=p1(YC),ne=MC(KC),QC=[{id:"p1",name:"",category:"food",price:150,description:"",imageUrl:"https://images.unsplash.com/photo-1558961363-fa8fdf82db35?q=80&w=400&h=300&auto=format&fit=crop",stock:12},{id:"p2",name:"",category:"food",price:80,description:"",imageUrl:"https://images.unsplash.com/photo-1544467316-e97029d2d47b?q=80&w=400&h=300&auto=format&fit=crop",stock:45},{id:"p3",name:"",category:"electronic",price:12e3,description:"",imageUrl:"https://images.unsplash.com/photo-1511707171634-5f897ff02aa9?q=80&w=400&h=300&auto=format&fit=crop",stock:1},{id:"p4",name:"",category:"ticket",price:320,description:"",imageUrl:"https://images.unsplash.com/photo-1489599849927-2ee91cede3ba?q=80&w=400&h=300&auto=format&fit=crop",stock:8},{id:"p5",name:"",category:"food",price:800,description:"",imageUrl:"https://images.unsplash.com/photo-1544739313-6fad02872377?q=80&w=400&h=300&auto=format&fit=crop",stock:3},{id:"p6",name:"",category:"electronic",price:2500,description:"",imageUrl:"https://images.unsplash.com/photo-1505740420928-5e560c06d30e?q=80&w=400&h=300&auto=format&fit=crop",stock:5}],Ks=[{name:"",threshold:0,color:"bg-slate-400",icon:""},{name:"",threshold:500,color:"bg-blue-400",icon:""},{name:"",threshold:2e3,color:"bg-green-500",icon:""},{name:"",threshold:5e3,color:"bg-purple-500",icon:""},{name:"",threshold:1e4,color:"bg-orange-500",icon:""},{name:"",threshold:3e4,color:"bg-yellow-500",icon:""}],Ip={USER:"workshop_user"},de={STUDENTS:"students",MISSIONS:"missions",PRODUCTS:"products",WISHES:"wishes",REDEMPTIONS:"redemptions",CHALLENGE_HISTORY:"challengeHistory"},QT=[{id:"user_zhou",name:"",points:1200,totalEarned:2500,role:Qn.STUDENT,avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Zhou",password:"123",grade:"",isApproved:!0},{id:"user_hu",name:"",points:800,totalEarned:1800,role:Qn.STUDENT,avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Hu",password:"123",grade:"",isApproved:!0},{id:"user_lin",name:"",points:2100,totalEarned:4200,role:Qn.STUDENT,avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Lin",password:"123",grade:"",isApproved:!0}],xE={id:"user_admin",name:"",points:0,totalEarned:0,role:Qn.ADMIN,avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Admin",isApproved:!0},wE={id:"user_guest",name:"",points:0,totalEarned:0,role:Qn.GUEST,avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Guest",isApproved:!0},$T=async()=>{try{const i=await Rp(cs(ne,de.STUDENTS));return i.empty?(await $C(),QT):i.docs.map(t=>({...t.data(),id:t.id}))}catch(i){return console.error("Error fetching students:",i),[]}},$C=async()=>{const i=Mh(ne);QT.forEach(t=>{const a=rn(ne,de.STUDENTS,t.id);i.set(a,t)}),await i.commit()},XT=async i=>{try{await ol(rn(ne,de.STUDENTS,i.id),i)}catch(t){console.error("Error saving student:",t),alert("")}},XC=async i=>{const t=Mh(ne);i.forEach(a=>{const s=rn(ne,de.STUDENTS,a.id);t.set(s,a)}),await t.commit()},JC=async(i,t,a)=>{try{if((await $T()).some(u=>u.name===i))return!1;const o={id:`user_${Date.now()}`,name:i,password:t,grade:a,points:0,totalEarned:0,role:Qn.STUDENT,avatar:`https://api.dicebear.com/7.x/avataaars/svg?seed=${i}`,isApproved:!1};return await XT(o),!0}catch(s){return console.error("Error registering student:",s),!1}},ZC=async i=>{try{const t=rn(ne,de.STUDENTS,i);await Qo(t,{isApproved:!0})}catch(t){console.error("Error approving student:",t)}},WC=async i=>{try{await HC(rn(ne,de.STUDENTS,i))}catch(t){console.error("Error deleting student:",t)}},NE=()=>{const i=localStorage.getItem(Ip.USER);return i?JSON.parse(i):null},xo=async i=>{localStorage.setItem(Ip.USER,JSON.stringify(i)),i.role===Qn.STUDENT&&await XT(i)},tD=()=>{localStorage.removeItem(Ip.USER)},eD=async()=>{try{return(await Rp(cs(ne,de.REDEMPTIONS))).docs.map(t=>{const a=t.data();return{id:t.id,status:"pending",pointsSpent:0,productName:"",timestamp:Date.now(),userId:"unknown",qrCodeData:"",...a}})}catch(i){return console.error("Error fetching redemptions:",i),[]}},nD=async i=>{try{await ol(rn(ne,de.REDEMPTIONS,i.id),i)}catch(t){console.error("Error adding redemption:",t)}},iD=async(i,t)=>{try{const a=rn(ne,de.REDEMPTIONS,i);await Qo(a,{status:t})}catch(a){console.error("Error updating redemption status:",a)}},aD=[{id:"m1",title:"",description:"",points:100,type:"normal",isActive:!0,maxAttempts:1},{id:"m2",title:" 80 ",description:"",points:300,type:"challenge",isActive:!0,maxAttempts:1},{id:"m3",title:" 90 ",description:"",points:1e3,type:"hard",isActive:!0,maxAttempts:1}],sD=async()=>{const i=Mh(ne);aD.forEach(t=>{const a=rn(ne,de.MISSIONS,t.id);i.set(a,t)}),await i.commit()},rD=async i=>{try{await ol(rn(ne,de.MISSIONS,i.id),i)}catch(t){console.error("Error adding mission:",t)}},lD=async i=>{try{const t=rn(ne,de.MISSIONS,i),a=await wp(t);if(a.exists()){const s=a.data();await Qo(t,{isActive:!s.isActive})}}catch(t){console.error("Error toggling mission:",t)}},oD=async()=>{try{return(await Rp(cs(ne,de.CHALLENGE_HISTORY))).docs.map(t=>({...t.data(),id:t.id}))}catch(i){return console.error("Error fetching challenge history:",i),[]}},uD=async i=>{try{const t=`${i.userId}_${i.missionId}_${Date.now()}`;await ol(rn(ne,de.CHALLENGE_HISTORY,t),i)}catch(t){console.error("Error adding challenge history:",t)}},RE=async(i,t)=>{try{return(await oD()).some(s=>s.userId===i&&s.missionId===t)}catch(a){return console.error("Error checking mission completion:",a),!1}},cD=async()=>{const i=Mh(ne);QC.forEach(t=>{const a=rn(ne,de.PRODUCTS,t.id);i.set(a,t)}),await i.commit()},hD=async i=>{try{await ol(rn(ne,de.PRODUCTS,i.id),i)}catch(t){console.error("Error adding product:",t)}},fD=async(i,t)=>{try{const a=rn(ne,de.PRODUCTS,i),s=await wp(a);if(s.exists()){const o=s.data();await Qo(a,{stock:Math.max(0,o.stock-t)})}}catch(a){console.error("Error updating product stock:",a)}},dD=async i=>{try{await ol(rn(ne,de.WISHES,i.id),i)}catch(t){console.error("Error adding wish:",t),alert(" Firestore  (Test Mode)")}},mD=async i=>{try{const t=rn(ne,de.WISHES,i),a=await wp(t);if(a.exists()){const s=a.data();await Qo(t,{likes:s.likes+1})}}catch(t){console.error("Error liking wish:",t)}},pD=i=>$o(cs(ne,de.STUDENTS),t=>{const a=t.docs.map(s=>({...s.data(),id:s.id}));i(a)},t=>{console.error("Error in subscribeToStudents:",t)}),JT=i=>$o(cs(ne,de.MISSIONS),t=>{t.empty&&sD().catch(console.error);const a=t.docs.map(s=>({...s.data(),id:s.id}));i(a)},t=>console.error("Error subscribing to missions:",t)),ZT=i=>$o(cs(ne,de.PRODUCTS),t=>{t.empty&&cD().catch(console.error);const a=t.docs.map(s=>({...s.data(),id:s.id}));i(a)},t=>{console.error("Error subscribing to products:",t),alert("")}),gD=i=>$o(cs(ne,de.WISHES),t=>{const a=t.docs.map(s=>({...s.data(),id:s.id}));i(a)},t=>console.error("Error subscribing to wishes:",t)),yD=i=>$o(cs(ne,de.REDEMPTIONS),t=>{const a=t.docs.map(s=>{const o=s.data();return{id:s.id,status:"pending",pointsSpent:0,productName:"",timestamp:Date.now(),userId:"unknown",qrCodeData:"",...o}});i(a)},t=>{console.error("Error subscribing to redemptions:",t)});var _D={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var IE;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(IE||(IE={}));var CE;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(CE||(CE={}));var DE;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(DE||(DE={}));var OE;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(OE||(OE={}));var ME;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(ME||(ME={}));var VE;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(VE||(VE={}));var jE;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(jE||(jE={}));var UE;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(UE||(UE={}));var LE;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(LE||(LE={}));var PE;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(PE||(PE={}));var kE;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(kE||(kE={}));var zE;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH",i.MINIMAL="MINIMAL"})(zE||(zE={}));var BE;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(BE||(BE={}));var HE;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(HE||(HE={}));var GE;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(GE||(GE={}));var qE;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE",i.IMAGE_RECITATION="IMAGE_RECITATION",i.IMAGE_OTHER="IMAGE_OTHER"})(qE||(qE={}));var FE;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(FE||(FE={}));var YE;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(YE||(YE={}));var KE;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(KE||(KE={}));var QE;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(QE||(QE={}));var $E;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})($E||($E={}));var XE;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(XE||(XE={}));var JE;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(JE||(JE={}));var ZE;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(ZE||(ZE={}));var WE;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(WE||(WE={}));var tv;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(tv||(tv={}));var ev;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(ev||(ev={}));var nv;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",i.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(nv||(nv={}));var iv;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(iv||(iv={}));var av;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(av||(av={}));var sv;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(sv||(sv={}));var rv;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(rv||(rv={}));var lv;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(lv||(lv={}));var ov;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(ov||(ov={}));var uv;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(uv||(uv={}));var cv;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(cv||(cv={}));var hv;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(hv||(hv={}));var fv;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(fv||(fv={}));var dv;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(dv||(dv={}));var mv;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(mv||(mv={}));var pv;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(pv||(pv={}));var gv;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(gv||(gv={}));var yv;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(yv||(yv={}));var _v;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(_v||(_v={}));var Ev;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED",i.REGISTERED="REGISTERED"})(Ev||(Ev={}));var vv;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(vv||(vv={}));var Tv;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(Tv||(Tv={}));var bv;(function(i){i.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",i.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",i.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(bv||(bv={}));var Av;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Av||(Av={}));var Sv;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Sv||(Sv={}));var xv;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(xv||(xv={}));var wv;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(wv||(wv={}));var Nv;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Nv||(Nv={}));var Rv;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(Rv||(Rv={}));var Iv;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(Iv||(Iv={}));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Cv;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(Cv||(Cv={}));function hh(i,t){var a={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.indexOf(s)<0&&(a[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(a[s[o]]=i[s[o]]);return a}function Dv(i){var t=typeof Symbol=="function"&&Symbol.iterator,a=t&&i[t],s=0;if(a)return a.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function me(i){return this instanceof me?(this.v=i,this):new me(i)}function wo(i,t,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=a.apply(i,t||[]),o,u=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),m("next"),m("throw"),m("return",f),o[Symbol.asyncIterator]=function(){return this},o;function f(w){return function(k){return Promise.resolve(k).then(w,b)}}function m(w,k){s[w]&&(o[w]=function(q){return new Promise(function(V,et){u.push([w,q,V,et])>1||y(w,q)})},k&&(o[w]=k(o[w])))}function y(w,k){try{g(s[w](k))}catch(q){S(u[0][3],q)}}function g(w){w.value instanceof me?Promise.resolve(w.value.v).then(T,b):S(u[0][2],w)}function T(w){y("next",w)}function b(w){y("throw",w)}function S(w,k){w(k),u.shift(),u.length&&y(u[0][0],u[0][1])}}function $r(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],a;return t?t.call(i):(i=typeof Dv=="function"?Dv(i):i[Symbol.iterator](),a={},s("next"),s("throw"),s("return"),a[Symbol.asyncIterator]=function(){return this},a);function s(u){a[u]=i[u]&&function(f){return new Promise(function(m,y){f=i[u](f),o(m,y,f.done,f.value)})}}function o(u,f,m,y){Promise.resolve(y).then(function(g){u({value:g,done:m})},f)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let WT=function(){const{crypto:i}=globalThis;if(i!=null&&i.randomUUID)return WT=i.randomUUID.bind(i),i.randomUUID();const t=new Uint8Array(1),a=i?()=>i.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,s=>(+s^a()&15>>+s/4).toString(16))};const ED=()=>WT();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dm(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const Om=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const t=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(t.stack=i.stack),i.cause&&!t.cause&&(t.cause=i.cause),i.name&&(t.name=i.name),t}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xn extends Error{}class cn extends Xn{constructor(t,a,s,o){super(`${cn.makeMessage(t,a,s)}`),this.status=t,this.headers=o,this.error=a}static makeMessage(t,a,s){const o=a!=null&&a.message?typeof a.message=="string"?a.message:JSON.stringify(a.message):a?JSON.stringify(a):s;return t&&o?`${t} ${o}`:t?`${t} status code (no body)`:o||"(no status code or body)"}static generate(t,a,s,o){if(!t||!o)return new Vh({message:s,cause:Om(a)});const u=a;return t===400?new eb(t,u,s,o):t===401?new nb(t,u,s,o):t===403?new ib(t,u,s,o):t===404?new ab(t,u,s,o):t===409?new sb(t,u,s,o):t===422?new rb(t,u,s,o):t===429?new lb(t,u,s,o):t>=500?new ob(t,u,s,o):new cn(t,u,s,o)}}class Mm extends cn{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Vh extends cn{constructor({message:t,cause:a}){super(void 0,void 0,t||"Connection error.",void 0),a&&(this.cause=a)}}class tb extends Vh{constructor({message:t}={}){super({message:t??"Request timed out."})}}class eb extends cn{}class nb extends cn{}class ib extends cn{}class ab extends cn{}class sb extends cn{}class rb extends cn{}class lb extends cn{}class ob extends cn{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vD=/^[a-z][a-z0-9+.-]*:/i,TD=i=>vD.test(i);let Vm=i=>(Vm=Array.isArray,Vm(i));const bD=Vm;let AD=bD;const Ov=AD;function SD(i){if(!i)return!0;for(const t in i)return!1;return!0}function xD(i,t){return Object.prototype.hasOwnProperty.call(i,t)}const wD=(i,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Xn(`${i} must be an integer`);if(t<0)throw new Xn(`${i} must be a positive integer`);return t},ND=i=>{try{return JSON.parse(i)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const RD=i=>new Promise(t=>setTimeout(t,i));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Fr="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ID(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const CD=()=>{var i,t,a,s,o;const u=ID();if(u==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Fr,"X-Stainless-OS":Vv(Deno.build.os),"X-Stainless-Arch":Mv(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(i=Deno.version)===null||i===void 0?void 0:i.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Fr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(u==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Fr,"X-Stainless-OS":Vv((a=globalThis.process.platform)!==null&&a!==void 0?a:"unknown"),"X-Stainless-Arch":Mv((s=globalThis.process.arch)!==null&&s!==void 0?s:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(o=globalThis.process.version)!==null&&o!==void 0?o:"unknown"};const f=DD();return f?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Fr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${f.browser}`,"X-Stainless-Runtime-Version":f.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Fr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function DD(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:a}of i){const s=a.exec(navigator.userAgent);if(s){const o=s[1]||0,u=s[2]||0,f=s[3]||0;return{browser:t,version:`${o}.${u}.${f}`}}}return null}const Mv=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",Vv=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let Cc;const OD=()=>Cc??(Cc=CD());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MD(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function ub(...i){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...i)}function VD(i){let t=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return ub({start(){},async pull(a){const{done:s,value:o}=await t.next();s?a.close():a.enqueue(o)},async cancel(){var a;await((a=t.return)===null||a===void 0?void 0:a.call(t))}})}function cb(i){if(i[Symbol.asyncIterator])return i;const t=i.getReader();return{async next(){try{const a=await t.read();return a!=null&&a.done&&t.releaseLock(),a}catch(a){throw t.releaseLock(),a}},async return(){const a=t.cancel();return t.releaseLock(),await a,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function jD(i){var t,a;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((a=(t=i[Symbol.asyncIterator]()).return)===null||a===void 0?void 0:a.call(t));return}const s=i.getReader(),o=s.cancel();s.releaseLock(),await o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const UD=({headers:i,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hb=()=>{var i;if(typeof File>"u"){const{process:t}=globalThis,a=typeof((i=t==null?void 0:t.versions)===null||i===void 0?void 0:i.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(a?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function tm(i,t,a){return hb(),new File(i,t??"unknown_file",a)}function LD(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const PD=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fb=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",kD=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&fb(i),zD=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function BD(i,t,a){if(hb(),i=await i,kD(i))return i instanceof File?i:tm([await i.arrayBuffer()],i.name);if(zD(i)){const o=await i.blob();return t||(t=new URL(i.url).pathname.split(/[\\/]/).pop()),tm(await jm(o),t,a)}const s=await jm(i);if(t||(t=LD(i)),!(a!=null&&a.type)){const o=s.find(u=>typeof u=="object"&&"type"in u&&u.type);typeof o=="string"&&(a=Object.assign(Object.assign({},a),{type:o}))}return tm(s,t,a)}async function jm(i){var t,a,s,o,u;let f=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)f.push(i);else if(fb(i))f.push(i instanceof Blob?i:await i.arrayBuffer());else if(PD(i))try{for(var m=!0,y=$r(i),g;g=await y.next(),t=g.done,!t;m=!0){o=g.value,m=!1;const T=o;f.push(...await jm(T))}}catch(T){a={error:T}}finally{try{!m&&!t&&(s=y.return)&&await s.call(y)}finally{if(a)throw a.error}}else{const T=(u=i==null?void 0:i.constructor)===null||u===void 0?void 0:u.name;throw new Error(`Unexpected data type: ${typeof i}${T?`; constructor: ${T}`:""}${HD(i)}`)}return f}function HD(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(a=>`"${a}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class db{constructor(t){this._client=t}}db._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mb(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const jv=Object.freeze(Object.create(null)),GD=(i=mb)=>(function(a,...s){if(a.length===1)return a[0];let o=!1;const u=[],f=a.reduce((T,b,S)=>{var w,k,q;/[?#]/.test(b)&&(o=!0);const V=s[S];let et=(o?encodeURIComponent:i)(""+V);return S!==s.length&&(V==null||typeof V=="object"&&V.toString===((q=Object.getPrototypeOf((k=Object.getPrototypeOf((w=V.hasOwnProperty)!==null&&w!==void 0?w:jv))!==null&&k!==void 0?k:jv))===null||q===void 0?void 0:q.toString))&&(et=V+"",u.push({start:T.length+b.length,length:et.length,error:`Value of type ${Object.prototype.toString.call(V).slice(8,-1)} is not a valid path parameter`})),T+b+(S===s.length?"":et)},""),m=f.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let g;for(;(g=y.exec(m))!==null;)u.push({start:g.index,length:g[0].length,error:`Value "${g[0]}" can't be safely passed as a path parameter`});if(u.sort((T,b)=>T.start-b.start),u.length>0){let T=0;const b=u.reduce((S,w)=>{const k=" ".repeat(w.start-T),q="^".repeat(w.length);return T=w.start+w.length,S+k+q},"");throw new Xn(`Path parameters result in path with invalid segments:
${u.map(S=>S.error).join(`
`)}
${f}
${b}`)}return f}),Dc=GD(mb);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pb extends db{create(t,a){var s;const{api_version:o=this._client.apiVersion}=t,u=hh(t,["api_version"]);if("model"in u&&"agent_config"in u)throw new Xn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in u&&"generation_config"in u)throw new Xn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Dc`/${o}/interactions`,Object.assign(Object.assign({body:u},a),{stream:(s=t.stream)!==null&&s!==void 0?s:!1}))}delete(t,a={},s){const{api_version:o=this._client.apiVersion}=a??{};return this._client.delete(Dc`/${o}/interactions/${t}`,s)}cancel(t,a={},s){const{api_version:o=this._client.apiVersion}=a??{};return this._client.post(Dc`/${o}/interactions/${t}/cancel`,s)}get(t,a={},s){var o;const u=a??{},{api_version:f=this._client.apiVersion}=u,m=hh(u,["api_version"]);return this._client.get(Dc`/${f}/interactions/${t}`,Object.assign(Object.assign({query:m},s),{stream:(o=a==null?void 0:a.stream)!==null&&o!==void 0?o:!1}))}}pb._key=Object.freeze(["interactions"]);class gb extends pb{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qD(i){let t=0;for(const o of i)t+=o.length;const a=new Uint8Array(t);let s=0;for(const o of i)a.set(o,s),s+=o.length;return a}let Oc;function Cp(i){let t;return(Oc??(t=new globalThis.TextEncoder,Oc=t.encode.bind(t)))(i)}let Mc;function Uv(i){let t;return(Mc??(t=new globalThis.TextDecoder,Mc=t.decode.bind(t)))(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jh{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const a=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Cp(t):t;this.buffer=qD([this.buffer,a]);const s=[];let o;for(;(o=FD(this.buffer,this.carriageReturnIndex))!=null;){if(o.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=o.index;continue}if(this.carriageReturnIndex!=null&&(o.index!==this.carriageReturnIndex+1||o.carriage)){s.push(Uv(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const u=this.carriageReturnIndex!==null?o.preceding-1:o.preceding,f=Uv(this.buffer.subarray(0,u));s.push(f),this.buffer=this.buffer.subarray(o.index),this.carriageReturnIndex=null}return s}flush(){return this.buffer.length?this.decode(`
`):[]}}jh.NEWLINE_CHARS=new Set([`
`,"\r"]);jh.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function FD(i,t){for(let o=t??0;o<i.length;o++){if(i[o]===10)return{preceding:o,index:o+1,carriage:!1};if(i[o]===13)return{preceding:o,index:o+1,carriage:!0}}return null}function YD(i){for(let s=0;s<i.length-1;s++){if(i[s]===10&&i[s+1]===10||i[s]===13&&i[s+1]===13)return s+2;if(i[s]===13&&i[s+1]===10&&s+3<i.length&&i[s+2]===13&&i[s+3]===10)return s+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fh={off:0,error:200,warn:300,info:400,debug:500},Lv=(i,t,a)=>{if(i){if(xD(fh,i))return i;un(a).warn(`${t} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(fh))}`)}};function Eo(){}function Vc(i,t,a){return!t||fh[i]>fh[a]?Eo:t[i].bind(t)}const KD={error:Eo,warn:Eo,info:Eo,debug:Eo};let Pv=new WeakMap;function un(i){var t;const a=i.logger,s=(t=i.logLevel)!==null&&t!==void 0?t:"off";if(!a)return KD;const o=Pv.get(a);if(o&&o[0]===s)return o[1];const u={error:Vc("error",a,s),warn:Vc("warn",a,s),info:Vc("info",a,s),debug:Vc("debug",a,s)};return Pv.set(a,[s,u]),u}const Gs=i=>(i.options&&(i.options=Object.assign({},i.options),delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([t,a])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":a]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yr{constructor(t,a,s){this.iterator=t,this.controller=a,this.client=s}static fromSSEResponse(t,a,s){let o=!1;const u=s?un(s):console;function f(){return wo(this,arguments,function*(){var y,g,T,b;if(o)throw new Xn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let S=!1;try{try{for(var w=!0,k=$r(QD(t,a)),q;q=yield me(k.next()),y=q.done,!y;w=!0){b=q.value,w=!1;const V=b;if(!S)if(V.data.startsWith("[DONE]")){S=!0;continue}else try{yield yield me(JSON.parse(V.data))}catch(et){throw u.error("Could not parse message into JSON:",V.data),u.error("From chunk:",V.raw),et}}}catch(V){g={error:V}}finally{try{!w&&!y&&(T=k.return)&&(yield me(T.call(k)))}finally{if(g)throw g.error}}S=!0}catch(V){if(Dm(V))return yield me(void 0);throw V}finally{S||a.abort()}})}return new Yr(f,a,s)}static fromReadableStream(t,a,s){let o=!1;function u(){return wo(this,arguments,function*(){var y,g,T,b;const S=new jh,w=cb(t);try{for(var k=!0,q=$r(w),V;V=yield me(q.next()),y=V.done,!y;k=!0){b=V.value,k=!1;const et=b;for(const at of S.decode(et))yield yield me(at)}}catch(et){g={error:et}}finally{try{!k&&!y&&(T=q.return)&&(yield me(T.call(q)))}finally{if(g)throw g.error}}for(const et of S.flush())yield yield me(et)})}function f(){return wo(this,arguments,function*(){var y,g,T,b;if(o)throw new Xn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let S=!1;try{try{for(var w=!0,k=$r(u()),q;q=yield me(k.next()),y=q.done,!y;w=!0){b=q.value,w=!1;const V=b;S||V&&(yield yield me(JSON.parse(V)))}}catch(V){g={error:V}}finally{try{!w&&!y&&(T=k.return)&&(yield me(T.call(k)))}finally{if(g)throw g.error}}S=!0}catch(V){if(Dm(V))return yield me(void 0);throw V}finally{S||a.abort()}})}return new Yr(f,a,s)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],a=[],s=this.iterator(),o=u=>({next:()=>{if(u.length===0){const f=s.next();t.push(f),a.push(f)}return u.shift()}});return[new Yr(()=>o(t),this.controller,this.client),new Yr(()=>o(a),this.controller,this.client)]}toReadableStream(){const t=this;let a;return ub({async start(){a=t[Symbol.asyncIterator]()},async pull(s){try{const{value:o,done:u}=await a.next();if(u)return s.close();const f=Cp(JSON.stringify(o)+`
`);s.enqueue(f)}catch(o){s.error(o)}},async cancel(){var s;await((s=a.return)===null||s===void 0?void 0:s.call(a))}})}}function QD(i,t){return wo(this,arguments,function*(){var s,o,u,f;if(!i.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Xn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Xn("Attempted to iterate over a response with no body");const m=new XD,y=new jh,g=cb(i.body);try{for(var T=!0,b=$r($D(g)),S;S=yield me(b.next()),s=S.done,!s;T=!0){f=S.value,T=!1;const w=f;for(const k of y.decode(w)){const q=m.decode(k);q&&(yield yield me(q))}}}catch(w){o={error:w}}finally{try{!T&&!s&&(u=b.return)&&(yield me(u.call(b)))}finally{if(o)throw o.error}}for(const w of y.flush()){const k=m.decode(w);k&&(yield yield me(k))}})}function $D(i){return wo(this,arguments,function*(){var a,s,o,u;let f=new Uint8Array;try{for(var m=!0,y=$r(i),g;g=yield me(y.next()),a=g.done,!a;m=!0){u=g.value,m=!1;const T=u;if(T==null)continue;const b=T instanceof ArrayBuffer?new Uint8Array(T):typeof T=="string"?Cp(T):T;let S=new Uint8Array(f.length+b.length);S.set(f),S.set(b,f.length),f=S;let w;for(;(w=YD(f))!==-1;)yield yield me(f.slice(0,w)),f=f.slice(w)}}catch(T){s={error:T}}finally{try{!m&&!a&&(o=y.return)&&(yield me(o.call(y)))}finally{if(s)throw s.error}}f.length>0&&(yield yield me(f))})}class XD{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const u={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],u}if(this.chunks.push(t),t.startsWith(":"))return null;let[a,s,o]=JD(t,":");return o.startsWith(" ")&&(o=o.substring(1)),a==="event"?this.event=o:a==="data"&&this.data.push(o),null}}function JD(i,t){const a=i.indexOf(t);return a!==-1?[i.substring(0,a),t,i.substring(a+t.length)]:[i,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function ZD(i,t){const{response:a,requestLogID:s,retryOfRequestLogID:o,startTime:u}=t,f=await(async()=>{var m;if(t.options.stream)return un(i).debug("response",a.status,a.url,a.headers,a.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(a,t.controller,i):Yr.fromSSEResponse(a,t.controller,i);if(a.status===204)return null;if(t.options.__binaryResponse)return a;const y=a.headers.get("content-type"),g=(m=y==null?void 0:y.split(";")[0])===null||m===void 0?void 0:m.trim();return(g==null?void 0:g.includes("application/json"))||(g==null?void 0:g.endsWith("+json"))?await a.json():await a.text()})();return un(i).debug(`[${s}] response parsed`,Gs({retryOfRequestLogID:o,url:a.url,status:a.status,body:f,durationMs:Date.now()-u})),f}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Dp extends Promise{constructor(t,a,s=ZD){super(o=>{o(null)}),this.responsePromise=a,this.parseResponse=s,this.client=t}_thenUnwrap(t){return new Dp(this.client,this.responsePromise,async(a,s)=>t(await this.parseResponse(a,s),s))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,a]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:a}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,a){return this.parse().then(t,a)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yb=Symbol("brand.privateNullableHeaders");function*WD(i){if(!i)return;if(yb in i){const{values:s,nulls:o}=i;yield*s.entries();for(const u of o)yield[u,null];return}let t=!1,a;i instanceof Headers?a=i.entries():Ov(i)?a=i:(t=!0,a=Object.entries(i??{}));for(let s of a){const o=s[0];if(typeof o!="string")throw new TypeError("expected header name to be a string");const u=Ov(s[1])?s[1]:[s[1]];let f=!1;for(const m of u)m!==void 0&&(t&&!f&&(f=!0,yield[o,null]),yield[o,m])}}const mo=i=>{const t=new Headers,a=new Set;for(const s of i){const o=new Set;for(const[u,f]of WD(s)){const m=u.toLowerCase();o.has(m)||(t.delete(u),o.add(m)),f===null?(t.delete(u),a.add(m)):(t.append(u,f),a.delete(m))}}return{[yb]:!0,values:t,nulls:a}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const em=i=>{var t,a,s,o,u,f;if(typeof globalThis.process<"u")return(s=(a=(t=_D)===null||t===void 0?void 0:t[i])===null||a===void 0?void 0:a.trim())!==null&&s!==void 0?s:void 0;if(typeof globalThis.Deno<"u")return(f=(u=(o=globalThis.Deno.env)===null||o===void 0?void 0:o.get)===null||u===void 0?void 0:u.call(o,i))===null||f===void 0?void 0:f.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var _b;class Uh{constructor(t){var a,s,o,u,f,m,y,{baseURL:g=em("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:T=(a=em("GEMINI_API_KEY"))!==null&&a!==void 0?a:null,apiVersion:b="v1beta"}=t,S=hh(t,["baseURL","apiKey","apiVersion"]);const w=Object.assign(Object.assign({apiKey:T,apiVersion:b},S),{baseURL:g||"https://generativelanguage.googleapis.com"});this.baseURL=w.baseURL,this.timeout=(s=w.timeout)!==null&&s!==void 0?s:Uh.DEFAULT_TIMEOUT,this.logger=(o=w.logger)!==null&&o!==void 0?o:console;const k="warn";this.logLevel=k,this.logLevel=(f=(u=Lv(w.logLevel,"ClientOptions.logLevel",this))!==null&&u!==void 0?u:Lv(em("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&f!==void 0?f:k,this.fetchOptions=w.fetchOptions,this.maxRetries=(m=w.maxRetries)!==null&&m!==void 0?m:2,this.fetch=(y=w.fetch)!==null&&y!==void 0?y:MD(),this.encoder=UD,this._options=w,this.apiKey=T,this.apiVersion=b,this.clientAdapter=w.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:a}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!a.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const a=mo([t.headers]);if(!(a.values.has("authorization")||a.values.has("x-goog-api-key"))){if(this.apiKey)return mo([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return mo([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([a,s])=>typeof s<"u").map(([a,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(a)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(a)}=`;throw new Xn(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Fr}`}defaultIdempotencyKey(){return`stainless-node-retry-${ED()}`}makeStatusError(t,a,s,o){return cn.generate(t,a,s,o)}buildURL(t,a,s){const o=!this.baseURLOverridden()&&s||this.baseURL,u=TD(t)?new URL(t):new URL(o+(o.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),f=this.defaultQuery();return SD(f)||(a=Object.assign(Object.assign({},f),a)),typeof a=="object"&&a&&!Array.isArray(a)&&(u.search=this.stringifyQuery(a)),u.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const a=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${a}`}}async prepareRequest(t,{url:a,options:s}){}get(t,a){return this.methodRequest("get",t,a)}post(t,a){return this.methodRequest("post",t,a)}patch(t,a){return this.methodRequest("patch",t,a)}put(t,a){return this.methodRequest("put",t,a)}delete(t,a){return this.methodRequest("delete",t,a)}methodRequest(t,a,s){return this.request(Promise.resolve(s).then(o=>Object.assign({method:t,path:a},o)))}request(t,a=null){return new Dp(this,this.makeRequest(t,a,void 0))}async makeRequest(t,a,s){var o,u,f;const m=await t,y=(o=m.maxRetries)!==null&&o!==void 0?o:this.maxRetries;a==null&&(a=y),await this.prepareOptions(m);const{req:g,url:T,timeout:b}=await this.buildRequest(m,{retryCount:y-a});await this.prepareRequest(g,{url:T,options:m});const S="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),w=s===void 0?"":`, retryOf: ${s}`,k=Date.now();if(un(this).debug(`[${S}] sending request`,Gs({retryOfRequestLogID:s,method:m.method,url:T,options:m,headers:g.headers})),!((u=m.signal)===null||u===void 0)&&u.aborted)throw new Mm;const q=new AbortController,V=await this.fetchWithTimeout(T,g,b,q).catch(Om),et=Date.now();if(V instanceof globalThis.Error){const Q=`retrying, ${a} attempts remaining`;if(!((f=m.signal)===null||f===void 0)&&f.aborted)throw new Mm;const dt=Dm(V)||/timed? ?out/i.test(String(V)+("cause"in V?String(V.cause):""));if(a)return un(this).info(`[${S}] connection ${dt?"timed out":"failed"} - ${Q}`),un(this).debug(`[${S}] connection ${dt?"timed out":"failed"} (${Q})`,Gs({retryOfRequestLogID:s,url:T,durationMs:et-k,message:V.message})),this.retryRequest(m,a,s??S);throw un(this).info(`[${S}] connection ${dt?"timed out":"failed"} - error; no more retries left`),un(this).debug(`[${S}] connection ${dt?"timed out":"failed"} (error; no more retries left)`,Gs({retryOfRequestLogID:s,url:T,durationMs:et-k,message:V.message})),dt?new tb:new Vh({cause:V})}const at=`[${S}${w}] ${g.method} ${T} ${V.ok?"succeeded":"failed"} with status ${V.status} in ${et-k}ms`;if(!V.ok){const Q=await this.shouldRetry(V);if(a&&Q){const R=`retrying, ${a} attempts remaining`;return await jD(V.body),un(this).info(`${at} - ${R}`),un(this).debug(`[${S}] response error (${R})`,Gs({retryOfRequestLogID:s,url:V.url,status:V.status,headers:V.headers,durationMs:et-k})),this.retryRequest(m,a,s??S,V.headers)}const dt=Q?"error; no more retries left":"error; not retryable";un(this).info(`${at} - ${dt}`);const mt=await V.text().catch(R=>Om(R).message),_t=ND(mt),I=_t?void 0:mt;throw un(this).debug(`[${S}] response error (${dt})`,Gs({retryOfRequestLogID:s,url:V.url,status:V.status,headers:V.headers,message:I,durationMs:Date.now()-k})),this.makeStatusError(V.status,_t,I,V.headers)}return un(this).info(at),un(this).debug(`[${S}] response start`,Gs({retryOfRequestLogID:s,url:V.url,status:V.status,headers:V.headers,durationMs:et-k})),{response:V,options:m,controller:q,requestLogID:S,retryOfRequestLogID:s,startTime:k}}async fetchWithTimeout(t,a,s,o){const u=a||{},{signal:f,method:m}=u,y=hh(u,["signal","method"]);f&&f.addEventListener("abort",()=>o.abort());const g=setTimeout(()=>o.abort(),s),T=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,b=Object.assign(Object.assign(Object.assign({signal:o.signal},T?{duplex:"half"}:{}),{method:"GET"}),y);m&&(b.method=m.toUpperCase());try{return await this.fetch.call(void 0,t,b)}finally{clearTimeout(g)}}async shouldRetry(t){const a=t.headers.get("x-should-retry");return a==="true"?!0:a==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,a,s,o){var u;let f;const m=o==null?void 0:o.get("retry-after-ms");if(m){const g=parseFloat(m);Number.isNaN(g)||(f=g)}const y=o==null?void 0:o.get("retry-after");if(y&&!f){const g=parseFloat(y);Number.isNaN(g)?f=Date.parse(y)-Date.now():f=g*1e3}if(!(f&&0<=f&&f<60*1e3)){const g=(u=t.maxRetries)!==null&&u!==void 0?u:this.maxRetries;f=this.calculateDefaultRetryTimeoutMillis(a,g)}return await RD(f),this.makeRequest(t,a-1,s)}calculateDefaultRetryTimeoutMillis(t,a){const u=a-t,f=Math.min(.5*Math.pow(2,u),8),m=1-Math.random()*.25;return f*m*1e3}async buildRequest(t,{retryCount:a=0}={}){var s,o,u;const f=Object.assign({},t),{method:m,path:y,query:g,defaultBaseURL:T}=f,b=this.buildURL(y,g,T);"timeout"in f&&wD("timeout",f.timeout),f.timeout=(s=f.timeout)!==null&&s!==void 0?s:this.timeout;const{bodyHeaders:S,body:w}=this.buildBody({options:f}),k=await this.buildHeaders({options:t,method:m,bodyHeaders:S,retryCount:a});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:m,headers:k},f.signal&&{signal:f.signal}),globalThis.ReadableStream&&w instanceof globalThis.ReadableStream&&{duplex:"half"}),w&&{body:w}),(o=this.fetchOptions)!==null&&o!==void 0?o:{}),(u=f.fetchOptions)!==null&&u!==void 0?u:{}),url:b,timeout:f.timeout}}async buildHeaders({options:t,method:a,bodyHeaders:s,retryCount:o}){let u={};this.idempotencyHeader&&a!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),u[this.idempotencyHeader]=t.idempotencyKey);const f=await this.authHeaders(t);let m=mo([u,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(o)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),OD()),this._options.defaultHeaders,s,t.headers,f]);return this.validateHeaders(m),m.values}buildBody({options:{body:t,headers:a}}){if(!t)return{bodyHeaders:void 0,body:void 0};const s=mo([a]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&s.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:VD(t)}:this.encoder({body:t,headers:s})}}Uh.DEFAULT_TIMEOUT=6e4;class We extends Uh{constructor(){super(...arguments),this.interactions=new gb(this)}}_b=We;We.GeminiNextGenAPIClient=_b;We.GeminiNextGenAPIClientError=Xn;We.APIError=cn;We.APIConnectionError=Vh;We.APIConnectionTimeoutError=tb;We.APIUserAbortError=Mm;We.NotFoundError=ab;We.ConflictError=sb;We.RateLimitError=lb;We.BadRequestError=eb;We.AuthenticationError=nb;We.InternalServerError=ob;We.PermissionDeniedError=ib;We.UnprocessableEntityError=rb;We.toFile=BD;We.Interactions=gb;const tO=()=>null,eO=async(i,t)=>{try{const a=tO();if(!a)throw new Error("API Key not found");return(await a.models.generateContent({model:"gemini-2.0-flash-exp",contents:`
        
        
        - ${i.name}
        - ${t.name}
        - ${i.points}
        - ${i.totalEarned}

        30-50
        
      `})).text()||""}catch(a){return console.error("Gemini Error:",a),""}},nO=({user:i,rank:t,onUserUpdate:a})=>{const[s,o]=z.useState("..."),[u,f]=z.useState([]),[m,y]=z.useState(null),g=Ks[Ks.indexOf(t)+1]||null,T=g?Math.min(100,(i.totalEarned-t.threshold)/(g.threshold-t.threshold)*100):100;z.useEffect(()=>{(async()=>{const k=await eO(i,t);o(k)})();const w=JT(k=>{f(k.filter(q=>q.isActive))});return()=>w()},[i.id,t]);const b=async S=>{if(m)return;if(await RE(i.id,S.id)){alert("");return}y(S.id);const k=S.points;setTimeout(async()=>{await uD({id:`h_${Date.now()}`,userId:i.id,missionId:S.id,timestamp:Date.now()});const q={...i,points:i.points+k,totalEarned:i.totalEarned+k};await xo(q),a(),y(null),alert(` 
 ${k} `)},1e3)};return _.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-10",children:[_.jsxs("header",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4",children:[_.jsxs("div",{children:[_.jsxs("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:["",i.name,""]}),_.jsxs("p",{className:"text-slate-500 mt-1 italic max-w-xl font-medium",children:['"',s,'"']})]}),_.jsxs("div",{className:"bg-amber-50 border border-amber-100 rounded-2xl px-5 py-3 flex items-center gap-3 self-end md:self-start shadow-sm",children:[_.jsx("div",{className:"bg-amber-500 p-2 rounded-xl text-white shadow-lg shadow-amber-200",children:_.jsx(_2,{size:20})}),_.jsxs("div",{children:[_.jsx("p",{className:"text-[10px] text-amber-700 font-black uppercase tracking-widest",children:""}),_.jsxs("p",{className:"text-2xl font-black text-amber-900 leading-none",children:[i.totalEarned.toLocaleString()," ",_.jsx("span",{className:"text-xs font-bold opacity-60",children:"PTS"})]})]})]})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[_.jsxs("div",{className:"md:col-span-2 bg-white rounded-[2.5rem] p-10 border border-slate-100 shadow-xl shadow-slate-200/40 relative overflow-hidden",children:[_.jsxs("div",{className:"flex items-center justify-between mb-12",children:[_.jsxs("div",{children:[_.jsx("h3",{className:"text-slate-400 text-[10px] font-black uppercase tracking-[0.2em] mb-2",children:""}),_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx("span",{className:"text-4xl filter drop-shadow-md",children:t.icon}),_.jsx("span",{className:`text-2xl font-black px-6 py-2 rounded-2xl text-white ${t.color} shadow-xl shadow-indigo-100 border-2 border-white/20`,children:t.name})]})]}),g&&_.jsxs("div",{className:"text-right",children:[_.jsx("h3",{className:"text-slate-400 text-[10px] font-black uppercase tracking-[0.2em] mb-2",children:""}),_.jsxs("div",{className:"flex items-center gap-3 justify-end group",children:[_.jsx("span",{className:"text-lg font-black text-slate-700 group-hover:text-indigo-600 transition-colors",children:g.name}),_.jsx("span",{className:"text-2xl animate-bounce",children:g.icon})]})]})]}),_.jsxs("div",{className:"relative pt-12 pb-6 px-2",children:[_.jsx("div",{className:"h-5 bg-slate-100 rounded-full w-full overflow-hidden border border-slate-200 shadow-inner p-1",children:_.jsx("div",{className:`h-full ${t.color} transition-all duration-1000 ease-out rounded-full relative overflow-hidden`,style:{width:`${T}%`},children:_.jsx("div",{className:"absolute inset-0 bg-white/20 animate-pulse"})})}),_.jsx("div",{className:"absolute top-0 transition-all duration-1000 ease-out",style:{left:`calc(${T}% - 30px)`},children:_.jsxs("div",{className:"relative group cursor-pointer",children:[_.jsx("div",{className:"p-1.5 bg-white rounded-full shadow-2xl border border-slate-50 transition-transform group-hover:scale-110 active:scale-95",children:_.jsx("img",{src:i.avatar,className:`w-14 h-14 rounded-full border-4 border-opacity-30 object-cover ${t.color.replace("bg-","border-")}`,alt:"me"})}),_.jsxs("div",{className:`absolute -top-10 left-1/2 -translate-x-1/2 px-3 py-1 rounded-xl text-[11px] font-black text-white shadow-xl ${t.color} whitespace-nowrap`,children:[" ",Math.round(T),"%"]})]})})]}),_.jsx("p",{className:"text-center text-xs text-slate-400 font-bold mt-8 tracking-wide",children:g?`${g.name} ${g.threshold-i.totalEarned} `:""})]}),_.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 via-indigo-700 to-indigo-900 rounded-[2.5rem] p-10 text-white shadow-2xl shadow-indigo-300 flex flex-col justify-center items-center text-center relative overflow-hidden",children:[_.jsx("div",{className:"absolute -top-10 -right-10 w-40 h-40 bg-white/10 rounded-full blur-3xl"}),_.jsx("div",{className:"absolute -bottom-10 -left-10 w-40 h-40 bg-indigo-500/20 rounded-full blur-3xl"}),_.jsx("div",{className:"w-20 h-20 bg-white/20 backdrop-blur-xl rounded-[2rem] flex items-center justify-center mb-6 border border-white/20 shadow-xl",children:_.jsx(G2,{size:40,className:"text-white drop-shadow-md"})}),_.jsx("h3",{className:"text-indigo-200 text-sm font-black mb-1 uppercase tracking-widest",children:""}),_.jsx("p",{className:"text-6xl font-black mb-4 drop-shadow-lg",children:i.points.toLocaleString()}),_.jsx("div",{className:"px-5 py-1.5 bg-indigo-500/40 backdrop-blur rounded-full text-[10px] font-black tracking-[0.2em] uppercase border border-white/10",children:"SHOPPING POWER"})]})]}),_.jsxs("section",{className:"mt-16",children:[_.jsxs("div",{className:"flex items-center justify-between mb-8",children:[_.jsxs("h2",{className:"text-2xl font-black text-slate-800 flex items-center gap-3",children:[_.jsx(Kc,{className:"text-indigo-500",size:28}),""]}),_.jsx("div",{className:"flex items-center gap-4 text-xs font-bold text-slate-400",children:_.jsxs("span",{className:"flex items-center gap-1",children:[_.jsx(P2,{size:12,className:"text-amber-500"})," "]})})]}),_.jsx("div",{className:"grid grid-cols-1 gap-6",children:u.map(S=>{const[w,k]=nm.useState(!1);return nm.useEffect(()=>{RE(i.id,S.id).then(k)},[S.id]),_.jsx("div",{className:`bg-white border-2 border-slate-50 p-8 rounded-[2.5rem] transition-all group relative overflow-hidden ${w?"opacity-60 grayscale":"shadow-sm hover:shadow-xl"} ${S.id===m?"animate-pulse":""}`,children:_.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-8",children:[_.jsxs("div",{className:"flex gap-8 items-start",children:[_.jsx("div",{className:`w-20 h-20 rounded-3xl flex items-center justify-center shrink-0 shadow-inner ${S.type==="normal"?"bg-emerald-50 text-emerald-600":S.type==="challenge"?"bg-orange-50 text-orange-600":"bg-rose-50 text-rose-600"}`,children:w?_.jsx(Zx,{size:36}):S.type==="normal"?_.jsx(Kc,{size:36}):S.type==="challenge"?_.jsx(r2,{size:36}):_.jsx(F2,{size:36})}),_.jsxs("div",{children:[_.jsx("div",{className:"flex items-center gap-3 mb-2",children:_.jsx("span",{className:`px-3 py-1 rounded-lg text-[10px] font-black uppercase tracking-widest ${S.type==="normal"?"bg-emerald-100 text-emerald-700":S.type==="challenge"?"bg-orange-100 text-orange-700":"bg-rose-100 text-rose-700"}`,children:S.type==="normal"?"":S.type==="challenge"?"":""})}),_.jsx("h3",{className:"text-2xl font-black text-slate-800 transition-colors",children:S.title}),_.jsx("p",{className:"text-slate-500 mt-2 leading-relaxed text-lg font-medium max-w-2xl",children:S.description})]})]}),_.jsxs("div",{className:"flex flex-col md:items-end gap-6 shrink-0",children:[_.jsxs("div",{className:"flex flex-col items-end",children:[_.jsx("span",{className:"text-xs font-bold text-slate-400 mb-1 uppercase tracking-tighter",children:""}),_.jsxs("div",{className:"flex items-baseline gap-2",children:[_.jsx("span",{className:"text-4xl font-black text-indigo-600 tracking-tighter",children:S.points}),_.jsx("span",{className:"text-sm font-bold text-slate-400",children:"PTS"})]})]}),_.jsxs("button",{onClick:()=>b(S),disabled:m!==null||w,className:`px-10 py-5 rounded-2xl font-black transition-all flex items-center gap-3 shadow-xl ${w?"bg-slate-200 text-slate-500 cursor-not-allowed shadow-none":S.type==="normal"?"bg-emerald-600 hover:bg-emerald-700 shadow-emerald-100":S.type==="challenge"?"bg-orange-600 hover:bg-orange-700 shadow-orange-100":"bg-rose-600 hover:bg-rose-700 shadow-rose-100"} text-white text-lg active:scale-95 disabled:active:scale-100`,children:[w?"":m===S.id?"...":"",!w&&_.jsx(Qx,{size:20})]})]})]})},S.id)})})]})]})},iO=({user:i,onUserUpdate:t})=>{const[a,s]=z.useState(null),[o,u]=z.useState("all"),[f,m]=z.useState([]);z.useEffect(()=>{const T=ZT(b=>{m(b)});return()=>T()},[]);const y=f.filter(T=>o==="all"||T.category===o),g=async()=>{if(i.role==="GUEST"){alert("");return}if(!a||i.points<a.price||a.stock<=0)return;const T={id:`red_${Date.now()}`,userId:i.id,productId:a.id,productName:a.name,pointsSpent:a.price,timestamp:Date.now(),status:"pending",qrCodeData:`AUTH_WORKSHOP_${Date.now()}_${a.id}`},b={...i,points:i.points-a.price};await nD(T),await xo(b),await fD(a.id,1),t(),s(null),alert("  QR Code")};return _.jsxs("div",{className:"space-y-8 pb-20",children:[_.jsxs("header",{children:[_.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:""}),_.jsx("p",{className:"text-slate-500 mt-1",children:""})]}),_.jsx("div",{className:"flex flex-wrap gap-2",children:["all","food","electronic","ticket","other"].map(T=>_.jsx("button",{onClick:()=>u(T),className:`px-6 py-2.5 rounded-2xl text-sm font-bold transition-all ${o===T?"bg-indigo-600 text-white shadow-lg shadow-indigo-100":"bg-white text-slate-600 border border-slate-200 hover:border-indigo-300"}`,children:T==="all"?"":T==="food"?"":T==="electronic"?"":T==="ticket"?"":""},T))}),_.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:y.map(T=>{const b=i.points>=T.price,S=T.stock<=0;return _.jsxs("div",{className:`bg-white rounded-[2rem] border border-slate-100 overflow-hidden shadow-sm hover:shadow-2xl transition-all flex flex-col group ${S?"opacity-75 grayscale-[0.5]":""}`,children:[_.jsxs("div",{className:"relative h-56 overflow-hidden",children:[_.jsx("img",{src:T.imageUrl,alt:T.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}),_.jsx("div",{className:"absolute top-5 left-5",children:_.jsx("span",{className:"bg-white/90 backdrop-blur text-indigo-600 text-[10px] px-3 py-1.5 rounded-full font-black tracking-widest shadow-sm",children:T.category.toUpperCase()})}),S&&_.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center",children:_.jsx("span",{className:"text-white font-black text-2xl rotate-12 border-4 border-white px-4 py-1",children:"SOLD OUT"})})]}),_.jsxs("div",{className:"p-8 flex flex-col flex-1",children:[_.jsx("div",{className:"flex justify-between items-start mb-2",children:_.jsx("h3",{className:"font-black text-xl text-slate-800 leading-tight",children:T.name})}),_.jsx("p",{className:"text-slate-500 text-sm mb-6 flex-1 leading-relaxed",children:T.description}),_.jsxs("div",{className:"flex items-center gap-2 mb-6 text-slate-400 text-xs font-bold",children:[_.jsx(sm,{size:14}),_.jsxs("span",{children:["",_.jsxs("span",{className:T.stock<=5?"text-red-500":"text-slate-600",children:[T.stock," "]})]})]}),_.jsxs("div",{className:"flex items-center justify-between mt-auto",children:[_.jsxs("div",{className:"flex items-center gap-1 text-indigo-600",children:[_.jsx("span",{className:"text-2xl font-black",children:T.price.toLocaleString()}),_.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-tighter",children:"pts"})]}),_.jsx("button",{onClick:()=>s(T),disabled:!b||S,className:`px-6 py-3 rounded-2xl font-black text-sm transition-all shadow-md ${S?"bg-slate-100 text-slate-400 cursor-not-allowed shadow-none":b?"bg-indigo-600 text-white hover:bg-indigo-700 hover:shadow-indigo-200 active:scale-95":"bg-slate-100 text-slate-400 cursor-not-allowed shadow-none"}`,children:S?"":""})]})]})]},T.id)})}),a&&_.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm",children:_.jsxs("div",{className:"bg-white rounded-[2.5rem] max-w-md w-full p-10 shadow-2xl animate-in zoom-in-95 duration-200",children:[_.jsxs("div",{className:"flex justify-between items-start mb-8",children:[_.jsx("div",{className:"bg-indigo-50 p-4 rounded-2xl text-indigo-600",children:_.jsx(j2,{size:28})}),_.jsx("button",{onClick:()=>s(null),className:"text-slate-400 hover:text-slate-600 bg-slate-50 p-2 rounded-full",children:_.jsx(ko,{size:24})})]}),_.jsx("h2",{className:"text-2xl font-black text-slate-800 mb-2",children:""}),_.jsxs("p",{className:"text-slate-500 mb-8 leading-relaxed",children:[" ",_.jsxs("span",{className:"font-black text-indigo-600",children:[a.price," "]}),"  ",_.jsxs("span",{className:"font-black text-slate-800",children:["",a.name,""]})," "]}),_.jsxs("div",{className:"bg-slate-50 rounded-[1.5rem] p-6 mb-8 border border-slate-100",children:[_.jsxs("div",{className:"flex justify-between text-sm mb-3",children:[_.jsx("span",{className:"text-slate-500 font-medium",children:""}),_.jsx("span",{className:"font-bold text-slate-800",children:i.points.toLocaleString()})]}),_.jsxs("div",{className:"flex justify-between text-sm mb-5",children:[_.jsx("span",{className:"text-slate-500 font-medium",children:""}),_.jsxs("span",{className:"font-bold text-red-500",children:["-",a.price.toLocaleString()]})]}),_.jsxs("div",{className:"border-t border-slate-200 pt-5 flex justify-between",children:[_.jsx("span",{className:"font-black text-slate-700 text-lg",children:""}),_.jsx("span",{className:"font-black text-indigo-600 text-2xl",children:(i.points-a.price).toLocaleString()})]})]}),_.jsxs("div",{className:"flex flex-col gap-3",children:[_.jsxs("button",{onClick:g,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-black py-5 rounded-[1.25rem] transition-all shadow-xl shadow-indigo-100 flex items-center justify-center gap-3 text-lg",children:[_.jsx(Lc,{size:24}),""]}),_.jsx("button",{onClick:()=>s(null),className:"w-full bg-white border border-slate-200 text-slate-600 font-black py-4 rounded-[1.25rem] hover:bg-slate-50 transition-all",children:""})]})]})})]})},aO=({user:i})=>{const[t,a]=z.useState([]),[s,o]=z.useState(null);z.useEffect(()=>{a(eD().filter(f=>f.userId===i.id))},[i.id]);const u=f=>new Date(f).toLocaleString("zh-TW",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return _.jsxs("div",{className:"space-y-8 animate-in slide-in-from-bottom-4 duration-500",children:[_.jsxs("header",{children:[_.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:""}),_.jsx("p",{className:"text-slate-500 mt-1",children:""})]}),t.length===0?_.jsxs("div",{className:"bg-white rounded-3xl p-12 text-center border border-dashed border-slate-200",children:[_.jsx("div",{className:"bg-slate-50 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6 text-slate-300",children:_.jsx(Fc,{size:40})}),_.jsx("h2",{className:"text-xl font-bold text-slate-800",children:""}),_.jsx("p",{className:"text-slate-400 mt-2",children:""})]}):_.jsx("div",{className:"space-y-4",children:t.map(f=>_.jsxs("div",{className:"bg-white rounded-3xl border border-slate-100 p-6 flex flex-col md:flex-row md:items-center justify-between gap-6 shadow-sm hover:shadow-md transition-shadow",children:[_.jsxs("div",{className:"flex gap-4",children:[_.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center shrink-0 ${f.status==="completed"?"bg-green-50 text-green-600":f.status==="pending"?"bg-indigo-50 text-indigo-600":"bg-red-50 text-red-600"}`,children:f.status==="completed"?_.jsx(t2,{size:24}):f.status==="pending"?_.jsx(n2,{size:24}):_.jsx(Xx,{size:24})}),_.jsxs("div",{children:[_.jsx("h3",{className:"font-bold text-slate-800 text-lg",children:f.productName}),_.jsxs("div",{className:"flex items-center gap-3 text-xs text-slate-400 mt-1",children:[_.jsxs("span",{className:"flex items-center gap-1",children:[_.jsx(qx,{size:12})," ",u(f.timestamp)]}),_.jsxs("span",{className:"font-bold text-indigo-600",children:["-",f.pointsSpent," "]})]})]})]}),_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx("div",{className:`px-4 py-1.5 rounded-full text-xs font-bold ${f.status==="completed"?"bg-green-100 text-green-700":f.status==="pending"?"bg-indigo-100 text-indigo-700":"bg-red-100 text-red-700"}`,children:f.status==="completed"?"":f.status==="pending"?"":""}),f.status==="pending"&&_.jsxs("button",{onClick:()=>o(f),className:"flex items-center gap-2 bg-indigo-600 hover:bg-indigo-700 text-white px-5 py-2.5 rounded-xl text-sm font-bold transition-all shadow-lg shadow-indigo-100",children:[_.jsx(S2,{size:18}),""]})]})]},f.id))}),s&&_.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm",children:_.jsxs("div",{className:"bg-white rounded-[2.5rem] max-w-sm w-full p-10 shadow-2xl animate-in zoom-in-95 duration-200 text-center",children:[_.jsx("div",{className:"flex justify-end mb-4 -mt-4 -mr-4",children:_.jsx("button",{onClick:()=>o(null),className:"text-slate-400 hover:text-slate-600 p-2",children:_.jsx(ko,{size:28})})}),_.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-2",children:""}),_.jsx("p",{className:"text-slate-500 mb-8 text-sm",children:""}),_.jsx("div",{className:"aspect-square bg-white border-8 border-indigo-50 rounded-3xl flex items-center justify-center mb-8 shadow-inner overflow-hidden",children:_.jsxs("svg",{width:"200",height:"200",viewBox:"0 0 200 200",className:"w-full h-full p-4",children:[_.jsx("rect",{x:"0",y:"0",width:"200",height:"200",fill:"white"}),_.jsx("path",{d:"M20 20h60v60h-60zM40 40h20v20h-20zM120 20h60v60h-60zM140 40h20v20h-20zM20 120h60v60h-60zM40 140h20v20h-20zM120 120h60v60h-60zM140 140h20v20h-20z",fill:"#4f46e5"}),_.jsx("path",{d:"M90 20h20v20h-20zM20 90h20v20h-20zM170 90h10v10h-10zM110 170h10v10h-10zM50 110h10v10h-10zM90 90h20v20h-20zM120 90h10v10h-10z",fill:"#4f46e5"}),_.jsx("rect",{x:"70",y:"70",width:"60",height:"60",rx:"10",fill:"#4f46e5",className:"opacity-20"})]})}),_.jsx("div",{className:"bg-slate-50 p-4 rounded-2xl text-slate-400 font-mono text-xs mb-8 tracking-widest uppercase",children:s.qrCodeData}),_.jsx("p",{className:"font-bold text-slate-800 mb-1",children:s.productName}),_.jsxs("p",{className:"text-xs text-slate-400",children:["ID: ",s.id]})]})})]})},sO=({onRefresh:i})=>{var ya;const[t,a]=z.useState("roster"),[s,o]=z.useState(!1),[u,f]=z.useState([]),[m,y]=z.useState([]),[g,T]=z.useState([]),[b,S]=z.useState([]),[w,k]=z.useState([]),[q,V]=z.useState(""),[et,at]=z.useState(null),[Q,dt]=z.useState(""),[mt,_t]=z.useState(""),[I,N]=z.useState("normal"),[R,U]=z.useState(!1),[O,P]=z.useState(""),[C,ie]=z.useState("100"),[ye,$]=z.useState(""),[rt,pt]=z.useState(""),[Dt,Gt]=z.useState(""),[j,Z]=z.useState(""),[lt,ot]=z.useState(""),[vt,bt]=z.useState(!1);z.useEffect(()=>{const W=pD(tn=>{y(tn.filter(ce=>ce.role===Qn.STUDENT&&ce.isApproved)),T(tn.filter(ce=>ce.role===Qn.STUDENT&&!ce.isApproved));const fs=tn.filter(ce=>ce.role===Qn.STUDENT&&ce.isApproved);fs.length>0&&!O&&P(fs[0].id)}),St=yD(f),Ht=ZT(S),bn=JT(k);return()=>{W(),St(),Ht(),bn()}},[]);const Vt=async()=>{o(!0),setTimeout(()=>{const W=u.find(St=>St.status==="pending");W?at(W):alert(""),o(!1)},2e3)},_e=async W=>{await iD(W,"completed"),at(null),i(),alert(" ")},se=async()=>{var bn;const W=parseInt(C);if(isNaN(W)||!O)return;const St=m.map(tn=>tn.id===O?{...tn,points:tn.points+W,totalEarned:W>0?tn.totalEarned+W:tn.totalEarned}:tn);await XC(St),i();const Ht=(bn=m.find(tn=>tn.id===O))==null?void 0:bn.name;alert(`  ${Ht}  ${W} 
${ye}`),ie("")},ki=async W=>{await ZC(W),alert("")},ma=async W=>{confirm("/")&&await WC(W)},pa=async W=>{if(W.preventDefault(),!rt||!Dt||!j)return;const St={id:`prod_${Date.now()}`,name:rt,price:parseInt(Dt),stock:parseInt(j),category:"other",description:"",imageUrl:lt||"https://images.unsplash.com/photo-1553456558-aff63285bdd1?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3"};await hD(St),bt(!1),pt(""),Gt(""),Z(""),ot(""),alert("")},ga=async W=>{if(W.preventDefault(),!Q||!mt)return;const St={id:`m_${Date.now()}`,title:Q,description:"",points:parseInt(mt),type:I,isActive:!0,maxAttempts:1};await rD(St),U(!1),dt(""),_t(""),N("normal"),alert("")},Mn=async W=>{await lD(W)},hs=u.filter(W=>{var St,Ht;return(((St=W.productName)==null?void 0:St.toLowerCase())||"").includes(q.toLowerCase())||(((Ht=W.id)==null?void 0:Ht.toLowerCase())||"").includes(q.toLowerCase())}),zi=W=>Ks.reduce((St,Ht)=>W>=Ht.threshold?Ht:St,Ks[0]);return _.jsxs("div",{className:"space-y-8 pb-20 animate-in fade-in duration-500",children:[_.jsx("header",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:_.jsxs("div",{children:[_.jsxs("h1",{className:"text-4xl font-black text-slate-800 flex items-center gap-4",children:[_.jsx("div",{className:"bg-indigo-600 p-3 rounded-2xl text-white shadow-xl shadow-indigo-100",children:_.jsx(Yc,{size:32})}),""]}),_.jsx("p",{className:"text-slate-500 mt-2 italic font-medium",children:""})]})}),_.jsxs("div",{className:"flex bg-white p-2 rounded-3xl border border-slate-100 shadow-md overflow-x-auto gap-2",children:[_.jsxs("button",{onClick:()=>a("roster"),className:`flex items-center justify-center gap-3 py-4 px-6 rounded-2xl font-black transition-all whitespace-nowrap ${t==="roster"?"bg-indigo-600 text-white shadow-xl shadow-indigo-100":"text-slate-400 hover:text-slate-600 hover:bg-slate-50"}`,children:[_.jsx(X2,{size:18})," ",_.jsx("span",{children:""})]}),_.jsxs("button",{onClick:()=>a("approval"),className:`flex items-center justify-center gap-3 py-4 px-6 rounded-2xl font-black transition-all whitespace-nowrap ${t==="approval"?"bg-indigo-600 text-white shadow-xl shadow-indigo-100":"text-slate-400 hover:text-slate-600 hover:bg-slate-50 relative"}`,children:[_.jsx(om,{size:18})," ",_.jsx("span",{children:""}),g.length>0&&_.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full text-white text-[10px] flex items-center justify-center border-2 border-white",children:g.length})]}),_.jsxs("button",{onClick:()=>a("points"),className:`flex items-center justify-center gap-3 py-4 px-6 rounded-2xl font-black transition-all whitespace-nowrap ${t==="points"?"bg-indigo-600 text-white shadow-xl shadow-indigo-100":"text-slate-400 hover:text-slate-600 hover:bg-slate-50"}`,children:[_.jsx(u2,{size:18})," ",_.jsx("span",{children:""})]}),_.jsxs("button",{onClick:()=>a("products"),className:`flex items-center justify-center gap-3 py-4 px-6 rounded-2xl font-black transition-all whitespace-nowrap ${t==="products"?"bg-indigo-600 text-white shadow-xl shadow-indigo-100":"text-slate-400 hover:text-slate-600 hover:bg-slate-50"}`,children:[_.jsx(sm,{size:18})," ",_.jsx("span",{children:""})]}),_.jsxs("button",{onClick:()=>a("scan"),className:`flex items-center justify-center gap-3 py-4 px-6 rounded-2xl font-black transition-all whitespace-nowrap ${t==="scan"?"bg-indigo-600 text-white shadow-xl shadow-indigo-100":"text-slate-400 hover:text-slate-600 hover:bg-slate-50"}`,children:[_.jsx(p_,{size:18})," ",_.jsx("span",{children:""})]}),_.jsxs("button",{onClick:()=>a("history"),className:`flex items-center justify-center gap-3 py-4 px-6 rounded-2xl font-black transition-all whitespace-nowrap ${t==="history"?"bg-indigo-600 text-white shadow-xl shadow-indigo-100":"text-slate-400 hover:text-slate-600 hover:bg-slate-50"}`,children:[_.jsx(Fc,{size:18})," ",_.jsx("span",{children:""})]}),_.jsxs("button",{onClick:()=>a("missions"),className:`flex items-center justify-center gap-3 py-4 px-6 rounded-2xl font-black transition-all whitespace-nowrap ${t==="missions"?"bg-indigo-600 text-white shadow-xl shadow-indigo-100":"text-slate-400 hover:text-slate-600 hover:bg-slate-50"}`,children:[_.jsx(Kc,{size:18})," ",_.jsx("span",{children:""})]})]}),t==="roster"&&_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 animate-in slide-in-from-bottom-4",children:m.map(W=>{const St=zi(W.totalEarned);return _.jsxs("div",{className:"bg-white rounded-[2.5rem] p-8 border border-slate-100 shadow-sm hover:shadow-xl transition-all group overflow-hidden relative",children:[_.jsx("div",{className:`absolute top-0 right-0 w-24 h-24 ${St.color} opacity-5 -translate-y-12 translate-x-12 rounded-full`}),_.jsxs("div",{className:"flex flex-col items-center text-center",children:[_.jsxs("div",{className:"relative mb-6",children:[_.jsx("div",{className:`absolute inset-0 rounded-full blur-xl opacity-20 ${St.color}`}),_.jsx("img",{src:W.avatar,className:"w-24 h-24 rounded-full border-4 border-white shadow-2xl relative z-10 object-cover",alt:W.name}),_.jsx("div",{className:"absolute -bottom-2 -right-2 w-10 h-10 rounded-2xl bg-white shadow-lg flex items-center justify-center text-xl z-20 border border-slate-50",children:St.icon})]}),_.jsx("h3",{className:"text-2xl font-black text-slate-800 mb-1",children:W.name}),_.jsx("div",{className:`px-4 py-1 rounded-full text-[10px] font-black text-white uppercase tracking-widest mb-6 ${St.color} shadow-sm`,children:St.name}),_.jsxs("div",{className:"w-full grid grid-cols-2 gap-4",children:[_.jsxs("div",{className:"bg-indigo-50/50 p-4 rounded-2xl border border-indigo-50",children:[_.jsx("p",{className:"text-[10px] font-black text-indigo-400 uppercase tracking-widest mb-1",children:""}),_.jsx("p",{className:"text-xl font-black text-indigo-600",children:W.points.toLocaleString()})]}),_.jsxs("div",{className:"bg-amber-50/50 p-4 rounded-2xl border border-amber-50",children:[_.jsx("p",{className:"text-[10px] font-black text-amber-400 uppercase tracking-widest mb-1",children:""}),_.jsx("p",{className:"text-xl font-black text-amber-600",children:W.totalEarned.toLocaleString()})]})]})]}),_.jsxs("div",{className:"mt-8 pt-6 border-t border-slate-50 flex justify-between items-center",children:[_.jsxs("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-tighter",children:["ID: ",W.id.replace("user_","")]}),_.jsxs("button",{onClick:()=>{P(W.id),a("points")},className:"text-indigo-600 font-black text-xs hover:underline flex items-center gap-1",children:[_.jsx(g_,{size:14})," "]})]})]},W.id)})}),t==="points"&&_.jsxs("div",{className:"bg-white rounded-[3rem] p-12 border border-slate-100 shadow-xl animate-in slide-in-from-bottom-4",children:[_.jsxs("div",{className:"flex items-center gap-6 mb-12",children:[_.jsx("div",{className:"w-20 h-20 bg-emerald-50 text-emerald-600 rounded-3xl flex items-center justify-center shadow-inner",children:_.jsx(g_,{size:40})}),_.jsxs("div",{children:[_.jsx("h2",{className:"text-3xl font-black text-slate-800 tracking-tight",children:""}),_.jsx("p",{className:"text-slate-400 font-medium",children:""})]})]}),_.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16",children:[_.jsxs("div",{className:"space-y-8",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-[0.2em] mb-4",children:""}),_.jsx("div",{className:"grid grid-cols-3 gap-4",children:m.map(W=>_.jsxs("button",{onClick:()=>P(W.id),className:`flex flex-col items-center gap-3 p-4 rounded-3xl border-2 transition-all ${O===W.id?"border-indigo-600 bg-indigo-50 shadow-lg shadow-indigo-100":"border-slate-50 bg-slate-50/50 hover:bg-white hover:border-slate-200"}`,children:[_.jsx("img",{src:W.avatar,className:"w-12 h-12 rounded-full shadow-sm",alt:W.name}),_.jsx("span",{className:`font-black text-sm ${O===W.id?"text-indigo-600":"text-slate-600"}`,children:W.name})]},W.id))})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-[0.2em] mb-4",children:""}),_.jsxs("select",{value:ye,onChange:W=>$(W.target.value),className:"w-full p-5 bg-slate-50 border-2 border-transparent rounded-2xl focus:bg-white focus:border-indigo-600 focus:ring-4 focus:ring-indigo-100 transition-all outline-none font-bold text-slate-700 shadow-inner",children:[_.jsx("option",{children:""}),_.jsx("option",{children:""}),_.jsx("option",{children:" A++"}),_.jsx("option",{children:""}),_.jsx("option",{children:" 80 "}),_.jsx("option",{children:" 90 "}),_.jsx("option",{children:""})]})]})]}),_.jsxs("div",{className:"space-y-8",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-[0.2em] mb-4",children:""}),_.jsxs("div",{className:"relative",children:[_.jsx("input",{type:"number",value:C,onChange:W=>ie(W.target.value),className:"w-full p-8 text-5xl font-black bg-slate-50 border-2 border-transparent rounded-[2rem] focus:bg-white focus:border-indigo-600 focus:ring-4 focus:ring-indigo-100 transition-all outline-none text-indigo-600 shadow-inner"}),_.jsx("div",{className:"absolute right-8 top-1/2 -translate-y-1/2 flex items-center gap-2 pointer-events-none",children:_.jsx("span",{className:"font-black text-slate-300 text-2xl uppercase tracking-tighter",children:"PTS"})})]})]}),_.jsxs("button",{onClick:se,className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white font-black py-8 rounded-[2rem] transition-all shadow-2xl shadow-emerald-200 flex items-center justify-center gap-4 text-2xl active:scale-95 group",children:[_.jsx(Lc,{size:32,className:"group-hover:scale-125 transition-transform"}),""]})]})]})]}),t==="approval"&&_.jsxs("div",{className:"bg-white rounded-[3rem] p-12 border border-slate-100 shadow-xl animate-in slide-in-from-bottom-4",children:[_.jsxs("h2",{className:"text-3xl font-black text-slate-800 mb-8 flex items-center gap-3",children:[_.jsx(om,{className:"text-indigo-600"}),"",_.jsxs("span",{className:"bg-indigo-100 text-indigo-600 text-sm px-3 py-1 rounded-full",children:[g.length," "]})]}),_.jsx("div",{className:"space-y-4",children:g.length===0?_.jsx("div",{className:"text-center py-20 text-slate-400 font-bold",children:""}):g.map(W=>_.jsxs("div",{className:"flex items-center justify-between p-6 bg-slate-50 rounded-2xl border border-slate-100",children:[_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx("div",{className:"w-12 h-12 bg-indigo-200 rounded-full flex items-center justify-center text-indigo-700 font-bold text-xl",children:W.name[0]}),_.jsxs("div",{children:[_.jsx("h3",{className:"font-black text-lg text-slate-800",children:W.name}),_.jsx("p",{className:"text-slate-500 text-sm font-bold",children:W.grade||""})]})]}),_.jsxs("div",{className:"flex gap-3",children:[_.jsx("button",{onClick:()=>ki(W.id),className:"bg-emerald-500 hover:bg-emerald-600 text-white px-6 py-2 rounded-xl font-bold transition-all shadow-lg shadow-emerald-100",children:""}),_.jsx("button",{onClick:()=>ma(W.id),className:"bg-slate-200 hover:bg-rose-500 hover:text-white text-slate-500 px-6 py-2 rounded-xl font-bold transition-all",children:""})]})]},W.id))})]}),t==="products"&&_.jsxs("div",{className:"bg-white rounded-[3rem] p-12 border border-slate-100 shadow-xl animate-in slide-in-from-bottom-4",children:[_.jsxs("div",{className:"flex justify-between items-center mb-8",children:[_.jsxs("h2",{className:"text-3xl font-black text-slate-800 flex items-center gap-3",children:[_.jsx(sm,{className:"text-indigo-600"})," "]}),_.jsxs("button",{onClick:()=>bt(!vt),className:"bg-indigo-600 text-white px-5 py-3 rounded-xl font-bold flex items-center gap-2 hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-100",children:[_.jsx(rm,{size:20})," "]})]}),vt&&_.jsxs("form",{onSubmit:pa,className:"bg-slate-50 p-6 rounded-2xl mb-8 border border-slate-200 animate-in fade-in",children:[_.jsx("h3",{className:"font-black text-slate-700 mb-4",children:""}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[_.jsx("input",{placeholder:"",value:rt,onChange:W=>pt(W.target.value),className:"p-3 rounded-xl border border-slate-200 font-bold outline-none focus:ring-2 focus:ring-indigo-500"}),_.jsx("input",{placeholder:" ()",value:lt,onChange:W=>ot(W.target.value),className:"p-3 rounded-xl border border-slate-200 font-bold outline-none focus:ring-2 focus:ring-indigo-500"}),_.jsx("input",{placeholder:" ()",type:"number",value:Dt,onChange:W=>Gt(W.target.value),className:"p-3 rounded-xl border border-slate-200 font-bold outline-none focus:ring-2 focus:ring-indigo-500"}),_.jsx("input",{placeholder:"",type:"number",value:j,onChange:W=>Z(W.target.value),className:"p-3 rounded-xl border border-slate-200 font-bold outline-none focus:ring-2 focus:ring-indigo-500"})]}),_.jsxs("div",{className:"flex justify-end gap-2",children:[_.jsx("button",{type:"button",onClick:()=>bt(!1),className:"px-4 py-2 text-slate-400 font-bold hover:text-slate-600",children:""}),_.jsx("button",{type:"submit",className:"px-6 py-2 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700",children:""})]})]}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map(W=>_.jsxs("div",{className:"border border-slate-100 rounded-2xl p-4 flex gap-4 items-center group hover:shadow-lg transition-all bg-white",children:[_.jsx("img",{src:W.imageUrl,alt:W.name,className:"w-16 h-16 rounded-xl object-cover"}),_.jsxs("div",{className:"flex-1",children:[_.jsx("h4",{className:"font-bold text-slate-800",children:W.name}),_.jsxs("p",{className:"text-xs text-slate-400 font-bold",children:[": ",W.stock," | : ",W.price]})]}),_.jsx("div",{className:"text-right",children:_.jsx("span",{className:`text-xs font-black px-2 py-1 rounded-lg ${W.stock>0?"bg-emerald-100 text-emerald-600":"bg-red-100 text-red-600"}`,children:W.stock>0?"":""})})]},W.id))})]}),t==="scan"&&_.jsxs("div",{className:"bg-white rounded-[3rem] p-16 border border-slate-100 text-center shadow-xl animate-in fade-in",children:[_.jsx("div",{className:"bg-indigo-50 w-32 h-32 rounded-[2.5rem] flex items-center justify-center mx-auto mb-8 text-indigo-600 shadow-inner",children:_.jsx(p_,{size:56})}),_.jsx("h2",{className:"text-3xl font-black text-slate-800 mb-4 tracking-tight",children:""}),_.jsx("p",{className:"text-slate-400 mb-12 font-medium max-w-md mx-auto leading-relaxed",children:" QR Code"}),_.jsx("button",{onClick:Vt,disabled:s,className:"bg-indigo-600 hover:bg-indigo-700 disabled:bg-slate-300 text-white px-16 py-6 rounded-[2rem] font-black transition-all shadow-2xl shadow-indigo-200 inline-flex items-center justify-center gap-4 text-xl active:scale-95",children:s?"...":""})]}),t==="history"&&_.jsxs("section",{className:"bg-white rounded-[3rem] border border-slate-100 shadow-xl overflow-hidden animate-in fade-in",children:[_.jsxs("div",{className:"p-10 border-b border-slate-50 flex flex-col md:flex-row md:items-center justify-between gap-6",children:[_.jsxs("h2",{className:"font-black text-2xl text-slate-800 flex items-center gap-3",children:[_.jsx(Fc,{className:"text-indigo-600"}),""]}),_.jsxs("div",{className:"relative",children:[_.jsx(R2,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-slate-400",size:20}),_.jsx("input",{type:"text",placeholder:"...",value:q,onChange:W=>V(W.target.value),className:"pl-14 pr-8 py-4 rounded-2xl bg-slate-50 border-2 border-transparent focus:bg-white focus:border-indigo-600 focus:ring-4 focus:ring-indigo-100 transition-all outline-none text-sm w-full md:w-96 shadow-inner font-bold"})]})]}),_.jsx("div",{className:"overflow-x-auto",children:_.jsxs("table",{className:"w-full",children:[_.jsx("thead",{className:"bg-slate-50/50",children:_.jsxs("tr",{children:[_.jsx("th",{className:"px-10 py-6 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:""}),_.jsx("th",{className:"px-10 py-6 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:""}),_.jsx("th",{className:"px-10 py-6 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:""}),_.jsx("th",{className:"px-10 py-6 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:""}),_.jsx("th",{className:"px-10 py-6 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:""}),_.jsx("th",{className:"px-10 py-6 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:""})]})}),_.jsx("tbody",{className:"divide-y divide-slate-50",children:hs.map(W=>{var St;try{return _.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[_.jsx("td",{className:"px-10 py-6 whitespace-nowrap",children:_.jsx("span",{className:`px-4 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest ${W.status==="completed"?"bg-emerald-100 text-emerald-700":W.status==="pending"?"bg-amber-100 text-amber-700":"bg-rose-100 text-rose-700"}`,children:W.status==="completed"?"":W.status==="pending"?"":""})}),_.jsx("td",{className:"px-10 py-6 whitespace-nowrap font-black text-slate-800",children:((St=m.find(Ht=>Ht.id===W.userId))==null?void 0:St.name)||""}),_.jsx("td",{className:"px-10 py-6 whitespace-nowrap font-bold text-slate-600",children:W.productName}),_.jsxs("td",{className:"px-10 py-6 whitespace-nowrap text-indigo-600 font-black",children:[W.pointsSpent," PTS"]}),_.jsx("td",{className:"px-10 py-6 whitespace-nowrap text-slate-400 text-sm font-bold",children:W.timestamp?new Date(W.timestamp).toLocaleDateString():""}),_.jsx("td",{className:"px-10 py-6 whitespace-nowrap",children:W.status==="pending"?_.jsx("button",{onClick:()=>_e(W.id),className:"text-white bg-indigo-600 hover:bg-indigo-700 px-5 py-2.5 rounded-xl text-xs font-black transition-all shadow-xl shadow-indigo-100 active:scale-95",children:""}):_.jsxs("div",{className:"flex items-center gap-2 text-slate-300 font-black text-[10px] tracking-widest",children:[_.jsx(Lc,{size:14})," FINISHED"]})})]},W.id)}catch(Ht){return console.error("Row render error",Ht),null}})})]})})]}),t==="missions"&&_.jsxs("div",{className:"bg-white rounded-[3rem] p-12 border border-slate-100 shadow-xl animate-in slide-in-from-bottom-4",children:[_.jsxs("div",{className:"flex justify-between items-center mb-8",children:[_.jsxs("h2",{className:"text-3xl font-black text-slate-800 flex items-center gap-3",children:[_.jsx(Kc,{className:"text-indigo-600"})," "]}),_.jsxs("button",{onClick:()=>U(!R),className:"bg-indigo-600 text-white px-5 py-3 rounded-xl font-bold flex items-center gap-2 hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-100",children:[_.jsx(rm,{size:18})," "]})]}),R&&_.jsxs("form",{onSubmit:ga,className:"bg-slate-50 p-6 rounded-2xl mb-8 border border-slate-200 animate-in fade-in",children:[_.jsx("h3",{className:"font-black text-slate-700 mb-4",children:""}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[_.jsx("input",{placeholder:"",value:Q,onChange:W=>dt(W.target.value),className:"p-3 rounded-xl border border-slate-200 font-bold outline-none focus:ring-2 focus:ring-indigo-500"}),_.jsx("input",{placeholder:"",type:"number",value:mt,onChange:W=>_t(W.target.value),className:"p-3 rounded-xl border border-slate-200 font-bold outline-none focus:ring-2 focus:ring-indigo-500"}),_.jsxs("select",{value:I,onChange:W=>N(W.target.value),className:"p-3 rounded-xl border border-slate-200 font-bold outline-none focus:ring-2 focus:ring-indigo-500",children:[_.jsx("option",{value:"normal",children:""}),_.jsx("option",{value:"challenge",children:""}),_.jsx("option",{value:"hard",children:""})]})]}),_.jsxs("div",{className:"flex justify-end gap-3",children:[_.jsx("button",{type:"button",onClick:()=>U(!1),className:"px-4 py-2 rounded-xl font-bold text-slate-400 hover:bg-slate-200 transition-all",children:""}),_.jsx("button",{type:"submit",className:"bg-indigo-600 text-white px-6 py-2 rounded-xl font-bold hover:bg-indigo-700 transition-all shadow-lg",children:""})]})]}),_.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[w.length===0&&_.jsx("div",{className:"text-center py-12 text-slate-400 font-bold bg-slate-50 rounded-2xl border border-slate-100 border-dashed",children:""}),w.map(W=>_.jsxs("div",{className:`flex flex-col md:flex-row md:items-center justify-between p-6 rounded-2xl border transition-all ${W.isActive?"bg-white border-slate-100 shadow-sm":"bg-slate-50 border-slate-100 opacity-60"}`,children:[_.jsxs("div",{className:"flex items-center gap-4 mb-4 md:mb-0",children:[_.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center font-black text-lg shrink-0 ${W.type==="normal"?"bg-emerald-100 text-emerald-600":W.type==="challenge"?"bg-orange-100 text-orange-600":"bg-rose-100 text-rose-600"}`,children:W.type==="normal"?"N":W.type==="challenge"?"C":"H"}),_.jsxs("div",{children:[_.jsxs("h3",{className:"font-black text-lg text-slate-800 flex items-center gap-2",children:[W.title,!W.isActive&&_.jsx("span",{className:"text-[10px] bg-slate-200 text-slate-500 px-2 py-0.5 rounded-full",children:""})]}),_.jsxs("p",{className:"text-slate-400 text-sm font-bold flex items-center gap-2",children:[_.jsxs("span",{className:"text-indigo-500",children:[W.points," PTS"]}),"  ",W.description]})]})]}),_.jsx("button",{onClick:()=>Mn(W.id),className:`px-4 py-2 rounded-xl font-black text-xs transition-all whitespace-nowrap ${W.isActive?"bg-rose-50 text-rose-600 hover:bg-rose-100":"bg-emerald-50 text-emerald-600 hover:bg-emerald-100"}`,children:W.isActive?"":""})]},W.id))]})]}),s&&_.jsxs("div",{className:"fixed inset-0 z-[150] bg-slate-900/95 backdrop-blur-xl flex flex-col items-center justify-center p-8",children:[_.jsxs("div",{className:"relative w-full max-w-lg aspect-square border-8 border-white/5 rounded-[5rem] overflow-hidden shadow-[0_0_100px_rgba(79,70,229,0.3)]",children:[_.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900 via-indigo-900/20 to-slate-900 flex items-center justify-center",children:_.jsxs("div",{className:"text-center",children:[_.jsx(w2,{size:140,className:"mx-auto mb-10 animate-pulse text-indigo-400"}),_.jsx("p",{className:"text-3xl font-black text-white mb-4 tracking-tight",children:"..."}),_.jsx("p",{className:"text-indigo-300 font-bold tracking-widest uppercase text-xs",children:"AI Computer Vision Active"})]})}),_.jsx("div",{className:"absolute top-0 left-0 w-full h-3 bg-indigo-400 shadow-[0_0_50px_rgba(129,140,248,1)] animate-scan-line"})]}),_.jsxs("button",{onClick:()=>o(!1),className:"mt-16 bg-white/5 hover:bg-white/10 text-white px-12 py-5 rounded-[2rem] font-black transition-all border border-white/10 flex items-center gap-4 text-lg backdrop-blur",children:[_.jsx(ko,{size:24})," "]}),_.jsx("style",{children:`
            @keyframes scan-line {
              0% { top: 0% }
              100% { top: 100% }
            }
            .animate-scan-line {
              animation: scan-line 3s linear infinite;
            }
          `})]}),et&&_.jsx("div",{className:"fixed inset-0 z-[160] flex items-center justify-center p-4 bg-slate-900/70 backdrop-blur-2xl",children:_.jsxs("div",{className:"bg-white rounded-[4rem] max-w-md w-full p-12 shadow-[0_0_80px_rgba(0,0,0,0.5)] animate-in zoom-in-95 duration-200",children:[_.jsx("div",{className:"bg-emerald-50 w-24 h-24 rounded-[2rem] flex items-center justify-center text-emerald-600 mb-10 mx-auto shadow-inner",children:_.jsx(Yc,{size:48})}),_.jsx("h2",{className:"text-3xl font-black text-slate-800 text-center mb-10 tracking-tight",children:""}),_.jsxs("div",{className:"bg-slate-50 rounded-[2.5rem] p-8 space-y-6 mb-12 border border-slate-100 shadow-inner",children:[_.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-slate-200/50",children:[_.jsx("span",{className:"text-slate-400 text-[10px] font-black uppercase tracking-widest",children:""}),_.jsx("span",{className:"font-black text-slate-800 text-xl",children:(ya=m.find(W=>W.id===et.userId))==null?void 0:ya.name})]}),_.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-slate-200/50",children:[_.jsx("span",{className:"text-slate-400 text-[10px] font-black uppercase tracking-widest",children:""}),_.jsx("span",{className:"font-black text-slate-800 text-xl",children:et.productName})]}),_.jsxs("div",{className:"flex justify-between items-center py-2",children:[_.jsx("span",{className:"text-slate-400 text-[10px] font-black uppercase tracking-widest",children:""}),_.jsxs("span",{className:"font-black text-indigo-600 text-2xl",children:[et.pointsSpent," ",_.jsx("span",{className:"text-xs font-bold text-indigo-400",children:"PTS"})]})]})]}),_.jsxs("div",{className:"flex flex-col gap-4",children:[_.jsxs("button",{onClick:()=>_e(et.id),className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-black py-6 rounded-2xl transition-all shadow-2xl shadow-indigo-100 flex items-center justify-center gap-4 text-xl active:scale-95",children:[_.jsx(Lc,{size:28}),""]}),_.jsx("button",{onClick:()=>at(null),className:"w-full bg-slate-100 text-slate-600 font-bold py-5 rounded-2xl hover:bg-slate-200 transition-all text-lg",children:""})]})]})})]})},rO=({user:i})=>{const[t,a]=z.useState([]),[s,o]=z.useState(!1),[u,f]=z.useState(""),[m,y]=z.useState("");z.useEffect(()=>{const b=gD(S=>{a(S.sort((w,k)=>k.timestamp-w.timestamp))});return()=>b()},[]);const g=async b=>{if(b.preventDefault(),!u.trim()||!m.trim())return;const S={id:`wish_${Date.now()}`,userId:i.id,userName:i.name,userAvatar:i.avatar,itemName:u,description:m,timestamp:Date.now(),likes:0};await dD(S),o(!1),f(""),y("")},T=async b=>{await mD(b)};return _.jsxs("div",{className:"space-y-8 pb-20",children:[_.jsxs("header",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[_.jsxs("div",{children:[_.jsxs("h1",{className:"text-3xl font-bold text-slate-800 flex items-center gap-3",children:[_.jsx(lm,{className:"text-yellow-500"}),""]}),_.jsx("p",{className:"text-slate-500 mt-1",children:""})]}),_.jsxs("button",{onClick:()=>o(!0),className:"bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-3 rounded-2xl font-bold shadow-lg shadow-indigo-100 flex items-center gap-2 transition-all hover:scale-105",children:[_.jsx(rm,{size:20}),_.jsx("span",{children:""})]})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[t.map(b=>_.jsxs("div",{className:"bg-white rounded-[2rem] p-6 border border-slate-100 shadow-sm hover:shadow-md transition-all flex flex-col relative overflow-hidden group",children:[_.jsx("div",{className:"absolute -right-4 -top-4 w-24 h-24 bg-yellow-50 rounded-full blur-2xl group-hover:bg-yellow-100 transition-colors"}),_.jsxs("div",{className:"flex items-center gap-3 mb-4 z-10",children:[_.jsx("img",{src:b.userAvatar,alt:b.userName,className:"w-10 h-10 rounded-full border-2 border-white shadow-sm"}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm font-bold text-slate-700",children:b.userName}),_.jsx("p",{className:"text-xs text-slate-400",children:new Date(b.timestamp).toLocaleDateString()})]})]}),_.jsx("h3",{className:"text-xl font-black text-slate-800 mb-2 z-10",children:b.itemName}),_.jsx("p",{className:"text-slate-500 text-sm mb-6 flex-1 z-10",children:b.description}),_.jsx("div",{className:"flex items-center justify-between pt-4 border-t border-slate-50 z-10",children:_.jsxs("button",{onClick:()=>T(b.id),className:"flex items-center gap-2 text-slate-400 hover:text-pink-500 transition-colors group/like",children:[_.jsx("div",{className:"p-2 rounded-full hover:bg-pink-50 transition-colors",children:_.jsx(B2,{size:18,className:b.likes>0?"fill-pink-500 text-pink-500":""})}),_.jsxs("span",{className:"font-bold text-sm",children:[b.likes," "]})]})})]},b.id)),t.length===0&&_.jsxs("div",{className:"col-span-full py-20 text-center space-y-4",children:[_.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-full flex items-center justify-center mx-auto text-slate-300",children:_.jsx(h2,{size:40})}),_.jsx("p",{className:"text-slate-400 font-bold",children:""})]})]}),s&&_.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm",children:_.jsxs("div",{className:"bg-white rounded-[2.5rem] max-w-lg w-full p-8 shadow-2xl animate-in zoom-in-95 duration-200",children:[_.jsxs("div",{className:"flex justify-between items-center mb-8",children:[_.jsxs("h2",{className:"text-2xl font-black text-slate-800 flex items-center gap-2",children:[_.jsx(lm,{className:"text-indigo-500"}),""]}),_.jsx("button",{onClick:()=>o(!1),className:"text-slate-400 hover:text-slate-600 bg-slate-50 p-2 rounded-full",children:_.jsx(ko,{size:24})})]}),_.jsxs("form",{onSubmit:g,className:"space-y-6",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-slate-700 font-bold mb-2 ml-1",children:""}),_.jsx("input",{type:"text",value:u,onChange:b=>f(b.target.value),placeholder:"AirPods Pro...",className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-5 py-4 font-bold text-slate-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:bg-white transition-all placeholder:font-medium",required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-slate-700 font-bold mb-2 ml-1",children:""}),_.jsx("textarea",{value:m,onChange:b=>y(b.target.value),placeholder:"...",className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-5 py-4 font-medium text-slate-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:bg-white transition-all h-32 resize-none placeholder:font-medium",required:!0})]}),_.jsxs("button",{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-black py-5 rounded-[1.25rem] transition-all shadow-xl shadow-indigo-100 flex items-center justify-center gap-3 text-lg",children:[_.jsx(C2,{size:24}),""]})]})]})})]})},lO=({onLogin:i})=>{const[t,a]=z.useState("student"),[s,o]=z.useState(!1),[u,f]=z.useState(""),[m,y]=z.useState(""),[g,T]=z.useState(""),[b,S]=z.useState(""),[w,k]=z.useState(""),q=async Q=>{Q.preventDefault();const mt=(await $T()).find(_t=>_t.name===u);if(!mt){alert("");return}if(mt.password&&mt.password!==m){alert("");return}if(!mt.isApproved){alert("");return}await xo(mt),alert(""),i(mt)},V=async Q=>{Q.preventDefault(),await JC(u,m,g)?(alert(""),o(!1),y("")):alert("")},et=Q=>{Q.preventDefault(),b==="0957999"?(xo(xE),alert(""),i(xE)):alert("")},at=Q=>{Q.preventDefault(),w.toLowerCase()==="aaa"?(xo(wE),alert(""),i(wE)):alert("")};return _.jsx("div",{className:"min-h-screen bg-[#f8fafc] flex items-center justify-center p-4",children:_.jsxs("div",{className:"bg-white max-w-4xl w-full rounded-[3rem] shadow-2xl overflow-hidden flex flex-col md:flex-row min-h-[600px]",children:[_.jsxs("div",{className:"bg-indigo-600 p-12 text-white md:w-5/12 flex flex-col justify-between relative overflow-hidden",children:[_.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-indigo-500 rounded-full -translate-y-1/2 translate-x-1/3 opacity-50"}),_.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-indigo-700 rounded-full translate-y-1/3 -translate-x-1/3 opacity-50"}),_.jsxs("div",{className:"relative z-10",children:[_.jsx("div",{className:"bg-white/20 w-16 h-16 rounded-2xl flex items-center justify-center backdrop-blur-sm mb-6",children:_.jsx(l1,{size:32})}),_.jsx("h1",{className:"text-4xl font-black tracking-tight mb-4",children:""}),_.jsx("p",{className:"text-indigo-100 font-medium text-lg leading-relaxed",children:""})]}),_.jsx("div",{className:"relative z-10 text-sm font-medium text-indigo-200",children:" 2026 Workshop System"})]}),_.jsxs("div",{className:"p-8 md:p-12 md:w-7/12 flex flex-col",children:[!s&&_.jsxs("div",{className:"flex gap-2 mb-10 overflow-x-auto pb-2",children:[_.jsxs("button",{onClick:()=>a("student"),className:`flex-1 min-w-[100px] py-3 rounded-xl font-bold text-sm transition-all flex flex-col items-center gap-1 ${t==="student"?"bg-indigo-50 text-indigo-600 ring-2 ring-indigo-500 ring-offset-2":"bg-slate-50 text-slate-400 hover:bg-slate-100"}`,children:[_.jsx(Q2,{size:18})," "]}),_.jsxs("button",{onClick:()=>a("admin"),className:`flex-1 min-w-[100px] py-3 rounded-xl font-bold text-sm transition-all flex flex-col items-center gap-1 ${t==="admin"?"bg-indigo-50 text-indigo-600 ring-2 ring-indigo-500 ring-offset-2":"bg-slate-50 text-slate-400 hover:bg-slate-100"}`,children:[_.jsx(Yc,{size:18})," "]}),_.jsxs("button",{onClick:()=>a("guest"),className:`flex-1 min-w-[100px] py-3 rounded-xl font-bold text-sm transition-all flex flex-col items-center gap-1 ${t==="guest"?"bg-indigo-50 text-indigo-600 ring-2 ring-indigo-500 ring-offset-2":"bg-slate-50 text-slate-400 hover:bg-slate-100"}`,children:[_.jsx(a2,{size:18})," "]})]}),!s&&t==="student"&&_.jsxs("form",{onSubmit:q,className:"space-y-6 flex-1 flex flex-col justify-center animate-in fade-in slide-in-from-right-4 duration-300",children:[_.jsxs("div",{children:[_.jsx("h2",{className:"text-2xl font-black text-slate-800 mb-1",children:""}),_.jsx("p",{className:"text-slate-400",children:""})]}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-widest mb-2",children:""}),_.jsx("input",{type:"text",value:u,onChange:Q=>f(Q.target.value),className:"w-full bg-slate-50 border border-slate-200 rounded-2xl p-4 font-bold text-slate-700 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all",placeholder:""})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-widest mb-2",children:""}),_.jsx("input",{type:"password",value:m,onChange:Q=>y(Q.target.value),className:"w-full bg-slate-50 border border-slate-200 rounded-2xl p-4 font-bold text-slate-700 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all",placeholder:""})]})]}),_.jsx("button",{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-black py-4 rounded-2xl shadow-xl shadow-indigo-100 transition-all active:scale-95",children:""}),_.jsx("div",{className:"text-center",children:_.jsx("button",{type:"button",onClick:()=>o(!0),className:"text-indigo-500 font-bold hover:underline",children:""})})]}),s&&_.jsxs("form",{onSubmit:V,className:"space-y-6 flex-1 flex flex-col justify-center animate-in fade-in slide-in-from-right-4 duration-300",children:[_.jsxs("div",{children:[_.jsx("h2",{className:"text-2xl font-black text-slate-800 mb-1",children:""}),_.jsx("p",{className:"text-slate-400",children:""})]}),_.jsxs("div",{className:"space-y-3",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-widest mb-2",children:""}),_.jsx("input",{type:"text",value:u,onChange:Q=>f(Q.target.value),className:"w-full bg-slate-50 border border-slate-200 rounded-2xl p-4 font-bold text-slate-700 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all",placeholder:"",required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-widest mb-2",children:""}),_.jsx("input",{type:"password",value:m,onChange:Q=>y(Q.target.value),className:"w-full bg-slate-50 border border-slate-200 rounded-2xl p-4 font-bold text-slate-700 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all",placeholder:"",required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-widest mb-2",children:""}),_.jsxs("select",{value:g,onChange:Q=>T(Q.target.value),className:"w-full bg-slate-50 border border-slate-200 rounded-2xl p-4 font-bold text-slate-700 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all",children:[_.jsx("option",{children:""}),_.jsx("option",{children:""}),_.jsx("option",{children:""})]})]})]}),_.jsxs("button",{type:"submit",className:"w-full bg-slate-800 hover:bg-slate-900 text-white font-black py-4 rounded-2xl shadow-xl transition-all active:scale-95 flex items-center justify-center gap-2",children:[_.jsx(om,{size:20}),""]}),_.jsx("div",{className:"text-center",children:_.jsx("button",{type:"button",onClick:()=>o(!1),className:"text-slate-400 font-bold hover:text-slate-600",children:""})})]}),!s&&t==="admin"&&_.jsxs("form",{onSubmit:et,className:"space-y-6 flex-1 flex flex-col justify-center animate-in fade-in slide-in-from-right-4 duration-300",children:[_.jsxs("div",{children:[_.jsx("h2",{className:"text-2xl font-black text-slate-800 mb-1",children:""}),_.jsx("p",{className:"text-slate-400",children:""})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-widest mb-2",children:""}),_.jsx("input",{type:"password",value:b,onChange:Q=>S(Q.target.value),className:"w-full bg-slate-50 border border-slate-200 rounded-2xl p-4 font-bold text-slate-700 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all",placeholder:"..."})]}),_.jsx("button",{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-black py-4 rounded-2xl shadow-xl shadow-indigo-100 transition-all active:scale-95",children:""})]}),!s&&t==="guest"&&_.jsxs("form",{onSubmit:at,className:"space-y-6 flex-1 flex flex-col justify-center animate-in fade-in slide-in-from-right-4 duration-300",children:[_.jsxs("div",{children:[_.jsx("h2",{className:"text-2xl font-black text-slate-800 mb-1",children:""}),_.jsx("p",{className:"text-slate-400",children:""})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-widest mb-2",children:""}),_.jsx("input",{type:"text",value:w,onChange:Q=>k(Q.target.value),className:"w-full bg-slate-50 border border-slate-200 rounded-2xl p-4 font-bold text-slate-700 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all",placeholder:"..."})]}),_.jsx("button",{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-black py-4 rounded-2xl shadow-xl shadow-indigo-100 transition-all active:scale-95",children:""})]})]})]})})},oO=({user:i,currentRank:t,onSwitchUser:a})=>{const s=ls(),[o,u]=z.useState(!1),f=[{path:"/",label:"",icon:m2},{path:"/shop",label:"",icon:M2},{path:"/wishes",label:"",icon:lm},{path:"/history",label:"",icon:Fc}];return i.role===Qn.ADMIN&&f.push({path:"/admin",label:"",icon:Yc}),_.jsxs("nav",{className:"bg-white border-r border-slate-200 w-full md:w-64 md:fixed md:inset-y-0 h-auto md:h-full z-50 shadow-sm",children:[_.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("div",{className:"bg-indigo-600 p-2 rounded-lg text-white",children:_.jsx(l1,{size:20})}),_.jsx("span",{className:"text-xl font-bold text-slate-800 tracking-tight",children:""})]}),_.jsx("button",{onClick:()=>u(!o),className:"md:hidden text-slate-600",children:o?_.jsx(ko,{}):_.jsx(v2,{})})]}),_.jsx("div",{className:`${o?"block":"hidden"} md:block p-4 space-y-2`,children:f.map(m=>{const y=m.icon,g=s.pathname===m.path;return _.jsxs(Hm,{to:m.path,onClick:()=>u(!1),className:`flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 ${g?"bg-indigo-50 text-indigo-700 font-bold shadow-sm":"text-slate-600 hover:bg-slate-50"}`,children:[_.jsx(y,{size:20}),_.jsx("span",{children:m.label})]},m.path)})}),_.jsxs("div",{className:`${o?"block":"hidden"} md:block absolute bottom-0 w-full p-6 border-t border-slate-100 bg-white`,children:[_.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[_.jsx("img",{src:i.avatar,className:"w-10 h-10 rounded-full border-2 border-slate-100 object-cover",alt:"avatar"}),_.jsxs("div",{className:"overflow-hidden",children:[_.jsx("p",{className:"font-bold text-slate-800 truncate text-sm",children:i.name}),_.jsxs("div",{className:`text-[9px] px-2 py-0.5 rounded-full inline-block text-white font-black ${t.color}`,children:[t.icon," ",t.name]})]})]}),_.jsxs("button",{onClick:a,className:"flex items-center gap-2 text-indigo-600 hover:text-indigo-800 transition-colors text-xs font-bold w-full bg-indigo-50 p-2 rounded-lg justify-center mb-2",children:[_.jsx(g2,{size:14}),_.jsx("span",{children:""})]})]})]})},uO=()=>{const[i,t]=z.useState(NE()),a=i?Ks.reduce((u,f)=>i.totalEarned>=f.threshold?f:u,Ks[0]):Ks[0],s=()=>{const u=NE();u&&t(u)},o=()=>{tD(),t(null)};return i?_.jsx(Rx,{children:_.jsxs("div",{className:"min-h-screen flex flex-col md:flex-row bg-[#fbfcfd]",children:[_.jsx(oO,{user:i,currentRank:a,onSwitchUser:o}),_.jsx("main",{className:"flex-1 md:ml-64 p-4 md:p-8",children:_.jsx("div",{className:"max-w-6xl mx-auto",children:_.jsxs(ax,{children:[_.jsx(zr,{path:"/",element:_.jsx(nO,{user:i,rank:a,onUserUpdate:s})}),_.jsx(zr,{path:"/shop",element:_.jsx(iO,{user:i,onUserUpdate:s})}),_.jsx(zr,{path:"/wishes",element:_.jsx(rO,{user:i})}),_.jsx(zr,{path:"/history",element:_.jsx(aO,{user:i})}),_.jsx(zr,{path:"/admin",element:_.jsx(sO,{onRefresh:s})})]})})})]})}):_.jsx(lO,{onLogin:t})},Eb=document.getElementById("root");if(!Eb)throw new Error("Could not find root element to mount to");const cO=rS.createRoot(Eb);cO.render(_.jsx(nm.StrictMode,{children:_.jsx(uO,{})}));
