(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function s(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=s(o);fetch(o.href,u)}})();function Gv(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var zd={exports:{}},xo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n_;function sS(){if(n_)return xo;n_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function s(a,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:i,type:a,key:f,ref:o!==void 0?o:null,props:u}}return xo.Fragment=e,xo.jsx=s,xo.jsxs=s,xo}var i_;function aS(){return i_||(i_=1,zd.exports=sS()),zd.exports}var m=aS(),Bd={exports:{}},Se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s_;function rS(){if(s_)return Se;s_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),S=Symbol.iterator;function w(V){return V===null||typeof V!="object"?null:(V=S&&V[S]||V["@@iterator"],typeof V=="function"?V:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,R={};function Z(V,ee,ae){this.props=V,this.context=ee,this.refs=R,this.updater=ae||B}Z.prototype.isReactComponent={},Z.prototype.setState=function(V,ee){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ee,"setState")},Z.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function se(){}se.prototype=Z.prototype;function Q(V,ee,ae){this.props=V,this.context=ee,this.refs=R,this.updater=ae||B}var he=Q.prototype=new se;he.constructor=Q,G(he,Z.prototype),he.isPureReactComponent=!0;var me=Array.isArray;function pe(){}var C={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function I(V,ee,ae){var oe=ae.ref;return{$$typeof:i,type:V,key:ee,ref:oe!==void 0?oe:null,props:ae}}function U(V,ee){return I(V.type,ee,V.props)}function M(V){return typeof V=="object"&&V!==null&&V.$$typeof===i}function z(V){var ee={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ae){return ee[ae]})}var D=/\/+/g;function st(V,ee){return typeof V=="object"&&V!==null&&V.key!=null?z(""+V.key):ee.toString(36)}function pt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(pe,pe):(V.status="pending",V.then(function(ee){V.status==="pending"&&(V.status="fulfilled",V.value=ee)},function(ee){V.status==="pending"&&(V.status="rejected",V.reason=ee)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function X(V,ee,ae,oe,ve){var xe=typeof V;(xe==="undefined"||xe==="boolean")&&(V=null);var Ce=!1;if(V===null)Ce=!0;else switch(xe){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(V.$$typeof){case i:case e:Ce=!0;break;case b:return Ce=V._init,X(Ce(V._payload),ee,ae,oe,ve)}}if(Ce)return ve=ve(V),Ce=oe===""?"."+st(V,0):oe,me(ve)?(ae="",Ce!=null&&(ae=Ce.replace(D,"$&/")+"/"),X(ve,ee,ae,"",function(yi){return yi})):ve!=null&&(M(ve)&&(ve=U(ve,ae+(ve.key==null||V&&V.key===ve.key?"":(""+ve.key).replace(D,"$&/")+"/")+Ce)),ee.push(ve)),1;Ce=0;var bt=oe===""?".":oe+":";if(me(V))for(var We=0;We<V.length;We++)oe=V[We],xe=bt+st(oe,We),Ce+=X(oe,ee,ae,xe,ve);else if(We=w(V),typeof We=="function")for(V=We.call(V),We=0;!(oe=V.next()).done;)oe=oe.value,xe=bt+st(oe,We++),Ce+=X(oe,ee,ae,xe,ve);else if(xe==="object"){if(typeof V.then=="function")return X(pt(V),ee,ae,oe,ve);throw ee=String(V),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function le(V,ee,ae){if(V==null)return V;var oe=[],ve=0;return X(V,oe,"","",function(xe){return ee.call(ae,xe,ve++)}),oe}function ge(V){if(V._status===-1){var ee=V._result;ee=ee(),ee.then(function(ae){(V._status===0||V._status===-1)&&(V._status=1,V._result=ae)},function(ae){(V._status===0||V._status===-1)&&(V._status=2,V._result=ae)}),V._status===-1&&(V._status=0,V._result=ee)}if(V._status===1)return V._result.default;throw V._result}var Me=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},qe={map:le,forEach:function(V,ee,ae){le(V,function(){ee.apply(this,arguments)},ae)},count:function(V){var ee=0;return le(V,function(){ee++}),ee},toArray:function(V){return le(V,function(ee){return ee})||[]},only:function(V){if(!M(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Se.Activity=T,Se.Children=qe,Se.Component=Z,Se.Fragment=s,Se.Profiler=o,Se.PureComponent=Q,Se.StrictMode=a,Se.Suspense=_,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Se.__COMPILER_RUNTIME={__proto__:null,c:function(V){return C.H.useMemoCache(V)}},Se.cache=function(V){return function(){return V.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(V,ee,ae){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var oe=G({},V.props),ve=V.key;if(ee!=null)for(xe in ee.key!==void 0&&(ve=""+ee.key),ee)!N.call(ee,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&ee.ref===void 0||(oe[xe]=ee[xe]);var xe=arguments.length-2;if(xe===1)oe.children=ae;else if(1<xe){for(var Ce=Array(xe),bt=0;bt<xe;bt++)Ce[bt]=arguments[bt+2];oe.children=Ce}return I(V.type,ve,oe)},Se.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Se.createElement=function(V,ee,ae){var oe,ve={},xe=null;if(ee!=null)for(oe in ee.key!==void 0&&(xe=""+ee.key),ee)N.call(ee,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(ve[oe]=ee[oe]);var Ce=arguments.length-2;if(Ce===1)ve.children=ae;else if(1<Ce){for(var bt=Array(Ce),We=0;We<Ce;We++)bt[We]=arguments[We+2];ve.children=bt}if(V&&V.defaultProps)for(oe in Ce=V.defaultProps,Ce)ve[oe]===void 0&&(ve[oe]=Ce[oe]);return I(V,xe,ve)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(V){return{$$typeof:p,render:V}},Se.isValidElement=M,Se.lazy=function(V){return{$$typeof:b,_payload:{_status:-1,_result:V},_init:ge}},Se.memo=function(V,ee){return{$$typeof:g,type:V,compare:ee===void 0?null:ee}},Se.startTransition=function(V){var ee=C.T,ae={};C.T=ae;try{var oe=V(),ve=C.S;ve!==null&&ve(ae,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(pe,Me)}catch(xe){Me(xe)}finally{ee!==null&&ae.types!==null&&(ee.types=ae.types),C.T=ee}},Se.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Se.use=function(V){return C.H.use(V)},Se.useActionState=function(V,ee,ae){return C.H.useActionState(V,ee,ae)},Se.useCallback=function(V,ee){return C.H.useCallback(V,ee)},Se.useContext=function(V){return C.H.useContext(V)},Se.useDebugValue=function(){},Se.useDeferredValue=function(V,ee){return C.H.useDeferredValue(V,ee)},Se.useEffect=function(V,ee){return C.H.useEffect(V,ee)},Se.useEffectEvent=function(V){return C.H.useEffectEvent(V)},Se.useId=function(){return C.H.useId()},Se.useImperativeHandle=function(V,ee,ae){return C.H.useImperativeHandle(V,ee,ae)},Se.useInsertionEffect=function(V,ee){return C.H.useInsertionEffect(V,ee)},Se.useLayoutEffect=function(V,ee){return C.H.useLayoutEffect(V,ee)},Se.useMemo=function(V,ee){return C.H.useMemo(V,ee)},Se.useOptimistic=function(V,ee){return C.H.useOptimistic(V,ee)},Se.useReducer=function(V,ee,ae){return C.H.useReducer(V,ee,ae)},Se.useRef=function(V){return C.H.useRef(V)},Se.useState=function(V){return C.H.useState(V)},Se.useSyncExternalStore=function(V,ee,ae){return C.H.useSyncExternalStore(V,ee,ae)},Se.useTransition=function(){return C.H.useTransition()},Se.version="19.2.3",Se}var a_;function Bm(){return a_||(a_=1,Bd.exports=rS()),Bd.exports}var k=Bm();const lS=Gv(k);var Hd={exports:{}},So={},Gd={exports:{}},qd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r_;function oS(){return r_||(r_=1,(function(i){function e(X,le){var ge=X.length;X.push(le);e:for(;0<ge;){var Me=ge-1>>>1,qe=X[Me];if(0<o(qe,le))X[Me]=le,X[ge]=qe,ge=Me;else break e}}function s(X){return X.length===0?null:X[0]}function a(X){if(X.length===0)return null;var le=X[0],ge=X.pop();if(ge!==le){X[0]=ge;e:for(var Me=0,qe=X.length,V=qe>>>1;Me<V;){var ee=2*(Me+1)-1,ae=X[ee],oe=ee+1,ve=X[oe];if(0>o(ae,ge))oe<qe&&0>o(ve,ae)?(X[Me]=ve,X[oe]=ge,Me=oe):(X[Me]=ae,X[ee]=ge,Me=ee);else if(oe<qe&&0>o(ve,ge))X[Me]=ve,X[oe]=ge,Me=oe;else break e}}return le}function o(X,le){var ge=X.sortIndex-le.sortIndex;return ge!==0?ge:X.id-le.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();i.unstable_now=function(){return f.now()-p}}var _=[],g=[],b=1,T=null,S=3,w=!1,B=!1,G=!1,R=!1,Z=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function he(X){for(var le=s(g);le!==null;){if(le.callback===null)a(g);else if(le.startTime<=X)a(g),le.sortIndex=le.expirationTime,e(_,le);else break;le=s(g)}}function me(X){if(G=!1,he(X),!B)if(s(_)!==null)B=!0,pe||(pe=!0,z());else{var le=s(g);le!==null&&pt(me,le.startTime-X)}}var pe=!1,C=-1,N=5,I=-1;function U(){return R?!0:!(i.unstable_now()-I<N)}function M(){if(R=!1,pe){var X=i.unstable_now();I=X;var le=!0;try{e:{B=!1,G&&(G=!1,se(C),C=-1),w=!0;var ge=S;try{t:{for(he(X),T=s(_);T!==null&&!(T.expirationTime>X&&U());){var Me=T.callback;if(typeof Me=="function"){T.callback=null,S=T.priorityLevel;var qe=Me(T.expirationTime<=X);if(X=i.unstable_now(),typeof qe=="function"){T.callback=qe,he(X),le=!0;break t}T===s(_)&&a(_),he(X)}else a(_);T=s(_)}if(T!==null)le=!0;else{var V=s(g);V!==null&&pt(me,V.startTime-X),le=!1}}break e}finally{T=null,S=ge,w=!1}le=void 0}}finally{le?z():pe=!1}}}var z;if(typeof Q=="function")z=function(){Q(M)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,st=D.port2;D.port1.onmessage=M,z=function(){st.postMessage(null)}}else z=function(){Z(M,0)};function pt(X,le){C=Z(function(){X(i.unstable_now())},le)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(X){X.callback=null},i.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<X?Math.floor(1e3/X):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(X){switch(S){case 1:case 2:case 3:var le=3;break;default:le=S}var ge=S;S=le;try{return X()}finally{S=ge}},i.unstable_requestPaint=function(){R=!0},i.unstable_runWithPriority=function(X,le){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ge=S;S=X;try{return le()}finally{S=ge}},i.unstable_scheduleCallback=function(X,le,ge){var Me=i.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Me+ge:Me):ge=Me,X){case 1:var qe=-1;break;case 2:qe=250;break;case 5:qe=1073741823;break;case 4:qe=1e4;break;default:qe=5e3}return qe=ge+qe,X={id:b++,callback:le,priorityLevel:X,startTime:ge,expirationTime:qe,sortIndex:-1},ge>Me?(X.sortIndex=ge,e(g,X),s(_)===null&&X===s(g)&&(G?(se(C),C=-1):G=!0,pt(me,ge-Me))):(X.sortIndex=qe,e(_,X),B||w||(B=!0,pe||(pe=!0,z()))),X},i.unstable_shouldYield=U,i.unstable_wrapCallback=function(X){var le=S;return function(){var ge=S;S=le;try{return X.apply(this,arguments)}finally{S=ge}}}})(qd)),qd}var l_;function uS(){return l_||(l_=1,Gd.exports=oS()),Gd.exports}var Fd={exports:{}},an={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o_;function cS(){if(o_)return an;o_=1;var i=Bm();function e(_){var g="https://react.dev/errors/"+_;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)g+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+_+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var a={d:{f:s,r:function(){throw Error(e(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(_,g,b){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:_,containerInfo:g,implementation:b}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,g){if(_==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,an.createPortal=function(_,g){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(_,g,null,b)},an.flushSync=function(_){var g=f.T,b=a.p;try{if(f.T=null,a.p=2,_)return _()}finally{f.T=g,a.p=b,a.d.f()}},an.preconnect=function(_,g){typeof _=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(_,g))},an.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},an.preinit=function(_,g){if(typeof _=="string"&&g&&typeof g.as=="string"){var b=g.as,T=p(b,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,w=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;b==="style"?a.d.S(_,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:w}):b==="script"&&a.d.X(_,{crossOrigin:T,integrity:S,fetchPriority:w,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},an.preinitModule=function(_,g){if(typeof _=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var b=p(g.as,g.crossOrigin);a.d.M(_,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(_)},an.preload=function(_,g){if(typeof _=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var b=g.as,T=p(b,g.crossOrigin);a.d.L(_,b,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},an.preloadModule=function(_,g){if(typeof _=="string")if(g){var b=p(g.as,g.crossOrigin);a.d.m(_,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(_)},an.requestFormReset=function(_){a.d.r(_)},an.unstable_batchedUpdates=function(_,g){return _(g)},an.useFormState=function(_,g,b){return f.H.useFormState(_,g,b)},an.useFormStatus=function(){return f.H.useHostTransitionStatus()},an.version="19.2.3",an}var u_;function hS(){if(u_)return Fd.exports;u_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Fd.exports=cS(),Fd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c_;function fS(){if(c_)return So;c_=1;var i=uS(),e=Bm(),s=hS();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function f(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(u(t)!==t)throw Error(a(188))}function g(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var h=r.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===r)return _(h),t;if(d===l)return _(h),n;d=d.sibling}throw Error(a(188))}if(r.return!==l.return)r=h,l=d;else{for(var E=!1,x=h.child;x;){if(x===r){E=!0,r=h,l=d;break}if(x===l){E=!0,l=h,r=d;break}x=x.sibling}if(!E){for(x=d.child;x;){if(x===r){E=!0,r=d,l=h;break}if(x===l){E=!0,l=d,r=h;break}x=x.sibling}if(!E)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function b(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=b(t),n!==null)return n;t=t.sibling}return null}var T=Object.assign,S=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),se=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),me=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function z(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function st(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case G:return"Fragment";case Z:return"Profiler";case R:return"StrictMode";case me:return"Suspense";case pe:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case B:return"Portal";case Q:return t.displayName||"Context";case se:return(t._context.displayName||"Context")+".Consumer";case he:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return n=t.displayName||null,n!==null?n:st(t.type)||"Memo";case N:n=t._payload,t=t._init;try{return st(t(n))}catch{}}return null}var pt=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Me=[],qe=-1;function V(t){return{current:t}}function ee(t){0>qe||(t.current=Me[qe],Me[qe]=null,qe--)}function ae(t,n){qe++,Me[qe]=t.current,t.current=n}var oe=V(null),ve=V(null),xe=V(null),Ce=V(null);function bt(t,n){switch(ae(xe,n),ae(ve,t),ae(oe,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Ay(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Ay(n),t=wy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ee(oe),ae(oe,t)}function We(){ee(oe),ee(ve),ee(xe)}function yi(t){t.memoizedState!==null&&ae(Ce,t);var n=oe.current,r=wy(n,t.type);n!==r&&(ae(ve,t),ae(oe,r))}function Pn(t){ve.current===t&&(ee(oe),ee(ve)),Ce.current===t&&(ee(Ce),Eo._currentValue=ge)}var Ki,_i;function Nn(t){if(Ki===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Ki=n&&n[1]||"",_i=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ki+t+_i}var $i=!1;function Ei(t,n){if(!t||$i)return"";$i=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch($){var Y=$}Reflect.construct(t,[],te)}else{try{te.call()}catch($){Y=$}t.call(te.prototype)}}else{try{throw Error()}catch($){Y=$}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch($){if($&&Y&&typeof $.stack=="string")return[$.stack,Y.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],x=d[1];if(E&&x){var O=E.split(`
`),F=x.split(`
`);for(h=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;if(l===O.length||h===F.length)for(l=O.length-1,h=F.length-1;1<=l&&0<=h&&O[l]!==F[h];)h--;for(;1<=l&&0<=h;l--,h--)if(O[l]!==F[h]){if(l!==1||h!==1)do if(l--,h--,0>h||O[l]!==F[h]){var J=`
`+O[l].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=l&&0<=h);break}}}finally{$i=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Nn(r):""}function Qi(t,n){switch(t.tag){case 26:case 27:case 5:return Nn(t.type);case 16:return Nn("Lazy");case 13:return t.child!==n&&n!==null?Nn("Suspense Fallback"):Nn("Suspense");case 19:return Nn("SuspenseList");case 0:case 15:return Ei(t.type,!1);case 11:return Ei(t.type.render,!1);case 1:return Ei(t.type,!0);case 31:return Nn("Activity");default:return""}}function ws(t){try{var n="",r=null;do n+=Qi(t,r),r=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var rt=Object.prototype.hasOwnProperty,Tt=i.unstable_scheduleCallback,ai=i.unstable_cancelCallback,or=i.unstable_shouldYield,Ta=i.unstable_requestPaint,Pt=i.unstable_now,Xi=i.unstable_getCurrentPriorityLevel,Ns=i.unstable_ImmediatePriority,xa=i.unstable_UserBlockingPriority,vi=i.unstable_NormalPriority,xl=i.unstable_LowPriority,ur=i.unstable_IdlePriority,cr=i.log,hr=i.unstable_setDisableYieldValue,Rn=null,zt=null;function mn(t){if(typeof cr=="function"&&hr(t),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(Rn,t)}catch{}}var gt=Math.clz32?Math.clz32:dr,fr=Math.log,Rs=Math.LN2;function dr(t){return t>>>=0,t===0?32:31-(fr(t)/Rs|0)|0}var zn=256,Ji=262144,yt=4194304;function L(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Re(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var x=l&134217727;return x!==0?(l=x&~d,l!==0?h=L(l):(E&=x,E!==0?h=L(E):r||(r=x&~t,r!==0&&(h=L(r))))):(x=l&~d,x!==0?h=L(x):E!==0?h=L(E):r||(r=l&~t,r!==0&&(h=L(r)))),h===0?0:n!==0&&n!==h&&(n&d)===0&&(d=h&-h,r=n&-n,d>=r||d===32&&(r&4194048)!==0)?n:h}function lt(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Zi(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $t(){var t=yt;return yt<<=1,(yt&62914560)===0&&(yt=4194304),t}function un(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function Bn(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Sa(t,n,r,l,h,d){var E=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var x=t.entanglements,O=t.expirationTimes,F=t.hiddenUpdates;for(r=E&~r;0<r;){var J=31-gt(r),te=1<<J;x[J]=0,O[J]=-1;var Y=F[J];if(Y!==null)for(F[J]=null,J=0;J<Y.length;J++){var $=Y[J];$!==null&&($.lane&=-536870913)}r&=~te}l!==0&&bi(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(E&~n))}function bi(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-gt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function pn(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-gt(r),h=1<<l;h&n|t[l]&n&&(t[l]|=n),r&=~h}}function Sl(t,n){var r=n&-n;return r=(r&42)!==0?1:Aa(r),(r&(t.suspendedLanes|n))!==0?0:r}function Aa(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Wi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ru(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:Qy(t.type))}function ri(t,n){var r=le.p;try{return le.p=t,n()}finally{le.p=r}}var li=Math.random().toString(36).slice(2),Ct="__reactFiber$"+li,qt="__reactProps$"+li,Ti="__reactContainer$"+li,mr="__reactEvents$"+li,Fh="__reactListeners$"+li,lu="__reactHandles$"+li,ou="__reactResources$"+li,xi="__reactMarker$"+li;function pr(t){delete t[Ct],delete t[qt],delete t[mr],delete t[Fh],delete t[lu]}function Si(t){var n=t[Ct];if(n)return n;for(var r=t.parentNode;r;){if(n=r[Ti]||r[Ct]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=My(t);t!==null;){if(r=t[Ct])return r;t=My(t)}return n}t=r,r=t.parentNode}return null}function Hn(t){if(t=t[Ct]||t[Ti]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function In(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Ai(t){var n=t[ou];return n||(n=t[ou]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Dt(t){t[xi]=!0}var Al=new Set,wl={};function wi(t,n){Ni(t,n),Ni(t+"Capture",n)}function Ni(t,n){for(wl[t]=n,t=0;t<n.length;t++)Al.add(n[t])}var Nl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rl={},Il={};function uu(t){return rt.call(Il,t)?!0:rt.call(Rl,t)?!1:Nl.test(t)?Il[t]=!0:(Rl[t]=!0,!1)}function gr(t,n,r){if(uu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Cn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Ot(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function Ft(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Is(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Cl(t,n,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(E){r=""+E,d.call(this,E)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(E){r=""+E},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Xe(t){if(!t._valueTracker){var n=Is(t)?"checked":"value";t._valueTracker=Cl(t,n,""+t[n])}}function wa(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Is(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Ri(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Na=/[\n"\\]/g;function gn(t){return t.replace(Na,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function yr(t,n,r,l,h,d,E,x){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),n!=null?E==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ft(n)):t.value!==""+Ft(n)&&(t.value=""+Ft(n)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),n!=null?Dl(t,E,Ft(n)):r!=null?Dl(t,E,Ft(r)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.name=""+Ft(x):t.removeAttribute("name")}function cu(t,n,r,l,h,d,E,x){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),n!=null||r!=null){if(!(d!=="submit"&&d!=="reset"||n!=null)){Xe(t);return}r=r!=null?""+Ft(r):"",n=n!=null?""+Ft(n):r,x||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=x?t.checked:!!l,t.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E),Xe(t)}function Dl(t,n,r){n==="number"&&Ri(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Cs(t,n,r,l){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Ft(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function hu(t,n,r){if(n!=null&&(n=""+Ft(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ft(r):""}function Ds(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(pt(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ft(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),Xe(t)}function yn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var fu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ol(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||fu.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Ml(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&Ol(t,h,l)}else for(var d in n)n.hasOwnProperty(d)&&Ol(t,d,n[d])}function _r(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var du=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Os=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Er(t){return Os.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function oi(){}var jl=null;function Gn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ms=null,Ii=null;function Ra(t){var n=Hn(t);if(n&&(t=n.stateNode)){var r=t[qt]||null;e:switch(t=n.stateNode,n.type){case"input":if(yr(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+gn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var h=l[qt]||null;if(!h)throw Error(a(90));yr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&wa(l)}break e;case"textarea":hu(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&Cs(t,!!r.multiple,n,!1)}}}var vr=!1;function js(t,n,r){if(vr)return t(n,r);vr=!0;try{var l=t(n);return l}finally{if(vr=!1,(Ms!==null||Ii!==null)&&(rc(),Ms&&(n=Ms,t=Ii,Ii=Ms=null,Ra(n),t)))for(n=0;n<t.length;n++)Ra(t[n])}}function ui(t,n){var r=t.stateNode;if(r===null)return null;var l=r[qt]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ia=!1;if(qn)try{var et={};Object.defineProperty(et,"passive",{get:function(){Ia=!0}}),window.addEventListener("test",et,et),window.removeEventListener("test",et,et)}catch{Ia=!1}var Ci=null,Vl=null,Ca=null;function Ul(){if(Ca)return Ca;var t,n=Vl,r=n.length,l,h="value"in Ci?Ci.value:Ci.textContent,d=h.length;for(t=0;t<r&&n[t]===h[t];t++);var E=r-t;for(l=1;l<=E&&n[r-l]===h[d-l];l++);return Ca=h.slice(t,1<l?1-l:void 0)}function Da(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function es(){return!0}function ci(){return!1}function Qt(t){function n(r,l,h,d,E){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var x in t)t.hasOwnProperty(x)&&(r=t[x],this[x]=r?r(d):d[x]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?es:ci,this.isPropagationStopped=ci,this}return T(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=es)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=es)},persist:function(){},isPersistent:es}),n}var ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Di=Qt(ts),Vs=T({},ts,{view:0,detail:0}),Ll=Qt(Vs),Us,br,Oi,Tr=T({},Vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ls,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Oi&&(Oi&&t.type==="mousemove"?(Us=t.screenX-Oi.screenX,br=t.screenY-Oi.screenY):br=Us=0,Oi=t),Us)},movementY:function(t){return"movementY"in t?t.movementY:br}}),kl=Qt(Tr),Oa=T({},Tr,{dataTransfer:0}),mu=Qt(Oa),pu=T({},Vs,{relatedTarget:0}),Ma=Qt(pu),Pl=T({},ts,{animationName:0,elapsedTime:0,pseudoElement:0}),gu=Qt(Pl),xr=T({},ts,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),yu=Qt(xr),_u=T({},ts,{data:0}),Mi=Qt(_u),Eu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=bu[t])?!!n[t]:!1}function Ls(){return Tu}var cn=T({},Vs,{key:function(t){if(t.key){var n=Eu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Da(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ls,charCode:function(t){return t.type==="keypress"?Da(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Da(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xu=Qt(cn),Su=T({},Tr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ns=Qt(Su),c=T({},Vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ls}),y=Qt(c),v=T({},ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Qt(v),H=T({},Tr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),K=Qt(H),re=T({},ts,{newState:0,oldState:0}),we=Qt(re),At=[9,13,27,32],Ke=qn&&"CompositionEvent"in window,ft=null;qn&&"documentMode"in document&&(ft=document.documentMode);var Fn=qn&&"TextEvent"in window&&!ft,ji=qn&&(!Ke||ft&&8<ft&&11>=ft),hi=" ",fi=!1;function ja(t,n){switch(t){case"keyup":return At.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sr(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ar=!1;function RT(t,n){switch(t){case"compositionend":return Sr(n);case"keypress":return n.which!==32?null:(fi=!0,hi);case"textInput":return t=n.data,t===hi&&fi?null:t;default:return null}}function IT(t,n){if(Ar)return t==="compositionend"||!Ke&&ja(t,n)?(t=Ul(),Ca=Vl=Ci=null,Ar=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ji&&n.locale!=="ko"?null:n.data;default:return null}}var CT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Up(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!CT[t.type]:n==="textarea"}function Lp(t,n,r,l){Ms?Ii?Ii.push(l):Ii=[l]:Ms=l,n=dc(n,"onChange"),0<n.length&&(r=new Di("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var zl=null,Bl=null;function DT(t){Ey(t,0)}function Au(t){var n=In(t);if(wa(n))return t}function kp(t,n){if(t==="change")return n}var Pp=!1;if(qn){var Yh;if(qn){var Kh="oninput"in document;if(!Kh){var zp=document.createElement("div");zp.setAttribute("oninput","return;"),Kh=typeof zp.oninput=="function"}Yh=Kh}else Yh=!1;Pp=Yh&&(!document.documentMode||9<document.documentMode)}function Bp(){zl&&(zl.detachEvent("onpropertychange",Hp),Bl=zl=null)}function Hp(t){if(t.propertyName==="value"&&Au(Bl)){var n=[];Lp(n,Bl,t,Gn(t)),js(DT,n)}}function OT(t,n,r){t==="focusin"?(Bp(),zl=n,Bl=r,zl.attachEvent("onpropertychange",Hp)):t==="focusout"&&Bp()}function MT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Au(Bl)}function jT(t,n){if(t==="click")return Au(n)}function VT(t,n){if(t==="input"||t==="change")return Au(n)}function UT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Dn=typeof Object.is=="function"?Object.is:UT;function Hl(t,n){if(Dn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!rt.call(n,h)||!Dn(t[h],n[h]))return!1}return!0}function Gp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qp(t,n){var r=Gp(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Gp(r)}}function Fp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Fp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Yp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ri(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Ri(t.document)}return n}function $h(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var LT=qn&&"documentMode"in document&&11>=document.documentMode,wr=null,Qh=null,Gl=null,Xh=!1;function Kp(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Xh||wr==null||wr!==Ri(l)||(l=wr,"selectionStart"in l&&$h(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Gl&&Hl(Gl,l)||(Gl=l,l=dc(Qh,"onSelect"),0<l.length&&(n=new Di("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=wr)))}function Va(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Nr={animationend:Va("Animation","AnimationEnd"),animationiteration:Va("Animation","AnimationIteration"),animationstart:Va("Animation","AnimationStart"),transitionrun:Va("Transition","TransitionRun"),transitionstart:Va("Transition","TransitionStart"),transitioncancel:Va("Transition","TransitionCancel"),transitionend:Va("Transition","TransitionEnd")},Jh={},$p={};qn&&($p=document.createElement("div").style,"AnimationEvent"in window||(delete Nr.animationend.animation,delete Nr.animationiteration.animation,delete Nr.animationstart.animation),"TransitionEvent"in window||delete Nr.transitionend.transition);function Ua(t){if(Jh[t])return Jh[t];if(!Nr[t])return t;var n=Nr[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in $p)return Jh[t]=n[r];return t}var Qp=Ua("animationend"),Xp=Ua("animationiteration"),Jp=Ua("animationstart"),kT=Ua("transitionrun"),PT=Ua("transitionstart"),zT=Ua("transitioncancel"),Zp=Ua("transitionend"),Wp=new Map,Zh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zh.push("scrollEnd");function di(t,n){Wp.set(t,n),wi(n,[t])}var wu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Yn=[],Rr=0,Wh=0;function Nu(){for(var t=Rr,n=Wh=Rr=0;n<t;){var r=Yn[n];Yn[n++]=null;var l=Yn[n];Yn[n++]=null;var h=Yn[n];Yn[n++]=null;var d=Yn[n];if(Yn[n++]=null,l!==null&&h!==null){var E=l.pending;E===null?h.next=h:(h.next=E.next,E.next=h),l.pending=h}d!==0&&eg(r,h,d)}}function Ru(t,n,r,l){Yn[Rr++]=t,Yn[Rr++]=n,Yn[Rr++]=r,Yn[Rr++]=l,Wh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function ef(t,n,r,l){return Ru(t,n,r,l),Iu(t)}function La(t,n){return Ru(t,null,null,n),Iu(t)}function eg(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,d=t.return;d!==null;)d.childLanes|=r,l=d.alternate,l!==null&&(l.childLanes|=r),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&n!==null&&(h=31-gt(r),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=r|536870912),d):null}function Iu(t){if(50<ho)throw ho=0,cd=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ir={};function BT(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(t,n,r,l){return new BT(t,n,r,l)}function tf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function is(t,n){var r=t.alternate;return r===null?(r=On(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function tg(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Cu(t,n,r,l,h,d){var E=0;if(l=t,typeof t=="function")tf(t)&&(E=1);else if(typeof t=="string")E=Yx(t,r,oe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=On(31,r,n,h),t.elementType=I,t.lanes=d,t;case G:return ka(r.children,h,d,n);case R:E=8,h|=24;break;case Z:return t=On(12,r,n,h|2),t.elementType=Z,t.lanes=d,t;case me:return t=On(13,r,n,h),t.elementType=me,t.lanes=d,t;case pe:return t=On(19,r,n,h),t.elementType=pe,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Q:E=10;break e;case se:E=9;break e;case he:E=11;break e;case C:E=14;break e;case N:E=16,l=null;break e}E=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=On(E,r,n,h),n.elementType=t,n.type=l,n.lanes=d,n}function ka(t,n,r,l){return t=On(7,t,l,n),t.lanes=r,t}function nf(t,n,r){return t=On(6,t,null,n),t.lanes=r,t}function ng(t){var n=On(18,null,null,0);return n.stateNode=t,n}function sf(t,n,r){return n=On(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var ig=new WeakMap;function Kn(t,n){if(typeof t=="object"&&t!==null){var r=ig.get(t);return r!==void 0?r:(n={value:t,source:n,stack:ws(n)},ig.set(t,n),n)}return{value:t,source:n,stack:ws(n)}}var Cr=[],Dr=0,Du=null,ql=0,$n=[],Qn=0,ks=null,Vi=1,Ui="";function ss(t,n){Cr[Dr++]=ql,Cr[Dr++]=Du,Du=t,ql=n}function sg(t,n,r){$n[Qn++]=Vi,$n[Qn++]=Ui,$n[Qn++]=ks,ks=t;var l=Vi;t=Ui;var h=32-gt(l)-1;l&=~(1<<h),r+=1;var d=32-gt(n)+h;if(30<d){var E=h-h%5;d=(l&(1<<E)-1).toString(32),l>>=E,h-=E,Vi=1<<32-gt(n)+h|r<<h|l,Ui=d+t}else Vi=1<<d|r<<h|l,Ui=t}function af(t){t.return!==null&&(ss(t,1),sg(t,1,0))}function rf(t){for(;t===Du;)Du=Cr[--Dr],Cr[Dr]=null,ql=Cr[--Dr],Cr[Dr]=null;for(;t===ks;)ks=$n[--Qn],$n[Qn]=null,Ui=$n[--Qn],$n[Qn]=null,Vi=$n[--Qn],$n[Qn]=null}function ag(t,n){$n[Qn++]=Vi,$n[Qn++]=Ui,$n[Qn++]=ks,Vi=n.id,Ui=n.overflow,ks=t}var Xt=null,ot=null,ze=!1,Ps=null,Xn=!1,lf=Error(a(519));function zs(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fl(Kn(n,t)),lf}function rg(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[Ct]=t,n[qt]=l,r){case"dialog":Ve("cancel",n),Ve("close",n);break;case"iframe":case"object":case"embed":Ve("load",n);break;case"video":case"audio":for(r=0;r<mo.length;r++)Ve(mo[r],n);break;case"source":Ve("error",n);break;case"img":case"image":case"link":Ve("error",n),Ve("load",n);break;case"details":Ve("toggle",n);break;case"input":Ve("invalid",n),cu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ve("invalid",n);break;case"textarea":Ve("invalid",n),Ds(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||xy(n.textContent,r)?(l.popover!=null&&(Ve("beforetoggle",n),Ve("toggle",n)),l.onScroll!=null&&Ve("scroll",n),l.onScrollEnd!=null&&Ve("scrollend",n),l.onClick!=null&&(n.onclick=oi),n=!0):n=!1,n||zs(t,!0)}function lg(t){for(Xt=t.return;Xt;)switch(Xt.tag){case 5:case 31:case 13:Xn=!1;return;case 27:case 3:Xn=!0;return;default:Xt=Xt.return}}function Or(t){if(t!==Xt)return!1;if(!ze)return lg(t),ze=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Ad(t.type,t.memoizedProps)),r=!r),r&&ot&&zs(t),lg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ot=Oy(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ot=Oy(t)}else n===27?(n=ot,ea(t.type)?(t=Cd,Cd=null,ot=t):ot=n):ot=Xt?Zn(t.stateNode.nextSibling):null;return!0}function Pa(){ot=Xt=null,ze=!1}function of(){var t=Ps;return t!==null&&(bn===null?bn=t:bn.push.apply(bn,t),Ps=null),t}function Fl(t){Ps===null?Ps=[t]:Ps.push(t)}var uf=V(null),za=null,as=null;function Bs(t,n,r){ae(uf,n._currentValue),n._currentValue=r}function rs(t){t._currentValue=uf.current,ee(uf)}function cf(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function hf(t,n,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var E=h.child;d=d.firstContext;e:for(;d!==null;){var x=d;d=h;for(var O=0;O<n.length;O++)if(x.context===n[O]){d.lanes|=r,x=d.alternate,x!==null&&(x.lanes|=r),cf(d.return,r,t),l||(E=null);break e}d=x.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(a(341));E.lanes|=r,d=E.alternate,d!==null&&(d.lanes|=r),cf(E,r,t),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===t){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function Mr(t,n,r,l){t=null;for(var h=n,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(a(387));if(E=E.memoizedProps,E!==null){var x=h.type;Dn(h.pendingProps.value,E.value)||(t!==null?t.push(x):t=[x])}}else if(h===Ce.current){if(E=h.alternate,E===null)throw Error(a(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Eo):t=[Eo])}h=h.return}t!==null&&hf(n,t,r,l),n.flags|=262144}function Ou(t){for(t=t.firstContext;t!==null;){if(!Dn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ba(t){za=t,as=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Jt(t){return og(za,t)}function Mu(t,n){return za===null&&Ba(t),og(t,n)}function og(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},as===null){if(t===null)throw Error(a(308));as=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else as=as.next=n;return r}var HT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},GT=i.unstable_scheduleCallback,qT=i.unstable_NormalPriority,Mt={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ff(){return{controller:new HT,data:new Map,refCount:0}}function Yl(t){t.refCount--,t.refCount===0&&GT(qT,function(){t.controller.abort()})}var Kl=null,df=0,jr=0,Vr=null;function FT(t,n){if(Kl===null){var r=Kl=[];df=0,jr=gd(),Vr={status:"pending",value:void 0,then:function(l){r.push(l)}}}return df++,n.then(ug,ug),n}function ug(){if(--df===0&&Kl!==null){Vr!==null&&(Vr.status="fulfilled");var t=Kl;Kl=null,jr=0,Vr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function YT(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var cg=X.S;X.S=function(t,n){K0=Pt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&FT(t,n),cg!==null&&cg(t,n)};var Ha=V(null);function mf(){var t=Ha.current;return t!==null?t:at.pooledCache}function ju(t,n){n===null?ae(Ha,Ha.current):ae(Ha,n.pool)}function hg(){var t=mf();return t===null?null:{parent:Mt._currentValue,pool:t}}var Ur=Error(a(460)),pf=Error(a(474)),Vu=Error(a(542)),Uu={then:function(){}};function fg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function dg(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(oi,oi),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,pg(t),t;default:if(typeof n.status=="string")n.then(oi,oi);else{if(t=at,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,pg(t),t}throw qa=n,Ur}}function Ga(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(qa=r,Ur):r}}var qa=null;function mg(){if(qa===null)throw Error(a(459));var t=qa;return qa=null,t}function pg(t){if(t===Ur||t===Vu)throw Error(a(483))}var Lr=null,$l=0;function Lu(t){var n=$l;return $l+=1,Lr===null&&(Lr=[]),dg(Lr,t,n)}function Ql(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function ku(t,n){throw n.$$typeof===S?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function gg(t){function n(P,j){if(t){var q=P.deletions;q===null?(P.deletions=[j],P.flags|=16):q.push(j)}}function r(P,j){if(!t)return null;for(;j!==null;)n(P,j),j=j.sibling;return null}function l(P){for(var j=new Map;P!==null;)P.key!==null?j.set(P.key,P):j.set(P.index,P),P=P.sibling;return j}function h(P,j){return P=is(P,j),P.index=0,P.sibling=null,P}function d(P,j,q){return P.index=q,t?(q=P.alternate,q!==null?(q=q.index,q<j?(P.flags|=67108866,j):q):(P.flags|=67108866,j)):(P.flags|=1048576,j)}function E(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function x(P,j,q,W){return j===null||j.tag!==6?(j=nf(q,P.mode,W),j.return=P,j):(j=h(j,q),j.return=P,j)}function O(P,j,q,W){var ye=q.type;return ye===G?J(P,j,q.props.children,W,q.key):j!==null&&(j.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===N&&Ga(ye)===j.type)?(j=h(j,q.props),Ql(j,q),j.return=P,j):(j=Cu(q.type,q.key,q.props,null,P.mode,W),Ql(j,q),j.return=P,j)}function F(P,j,q,W){return j===null||j.tag!==4||j.stateNode.containerInfo!==q.containerInfo||j.stateNode.implementation!==q.implementation?(j=sf(q,P.mode,W),j.return=P,j):(j=h(j,q.children||[]),j.return=P,j)}function J(P,j,q,W,ye){return j===null||j.tag!==7?(j=ka(q,P.mode,W,ye),j.return=P,j):(j=h(j,q),j.return=P,j)}function te(P,j,q){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=nf(""+j,P.mode,q),j.return=P,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case w:return q=Cu(j.type,j.key,j.props,null,P.mode,q),Ql(q,j),q.return=P,q;case B:return j=sf(j,P.mode,q),j.return=P,j;case N:return j=Ga(j),te(P,j,q)}if(pt(j)||z(j))return j=ka(j,P.mode,q,null),j.return=P,j;if(typeof j.then=="function")return te(P,Lu(j),q);if(j.$$typeof===Q)return te(P,Mu(P,j),q);ku(P,j)}return null}function Y(P,j,q,W){var ye=j!==null?j.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ye!==null?null:x(P,j,""+q,W);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case w:return q.key===ye?O(P,j,q,W):null;case B:return q.key===ye?F(P,j,q,W):null;case N:return q=Ga(q),Y(P,j,q,W)}if(pt(q)||z(q))return ye!==null?null:J(P,j,q,W,null);if(typeof q.then=="function")return Y(P,j,Lu(q),W);if(q.$$typeof===Q)return Y(P,j,Mu(P,q),W);ku(P,q)}return null}function $(P,j,q,W,ye){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return P=P.get(q)||null,x(j,P,""+W,ye);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case w:return P=P.get(W.key===null?q:W.key)||null,O(j,P,W,ye);case B:return P=P.get(W.key===null?q:W.key)||null,F(j,P,W,ye);case N:return W=Ga(W),$(P,j,q,W,ye)}if(pt(W)||z(W))return P=P.get(q)||null,J(j,P,W,ye,null);if(typeof W.then=="function")return $(P,j,q,Lu(W),ye);if(W.$$typeof===Q)return $(P,j,q,Mu(j,W),ye);ku(j,W)}return null}function ce(P,j,q,W){for(var ye=null,Fe=null,de=j,Ie=j=0,Le=null;de!==null&&Ie<q.length;Ie++){de.index>Ie?(Le=de,de=null):Le=de.sibling;var Ye=Y(P,de,q[Ie],W);if(Ye===null){de===null&&(de=Le);break}t&&de&&Ye.alternate===null&&n(P,de),j=d(Ye,j,Ie),Fe===null?ye=Ye:Fe.sibling=Ye,Fe=Ye,de=Le}if(Ie===q.length)return r(P,de),ze&&ss(P,Ie),ye;if(de===null){for(;Ie<q.length;Ie++)de=te(P,q[Ie],W),de!==null&&(j=d(de,j,Ie),Fe===null?ye=de:Fe.sibling=de,Fe=de);return ze&&ss(P,Ie),ye}for(de=l(de);Ie<q.length;Ie++)Le=$(de,P,Ie,q[Ie],W),Le!==null&&(t&&Le.alternate!==null&&de.delete(Le.key===null?Ie:Le.key),j=d(Le,j,Ie),Fe===null?ye=Le:Fe.sibling=Le,Fe=Le);return t&&de.forEach(function(aa){return n(P,aa)}),ze&&ss(P,Ie),ye}function Ee(P,j,q,W){if(q==null)throw Error(a(151));for(var ye=null,Fe=null,de=j,Ie=j=0,Le=null,Ye=q.next();de!==null&&!Ye.done;Ie++,Ye=q.next()){de.index>Ie?(Le=de,de=null):Le=de.sibling;var aa=Y(P,de,Ye.value,W);if(aa===null){de===null&&(de=Le);break}t&&de&&aa.alternate===null&&n(P,de),j=d(aa,j,Ie),Fe===null?ye=aa:Fe.sibling=aa,Fe=aa,de=Le}if(Ye.done)return r(P,de),ze&&ss(P,Ie),ye;if(de===null){for(;!Ye.done;Ie++,Ye=q.next())Ye=te(P,Ye.value,W),Ye!==null&&(j=d(Ye,j,Ie),Fe===null?ye=Ye:Fe.sibling=Ye,Fe=Ye);return ze&&ss(P,Ie),ye}for(de=l(de);!Ye.done;Ie++,Ye=q.next())Ye=$(de,P,Ie,Ye.value,W),Ye!==null&&(t&&Ye.alternate!==null&&de.delete(Ye.key===null?Ie:Ye.key),j=d(Ye,j,Ie),Fe===null?ye=Ye:Fe.sibling=Ye,Fe=Ye);return t&&de.forEach(function(iS){return n(P,iS)}),ze&&ss(P,Ie),ye}function it(P,j,q,W){if(typeof q=="object"&&q!==null&&q.type===G&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case w:e:{for(var ye=q.key;j!==null;){if(j.key===ye){if(ye=q.type,ye===G){if(j.tag===7){r(P,j.sibling),W=h(j,q.props.children),W.return=P,P=W;break e}}else if(j.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===N&&Ga(ye)===j.type){r(P,j.sibling),W=h(j,q.props),Ql(W,q),W.return=P,P=W;break e}r(P,j);break}else n(P,j);j=j.sibling}q.type===G?(W=ka(q.props.children,P.mode,W,q.key),W.return=P,P=W):(W=Cu(q.type,q.key,q.props,null,P.mode,W),Ql(W,q),W.return=P,P=W)}return E(P);case B:e:{for(ye=q.key;j!==null;){if(j.key===ye)if(j.tag===4&&j.stateNode.containerInfo===q.containerInfo&&j.stateNode.implementation===q.implementation){r(P,j.sibling),W=h(j,q.children||[]),W.return=P,P=W;break e}else{r(P,j);break}else n(P,j);j=j.sibling}W=sf(q,P.mode,W),W.return=P,P=W}return E(P);case N:return q=Ga(q),it(P,j,q,W)}if(pt(q))return ce(P,j,q,W);if(z(q)){if(ye=z(q),typeof ye!="function")throw Error(a(150));return q=ye.call(q),Ee(P,j,q,W)}if(typeof q.then=="function")return it(P,j,Lu(q),W);if(q.$$typeof===Q)return it(P,j,Mu(P,q),W);ku(P,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,j!==null&&j.tag===6?(r(P,j.sibling),W=h(j,q),W.return=P,P=W):(r(P,j),W=nf(q,P.mode,W),W.return=P,P=W),E(P)):r(P,j)}return function(P,j,q,W){try{$l=0;var ye=it(P,j,q,W);return Lr=null,ye}catch(de){if(de===Ur||de===Vu)throw de;var Fe=On(29,de,null,P.mode);return Fe.lanes=W,Fe.return=P,Fe}finally{}}}var Fa=gg(!0),yg=gg(!1),Hs=!1;function gf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Gs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function qs(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,($e&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Iu(t),eg(t,null,r),n}return Ru(t,l,n,r),Iu(t)}function Xl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,pn(t,r)}}function _f(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var E={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};d===null?h=d=E:d=d.next=E,r=r.next}while(r!==null);d===null?h=d=n:d=d.next=n}else h=d=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Ef=!1;function Jl(){if(Ef){var t=Vr;if(t!==null)throw t}}function Zl(t,n,r,l){Ef=!1;var h=t.updateQueue;Hs=!1;var d=h.firstBaseUpdate,E=h.lastBaseUpdate,x=h.shared.pending;if(x!==null){h.shared.pending=null;var O=x,F=O.next;O.next=null,E===null?d=F:E.next=F,E=O;var J=t.alternate;J!==null&&(J=J.updateQueue,x=J.lastBaseUpdate,x!==E&&(x===null?J.firstBaseUpdate=F:x.next=F,J.lastBaseUpdate=O))}if(d!==null){var te=h.baseState;E=0,J=F=O=null,x=d;do{var Y=x.lane&-536870913,$=Y!==x.lane;if($?(Ue&Y)===Y:(l&Y)===Y){Y!==0&&Y===jr&&(Ef=!0),J!==null&&(J=J.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var ce=t,Ee=x;Y=n;var it=r;switch(Ee.tag){case 1:if(ce=Ee.payload,typeof ce=="function"){te=ce.call(it,te,Y);break e}te=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=Ee.payload,Y=typeof ce=="function"?ce.call(it,te,Y):ce,Y==null)break e;te=T({},te,Y);break e;case 2:Hs=!0}}Y=x.callback,Y!==null&&(t.flags|=64,$&&(t.flags|=8192),$=h.callbacks,$===null?h.callbacks=[Y]:$.push(Y))}else $={lane:Y,tag:x.tag,payload:x.payload,callback:x.callback,next:null},J===null?(F=J=$,O=te):J=J.next=$,E|=Y;if(x=x.next,x===null){if(x=h.shared.pending,x===null)break;$=x,x=$.next,$.next=null,h.lastBaseUpdate=$,h.shared.pending=null}}while(!0);J===null&&(O=te),h.baseState=O,h.firstBaseUpdate=F,h.lastBaseUpdate=J,d===null&&(h.shared.lanes=0),Qs|=E,t.lanes=E,t.memoizedState=te}}function _g(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Eg(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)_g(r[t],n)}var kr=V(null),Pu=V(0);function vg(t,n){t=ps,ae(Pu,t),ae(kr,n),ps=t|n.baseLanes}function vf(){ae(Pu,ps),ae(kr,kr.current)}function bf(){ps=Pu.current,ee(kr),ee(Pu)}var Mn=V(null),Jn=null;function Fs(t){var n=t.alternate;ae(wt,wt.current&1),ae(Mn,t),Jn===null&&(n===null||kr.current!==null||n.memoizedState!==null)&&(Jn=t)}function Tf(t){ae(wt,wt.current),ae(Mn,t),Jn===null&&(Jn=t)}function bg(t){t.tag===22?(ae(wt,wt.current),ae(Mn,t),Jn===null&&(Jn=t)):Ys()}function Ys(){ae(wt,wt.current),ae(Mn,Mn.current)}function jn(t){ee(Mn),Jn===t&&(Jn=null),ee(wt)}var wt=V(0);function zu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Rd(r)||Id(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ls=0,Ne=null,tt=null,jt=null,Bu=!1,Pr=!1,Ya=!1,Hu=0,Wl=0,zr=null,KT=0;function xt(){throw Error(a(321))}function xf(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!Dn(t[r],n[r]))return!1;return!0}function Sf(t,n,r,l,h,d){return ls=d,Ne=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,X.H=t===null||t.memoizedState===null?s0:Pf,Ya=!1,d=r(l,h),Ya=!1,Pr&&(d=xg(n,r,l,h)),Tg(t),d}function Tg(t){X.H=no;var n=tt!==null&&tt.next!==null;if(ls=0,jt=tt=Ne=null,Bu=!1,Wl=0,zr=null,n)throw Error(a(300));t===null||Vt||(t=t.dependencies,t!==null&&Ou(t)&&(Vt=!0))}function xg(t,n,r,l){Ne=t;var h=0;do{if(Pr&&(zr=null),Wl=0,Pr=!1,25<=h)throw Error(a(301));if(h+=1,jt=tt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=a0,d=n(r,l)}while(Pr);return d}function $T(){var t=X.H,n=t.useState()[0];return n=typeof n.then=="function"?eo(n):n,t=t.useState()[0],(tt!==null?tt.memoizedState:null)!==t&&(Ne.flags|=1024),n}function Af(){var t=Hu!==0;return Hu=0,t}function wf(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Nf(t){if(Bu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Bu=!1}ls=0,jt=tt=Ne=null,Pr=!1,Wl=Hu=0,zr=null}function hn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?Ne.memoizedState=jt=t:jt=jt.next=t,jt}function Nt(){if(tt===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=tt.next;var n=jt===null?Ne.memoizedState:jt.next;if(n!==null)jt=n,tt=t;else{if(t===null)throw Ne.alternate===null?Error(a(467)):Error(a(310));tt=t,t={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},jt===null?Ne.memoizedState=jt=t:jt=jt.next=t}return jt}function Gu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function eo(t){var n=Wl;return Wl+=1,zr===null&&(zr=[]),t=dg(zr,t,n),n=Ne,(jt===null?n.memoizedState:jt.next)===null&&(n=n.alternate,X.H=n===null||n.memoizedState===null?s0:Pf),t}function qu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return eo(t);if(t.$$typeof===Q)return Jt(t)}throw Error(a(438,String(t)))}function Rf(t){var n=null,r=Ne.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Gu(),Ne.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=U;return n.index++,r}function os(t,n){return typeof n=="function"?n(t):n}function Fu(t){var n=Nt();return If(n,tt,t)}function If(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var E=h.next;h.next=d.next,d.next=E}n.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{n=h.next;var x=E=null,O=null,F=n,J=!1;do{var te=F.lane&-536870913;if(te!==F.lane?(Ue&te)===te:(ls&te)===te){var Y=F.revertLane;if(Y===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),te===jr&&(J=!0);else if((ls&Y)===Y){F=F.next,Y===jr&&(J=!0);continue}else te={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},O===null?(x=O=te,E=d):O=O.next=te,Ne.lanes|=Y,Qs|=Y;te=F.action,Ya&&r(d,te),d=F.hasEagerState?F.eagerState:r(d,te)}else Y={lane:te,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},O===null?(x=O=Y,E=d):O=O.next=Y,Ne.lanes|=te,Qs|=te;F=F.next}while(F!==null&&F!==n);if(O===null?E=d:O.next=x,!Dn(d,t.memoizedState)&&(Vt=!0,J&&(r=Vr,r!==null)))throw r;t.memoizedState=d,t.baseState=E,t.baseQueue=O,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Cf(t){var n=Nt(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,d=n.memoizedState;if(h!==null){r.pending=null;var E=h=h.next;do d=t(d,E.action),E=E.next;while(E!==h);Dn(d,n.memoizedState)||(Vt=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),r.lastRenderedState=d}return[d,l]}function Sg(t,n,r){var l=Ne,h=Nt(),d=ze;if(d){if(r===void 0)throw Error(a(407));r=r()}else r=n();var E=!Dn((tt||h).memoizedState,r);if(E&&(h.memoizedState=r,Vt=!0),h=h.queue,Mf(Ng.bind(null,l,h,t),[t]),h.getSnapshot!==n||E||jt!==null&&jt.memoizedState.tag&1){if(l.flags|=2048,Br(9,{destroy:void 0},wg.bind(null,l,h,r,n),null),at===null)throw Error(a(349));d||(ls&127)!==0||Ag(l,n,r)}return r}function Ag(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Ne.updateQueue,n===null?(n=Gu(),Ne.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function wg(t,n,r,l){n.value=r,n.getSnapshot=l,Rg(n)&&Ig(t)}function Ng(t,n,r){return r(function(){Rg(n)&&Ig(t)})}function Rg(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!Dn(t,r)}catch{return!0}}function Ig(t){var n=La(t,2);n!==null&&Tn(n,t,2)}function Df(t){var n=hn();if(typeof t=="function"){var r=t;if(t=r(),Ya){mn(!0);try{r()}finally{mn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:t},n}function Cg(t,n,r,l){return t.baseState=r,If(t,tt,typeof l=="function"?l:os)}function QT(t,n,r,l,h){if($u(t))throw Error(a(485));if(t=n.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};X.T!==null?r(!0):d.isTransition=!1,l(d),r=n.pending,r===null?(d.next=n.pending=d,Dg(n,d)):(d.next=r.next,n.pending=r.next=d)}}function Dg(t,n){var r=n.action,l=n.payload,h=t.state;if(n.isTransition){var d=X.T,E={};X.T=E;try{var x=r(h,l),O=X.S;O!==null&&O(E,x),Og(t,n,x)}catch(F){Of(t,n,F)}finally{d!==null&&E.types!==null&&(d.types=E.types),X.T=d}}else try{d=r(h,l),Og(t,n,d)}catch(F){Of(t,n,F)}}function Og(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Mg(t,n,l)},function(l){return Of(t,n,l)}):Mg(t,n,r)}function Mg(t,n,r){n.status="fulfilled",n.value=r,jg(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Dg(t,r)))}function Of(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,jg(n),n=n.next;while(n!==l)}t.action=null}function jg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Vg(t,n){return n}function Ug(t,n){if(ze){var r=at.formState;if(r!==null){e:{var l=Ne;if(ze){if(ot){t:{for(var h=ot,d=Xn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Zn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ot=Zn(h.nextSibling),l=h.data==="F!";break e}}zs(l)}l=!1}l&&(n=r[0])}}return r=hn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vg,lastRenderedState:n},r.queue=l,r=t0.bind(null,Ne,l),l.dispatch=r,l=Df(!1),d=kf.bind(null,Ne,!1,l.queue),l=hn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,r=QT.bind(null,Ne,h,d,r),h.dispatch=r,l.memoizedState=t,[n,r,!1]}function Lg(t){var n=Nt();return kg(n,tt,t)}function kg(t,n,r){if(n=If(t,n,Vg)[0],t=Fu(os)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=eo(n)}catch(E){throw E===Ur?Vu:E}else l=n;n=Nt();var h=n.queue,d=h.dispatch;return r!==n.memoizedState&&(Ne.flags|=2048,Br(9,{destroy:void 0},XT.bind(null,h,r),null)),[l,d,t]}function XT(t,n){t.action=n}function Pg(t){var n=Nt(),r=tt;if(r!==null)return kg(n,r,t);Nt(),n=n.memoizedState,r=Nt();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Br(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=Ne.updateQueue,n===null&&(n=Gu(),Ne.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function zg(){return Nt().memoizedState}function Yu(t,n,r,l){var h=hn();Ne.flags|=t,h.memoizedState=Br(1|n,{destroy:void 0},r,l===void 0?null:l)}function Ku(t,n,r,l){var h=Nt();l=l===void 0?null:l;var d=h.memoizedState.inst;tt!==null&&l!==null&&xf(l,tt.memoizedState.deps)?h.memoizedState=Br(n,d,r,l):(Ne.flags|=t,h.memoizedState=Br(1|n,d,r,l))}function Bg(t,n){Yu(8390656,8,t,n)}function Mf(t,n){Ku(2048,8,t,n)}function JT(t){Ne.flags|=4;var n=Ne.updateQueue;if(n===null)n=Gu(),Ne.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function Hg(t){var n=Nt().memoizedState;return JT({ref:n,nextImpl:t}),function(){if(($e&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Gg(t,n){return Ku(4,2,t,n)}function qg(t,n){return Ku(4,4,t,n)}function Fg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Yg(t,n,r){r=r!=null?r.concat([t]):null,Ku(4,4,Fg.bind(null,n,t),r)}function jf(){}function Kg(t,n){var r=Nt();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&xf(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function $g(t,n){var r=Nt();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&xf(n,l[1]))return l[0];if(l=t(),Ya){mn(!0);try{t()}finally{mn(!1)}}return r.memoizedState=[l,n],l}function Vf(t,n,r){return r===void 0||(ls&1073741824)!==0&&(Ue&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=Q0(),Ne.lanes|=t,Qs|=t,r)}function Qg(t,n,r,l){return Dn(r,n)?r:kr.current!==null?(t=Vf(t,r,l),Dn(t,n)||(Vt=!0),t):(ls&42)===0||(ls&1073741824)!==0&&(Ue&261930)===0?(Vt=!0,t.memoizedState=r):(t=Q0(),Ne.lanes|=t,Qs|=t,n)}function Xg(t,n,r,l,h){var d=le.p;le.p=d!==0&&8>d?d:8;var E=X.T,x={};X.T=x,kf(t,!1,n,r);try{var O=h(),F=X.S;if(F!==null&&F(x,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var J=YT(O,l);to(t,n,J,Ln(t))}else to(t,n,l,Ln(t))}catch(te){to(t,n,{then:function(){},status:"rejected",reason:te},Ln())}finally{le.p=d,E!==null&&x.types!==null&&(E.types=x.types),X.T=E}}function ZT(){}function Uf(t,n,r,l){if(t.tag!==5)throw Error(a(476));var h=Jg(t).queue;Xg(t,h,n,ge,r===null?ZT:function(){return Zg(t),r(l)})}function Jg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:ge},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Zg(t){var n=Jg(t);n.next===null&&(n=t.alternate.memoizedState),to(t,n.next.queue,{},Ln())}function Lf(){return Jt(Eo)}function Wg(){return Nt().memoizedState}function e0(){return Nt().memoizedState}function WT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Ln();t=Gs(r);var l=qs(n,t,r);l!==null&&(Tn(l,n,r),Xl(l,n,r)),n={cache:ff()},t.payload=n;return}n=n.return}}function ex(t,n,r){var l=Ln();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},$u(t)?n0(n,r):(r=ef(t,n,r,l),r!==null&&(Tn(r,t,l),i0(r,n,l)))}function t0(t,n,r){var l=Ln();to(t,n,r,l)}function to(t,n,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if($u(t))n0(n,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var E=n.lastRenderedState,x=d(E,r);if(h.hasEagerState=!0,h.eagerState=x,Dn(x,E))return Ru(t,n,h,0),at===null&&Nu(),!1}catch{}finally{}if(r=ef(t,n,h,l),r!==null)return Tn(r,t,l),i0(r,n,l),!0}return!1}function kf(t,n,r,l){if(l={lane:2,revertLane:gd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},$u(t)){if(n)throw Error(a(479))}else n=ef(t,r,l,2),n!==null&&Tn(n,t,2)}function $u(t){var n=t.alternate;return t===Ne||n!==null&&n===Ne}function n0(t,n){Pr=Bu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function i0(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,pn(t,r)}}var no={readContext:Jt,use:qu,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt};no.useEffectEvent=xt;var s0={readContext:Jt,use:qu,useCallback:function(t,n){return hn().memoizedState=[t,n===void 0?null:n],t},useContext:Jt,useEffect:Bg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Yu(4194308,4,Fg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Yu(4194308,4,t,n)},useInsertionEffect:function(t,n){Yu(4,2,t,n)},useMemo:function(t,n){var r=hn();n=n===void 0?null:n;var l=t();if(Ya){mn(!0);try{t()}finally{mn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=hn();if(r!==void 0){var h=r(n);if(Ya){mn(!0);try{r(n)}finally{mn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=ex.bind(null,Ne,t),[l.memoizedState,t]},useRef:function(t){var n=hn();return t={current:t},n.memoizedState=t},useState:function(t){t=Df(t);var n=t.queue,r=t0.bind(null,Ne,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:jf,useDeferredValue:function(t,n){var r=hn();return Vf(r,t,n)},useTransition:function(){var t=Df(!1);return t=Xg.bind(null,Ne,t.queue,!0,!1),hn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Ne,h=hn();if(ze){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),at===null)throw Error(a(349));(Ue&127)!==0||Ag(l,n,r)}h.memoizedState=r;var d={value:r,getSnapshot:n};return h.queue=d,Bg(Ng.bind(null,l,d,t),[t]),l.flags|=2048,Br(9,{destroy:void 0},wg.bind(null,l,d,r,n),null),r},useId:function(){var t=hn(),n=at.identifierPrefix;if(ze){var r=Ui,l=Vi;r=(l&~(1<<32-gt(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Hu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=KT++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Lf,useFormState:Ug,useActionState:Ug,useOptimistic:function(t){var n=hn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=kf.bind(null,Ne,!0,r),r.dispatch=n,[t,n]},useMemoCache:Rf,useCacheRefresh:function(){return hn().memoizedState=WT.bind(null,Ne)},useEffectEvent:function(t){var n=hn(),r={impl:t};return n.memoizedState=r,function(){if(($e&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Pf={readContext:Jt,use:qu,useCallback:Kg,useContext:Jt,useEffect:Mf,useImperativeHandle:Yg,useInsertionEffect:Gg,useLayoutEffect:qg,useMemo:$g,useReducer:Fu,useRef:zg,useState:function(){return Fu(os)},useDebugValue:jf,useDeferredValue:function(t,n){var r=Nt();return Qg(r,tt.memoizedState,t,n)},useTransition:function(){var t=Fu(os)[0],n=Nt().memoizedState;return[typeof t=="boolean"?t:eo(t),n]},useSyncExternalStore:Sg,useId:Wg,useHostTransitionStatus:Lf,useFormState:Lg,useActionState:Lg,useOptimistic:function(t,n){var r=Nt();return Cg(r,tt,t,n)},useMemoCache:Rf,useCacheRefresh:e0};Pf.useEffectEvent=Hg;var a0={readContext:Jt,use:qu,useCallback:Kg,useContext:Jt,useEffect:Mf,useImperativeHandle:Yg,useInsertionEffect:Gg,useLayoutEffect:qg,useMemo:$g,useReducer:Cf,useRef:zg,useState:function(){return Cf(os)},useDebugValue:jf,useDeferredValue:function(t,n){var r=Nt();return tt===null?Vf(r,t,n):Qg(r,tt.memoizedState,t,n)},useTransition:function(){var t=Cf(os)[0],n=Nt().memoizedState;return[typeof t=="boolean"?t:eo(t),n]},useSyncExternalStore:Sg,useId:Wg,useHostTransitionStatus:Lf,useFormState:Pg,useActionState:Pg,useOptimistic:function(t,n){var r=Nt();return tt!==null?Cg(r,tt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Rf,useCacheRefresh:e0};a0.useEffectEvent=Hg;function zf(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:T({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Bf={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=Ln(),h=Gs(l);h.payload=n,r!=null&&(h.callback=r),n=qs(t,h,l),n!==null&&(Tn(n,t,l),Xl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=Ln(),h=Gs(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=qs(t,h,l),n!==null&&(Tn(n,t,l),Xl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Ln(),l=Gs(r);l.tag=2,n!=null&&(l.callback=n),n=qs(t,l,r),n!==null&&(Tn(n,t,r),Xl(n,t,r))}};function r0(t,n,r,l,h,d,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,E):n.prototype&&n.prototype.isPureReactComponent?!Hl(r,l)||!Hl(h,d):!0}function l0(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Bf.enqueueReplaceState(n,n.state,null)}function Ka(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=T({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function o0(t){wu(t)}function u0(t){console.error(t)}function c0(t){wu(t)}function Qu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function h0(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Hf(t,n,r){return r=Gs(r),r.tag=3,r.payload={element:null},r.callback=function(){Qu(t,n)},r}function f0(t){return t=Gs(t),t.tag=3,t}function d0(t,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){h0(n,r,l)}}var E=r.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){h0(n,r,l),typeof h!="function"&&(Xs===null?Xs=new Set([this]):Xs.add(this));var x=l.stack;this.componentDidCatch(l.value,{componentStack:x!==null?x:""})})}function tx(t,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&Mr(n,r,h,!0),r=Mn.current,r!==null){switch(r.tag){case 31:case 13:return Jn===null?lc():r.alternate===null&&St===0&&(St=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===Uu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),dd(t,l,h)),!1;case 22:return r.flags|=65536,l===Uu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),dd(t,l,h)),!1}throw Error(a(435,r.tag))}return dd(t,l,h),lc(),!1}if(ze)return n=Mn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==lf&&(t=Error(a(422),{cause:l}),Fl(Kn(t,r)))):(l!==lf&&(n=Error(a(423),{cause:l}),Fl(Kn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Kn(l,r),h=Hf(t.stateNode,l,h),_f(t,h),St!==4&&(St=2)),!1;var d=Error(a(520),{cause:l});if(d=Kn(d,r),co===null?co=[d]:co.push(d),St!==4&&(St=2),n===null)return!0;l=Kn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Hf(r.stateNode,l,t),_f(r,t),!1;case 1:if(n=r.type,d=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Xs===null||!Xs.has(d))))return r.flags|=65536,h&=-h,r.lanes|=h,h=f0(h),d0(h,t,r,l),_f(r,h),!1}r=r.return}while(r!==null);return!1}var Gf=Error(a(461)),Vt=!1;function Zt(t,n,r,l){n.child=t===null?yg(n,null,r,l):Fa(n,t.child,r,l)}function m0(t,n,r,l,h){r=r.render;var d=n.ref;if("ref"in l){var E={};for(var x in l)x!=="ref"&&(E[x]=l[x])}else E=l;return Ba(n),l=Sf(t,n,r,E,d,h),x=Af(),t!==null&&!Vt?(wf(t,n,h),us(t,n,h)):(ze&&x&&af(n),n.flags|=1,Zt(t,n,l,h),n.child)}function p0(t,n,r,l,h){if(t===null){var d=r.type;return typeof d=="function"&&!tf(d)&&d.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=d,g0(t,n,d,l,h)):(t=Cu(r.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,!Jf(t,h)){var E=d.memoizedProps;if(r=r.compare,r=r!==null?r:Hl,r(E,l)&&t.ref===n.ref)return us(t,n,h)}return n.flags|=1,t=is(d,l),t.ref=n.ref,t.return=n,n.child=t}function g0(t,n,r,l,h){if(t!==null){var d=t.memoizedProps;if(Hl(d,l)&&t.ref===n.ref)if(Vt=!1,n.pendingProps=l=d,Jf(t,h))(t.flags&131072)!==0&&(Vt=!0);else return n.lanes=t.lanes,us(t,n,h)}return qf(t,n,r,l,h)}function y0(t,n,r,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(d=d!==null?d.baseLanes|r:r,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,n.child=null;return _0(t,n,d,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&ju(n,d!==null?d.cachePool:null),d!==null?vg(n,d):vf(),bg(n);else return l=n.lanes=536870912,_0(t,n,d!==null?d.baseLanes|r:r,r,l)}else d!==null?(ju(n,d.cachePool),vg(n,d),Ys(),n.memoizedState=null):(t!==null&&ju(n,null),vf(),Ys());return Zt(t,n,h,r),n.child}function io(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function _0(t,n,r,l,h){var d=mf();return d=d===null?null:{parent:Mt._currentValue,pool:d},n.memoizedState={baseLanes:r,cachePool:d},t!==null&&ju(n,null),vf(),bg(n),t!==null&&Mr(t,n,l,!0),n.childLanes=h,null}function Xu(t,n){return n=Zu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function E0(t,n,r){return Fa(n,t.child,null,r),t=Xu(n,n.pendingProps),t.flags|=2,jn(n),n.memoizedState=null,t}function nx(t,n,r){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(ze){if(l.mode==="hidden")return t=Xu(n,l),n.lanes=536870912,io(null,t);if(Tf(n),(t=ot)?(t=Dy(t,Xn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ks!==null?{id:Vi,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},r=ng(t),r.return=n,n.child=r,Xt=n,ot=null)):t=null,t===null)throw zs(n);return n.lanes=536870912,null}return Xu(n,l)}var d=t.memoizedState;if(d!==null){var E=d.dehydrated;if(Tf(n),h)if(n.flags&256)n.flags&=-257,n=E0(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Vt||Mr(t,n,r,!1),h=(r&t.childLanes)!==0,Vt||h){if(l=at,l!==null&&(E=Sl(l,r),E!==0&&E!==d.retryLane))throw d.retryLane=E,La(t,E),Tn(l,t,E),Gf;lc(),n=E0(t,n,r)}else t=d.treeContext,ot=Zn(E.nextSibling),Xt=n,ze=!0,Ps=null,Xn=!1,t!==null&&ag(n,t),n=Xu(n,l),n.flags|=4096;return n}return t=is(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Ju(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function qf(t,n,r,l,h){return Ba(n),r=Sf(t,n,r,l,void 0,h),l=Af(),t!==null&&!Vt?(wf(t,n,h),us(t,n,h)):(ze&&l&&af(n),n.flags|=1,Zt(t,n,r,h),n.child)}function v0(t,n,r,l,h,d){return Ba(n),n.updateQueue=null,r=xg(n,l,r,h),Tg(t),l=Af(),t!==null&&!Vt?(wf(t,n,d),us(t,n,d)):(ze&&l&&af(n),n.flags|=1,Zt(t,n,r,d),n.child)}function b0(t,n,r,l,h){if(Ba(n),n.stateNode===null){var d=Ir,E=r.contextType;typeof E=="object"&&E!==null&&(d=Jt(E)),d=new r(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Bf,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},gf(n),E=r.contextType,d.context=typeof E=="object"&&E!==null?Jt(E):Ir,d.state=n.memoizedState,E=r.getDerivedStateFromProps,typeof E=="function"&&(zf(n,r,E,l),d.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&Bf.enqueueReplaceState(d,d.state,null),Zl(n,l,d,h),Jl(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){d=n.stateNode;var x=n.memoizedProps,O=Ka(r,x);d.props=O;var F=d.context,J=r.contextType;E=Ir,typeof J=="object"&&J!==null&&(E=Jt(J));var te=r.getDerivedStateFromProps;J=typeof te=="function"||typeof d.getSnapshotBeforeUpdate=="function",x=n.pendingProps!==x,J||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(x||F!==E)&&l0(n,d,l,E),Hs=!1;var Y=n.memoizedState;d.state=Y,Zl(n,l,d,h),Jl(),F=n.memoizedState,x||Y!==F||Hs?(typeof te=="function"&&(zf(n,r,te,l),F=n.memoizedState),(O=Hs||r0(n,r,O,l,Y,F,E))?(J||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=F),d.props=l,d.state=F,d.context=E,l=O):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,yf(t,n),E=n.memoizedProps,J=Ka(r,E),d.props=J,te=n.pendingProps,Y=d.context,F=r.contextType,O=Ir,typeof F=="object"&&F!==null&&(O=Jt(F)),x=r.getDerivedStateFromProps,(F=typeof x=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==te||Y!==O)&&l0(n,d,l,O),Hs=!1,Y=n.memoizedState,d.state=Y,Zl(n,l,d,h),Jl();var $=n.memoizedState;E!==te||Y!==$||Hs||t!==null&&t.dependencies!==null&&Ou(t.dependencies)?(typeof x=="function"&&(zf(n,r,x,l),$=n.memoizedState),(J=Hs||r0(n,r,J,l,Y,$,O)||t!==null&&t.dependencies!==null&&Ou(t.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,$,O),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,$,O)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&Y===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&Y===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=$),d.props=l,d.state=$,d.context=O,l=J):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&Y===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&Y===t.memoizedState||(n.flags|=1024),l=!1)}return d=l,Ju(t,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,t!==null&&l?(n.child=Fa(n,t.child,null,h),n.child=Fa(n,null,r,h)):Zt(t,n,r,h),n.memoizedState=d.state,t=n.child):t=us(t,n,h),t}function T0(t,n,r,l){return Pa(),n.flags|=256,Zt(t,n,r,l),n.child}var Ff={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yf(t){return{baseLanes:t,cachePool:hg()}}function Kf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Un),t}function x0(t,n,r){var l=n.pendingProps,h=!1,d=(n.flags&128)!==0,E;if((E=d)||(E=t!==null&&t.memoizedState===null?!1:(wt.current&2)!==0),E&&(h=!0,n.flags&=-129),E=(n.flags&32)!==0,n.flags&=-33,t===null){if(ze){if(h?Fs(n):Ys(),(t=ot)?(t=Dy(t,Xn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ks!==null?{id:Vi,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},r=ng(t),r.return=n,n.child=r,Xt=n,ot=null)):t=null,t===null)throw zs(n);return Id(t)?n.lanes=32:n.lanes=536870912,null}var x=l.children;return l=l.fallback,h?(Ys(),h=n.mode,x=Zu({mode:"hidden",children:x},h),l=ka(l,h,r,null),x.return=n,l.return=n,x.sibling=l,n.child=x,l=n.child,l.memoizedState=Yf(r),l.childLanes=Kf(t,E,r),n.memoizedState=Ff,io(null,l)):(Fs(n),$f(n,x))}var O=t.memoizedState;if(O!==null&&(x=O.dehydrated,x!==null)){if(d)n.flags&256?(Fs(n),n.flags&=-257,n=Qf(t,n,r)):n.memoizedState!==null?(Ys(),n.child=t.child,n.flags|=128,n=null):(Ys(),x=l.fallback,h=n.mode,l=Zu({mode:"visible",children:l.children},h),x=ka(x,h,r,null),x.flags|=2,l.return=n,x.return=n,l.sibling=x,n.child=l,Fa(n,t.child,null,r),l=n.child,l.memoizedState=Yf(r),l.childLanes=Kf(t,E,r),n.memoizedState=Ff,n=io(null,l));else if(Fs(n),Id(x)){if(E=x.nextSibling&&x.nextSibling.dataset,E)var F=E.dgst;E=F,l=Error(a(419)),l.stack="",l.digest=E,Fl({value:l,source:null,stack:null}),n=Qf(t,n,r)}else if(Vt||Mr(t,n,r,!1),E=(r&t.childLanes)!==0,Vt||E){if(E=at,E!==null&&(l=Sl(E,r),l!==0&&l!==O.retryLane))throw O.retryLane=l,La(t,l),Tn(E,t,l),Gf;Rd(x)||lc(),n=Qf(t,n,r)}else Rd(x)?(n.flags|=192,n.child=t.child,n=null):(t=O.treeContext,ot=Zn(x.nextSibling),Xt=n,ze=!0,Ps=null,Xn=!1,t!==null&&ag(n,t),n=$f(n,l.children),n.flags|=4096);return n}return h?(Ys(),x=l.fallback,h=n.mode,O=t.child,F=O.sibling,l=is(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,F!==null?x=is(F,x):(x=ka(x,h,r,null),x.flags|=2),x.return=n,l.return=n,l.sibling=x,n.child=l,io(null,l),l=n.child,x=t.child.memoizedState,x===null?x=Yf(r):(h=x.cachePool,h!==null?(O=Mt._currentValue,h=h.parent!==O?{parent:O,pool:O}:h):h=hg(),x={baseLanes:x.baseLanes|r,cachePool:h}),l.memoizedState=x,l.childLanes=Kf(t,E,r),n.memoizedState=Ff,io(t.child,l)):(Fs(n),r=t.child,t=r.sibling,r=is(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(E=n.deletions,E===null?(n.deletions=[t],n.flags|=16):E.push(t)),n.child=r,n.memoizedState=null,r)}function $f(t,n){return n=Zu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Zu(t,n){return t=On(22,t,null,n),t.lanes=0,t}function Qf(t,n,r){return Fa(n,t.child,null,r),t=$f(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function S0(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),cf(t.return,n,r)}function Xf(t,n,r,l,h,d){var E=t.memoizedState;E===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:d}:(E.isBackwards=n,E.rendering=null,E.renderingStartTime=0,E.last=l,E.tail=r,E.tailMode=h,E.treeForkCount=d)}function A0(t,n,r){var l=n.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var E=wt.current,x=(E&2)!==0;if(x?(E=E&1|2,n.flags|=128):E&=1,ae(wt,E),Zt(t,n,l,r),l=ze?ql:0,!x&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&S0(t,r,n);else if(t.tag===19)S0(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&zu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Xf(n,!1,h,r,d,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&zu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Xf(n,!0,r,null,d,l);break;case"together":Xf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function us(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Qs|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Mr(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=is(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=is(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Jf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Ou(t)))}function ix(t,n,r){switch(n.tag){case 3:bt(n,n.stateNode.containerInfo),Bs(n,Mt,t.memoizedState.cache),Pa();break;case 27:case 5:yi(n);break;case 4:bt(n,n.stateNode.containerInfo);break;case 10:Bs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Tf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Fs(n),n.flags|=128,null):(r&n.child.childLanes)!==0?x0(t,n,r):(Fs(n),t=us(t,n,r),t!==null?t.sibling:null);Fs(n);break;case 19:var h=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(Mr(t,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return A0(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(wt,wt.current),l)break;return null;case 22:return n.lanes=0,y0(t,n,r,n.pendingProps);case 24:Bs(n,Mt,t.memoizedState.cache)}return us(t,n,r)}function w0(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Vt=!0;else{if(!Jf(t,r)&&(n.flags&128)===0)return Vt=!1,ix(t,n,r);Vt=(t.flags&131072)!==0}else Vt=!1,ze&&(n.flags&1048576)!==0&&sg(n,ql,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=Ga(n.elementType),n.type=t,typeof t=="function")tf(t)?(l=Ka(t,l),n.tag=1,n=b0(null,n,t,l,r)):(n.tag=0,n=qf(null,n,t,l,r));else{if(t!=null){var h=t.$$typeof;if(h===he){n.tag=11,n=m0(null,n,t,l,r);break e}else if(h===C){n.tag=14,n=p0(null,n,t,l,r);break e}}throw n=st(t)||t,Error(a(306,n,""))}}return n;case 0:return qf(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=Ka(l,n.pendingProps),b0(t,n,l,h,r);case 3:e:{if(bt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var d=n.memoizedState;h=d.element,yf(t,n),Zl(n,l,null,r);var E=n.memoizedState;if(l=E.cache,Bs(n,Mt,l),l!==d.cache&&hf(n,[Mt],r,!0),Jl(),l=E.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:E.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=T0(t,n,l,r);break e}else if(l!==h){h=Kn(Error(a(424)),n),Fl(h),n=T0(t,n,l,r);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ot=Zn(t.firstChild),Xt=n,ze=!0,Ps=null,Xn=!0,r=yg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Pa(),l===h){n=us(t,n,r);break e}Zt(t,n,l,r)}n=n.child}return n;case 26:return Ju(t,n),t===null?(r=Ly(n.type,null,n.pendingProps,null))?n.memoizedState=r:ze||(r=n.type,t=n.pendingProps,l=mc(xe.current).createElement(r),l[Ct]=n,l[qt]=t,Wt(l,r,t),Dt(l),n.stateNode=l):n.memoizedState=Ly(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return yi(n),t===null&&ze&&(l=n.stateNode=jy(n.type,n.pendingProps,xe.current),Xt=n,Xn=!0,h=ot,ea(n.type)?(Cd=h,ot=Zn(l.firstChild)):ot=h),Zt(t,n,n.pendingProps.children,r),Ju(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&ze&&((h=l=ot)&&(l=Mx(l,n.type,n.pendingProps,Xn),l!==null?(n.stateNode=l,Xt=n,ot=Zn(l.firstChild),Xn=!1,h=!0):h=!1),h||zs(n)),yi(n),h=n.type,d=n.pendingProps,E=t!==null?t.memoizedProps:null,l=d.children,Ad(h,d)?l=null:E!==null&&Ad(h,E)&&(n.flags|=32),n.memoizedState!==null&&(h=Sf(t,n,$T,null,null,r),Eo._currentValue=h),Ju(t,n),Zt(t,n,l,r),n.child;case 6:return t===null&&ze&&((t=r=ot)&&(r=jx(r,n.pendingProps,Xn),r!==null?(n.stateNode=r,Xt=n,ot=null,t=!0):t=!1),t||zs(n)),null;case 13:return x0(t,n,r);case 4:return bt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Fa(n,null,l,r):Zt(t,n,l,r),n.child;case 11:return m0(t,n,n.type,n.pendingProps,r);case 7:return Zt(t,n,n.pendingProps,r),n.child;case 8:return Zt(t,n,n.pendingProps.children,r),n.child;case 12:return Zt(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Bs(n,n.type,l.value),Zt(t,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Ba(n),h=Jt(h),l=l(h),n.flags|=1,Zt(t,n,l,r),n.child;case 14:return p0(t,n,n.type,n.pendingProps,r);case 15:return g0(t,n,n.type,n.pendingProps,r);case 19:return A0(t,n,r);case 31:return nx(t,n,r);case 22:return y0(t,n,r,n.pendingProps);case 24:return Ba(n),l=Jt(Mt),t===null?(h=mf(),h===null&&(h=at,d=ff(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=r),h=d),n.memoizedState={parent:l,cache:h},gf(n),Bs(n,Mt,h)):((t.lanes&r)!==0&&(yf(t,n),Zl(n,null,null,r),Jl()),h=t.memoizedState,d=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Bs(n,Mt,l)):(l=d.cache,Bs(n,Mt,l),l!==h.cache&&hf(n,[Mt],r,!0))),Zt(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function cs(t){t.flags|=4}function Zf(t,n,r,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(W0())t.flags|=8192;else throw qa=Uu,pf}else t.flags&=-16777217}function N0(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Hy(n))if(W0())t.flags|=8192;else throw qa=Uu,pf}function Wu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?$t():536870912,t.lanes|=n,Fr|=n)}function so(t,n){if(!ze)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ut(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function sx(t,n,r){var l=n.pendingProps;switch(rf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(n),null;case 1:return ut(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),rs(Mt),We(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Or(n)?cs(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,of())),ut(n),null;case 26:var h=n.type,d=n.memoizedState;return t===null?(cs(n),d!==null?(ut(n),N0(n,d)):(ut(n),Zf(n,h,null,l,r))):d?d!==t.memoizedState?(cs(n),ut(n),N0(n,d)):(ut(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&cs(n),ut(n),Zf(n,h,t,l,r)),null;case 27:if(Pn(n),r=xe.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&cs(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ut(n),null}t=oe.current,Or(n)?rg(n):(t=jy(h,l,r),n.stateNode=t,cs(n))}return ut(n),null;case 5:if(Pn(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&cs(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ut(n),null}if(d=oe.current,Or(n))rg(n);else{var E=mc(xe.current);switch(d){case 1:d=E.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=E.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=E.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=E.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=E.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?E.createElement("select",{is:l.is}):E.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?E.createElement(h,{is:l.is}):E.createElement(h)}}d[Ct]=n,d[qt]=l;e:for(E=n.child;E!==null;){if(E.tag===5||E.tag===6)d.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===n)break e;for(;E.sibling===null;){if(E.return===null||E.return===n)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}n.stateNode=d;e:switch(Wt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&cs(n)}}return ut(n),Zf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&cs(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=xe.current,Or(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,h=Xt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Ct]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||xy(t.nodeValue,r)),t||zs(n,!0)}else t=mc(t).createTextNode(l),t[Ct]=n,n.stateNode=t}return ut(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(l=Or(n),r!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Ct]=n}else Pa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ut(n),t=!1}else r=of(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(jn(n),n):(jn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ut(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Or(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ct]=n}else Pa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ut(n),h=!1}else h=of(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(jn(n),n):(jn(n),null)}return jn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),Wu(n,n.updateQueue),ut(n),null);case 4:return We(),t===null&&vd(n.stateNode.containerInfo),ut(n),null;case 10:return rs(n.type),ut(n),null;case 19:if(ee(wt),l=n.memoizedState,l===null)return ut(n),null;if(h=(n.flags&128)!==0,d=l.rendering,d===null)if(h)so(l,!1);else{if(St!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(d=zu(t),d!==null){for(n.flags|=128,so(l,!1),t=d.updateQueue,n.updateQueue=t,Wu(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)tg(r,t),r=r.sibling;return ae(wt,wt.current&1|2),ze&&ss(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Pt()>sc&&(n.flags|=128,h=!0,so(l,!1),n.lanes=4194304)}else{if(!h)if(t=zu(d),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Wu(n,t),so(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!ze)return ut(n),null}else 2*Pt()-l.renderingStartTime>sc&&r!==536870912&&(n.flags|=128,h=!0,so(l,!1),n.lanes=4194304);l.isBackwards?(d.sibling=n.child,n.child=d):(t=l.last,t!==null?t.sibling=d:n.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Pt(),t.sibling=null,r=wt.current,ae(wt,h?r&1|2:r&1),ze&&ss(n,l.treeForkCount),t):(ut(n),null);case 22:case 23:return jn(n),bf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ut(n),n.subtreeFlags&6&&(n.flags|=8192)):ut(n),r=n.updateQueue,r!==null&&Wu(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&ee(Ha),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),rs(Mt),ut(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function ax(t,n){switch(rf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return rs(Mt),We(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Pn(n),null;case 31:if(n.memoizedState!==null){if(jn(n),n.alternate===null)throw Error(a(340));Pa()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(jn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Pa()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ee(wt),null;case 4:return We(),null;case 10:return rs(n.type),null;case 22:case 23:return jn(n),bf(),t!==null&&ee(Ha),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return rs(Mt),null;case 25:return null;default:return null}}function R0(t,n){switch(rf(n),n.tag){case 3:rs(Mt),We();break;case 26:case 27:case 5:Pn(n);break;case 4:We();break;case 31:n.memoizedState!==null&&jn(n);break;case 13:jn(n);break;case 19:ee(wt);break;case 10:rs(n.type);break;case 22:case 23:jn(n),bf(),t!==null&&ee(Ha);break;case 24:rs(Mt)}}function ao(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var d=r.create,E=r.inst;l=d(),E.destroy=l}r=r.next}while(r!==h)}}catch(x){Ze(n,n.return,x)}}function Ks(t,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var E=l.inst,x=E.destroy;if(x!==void 0){E.destroy=void 0,h=n;var O=r,F=x;try{F()}catch(J){Ze(h,O,J)}}}l=l.next}while(l!==d)}}catch(J){Ze(n,n.return,J)}}function I0(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Eg(n,r)}catch(l){Ze(t,t.return,l)}}}function C0(t,n,r){r.props=Ka(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Ze(t,n,l)}}function ro(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(h){Ze(t,n,h)}}function Li(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){Ze(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Ze(t,n,h)}else r.current=null}function D0(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){Ze(t,t.return,h)}}function Wf(t,n,r){try{var l=t.stateNode;Nx(l,t.type,r,n),l[qt]=n}catch(h){Ze(t,t.return,h)}}function O0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ea(t.type)||t.tag===4}function ed(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||O0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ea(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function td(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=oi));else if(l!==4&&(l===27&&ea(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(td(t,n,r),t=t.sibling;t!==null;)td(t,n,r),t=t.sibling}function ec(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&ea(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(ec(t,n,r),t=t.sibling;t!==null;)ec(t,n,r),t=t.sibling}function M0(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Wt(n,l,r),n[Ct]=t,n[qt]=r}catch(d){Ze(t,t.return,d)}}var hs=!1,Ut=!1,nd=!1,j0=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function rx(t,n){if(t=t.containerInfo,xd=bc,t=Yp(t),$h(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{r.nodeType,d.nodeType}catch{r=null;break e}var E=0,x=-1,O=-1,F=0,J=0,te=t,Y=null;t:for(;;){for(var $;te!==r||h!==0&&te.nodeType!==3||(x=E+h),te!==d||l!==0&&te.nodeType!==3||(O=E+l),te.nodeType===3&&(E+=te.nodeValue.length),($=te.firstChild)!==null;)Y=te,te=$;for(;;){if(te===t)break t;if(Y===r&&++F===h&&(x=E),Y===d&&++J===l&&(O=E),($=te.nextSibling)!==null)break;te=Y,Y=te.parentNode}te=$}r=x===-1||O===-1?null:{start:x,end:O}}else r=null}r=r||{start:0,end:0}}else r=null;for(Sd={focusedElem:t,selectionRange:r},bc=!1,Yt=n;Yt!==null;)if(n=Yt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Yt=t;else for(;Yt!==null;){switch(n=Yt,d=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,r=n,h=d.memoizedProps,d=d.memoizedState,l=r.stateNode;try{var ce=Ka(r.type,h);t=l.getSnapshotBeforeUpdate(ce,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ee){Ze(r,r.return,Ee)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Nd(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Nd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Yt=t;break}Yt=n.return}}function V0(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:ds(t,r),l&4&&ao(5,r);break;case 1:if(ds(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(E){Ze(r,r.return,E)}else{var h=Ka(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Ze(r,r.return,E)}}l&64&&I0(r),l&512&&ro(r,r.return);break;case 3:if(ds(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Eg(t,n)}catch(E){Ze(r,r.return,E)}}break;case 27:n===null&&l&4&&M0(r);case 26:case 5:ds(t,r),n===null&&l&4&&D0(r),l&512&&ro(r,r.return);break;case 12:ds(t,r);break;case 31:ds(t,r),l&4&&k0(t,r);break;case 13:ds(t,r),l&4&&P0(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=px.bind(null,r),Vx(t,r))));break;case 22:if(l=r.memoizedState!==null||hs,!l){n=n!==null&&n.memoizedState!==null||Ut,h=hs;var d=Ut;hs=l,(Ut=n)&&!d?ms(t,r,(r.subtreeFlags&8772)!==0):ds(t,r),hs=h,Ut=d}break;case 30:break;default:ds(t,r)}}function U0(t){var n=t.alternate;n!==null&&(t.alternate=null,U0(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&pr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var dt=null,_n=!1;function fs(t,n,r){for(r=r.child;r!==null;)L0(t,n,r),r=r.sibling}function L0(t,n,r){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(Rn,r)}catch{}switch(r.tag){case 26:Ut||Li(r,n),fs(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Ut||Li(r,n);var l=dt,h=_n;ea(r.type)&&(dt=r.stateNode,_n=!1),fs(t,n,r),go(r.stateNode),dt=l,_n=h;break;case 5:Ut||Li(r,n);case 6:if(l=dt,h=_n,dt=null,fs(t,n,r),dt=l,_n=h,dt!==null)if(_n)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(r.stateNode)}catch(d){Ze(r,n,d)}else try{dt.removeChild(r.stateNode)}catch(d){Ze(r,n,d)}break;case 18:dt!==null&&(_n?(t=dt,Iy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Wr(t)):Iy(dt,r.stateNode));break;case 4:l=dt,h=_n,dt=r.stateNode.containerInfo,_n=!0,fs(t,n,r),dt=l,_n=h;break;case 0:case 11:case 14:case 15:Ks(2,r,n),Ut||Ks(4,r,n),fs(t,n,r);break;case 1:Ut||(Li(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&C0(r,n,l)),fs(t,n,r);break;case 21:fs(t,n,r);break;case 22:Ut=(l=Ut)||r.memoizedState!==null,fs(t,n,r),Ut=l;break;default:fs(t,n,r)}}function k0(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Wr(t)}catch(r){Ze(n,n.return,r)}}}function P0(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Wr(t)}catch(r){Ze(n,n.return,r)}}function lx(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new j0),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new j0),n;default:throw Error(a(435,t.tag))}}function tc(t,n){var r=lx(t);n.forEach(function(l){if(!r.has(l)){r.add(l);var h=gx.bind(null,t,l);l.then(h,h)}})}function En(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],d=t,E=n,x=E;e:for(;x!==null;){switch(x.tag){case 27:if(ea(x.type)){dt=x.stateNode,_n=!1;break e}break;case 5:dt=x.stateNode,_n=!1;break e;case 3:case 4:dt=x.stateNode.containerInfo,_n=!0;break e}x=x.return}if(dt===null)throw Error(a(160));L0(d,E,h),dt=null,_n=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)z0(n,t),n=n.sibling}var mi=null;function z0(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:En(n,t),vn(t),l&4&&(Ks(3,t,t.return),ao(3,t),Ks(5,t,t.return));break;case 1:En(n,t),vn(t),l&512&&(Ut||r===null||Li(r,r.return)),l&64&&hs&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=mi;if(En(n,t),vn(t),l&512&&(Ut||r===null||Li(r,r.return)),l&4){var d=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[xi]||d[Ct]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Wt(d,l,r),d[Ct]=t,Dt(d),l=d;break e;case"link":var E=zy("link","href",h).get(l+(r.href||""));if(E){for(var x=0;x<E.length;x++)if(d=E[x],d.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&d.getAttribute("rel")===(r.rel==null?null:r.rel)&&d.getAttribute("title")===(r.title==null?null:r.title)&&d.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){E.splice(x,1);break t}}d=h.createElement(l),Wt(d,l,r),h.head.appendChild(d);break;case"meta":if(E=zy("meta","content",h).get(l+(r.content||""))){for(x=0;x<E.length;x++)if(d=E[x],d.getAttribute("content")===(r.content==null?null:""+r.content)&&d.getAttribute("name")===(r.name==null?null:r.name)&&d.getAttribute("property")===(r.property==null?null:r.property)&&d.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&d.getAttribute("charset")===(r.charSet==null?null:r.charSet)){E.splice(x,1);break t}}d=h.createElement(l),Wt(d,l,r),h.head.appendChild(d);break;default:throw Error(a(468,l))}d[Ct]=t,Dt(d),l=d}t.stateNode=l}else By(h,t.type,t.stateNode);else t.stateNode=Py(h,l,t.memoizedProps);else d!==l?(d===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):d.count--,l===null?By(h,t.type,t.stateNode):Py(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Wf(t,t.memoizedProps,r.memoizedProps)}break;case 27:En(n,t),vn(t),l&512&&(Ut||r===null||Li(r,r.return)),r!==null&&l&4&&Wf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(En(n,t),vn(t),l&512&&(Ut||r===null||Li(r,r.return)),t.flags&32){h=t.stateNode;try{yn(h,"")}catch(ce){Ze(t,t.return,ce)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Wf(t,h,r!==null?r.memoizedProps:h)),l&1024&&(nd=!0);break;case 6:if(En(n,t),vn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(ce){Ze(t,t.return,ce)}}break;case 3:if(yc=null,h=mi,mi=pc(n.containerInfo),En(n,t),mi=h,vn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Wr(n.containerInfo)}catch(ce){Ze(t,t.return,ce)}nd&&(nd=!1,B0(t));break;case 4:l=mi,mi=pc(t.stateNode.containerInfo),En(n,t),vn(t),mi=l;break;case 12:En(n,t),vn(t);break;case 31:En(n,t),vn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,tc(t,l)));break;case 13:En(n,t),vn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(ic=Pt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,tc(t,l)));break;case 22:h=t.memoizedState!==null;var O=r!==null&&r.memoizedState!==null,F=hs,J=Ut;if(hs=F||h,Ut=J||O,En(n,t),Ut=J,hs=F,vn(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||O||hs||Ut||$a(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){O=r=n;try{if(d=O.stateNode,h)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{x=O.stateNode;var te=O.memoizedProps.style,Y=te!=null&&te.hasOwnProperty("display")?te.display:null;x.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(ce){Ze(O,O.return,ce)}}}else if(n.tag===6){if(r===null){O=n;try{O.stateNode.nodeValue=h?"":O.memoizedProps}catch(ce){Ze(O,O.return,ce)}}}else if(n.tag===18){if(r===null){O=n;try{var $=O.stateNode;h?Cy($,!0):Cy(O.stateNode,!1)}catch(ce){Ze(O,O.return,ce)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,tc(t,r))));break;case 19:En(n,t),vn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,tc(t,l)));break;case 30:break;case 21:break;default:En(n,t),vn(t)}}function vn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(O0(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,d=ed(t);ec(t,d,h);break;case 5:var E=r.stateNode;r.flags&32&&(yn(E,""),r.flags&=-33);var x=ed(t);ec(t,x,E);break;case 3:case 4:var O=r.stateNode.containerInfo,F=ed(t);td(t,F,O);break;default:throw Error(a(161))}}catch(J){Ze(t,t.return,J)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function B0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;B0(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ds(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)V0(t,n.alternate,n),n=n.sibling}function $a(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ks(4,n,n.return),$a(n);break;case 1:Li(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&C0(n,n.return,r),$a(n);break;case 27:go(n.stateNode);case 26:case 5:Li(n,n.return),$a(n);break;case 22:n.memoizedState===null&&$a(n);break;case 30:$a(n);break;default:$a(n)}t=t.sibling}}function ms(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,d=n,E=d.flags;switch(d.tag){case 0:case 11:case 15:ms(h,d,r),ao(4,d);break;case 1:if(ms(h,d,r),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(F){Ze(l,l.return,F)}if(l=d,h=l.updateQueue,h!==null){var x=l.stateNode;try{var O=h.shared.hiddenCallbacks;if(O!==null)for(h.shared.hiddenCallbacks=null,h=0;h<O.length;h++)_g(O[h],x)}catch(F){Ze(l,l.return,F)}}r&&E&64&&I0(d),ro(d,d.return);break;case 27:M0(d);case 26:case 5:ms(h,d,r),r&&l===null&&E&4&&D0(d),ro(d,d.return);break;case 12:ms(h,d,r);break;case 31:ms(h,d,r),r&&E&4&&k0(h,d);break;case 13:ms(h,d,r),r&&E&4&&P0(h,d);break;case 22:d.memoizedState===null&&ms(h,d,r),ro(d,d.return);break;case 30:break;default:ms(h,d,r)}n=n.sibling}}function id(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Yl(r))}function sd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Yl(t))}function pi(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)H0(t,n,r,l),n=n.sibling}function H0(t,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:pi(t,n,r,l),h&2048&&ao(9,n);break;case 1:pi(t,n,r,l);break;case 3:pi(t,n,r,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Yl(t)));break;case 12:if(h&2048){pi(t,n,r,l),t=n.stateNode;try{var d=n.memoizedProps,E=d.id,x=d.onPostCommit;typeof x=="function"&&x(E,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){Ze(n,n.return,O)}}else pi(t,n,r,l);break;case 31:pi(t,n,r,l);break;case 13:pi(t,n,r,l);break;case 23:break;case 22:d=n.stateNode,E=n.alternate,n.memoizedState!==null?d._visibility&2?pi(t,n,r,l):lo(t,n):d._visibility&2?pi(t,n,r,l):(d._visibility|=2,Hr(t,n,r,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&id(E,n);break;case 24:pi(t,n,r,l),h&2048&&sd(n.alternate,n);break;default:pi(t,n,r,l)}}function Hr(t,n,r,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var d=t,E=n,x=r,O=l,F=E.flags;switch(E.tag){case 0:case 11:case 15:Hr(d,E,x,O,h),ao(8,E);break;case 23:break;case 22:var J=E.stateNode;E.memoizedState!==null?J._visibility&2?Hr(d,E,x,O,h):lo(d,E):(J._visibility|=2,Hr(d,E,x,O,h)),h&&F&2048&&id(E.alternate,E);break;case 24:Hr(d,E,x,O,h),h&&F&2048&&sd(E.alternate,E);break;default:Hr(d,E,x,O,h)}n=n.sibling}}function lo(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,h=l.flags;switch(l.tag){case 22:lo(r,l),h&2048&&id(l.alternate,l);break;case 24:lo(r,l),h&2048&&sd(l.alternate,l);break;default:lo(r,l)}n=n.sibling}}var oo=8192;function Gr(t,n,r){if(t.subtreeFlags&oo)for(t=t.child;t!==null;)G0(t,n,r),t=t.sibling}function G0(t,n,r){switch(t.tag){case 26:Gr(t,n,r),t.flags&oo&&t.memoizedState!==null&&Kx(r,mi,t.memoizedState,t.memoizedProps);break;case 5:Gr(t,n,r);break;case 3:case 4:var l=mi;mi=pc(t.stateNode.containerInfo),Gr(t,n,r),mi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=oo,oo=16777216,Gr(t,n,r),oo=l):Gr(t,n,r));break;default:Gr(t,n,r)}}function q0(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function uo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Yt=l,Y0(l,t)}q0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)F0(t),t=t.sibling}function F0(t){switch(t.tag){case 0:case 11:case 15:uo(t),t.flags&2048&&Ks(9,t,t.return);break;case 3:uo(t);break;case 12:uo(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,nc(t)):uo(t);break;default:uo(t)}}function nc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Yt=l,Y0(l,t)}q0(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ks(8,n,n.return),nc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,nc(n));break;default:nc(n)}t=t.sibling}}function Y0(t,n){for(;Yt!==null;){var r=Yt;switch(r.tag){case 0:case 11:case 15:Ks(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Yl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Yt=l;else e:for(r=t;Yt!==null;){l=Yt;var h=l.sibling,d=l.return;if(U0(l),l===r){Yt=null;break e}if(h!==null){h.return=d,Yt=h;break e}Yt=d}}}var ox={getCacheForType:function(t){var n=Jt(Mt),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return Jt(Mt).controller.signal}},ux=typeof WeakMap=="function"?WeakMap:Map,$e=0,at=null,je=null,Ue=0,Je=0,Vn=null,$s=!1,qr=!1,ad=!1,ps=0,St=0,Qs=0,Qa=0,rd=0,Un=0,Fr=0,co=null,bn=null,ld=!1,ic=0,K0=0,sc=1/0,ac=null,Xs=null,Bt=0,Js=null,Yr=null,gs=0,od=0,ud=null,$0=null,ho=0,cd=null;function Ln(){return($e&2)!==0&&Ue!==0?Ue&-Ue:X.T!==null?gd():ru()}function Q0(){if(Un===0)if((Ue&536870912)===0||ze){var t=Ji;Ji<<=1,(Ji&3932160)===0&&(Ji=262144),Un=t}else Un=536870912;return t=Mn.current,t!==null&&(t.flags|=32),Un}function Tn(t,n,r){(t===at&&(Je===2||Je===9)||t.cancelPendingCommit!==null)&&(Kr(t,0),Zs(t,Ue,Un,!1)),Bn(t,r),(($e&2)===0||t!==at)&&(t===at&&(($e&2)===0&&(Qa|=r),St===4&&Zs(t,Ue,Un,!1)),ki(t))}function X0(t,n,r){if(($e&6)!==0)throw Error(a(327));var l=!r&&(n&127)===0&&(n&t.expiredLanes)===0||lt(t,n),h=l?fx(t,n):fd(t,n,!0),d=l;do{if(h===0){qr&&!l&&Zs(t,n,0,!1);break}else{if(r=t.current.alternate,d&&!cx(r)){h=fd(t,n,!1),d=!1;continue}if(h===2){if(d=n,t.errorRecoveryDisabledLanes&d)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){n=E;e:{var x=t;h=co;var O=x.current.memoizedState.isDehydrated;if(O&&(Kr(x,E).flags|=256),E=fd(x,E,!1),E!==2){if(ad&&!O){x.errorRecoveryDisabledLanes|=d,Qa|=d,h=4;break e}d=bn,bn=h,d!==null&&(bn===null?bn=d:bn.push.apply(bn,d))}h=E}if(d=!1,h!==2)continue}}if(h===1){Kr(t,0),Zs(t,n,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Zs(l,n,Un,!$s);break e;case 2:bn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=ic+300-Pt(),10<h)){if(Zs(l,n,Un,!$s),Re(l,0,!0)!==0)break e;gs=n,l.timeoutHandle=Ny(J0.bind(null,l,r,bn,ac,ld,n,Un,Qa,Fr,$s,d,"Throttled",-0,0),h);break e}J0(l,r,bn,ac,ld,n,Un,Qa,Fr,$s,d,null,-0,0)}}break}while(!0);ki(t)}function J0(t,n,r,l,h,d,E,x,O,F,J,te,Y,$){if(t.timeoutHandle=-1,te=n.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:oi},G0(n,d,te);var ce=(d&62914560)===d?ic-Pt():(d&4194048)===d?K0-Pt():0;if(ce=$x(te,ce),ce!==null){gs=d,t.cancelPendingCommit=ce(ay.bind(null,t,n,d,r,l,h,E,x,O,J,te,null,Y,$)),Zs(t,d,E,!F);return}}ay(t,n,d,r,l,h,E,x,O)}function cx(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],d=h.getSnapshot;h=h.value;try{if(!Dn(d(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Zs(t,n,r,l){n&=~rd,n&=~Qa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var d=31-gt(h),E=1<<d;l[d]=-1,h&=~E}r!==0&&bi(t,r,n)}function rc(){return($e&6)===0?(fo(0),!1):!0}function hd(){if(je!==null){if(Je===0)var t=je.return;else t=je,as=za=null,Nf(t),Lr=null,$l=0,t=je;for(;t!==null;)R0(t.alternate,t),t=t.return;je=null}}function Kr(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,Cx(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),gs=0,hd(),at=t,je=r=is(t.current,null),Ue=n,Je=0,Vn=null,$s=!1,qr=lt(t,n),ad=!1,Fr=Un=rd=Qa=Qs=St=0,bn=co=null,ld=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-gt(l),d=1<<h;n|=t[h],l&=~d}return ps=n,Nu(),r}function Z0(t,n){Ne=null,X.H=no,n===Ur||n===Vu?(n=mg(),Je=3):n===pf?(n=mg(),Je=4):Je=n===Gf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Vn=n,je===null&&(St=1,Qu(t,Kn(n,t.current)))}function W0(){var t=Mn.current;return t===null?!0:(Ue&4194048)===Ue?Jn===null:(Ue&62914560)===Ue||(Ue&536870912)!==0?t===Jn:!1}function ey(){var t=X.H;return X.H=no,t===null?no:t}function ty(){var t=X.A;return X.A=ox,t}function lc(){St=4,$s||(Ue&4194048)!==Ue&&Mn.current!==null||(qr=!0),(Qs&134217727)===0&&(Qa&134217727)===0||at===null||Zs(at,Ue,Un,!1)}function fd(t,n,r){var l=$e;$e|=2;var h=ey(),d=ty();(at!==t||Ue!==n)&&(ac=null,Kr(t,n)),n=!1;var E=St;e:do try{if(Je!==0&&je!==null){var x=je,O=Vn;switch(Je){case 8:hd(),E=6;break e;case 3:case 2:case 9:case 6:Mn.current===null&&(n=!0);var F=Je;if(Je=0,Vn=null,$r(t,x,O,F),r&&qr){E=0;break e}break;default:F=Je,Je=0,Vn=null,$r(t,x,O,F)}}hx(),E=St;break}catch(J){Z0(t,J)}while(!0);return n&&t.shellSuspendCounter++,as=za=null,$e=l,X.H=h,X.A=d,je===null&&(at=null,Ue=0,Nu()),E}function hx(){for(;je!==null;)ny(je)}function fx(t,n){var r=$e;$e|=2;var l=ey(),h=ty();at!==t||Ue!==n?(ac=null,sc=Pt()+500,Kr(t,n)):qr=lt(t,n);e:do try{if(Je!==0&&je!==null){n=je;var d=Vn;t:switch(Je){case 1:Je=0,Vn=null,$r(t,n,d,1);break;case 2:case 9:if(fg(d)){Je=0,Vn=null,iy(n);break}n=function(){Je!==2&&Je!==9||at!==t||(Je=7),ki(t)},d.then(n,n);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:fg(d)?(Je=0,Vn=null,iy(n)):(Je=0,Vn=null,$r(t,n,d,7));break;case 5:var E=null;switch(je.tag){case 26:E=je.memoizedState;case 5:case 27:var x=je;if(E?Hy(E):x.stateNode.complete){Je=0,Vn=null;var O=x.sibling;if(O!==null)je=O;else{var F=x.return;F!==null?(je=F,oc(F)):je=null}break t}}Je=0,Vn=null,$r(t,n,d,5);break;case 6:Je=0,Vn=null,$r(t,n,d,6);break;case 8:hd(),St=6;break e;default:throw Error(a(462))}}dx();break}catch(J){Z0(t,J)}while(!0);return as=za=null,X.H=l,X.A=h,$e=r,je!==null?0:(at=null,Ue=0,Nu(),St)}function dx(){for(;je!==null&&!or();)ny(je)}function ny(t){var n=w0(t.alternate,t,ps);t.memoizedProps=t.pendingProps,n===null?oc(t):je=n}function iy(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=v0(r,n,n.pendingProps,n.type,void 0,Ue);break;case 11:n=v0(r,n,n.pendingProps,n.type.render,n.ref,Ue);break;case 5:Nf(n);default:R0(r,n),n=je=tg(n,ps),n=w0(r,n,ps)}t.memoizedProps=t.pendingProps,n===null?oc(t):je=n}function $r(t,n,r,l){as=za=null,Nf(n),Lr=null,$l=0;var h=n.return;try{if(tx(t,h,n,r,Ue)){St=1,Qu(t,Kn(r,t.current)),je=null;return}}catch(d){if(h!==null)throw je=h,d;St=1,Qu(t,Kn(r,t.current)),je=null;return}n.flags&32768?(ze||l===1?t=!0:qr||(Ue&536870912)!==0?t=!1:($s=t=!0,(l===2||l===9||l===3||l===6)&&(l=Mn.current,l!==null&&l.tag===13&&(l.flags|=16384))),sy(n,t)):oc(n)}function oc(t){var n=t;do{if((n.flags&32768)!==0){sy(n,$s);return}t=n.return;var r=sx(n.alternate,n,ps);if(r!==null){je=r;return}if(n=n.sibling,n!==null){je=n;return}je=n=t}while(n!==null);St===0&&(St=5)}function sy(t,n){do{var r=ax(t.alternate,t);if(r!==null){r.flags&=32767,je=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){je=t;return}je=t=r}while(t!==null);St=6,je=null}function ay(t,n,r,l,h,d,E,x,O){t.cancelPendingCommit=null;do uc();while(Bt!==0);if(($e&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(d=n.lanes|n.childLanes,d|=Wh,Sa(t,r,d,E,x,O),t===at&&(je=at=null,Ue=0),Yr=n,Js=t,gs=r,od=d,ud=h,$0=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,yx(vi,function(){return cy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,h=le.p,le.p=2,E=$e,$e|=4;try{rx(t,n,r)}finally{$e=E,le.p=h,X.T=l}}Bt=1,ry(),ly(),oy()}}function ry(){if(Bt===1){Bt=0;var t=Js,n=Yr,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=X.T,X.T=null;var l=le.p;le.p=2;var h=$e;$e|=4;try{z0(n,t);var d=Sd,E=Yp(t.containerInfo),x=d.focusedElem,O=d.selectionRange;if(E!==x&&x&&x.ownerDocument&&Fp(x.ownerDocument.documentElement,x)){if(O!==null&&$h(x)){var F=O.start,J=O.end;if(J===void 0&&(J=F),"selectionStart"in x)x.selectionStart=F,x.selectionEnd=Math.min(J,x.value.length);else{var te=x.ownerDocument||document,Y=te&&te.defaultView||window;if(Y.getSelection){var $=Y.getSelection(),ce=x.textContent.length,Ee=Math.min(O.start,ce),it=O.end===void 0?Ee:Math.min(O.end,ce);!$.extend&&Ee>it&&(E=it,it=Ee,Ee=E);var P=qp(x,Ee),j=qp(x,it);if(P&&j&&($.rangeCount!==1||$.anchorNode!==P.node||$.anchorOffset!==P.offset||$.focusNode!==j.node||$.focusOffset!==j.offset)){var q=te.createRange();q.setStart(P.node,P.offset),$.removeAllRanges(),Ee>it?($.addRange(q),$.extend(j.node,j.offset)):(q.setEnd(j.node,j.offset),$.addRange(q))}}}}for(te=[],$=x;$=$.parentNode;)$.nodeType===1&&te.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<te.length;x++){var W=te[x];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}bc=!!xd,Sd=xd=null}finally{$e=h,le.p=l,X.T=r}}t.current=n,Bt=2}}function ly(){if(Bt===2){Bt=0;var t=Js,n=Yr,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=X.T,X.T=null;var l=le.p;le.p=2;var h=$e;$e|=4;try{V0(t,n.alternate,n)}finally{$e=h,le.p=l,X.T=r}}Bt=3}}function oy(){if(Bt===4||Bt===3){Bt=0,Ta();var t=Js,n=Yr,r=gs,l=$0;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Bt=5:(Bt=0,Yr=Js=null,uy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Xs=null),Wi(r),n=n.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(Rn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=X.T,h=le.p,le.p=2,X.T=null;try{for(var d=t.onRecoverableError,E=0;E<l.length;E++){var x=l[E];d(x.value,{componentStack:x.stack})}}finally{X.T=n,le.p=h}}(gs&3)!==0&&uc(),ki(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===cd?ho++:(ho=0,cd=t):ho=0,fo(0)}}function uy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Yl(n)))}function uc(){return ry(),ly(),oy(),cy()}function cy(){if(Bt!==5)return!1;var t=Js,n=od;od=0;var r=Wi(gs),l=X.T,h=le.p;try{le.p=32>r?32:r,X.T=null,r=ud,ud=null;var d=Js,E=gs;if(Bt=0,Yr=Js=null,gs=0,($e&6)!==0)throw Error(a(331));var x=$e;if($e|=4,F0(d.current),H0(d,d.current,E,r),$e=x,fo(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(Rn,d)}catch{}return!0}finally{le.p=h,X.T=l,uy(t,n)}}function hy(t,n,r){n=Kn(r,n),n=Hf(t.stateNode,n,2),t=qs(t,n,2),t!==null&&(Bn(t,2),ki(t))}function Ze(t,n,r){if(t.tag===3)hy(t,t,r);else for(;n!==null;){if(n.tag===3){hy(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Xs===null||!Xs.has(l))){t=Kn(r,t),r=f0(2),l=qs(n,r,2),l!==null&&(d0(r,l,n,t),Bn(l,2),ki(l));break}}n=n.return}}function dd(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new ux;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(ad=!0,h.add(r),t=mx.bind(null,t,n,r),n.then(t,t))}function mx(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,at===t&&(Ue&r)===r&&(St===4||St===3&&(Ue&62914560)===Ue&&300>Pt()-ic?($e&2)===0&&Kr(t,0):rd|=r,Fr===Ue&&(Fr=0)),ki(t)}function fy(t,n){n===0&&(n=$t()),t=La(t,n),t!==null&&(Bn(t,n),ki(t))}function px(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),fy(t,r)}function gx(t,n){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),fy(t,r)}function yx(t,n){return Tt(t,n)}var cc=null,Qr=null,md=!1,hc=!1,pd=!1,Ws=0;function ki(t){t!==Qr&&t.next===null&&(Qr===null?cc=Qr=t:Qr=Qr.next=t),hc=!0,md||(md=!0,Ex())}function fo(t,n){if(!pd&&hc){pd=!0;do for(var r=!1,l=cc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var E=l.suspendedLanes,x=l.pingedLanes;d=(1<<31-gt(42|t)+1)-1,d&=h&~(E&~x),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(r=!0,gy(l,d))}else d=Ue,d=Re(l,l===at?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||lt(l,d)||(r=!0,gy(l,d));l=l.next}while(r);pd=!1}}function _x(){dy()}function dy(){hc=md=!1;var t=0;Ws!==0&&Ix()&&(t=Ws);for(var n=Pt(),r=null,l=cc;l!==null;){var h=l.next,d=my(l,n);d===0?(l.next=null,r===null?cc=h:r.next=h,h===null&&(Qr=r)):(r=l,(t!==0||(d&3)!==0)&&(hc=!0)),l=h}Bt!==0&&Bt!==5||fo(t),Ws!==0&&(Ws=0)}function my(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var E=31-gt(d),x=1<<E,O=h[E];O===-1?((x&r)===0||(x&l)!==0)&&(h[E]=Zi(x,n)):O<=n&&(t.expiredLanes|=x),d&=~x}if(n=at,r=Ue,r=Re(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Je===2||Je===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ai(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||lt(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&ai(l),Wi(r)){case 2:case 8:r=xa;break;case 32:r=vi;break;case 268435456:r=ur;break;default:r=vi}return l=py.bind(null,t),r=Tt(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&ai(l),t.callbackPriority=2,t.callbackNode=null,2}function py(t,n){if(Bt!==0&&Bt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(uc()&&t.callbackNode!==r)return null;var l=Ue;return l=Re(t,t===at?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(X0(t,l,n),my(t,Pt()),t.callbackNode!=null&&t.callbackNode===r?py.bind(null,t):null)}function gy(t,n){if(uc())return null;X0(t,n,!0)}function Ex(){Dx(function(){($e&6)!==0?Tt(Ns,_x):dy()})}function gd(){if(Ws===0){var t=jr;t===0&&(t=zn,zn<<=1,(zn&261888)===0&&(zn=256)),Ws=t}return Ws}function yy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Er(""+t)}function _y(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function vx(t,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var d=yy((h[qt]||null).action),E=l.submitter;E&&(n=(n=E[qt]||null)?yy(n.formAction):E.getAttribute("formAction"),n!==null&&(d=n,E=null));var x=new Di("action","action",null,l,h);t.push({event:x,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ws!==0){var O=E?_y(h,E):new FormData(h);Uf(r,{pending:!0,data:O,method:h.method,action:d},null,O)}}else typeof d=="function"&&(x.preventDefault(),O=E?_y(h,E):new FormData(h),Uf(r,{pending:!0,data:O,method:h.method,action:d},d,O))},currentTarget:h}]})}}for(var yd=0;yd<Zh.length;yd++){var _d=Zh[yd],bx=_d.toLowerCase(),Tx=_d[0].toUpperCase()+_d.slice(1);di(bx,"on"+Tx)}di(Qp,"onAnimationEnd"),di(Xp,"onAnimationIteration"),di(Jp,"onAnimationStart"),di("dblclick","onDoubleClick"),di("focusin","onFocus"),di("focusout","onBlur"),di(kT,"onTransitionRun"),di(PT,"onTransitionStart"),di(zT,"onTransitionCancel"),di(Zp,"onTransitionEnd"),Ni("onMouseEnter",["mouseout","mouseover"]),Ni("onMouseLeave",["mouseout","mouseover"]),Ni("onPointerEnter",["pointerout","pointerover"]),Ni("onPointerLeave",["pointerout","pointerover"]),wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wi("onBeforeInput",["compositionend","keypress","textInput","paste"]),wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mo));function Ey(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;e:{var d=void 0;if(n)for(var E=l.length-1;0<=E;E--){var x=l[E],O=x.instance,F=x.currentTarget;if(x=x.listener,O!==d&&h.isPropagationStopped())break e;d=x,h.currentTarget=F;try{d(h)}catch(J){wu(J)}h.currentTarget=null,d=O}else for(E=0;E<l.length;E++){if(x=l[E],O=x.instance,F=x.currentTarget,x=x.listener,O!==d&&h.isPropagationStopped())break e;d=x,h.currentTarget=F;try{d(h)}catch(J){wu(J)}h.currentTarget=null,d=O}}}}function Ve(t,n){var r=n[mr];r===void 0&&(r=n[mr]=new Set);var l=t+"__bubble";r.has(l)||(vy(n,t,2,!1),r.add(l))}function Ed(t,n,r){var l=0;n&&(l|=4),vy(r,t,l,n)}var fc="_reactListening"+Math.random().toString(36).slice(2);function vd(t){if(!t[fc]){t[fc]=!0,Al.forEach(function(r){r!=="selectionchange"&&(xx.has(r)||Ed(r,!1,t),Ed(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[fc]||(n[fc]=!0,Ed("selectionchange",!1,n))}}function vy(t,n,r,l){switch(Qy(n)){case 2:var h=Jx;break;case 8:h=Zx;break;default:h=Vd}r=h.bind(null,n,r,t),h=void 0,!Ia||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function bd(t,n,r,l,h){var d=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var x=l.stateNode.containerInfo;if(x===h)break;if(E===4)for(E=l.return;E!==null;){var O=E.tag;if((O===3||O===4)&&E.stateNode.containerInfo===h)return;E=E.return}for(;x!==null;){if(E=Si(x),E===null)return;if(O=E.tag,O===5||O===6||O===26||O===27){l=d=E;continue e}x=x.parentNode}}l=l.return}js(function(){var F=d,J=Gn(r),te=[];e:{var Y=Wp.get(t);if(Y!==void 0){var $=Di,ce=t;switch(t){case"keypress":if(Da(r)===0)break e;case"keydown":case"keyup":$=xu;break;case"focusin":ce="focus",$=Ma;break;case"focusout":ce="blur",$=Ma;break;case"beforeblur":case"afterblur":$=Ma;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=kl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=mu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=y;break;case Qp:case Xp:case Jp:$=gu;break;case Zp:$=A;break;case"scroll":case"scrollend":$=Ll;break;case"wheel":$=K;break;case"copy":case"cut":case"paste":$=yu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=ns;break;case"toggle":case"beforetoggle":$=we}var Ee=(n&4)!==0,it=!Ee&&(t==="scroll"||t==="scrollend"),P=Ee?Y!==null?Y+"Capture":null:Y;Ee=[];for(var j=F,q;j!==null;){var W=j;if(q=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||q===null||P===null||(W=ui(j,P),W!=null&&Ee.push(po(j,W,q))),it)break;j=j.return}0<Ee.length&&(Y=new $(Y,ce,null,r,J),te.push({event:Y,listeners:Ee}))}}if((n&7)===0){e:{if(Y=t==="mouseover"||t==="pointerover",$=t==="mouseout"||t==="pointerout",Y&&r!==jl&&(ce=r.relatedTarget||r.fromElement)&&(Si(ce)||ce[Ti]))break e;if(($||Y)&&(Y=J.window===J?J:(Y=J.ownerDocument)?Y.defaultView||Y.parentWindow:window,$?(ce=r.relatedTarget||r.toElement,$=F,ce=ce?Si(ce):null,ce!==null&&(it=u(ce),Ee=ce.tag,ce!==it||Ee!==5&&Ee!==27&&Ee!==6)&&(ce=null)):($=null,ce=F),$!==ce)){if(Ee=kl,W="onMouseLeave",P="onMouseEnter",j="mouse",(t==="pointerout"||t==="pointerover")&&(Ee=ns,W="onPointerLeave",P="onPointerEnter",j="pointer"),it=$==null?Y:In($),q=ce==null?Y:In(ce),Y=new Ee(W,j+"leave",$,r,J),Y.target=it,Y.relatedTarget=q,W=null,Si(J)===F&&(Ee=new Ee(P,j+"enter",ce,r,J),Ee.target=q,Ee.relatedTarget=it,W=Ee),it=W,$&&ce)t:{for(Ee=Sx,P=$,j=ce,q=0,W=P;W;W=Ee(W))q++;W=0;for(var ye=j;ye;ye=Ee(ye))W++;for(;0<q-W;)P=Ee(P),q--;for(;0<W-q;)j=Ee(j),W--;for(;q--;){if(P===j||j!==null&&P===j.alternate){Ee=P;break t}P=Ee(P),j=Ee(j)}Ee=null}else Ee=null;$!==null&&by(te,Y,$,Ee,!1),ce!==null&&it!==null&&by(te,it,ce,Ee,!0)}}e:{if(Y=F?In(F):window,$=Y.nodeName&&Y.nodeName.toLowerCase(),$==="select"||$==="input"&&Y.type==="file")var Fe=kp;else if(Up(Y))if(Pp)Fe=VT;else{Fe=MT;var de=OT}else $=Y.nodeName,!$||$.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?F&&_r(F.elementType)&&(Fe=kp):Fe=jT;if(Fe&&(Fe=Fe(t,F))){Lp(te,Fe,r,J);break e}de&&de(t,Y,F),t==="focusout"&&F&&Y.type==="number"&&F.memoizedProps.value!=null&&Dl(Y,"number",Y.value)}switch(de=F?In(F):window,t){case"focusin":(Up(de)||de.contentEditable==="true")&&(wr=de,Qh=F,Gl=null);break;case"focusout":Gl=Qh=wr=null;break;case"mousedown":Xh=!0;break;case"contextmenu":case"mouseup":case"dragend":Xh=!1,Kp(te,r,J);break;case"selectionchange":if(LT)break;case"keydown":case"keyup":Kp(te,r,J)}var Ie;if(Ke)e:{switch(t){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else Ar?ja(t,r)&&(Le="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Le="onCompositionStart");Le&&(ji&&r.locale!=="ko"&&(Ar||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&Ar&&(Ie=Ul()):(Ci=J,Vl="value"in Ci?Ci.value:Ci.textContent,Ar=!0)),de=dc(F,Le),0<de.length&&(Le=new Mi(Le,t,null,r,J),te.push({event:Le,listeners:de}),Ie?Le.data=Ie:(Ie=Sr(r),Ie!==null&&(Le.data=Ie)))),(Ie=Fn?RT(t,r):IT(t,r))&&(Le=dc(F,"onBeforeInput"),0<Le.length&&(de=new Mi("onBeforeInput","beforeinput",null,r,J),te.push({event:de,listeners:Le}),de.data=Ie)),vx(te,t,F,r,J)}Ey(te,n)})}function po(t,n,r){return{instance:t,listener:n,currentTarget:r}}function dc(t,n){for(var r=n+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ui(t,r),h!=null&&l.unshift(po(t,h,d)),h=ui(t,n),h!=null&&l.push(po(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Sx(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function by(t,n,r,l,h){for(var d=n._reactName,E=[];r!==null&&r!==l;){var x=r,O=x.alternate,F=x.stateNode;if(x=x.tag,O!==null&&O===l)break;x!==5&&x!==26&&x!==27||F===null||(O=F,h?(F=ui(r,d),F!=null&&E.unshift(po(r,F,O))):h||(F=ui(r,d),F!=null&&E.push(po(r,F,O)))),r=r.return}E.length!==0&&t.push({event:n,listeners:E})}var Ax=/\r\n?/g,wx=/\u0000|\uFFFD/g;function Ty(t){return(typeof t=="string"?t:""+t).replace(Ax,`
`).replace(wx,"")}function xy(t,n){return n=Ty(n),Ty(t)===n}function nt(t,n,r,l,h,d){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||yn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&yn(t,""+l);break;case"className":Cn(t,"class",l);break;case"tabIndex":Cn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Cn(t,r,l);break;case"style":Ml(t,l,d);break;case"data":if(n!=="object"){Cn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Er(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(r==="formAction"?(n!=="input"&&nt(t,n,"name",h.name,h,null),nt(t,n,"formEncType",h.formEncType,h,null),nt(t,n,"formMethod",h.formMethod,h,null),nt(t,n,"formTarget",h.formTarget,h,null)):(nt(t,n,"encType",h.encType,h,null),nt(t,n,"method",h.method,h,null),nt(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Er(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=oi);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Er(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Ve("beforetoggle",t),Ve("toggle",t),gr(t,"popover",l);break;case"xlinkActuate":Ot(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ot(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ot(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ot(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ot(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ot(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ot(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ot(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ot(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":gr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=du.get(r)||r,gr(t,r,l))}}function Td(t,n,r,l,h,d){switch(r){case"style":Ml(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?yn(t,l):(typeof l=="number"||typeof l=="bigint")&&yn(t,""+l);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"onClick":l!=null&&(t.onclick=oi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wl.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),d=t[qt]||null,d=d!=null?d[r]:null,typeof d=="function"&&t.removeEventListener(n,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,h);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):gr(t,r,l)}}}function Wt(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",t),Ve("load",t);var l=!1,h=!1,d;for(d in r)if(r.hasOwnProperty(d)){var E=r[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:nt(t,n,d,E,r,null)}}h&&nt(t,n,"srcSet",r.srcSet,r,null),l&&nt(t,n,"src",r.src,r,null);return;case"input":Ve("invalid",t);var x=d=E=h=null,O=null,F=null;for(l in r)if(r.hasOwnProperty(l)){var J=r[l];if(J!=null)switch(l){case"name":h=J;break;case"type":E=J;break;case"checked":O=J;break;case"defaultChecked":F=J;break;case"value":d=J;break;case"defaultValue":x=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(a(137,n));break;default:nt(t,n,l,J,r,null)}}cu(t,d,x,O,F,E,h,!1);return;case"select":Ve("invalid",t),l=E=d=null;for(h in r)if(r.hasOwnProperty(h)&&(x=r[h],x!=null))switch(h){case"value":d=x;break;case"defaultValue":E=x;break;case"multiple":l=x;default:nt(t,n,h,x,r,null)}n=d,r=E,t.multiple=!!l,n!=null?Cs(t,!!l,n,!1):r!=null&&Cs(t,!!l,r,!0);return;case"textarea":Ve("invalid",t),d=h=l=null;for(E in r)if(r.hasOwnProperty(E)&&(x=r[E],x!=null))switch(E){case"value":l=x;break;case"defaultValue":h=x;break;case"children":d=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(a(91));break;default:nt(t,n,E,x,r,null)}Ds(t,l,h,d);return;case"option":for(O in r)if(r.hasOwnProperty(O)&&(l=r[O],l!=null))switch(O){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:nt(t,n,O,l,r,null)}return;case"dialog":Ve("beforetoggle",t),Ve("toggle",t),Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":Ve("load",t);break;case"video":case"audio":for(l=0;l<mo.length;l++)Ve(mo[l],t);break;case"image":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"embed":case"source":case"link":Ve("error",t),Ve("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in r)if(r.hasOwnProperty(F)&&(l=r[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:nt(t,n,F,l,r,null)}return;default:if(_r(n)){for(J in r)r.hasOwnProperty(J)&&(l=r[J],l!==void 0&&Td(t,n,J,l,r,void 0));return}}for(x in r)r.hasOwnProperty(x)&&(l=r[x],l!=null&&nt(t,n,x,l,r,null))}function Nx(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,E=null,x=null,O=null,F=null,J=null;for($ in r){var te=r[$];if(r.hasOwnProperty($)&&te!=null)switch($){case"checked":break;case"value":break;case"defaultValue":O=te;default:l.hasOwnProperty($)||nt(t,n,$,null,l,te)}}for(var Y in l){var $=l[Y];if(te=r[Y],l.hasOwnProperty(Y)&&($!=null||te!=null))switch(Y){case"type":d=$;break;case"name":h=$;break;case"checked":F=$;break;case"defaultChecked":J=$;break;case"value":E=$;break;case"defaultValue":x=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(a(137,n));break;default:$!==te&&nt(t,n,Y,$,l,te)}}yr(t,E,x,O,F,J,d,h);return;case"select":$=E=x=Y=null;for(d in r)if(O=r[d],r.hasOwnProperty(d)&&O!=null)switch(d){case"value":break;case"multiple":$=O;default:l.hasOwnProperty(d)||nt(t,n,d,null,l,O)}for(h in l)if(d=l[h],O=r[h],l.hasOwnProperty(h)&&(d!=null||O!=null))switch(h){case"value":Y=d;break;case"defaultValue":x=d;break;case"multiple":E=d;default:d!==O&&nt(t,n,h,d,l,O)}n=x,r=E,l=$,Y!=null?Cs(t,!!r,Y,!1):!!l!=!!r&&(n!=null?Cs(t,!!r,n,!0):Cs(t,!!r,r?[]:"",!1));return;case"textarea":$=Y=null;for(x in r)if(h=r[x],r.hasOwnProperty(x)&&h!=null&&!l.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:nt(t,n,x,null,l,h)}for(E in l)if(h=l[E],d=r[E],l.hasOwnProperty(E)&&(h!=null||d!=null))switch(E){case"value":Y=h;break;case"defaultValue":$=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==d&&nt(t,n,E,h,l,d)}hu(t,Y,$);return;case"option":for(var ce in r)if(Y=r[ce],r.hasOwnProperty(ce)&&Y!=null&&!l.hasOwnProperty(ce))switch(ce){case"selected":t.selected=!1;break;default:nt(t,n,ce,null,l,Y)}for(O in l)if(Y=l[O],$=r[O],l.hasOwnProperty(O)&&Y!==$&&(Y!=null||$!=null))switch(O){case"selected":t.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:nt(t,n,O,Y,l,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in r)Y=r[Ee],r.hasOwnProperty(Ee)&&Y!=null&&!l.hasOwnProperty(Ee)&&nt(t,n,Ee,null,l,Y);for(F in l)if(Y=l[F],$=r[F],l.hasOwnProperty(F)&&Y!==$&&(Y!=null||$!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(a(137,n));break;default:nt(t,n,F,Y,l,$)}return;default:if(_r(n)){for(var it in r)Y=r[it],r.hasOwnProperty(it)&&Y!==void 0&&!l.hasOwnProperty(it)&&Td(t,n,it,void 0,l,Y);for(J in l)Y=l[J],$=r[J],!l.hasOwnProperty(J)||Y===$||Y===void 0&&$===void 0||Td(t,n,J,Y,l,$);return}}for(var P in r)Y=r[P],r.hasOwnProperty(P)&&Y!=null&&!l.hasOwnProperty(P)&&nt(t,n,P,null,l,Y);for(te in l)Y=l[te],$=r[te],!l.hasOwnProperty(te)||Y===$||Y==null&&$==null||nt(t,n,te,Y,l,$)}function Sy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Rx(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],d=h.transferSize,E=h.initiatorType,x=h.duration;if(d&&x&&Sy(E)){for(E=0,x=h.responseEnd,l+=1;l<r.length;l++){var O=r[l],F=O.startTime;if(F>x)break;var J=O.transferSize,te=O.initiatorType;J&&Sy(te)&&(O=O.responseEnd,E+=J*(O<x?1:(x-F)/(O-F)))}if(--l,n+=8*(d+E)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var xd=null,Sd=null;function mc(t){return t.nodeType===9?t:t.ownerDocument}function Ay(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Ad(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var wd=null;function Ix(){var t=window.event;return t&&t.type==="popstate"?t===wd?!1:(wd=t,!0):(wd=null,!1)}var Ny=typeof setTimeout=="function"?setTimeout:void 0,Cx=typeof clearTimeout=="function"?clearTimeout:void 0,Ry=typeof Promise=="function"?Promise:void 0,Dx=typeof queueMicrotask=="function"?queueMicrotask:typeof Ry<"u"?function(t){return Ry.resolve(null).then(t).catch(Ox)}:Ny;function Ox(t){setTimeout(function(){throw t})}function ea(t){return t==="head"}function Iy(t,n){var r=n,l=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(h),Wr(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")go(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,go(r);for(var d=r.firstChild;d;){var E=d.nextSibling,x=d.nodeName;d[xi]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&d.rel.toLowerCase()==="stylesheet"||r.removeChild(d),d=E}}else r==="body"&&go(t.ownerDocument.body);r=h}while(r);Wr(n)}function Cy(t,n){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function Nd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Nd(r),pr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function Mx(t,n,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[xi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Zn(t.nextSibling),t===null)break}return null}function jx(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Zn(t.nextSibling),t===null))return null;return t}function Dy(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Zn(t.nextSibling),t===null))return null;return t}function Rd(t){return t.data==="$?"||t.data==="$~"}function Id(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Vx(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Zn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Cd=null;function Oy(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return Zn(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function My(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function jy(t,n,r){switch(n=mc(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function go(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);pr(t)}var Wn=new Map,Vy=new Set;function pc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ys=le.d;le.d={f:Ux,r:Lx,D:kx,C:Px,L:zx,m:Bx,X:Gx,S:Hx,M:qx};function Ux(){var t=ys.f(),n=rc();return t||n}function Lx(t){var n=Hn(t);n!==null&&n.tag===5&&n.type==="form"?Zg(n):ys.r(t)}var Xr=typeof document>"u"?null:document;function Uy(t,n,r){var l=Xr;if(l&&typeof n=="string"&&n){var h=gn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),Vy.has(h)||(Vy.add(h),t={rel:t,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Wt(n,"link",t),Dt(n),l.head.appendChild(n)))}}function kx(t){ys.D(t),Uy("dns-prefetch",t,null)}function Px(t,n){ys.C(t,n),Uy("preconnect",t,n)}function zx(t,n,r){ys.L(t,n,r);var l=Xr;if(l&&t&&n){var h='link[rel="preload"][as="'+gn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+gn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+gn(r.imageSizes)+'"]')):h+='[href="'+gn(t)+'"]';var d=h;switch(n){case"style":d=Jr(t);break;case"script":d=Zr(t)}Wn.has(d)||(t=T({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Wn.set(d,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(yo(d))||n==="script"&&l.querySelector(_o(d))||(n=l.createElement("link"),Wt(n,"link",t),Dt(n),l.head.appendChild(n)))}}function Bx(t,n){ys.m(t,n);var r=Xr;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+gn(l)+'"][href="'+gn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Zr(t)}if(!Wn.has(d)&&(t=T({rel:"modulepreload",href:t},n),Wn.set(d,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(_o(d)))return}l=r.createElement("link"),Wt(l,"link",t),Dt(l),r.head.appendChild(l)}}}function Hx(t,n,r){ys.S(t,n,r);var l=Xr;if(l&&t){var h=Ai(l).hoistableStyles,d=Jr(t);n=n||"default";var E=h.get(d);if(!E){var x={loading:0,preload:null};if(E=l.querySelector(yo(d)))x.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Wn.get(d))&&Dd(t,r);var O=E=l.createElement("link");Dt(O),Wt(O,"link",t),O._p=new Promise(function(F,J){O.onload=F,O.onerror=J}),O.addEventListener("load",function(){x.loading|=1}),O.addEventListener("error",function(){x.loading|=2}),x.loading|=4,gc(E,n,l)}E={type:"stylesheet",instance:E,count:1,state:x},h.set(d,E)}}}function Gx(t,n){ys.X(t,n);var r=Xr;if(r&&t){var l=Ai(r).hoistableScripts,h=Zr(t),d=l.get(h);d||(d=r.querySelector(_o(h)),d||(t=T({src:t,async:!0},n),(n=Wn.get(h))&&Od(t,n),d=r.createElement("script"),Dt(d),Wt(d,"link",t),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function qx(t,n){ys.M(t,n);var r=Xr;if(r&&t){var l=Ai(r).hoistableScripts,h=Zr(t),d=l.get(h);d||(d=r.querySelector(_o(h)),d||(t=T({src:t,async:!0,type:"module"},n),(n=Wn.get(h))&&Od(t,n),d=r.createElement("script"),Dt(d),Wt(d,"link",t),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Ly(t,n,r,l){var h=(h=xe.current)?pc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Jr(r.href),r=Ai(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Jr(r.href);var d=Ai(h).hoistableStyles,E=d.get(t);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,E),(d=h.querySelector(yo(t)))&&!d._p&&(E.instance=d,E.state.loading=5),Wn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Wn.set(t,r),d||Fx(h,t,r,E.state))),n&&l===null)throw Error(a(528,""));return E}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Zr(r),r=Ai(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Jr(t){return'href="'+gn(t)+'"'}function yo(t){return'link[rel="stylesheet"]['+t+"]"}function ky(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function Fx(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Wt(n,"link",r),Dt(n),t.head.appendChild(n))}function Zr(t){return'[src="'+gn(t)+'"]'}function _o(t){return"script[async]"+t}function Py(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+gn(r.href)+'"]');if(l)return n.instance=l,Dt(l),l;var h=T({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Dt(l),Wt(l,"style",h),gc(l,r.precedence,t),n.instance=l;case"stylesheet":h=Jr(r.href);var d=t.querySelector(yo(h));if(d)return n.state.loading|=4,n.instance=d,Dt(d),d;l=ky(r),(h=Wn.get(h))&&Dd(l,h),d=(t.ownerDocument||t).createElement("link"),Dt(d);var E=d;return E._p=new Promise(function(x,O){E.onload=x,E.onerror=O}),Wt(d,"link",l),n.state.loading|=4,gc(d,r.precedence,t),n.instance=d;case"script":return d=Zr(r.src),(h=t.querySelector(_o(d)))?(n.instance=h,Dt(h),h):(l=r,(h=Wn.get(d))&&(l=T({},r),Od(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Dt(h),Wt(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,gc(l,r.precedence,t));return n.instance}function gc(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,E=0;E<l.length;E++){var x=l[E];if(x.dataset.precedence===n)d=x;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Dd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Od(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var yc=null;function zy(t,n,r){if(yc===null){var l=new Map,h=yc=new Map;h.set(r,l)}else h=yc,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var d=r[h];if(!(d[xi]||d[Ct]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(n)||"";E=t+E;var x=l.get(E);x?x.push(d):l.set(E,[d])}}return l}function By(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function Yx(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Hy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Kx(t,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Jr(l.href),d=n.querySelector(yo(h));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=_c.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=d,Dt(d);return}d=n.ownerDocument||n,l=ky(l),(h=Wn.get(h))&&Dd(l,h),d=d.createElement("link"),Dt(d);var E=d;E._p=new Promise(function(x,O){E.onload=x,E.onerror=O}),Wt(d,"link",l),r.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=_c.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var Md=0;function $x(t,n){return t.stylesheets&&t.count===0&&vc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&vc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+n);0<t.imgBytes&&Md===0&&(Md=62500*Rx());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&vc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Md?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function _c(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ec=null;function vc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ec=new Map,n.forEach(Qx,t),Ec=null,_c.call(t))}function Qx(t,n){if(!(n.state.loading&4)){var r=Ec.get(t);if(r)var l=r.get(null);else{r=new Map,Ec.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var E=h[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(r.set(E.dataset.precedence,E),l=E)}l&&r.set(null,l)}h=n.instance,E=h.getAttribute("data-precedence"),d=r.get(E)||l,d===l&&r.set(null,h),r.set(E,h),this.count++,l=_c.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Eo={$$typeof:Q,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function Xx(t,n,r,l,h,d,E,x,O){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=un(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=un(0),this.hiddenUpdates=un(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function Gy(t,n,r,l,h,d,E,x,O,F,J,te){return t=new Xx(t,n,r,E,O,F,J,te,x),n=1,d===!0&&(n|=24),d=On(3,null,null,n),t.current=d,d.stateNode=t,n=ff(),n.refCount++,t.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:r,cache:n},gf(d),t}function qy(t){return t?(t=Ir,t):Ir}function Fy(t,n,r,l,h,d){h=qy(h),l.context===null?l.context=h:l.pendingContext=h,l=Gs(n),l.payload={element:r},d=d===void 0?null:d,d!==null&&(l.callback=d),r=qs(t,l,n),r!==null&&(Tn(r,t,n),Xl(r,t,n))}function Yy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function jd(t,n){Yy(t,n),(t=t.alternate)&&Yy(t,n)}function Ky(t){if(t.tag===13||t.tag===31){var n=La(t,67108864);n!==null&&Tn(n,t,67108864),jd(t,67108864)}}function $y(t){if(t.tag===13||t.tag===31){var n=Ln();n=Aa(n);var r=La(t,n);r!==null&&Tn(r,t,n),jd(t,n)}}var bc=!0;function Jx(t,n,r,l){var h=X.T;X.T=null;var d=le.p;try{le.p=2,Vd(t,n,r,l)}finally{le.p=d,X.T=h}}function Zx(t,n,r,l){var h=X.T;X.T=null;var d=le.p;try{le.p=8,Vd(t,n,r,l)}finally{le.p=d,X.T=h}}function Vd(t,n,r,l){if(bc){var h=Ud(l);if(h===null)bd(t,n,l,Tc,r),Xy(t,l);else if(eS(h,t,n,r,l))l.stopPropagation();else if(Xy(t,l),n&4&&-1<Wx.indexOf(t)){for(;h!==null;){var d=Hn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=L(d.pendingLanes);if(E!==0){var x=d;for(x.pendingLanes|=2,x.entangledLanes|=2;E;){var O=1<<31-gt(E);x.entanglements[1]|=O,E&=~O}ki(d),($e&6)===0&&(sc=Pt()+500,fo(0))}}break;case 31:case 13:x=La(d,2),x!==null&&Tn(x,d,2),rc(),jd(d,2)}if(d=Ud(l),d===null&&bd(t,n,l,Tc,r),d===h)break;h=d}h!==null&&l.stopPropagation()}else bd(t,n,l,null,r)}}function Ud(t){return t=Gn(t),Ld(t)}var Tc=null;function Ld(t){if(Tc=null,t=Si(t),t!==null){var n=u(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=f(n),t!==null)return t;t=null}else if(r===31){if(t=p(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Tc=t,null}function Qy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xi()){case Ns:return 2;case xa:return 8;case vi:case xl:return 32;case ur:return 268435456;default:return 32}default:return 32}}var kd=!1,ta=null,na=null,ia=null,vo=new Map,bo=new Map,sa=[],Wx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Xy(t,n){switch(t){case"focusin":case"focusout":ta=null;break;case"dragenter":case"dragleave":na=null;break;case"mouseover":case"mouseout":ia=null;break;case"pointerover":case"pointerout":vo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":bo.delete(n.pointerId)}}function To(t,n,r,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},n!==null&&(n=Hn(n),n!==null&&Ky(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function eS(t,n,r,l,h){switch(n){case"focusin":return ta=To(ta,t,n,r,l,h),!0;case"dragenter":return na=To(na,t,n,r,l,h),!0;case"mouseover":return ia=To(ia,t,n,r,l,h),!0;case"pointerover":var d=h.pointerId;return vo.set(d,To(vo.get(d)||null,t,n,r,l,h)),!0;case"gotpointercapture":return d=h.pointerId,bo.set(d,To(bo.get(d)||null,t,n,r,l,h)),!0}return!1}function Jy(t){var n=Si(t.target);if(n!==null){var r=u(n);if(r!==null){if(n=r.tag,n===13){if(n=f(r),n!==null){t.blockedOn=n,ri(t.priority,function(){$y(r)});return}}else if(n===31){if(n=p(r),n!==null){t.blockedOn=n,ri(t.priority,function(){$y(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Ud(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);jl=l,r.target.dispatchEvent(l),jl=null}else return n=Hn(r),n!==null&&Ky(n),t.blockedOn=r,!1;n.shift()}return!0}function Zy(t,n,r){xc(t)&&r.delete(n)}function tS(){kd=!1,ta!==null&&xc(ta)&&(ta=null),na!==null&&xc(na)&&(na=null),ia!==null&&xc(ia)&&(ia=null),vo.forEach(Zy),bo.forEach(Zy)}function Sc(t,n){t.blockedOn===n&&(t.blockedOn=null,kd||(kd=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,tS)))}var Ac=null;function Wy(t){Ac!==t&&(Ac=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Ac===t&&(Ac=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Ld(l||r)===null)continue;break}var d=Hn(r);d!==null&&(t.splice(n,3),n-=3,Uf(d,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function Wr(t){function n(O){return Sc(O,t)}ta!==null&&Sc(ta,t),na!==null&&Sc(na,t),ia!==null&&Sc(ia,t),vo.forEach(n),bo.forEach(n);for(var r=0;r<sa.length;r++){var l=sa[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<sa.length&&(r=sa[0],r.blockedOn===null);)Jy(r),r.blockedOn===null&&sa.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],d=r[l+1],E=h[qt]||null;if(typeof d=="function")E||Wy(r);else if(E){var x=null;if(d&&d.hasAttribute("formAction")){if(h=d,E=d[qt]||null)x=E.formAction;else if(Ld(h)!==null)continue}else x=E.action;typeof x=="function"?r[l+1]=x:(r.splice(l,3),l-=3),Wy(r)}}}function e_(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(E){return h=E})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Pd(t){this._internalRoot=t}wc.prototype.render=Pd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=Ln();Fy(r,l,t,n,null,null)},wc.prototype.unmount=Pd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Fy(t.current,2,null,t,null,null),rc(),n[Ti]=null}};function wc(t){this._internalRoot=t}wc.prototype.unstable_scheduleHydration=function(t){if(t){var n=ru();t={blockedOn:null,target:t,priority:n};for(var r=0;r<sa.length&&n!==0&&n<sa[r].priority;r++);sa.splice(r,0,t),r===0&&Jy(t)}};var t_=e.version;if(t_!=="19.2.3")throw Error(a(527,t_,"19.2.3"));le.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=g(n),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var nS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nc.isDisabled&&Nc.supportsFiber)try{Rn=Nc.inject(nS),zt=Nc}catch{}}return So.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",h=o0,d=u0,E=c0;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(E=n.onRecoverableError)),n=Gy(t,1,!1,null,null,r,l,null,h,d,E,e_),t[Ti]=n.current,vd(t),new Pd(n)},So.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,h="",d=o0,E=u0,x=c0,O=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(E=r.onCaughtError),r.onRecoverableError!==void 0&&(x=r.onRecoverableError),r.formState!==void 0&&(O=r.formState)),n=Gy(t,1,!0,n,r??null,l,h,O,d,E,x,e_),n.context=qy(null),r=n.current,l=Ln(),l=Aa(l),h=Gs(l),h.callback=null,qs(r,h,l),r=l,n.current.lanes=r,Bn(n,r),ki(n),t[Ti]=n.current,vd(t),new wc(n)},So.version="19.2.3",So}var h_;function dS(){if(h_)return Hd.exports;h_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Hd.exports=fS(),Hd.exports}var mS=dS();const pS=Gv(mS);/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var f_="popstate";function gS(i={}){function e(o,u){let{pathname:f="/",search:p="",hash:_=""}=sr(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),om("",{pathname:f,search:p,hash:_},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function s(o,u){let f=o.document.querySelector("base"),p="";if(f&&f.getAttribute("href")){let _=o.location.href,g=_.indexOf("#");p=g===-1?_:_.slice(0,g)}return p+"#"+(typeof u=="string"?u:zo(u))}function a(o,u){ni(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return _S(e,s,a,i)}function Et(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function ni(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function yS(){return Math.random().toString(36).substring(2,10)}function d_(i,e){return{usr:i.state,key:i.key,idx:e}}function om(i,e,s=null,a){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?sr(e):e,state:s,key:e&&e.key||a||yS()}}function zo({pathname:i="/",search:e="",hash:s=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),s&&s!=="#"&&(i+=s.charAt(0)==="#"?s:"#"+s),i}function sr(i){let e={};if(i){let s=i.indexOf("#");s>=0&&(e.hash=i.substring(s),i=i.substring(0,s));let a=i.indexOf("?");a>=0&&(e.search=i.substring(a),i=i.substring(0,a)),i&&(e.pathname=i)}return e}function _S(i,e,s,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,f=o.history,p="POP",_=null,g=b();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function b(){return(f.state||{idx:null}).idx}function T(){p="POP";let R=b(),Z=R==null?null:R-g;g=R,_&&_({action:p,location:G.location,delta:Z})}function S(R,Z){p="PUSH";let se=om(G.location,R,Z);s&&s(se,R),g=b()+1;let Q=d_(se,g),he=G.createHref(se);try{f.pushState(Q,"",he)}catch(me){if(me instanceof DOMException&&me.name==="DataCloneError")throw me;o.location.assign(he)}u&&_&&_({action:p,location:G.location,delta:1})}function w(R,Z){p="REPLACE";let se=om(G.location,R,Z);s&&s(se,R),g=b();let Q=d_(se,g),he=G.createHref(se);f.replaceState(Q,"",he),u&&_&&_({action:p,location:G.location,delta:0})}function B(R){return ES(R)}let G={get action(){return p},get location(){return i(o,f)},listen(R){if(_)throw new Error("A history only accepts one active listener");return o.addEventListener(f_,T),_=R,()=>{o.removeEventListener(f_,T),_=null}},createHref(R){return e(o,R)},createURL:B,encodeLocation(R){let Z=B(R);return{pathname:Z.pathname,search:Z.search,hash:Z.hash}},push:S,replace:w,go(R){return f.go(R)}};return G}function ES(i,e=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),Et(s,"No window.location.(origin|href) available to create URL");let a=typeof i=="string"?i:zo(i);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=s+a),new URL(a,s)}function qv(i,e,s="/"){return vS(i,e,s,!1)}function vS(i,e,s,a){let o=typeof e=="string"?sr(e):e,u=vs(o.pathname||"/",s);if(u==null)return null;let f=Fv(i);bS(f);let p=null;for(let _=0;p==null&&_<f.length;++_){let g=OS(u);p=CS(f[_],g,a)}return p}function Fv(i,e=[],s=[],a="",o=!1){let u=(f,p,_=o,g)=>{let b={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:p,route:f};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(a)&&_)return;Et(b.relativePath.startsWith(a),`Absolute route path "${b.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(a.length)}let T=_s([a,b.relativePath]),S=s.concat(b);f.children&&f.children.length>0&&(Et(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),Fv(f.children,e,S,T,_)),!(f.path==null&&!f.index)&&e.push({path:T,score:RS(T,f.index),routesMeta:S})};return i.forEach((f,p)=>{var _;if(f.path===""||!((_=f.path)!=null&&_.includes("?")))u(f,p);else for(let g of Yv(f.path))u(f,p,!0,g)}),e}function Yv(i){let e=i.split("/");if(e.length===0)return[];let[s,...a]=e,o=s.endsWith("?"),u=s.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let f=Yv(a.join("/")),p=[];return p.push(...f.map(_=>_===""?u:[u,_].join("/"))),o&&p.push(...f),p.map(_=>i.startsWith("/")&&_===""?"/":_)}function bS(i){i.sort((e,s)=>e.score!==s.score?s.score-e.score:IS(e.routesMeta.map(a=>a.childrenIndex),s.routesMeta.map(a=>a.childrenIndex)))}var TS=/^:[\w-]+$/,xS=3,SS=2,AS=1,wS=10,NS=-2,m_=i=>i==="*";function RS(i,e){let s=i.split("/"),a=s.length;return s.some(m_)&&(a+=NS),e&&(a+=SS),s.filter(o=>!m_(o)).reduce((o,u)=>o+(TS.test(u)?xS:u===""?AS:wS),a)}function IS(i,e){return i.length===e.length&&i.slice(0,-1).every((a,o)=>a===e[o])?i[i.length-1]-e[e.length-1]:0}function CS(i,e,s=!1){let{routesMeta:a}=i,o={},u="/",f=[];for(let p=0;p<a.length;++p){let _=a[p],g=p===a.length-1,b=u==="/"?e:e.slice(u.length)||"/",T=Qc({path:_.relativePath,caseSensitive:_.caseSensitive,end:g},b),S=_.route;if(!T&&g&&s&&!a[a.length-1].route.index&&(T=Qc({path:_.relativePath,caseSensitive:_.caseSensitive,end:!1},b)),!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:_s([u,T.pathname]),pathnameBase:US(_s([u,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(u=_s([u,T.pathnameBase]))}return f}function Qc(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[s,a]=DS(i.path,i.caseSensitive,i.end),o=e.match(s);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:a.reduce((g,{paramName:b,isOptional:T},S)=>{if(b==="*"){let B=p[S]||"";f=u.slice(0,u.length-B.length).replace(/(.)\/+$/,"$1")}const w=p[S];return T&&!w?g[b]=void 0:g[b]=(w||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:i}}function DS(i,e=!1,s=!0){ni(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let a=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,_)=>(a.push({paramName:p,isOptional:_!=null}),_?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(a.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function OS(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ni(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function vs(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let s=e.endsWith("/")?e.length-1:e.length,a=i.charAt(s);return a&&a!=="/"?null:i.slice(s)||"/"}var Kv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,MS=i=>Kv.test(i);function jS(i,e="/"){let{pathname:s,search:a="",hash:o=""}=typeof i=="string"?sr(i):i,u;if(s)if(MS(s))u=s;else{if(s.includes("//")){let f=s;s=s.replace(/\/\/+/g,"/"),ni(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${s}`)}s.startsWith("/")?u=p_(s.substring(1),"/"):u=p_(s,e)}else u=e;return{pathname:u,search:LS(a),hash:kS(o)}}function p_(i,e){let s=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?s.length>1&&s.pop():o!=="."&&s.push(o)}),s.length>1?s.join("/"):"/"}function Yd(i,e,s,a){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function VS(i){return i.filter((e,s)=>s===0||e.route.path&&e.route.path.length>0)}function $v(i){let e=VS(i);return e.map((s,a)=>a===e.length-1?s.pathname:s.pathnameBase)}function Qv(i,e,s,a=!1){let o;typeof i=="string"?o=sr(i):(o={...i},Et(!o.pathname||!o.pathname.includes("?"),Yd("?","pathname","search",o)),Et(!o.pathname||!o.pathname.includes("#"),Yd("#","pathname","hash",o)),Et(!o.search||!o.search.includes("#"),Yd("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,p;if(f==null)p=s;else{let T=e.length-1;if(!a&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),T-=1;o.pathname=S.join("/")}p=T>=0?e[T]:"/"}let _=jS(o,p),g=f&&f!=="/"&&f.endsWith("/"),b=(u||f===".")&&s.endsWith("/");return!_.pathname.endsWith("/")&&(g||b)&&(_.pathname+="/"),_}var _s=i=>i.join("/").replace(/\/\/+/g,"/"),US=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),LS=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,kS=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,PS=class{constructor(i,e,s,a=!1){this.status=i,this.statusText=e||"",this.internal=a,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}};function zS(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function BS(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Xv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Jv(i,e){let s=i;if(typeof s!="string"||!Kv.test(s))return{absoluteURL:void 0,isExternal:!1,to:s};let a=s,o=!1;if(Xv)try{let u=new URL(window.location.href),f=s.startsWith("//")?new URL(u.protocol+s):new URL(s),p=vs(f.pathname,e);f.origin===u.origin&&p!=null?s=p+f.search+f.hash:o=!0}catch{ni(!1,`<Link to="${s}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:a,isExternal:o,to:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Zv=["POST","PUT","PATCH","DELETE"];new Set(Zv);var HS=["GET",...Zv];new Set(HS);var yl=k.createContext(null);yl.displayName="DataRouter";var vh=k.createContext(null);vh.displayName="DataRouterState";var GS=k.createContext(!1),Wv=k.createContext({isTransitioning:!1});Wv.displayName="ViewTransition";var qS=k.createContext(new Map);qS.displayName="Fetchers";var FS=k.createContext(null);FS.displayName="Await";var si=k.createContext(null);si.displayName="Navigation";var Qo=k.createContext(null);Qo.displayName="Location";var As=k.createContext({outlet:null,matches:[],isDataRoute:!1});As.displayName="Route";var Hm=k.createContext(null);Hm.displayName="RouteError";var e1="REACT_ROUTER_ERROR",YS="REDIRECT",KS="ROUTE_ERROR_RESPONSE";function $S(i){if(i.startsWith(`${e1}:${YS}:{`))try{let e=JSON.parse(i.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function QS(i){if(i.startsWith(`${e1}:${KS}:{`))try{let e=JSON.parse(i.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new PS(e.status,e.statusText,e.data)}catch{}}function XS(i,{relative:e}={}){Et(Xo(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:a}=k.useContext(si),{hash:o,pathname:u,search:f}=Jo(i,{relative:e}),p=u;return s!=="/"&&(p=u==="/"?s:_s([s,u])),a.createHref({pathname:p,search:f,hash:o})}function Xo(){return k.useContext(Qo)!=null}function _a(){return Et(Xo(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Qo).location}var t1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function n1(i){k.useContext(si).static||k.useLayoutEffect(i)}function JS(){let{isDataRoute:i}=k.useContext(As);return i?cA():ZS()}function ZS(){Et(Xo(),"useNavigate() may be used only in the context of a <Router> component.");let i=k.useContext(yl),{basename:e,navigator:s}=k.useContext(si),{matches:a}=k.useContext(As),{pathname:o}=_a(),u=JSON.stringify($v(a)),f=k.useRef(!1);return n1(()=>{f.current=!0}),k.useCallback((_,g={})=>{if(ni(f.current,t1),!f.current)return;if(typeof _=="number"){s.go(_);return}let b=Qv(_,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:_s([e,b.pathname])),(g.replace?s.replace:s.push)(b,g.state,g)},[e,s,u,o,i])}k.createContext(null);function Jo(i,{relative:e}={}){let{matches:s}=k.useContext(As),{pathname:a}=_a(),o=JSON.stringify($v(s));return k.useMemo(()=>Qv(i,JSON.parse(o),a,e==="path"),[i,o,a,e])}function WS(i,e){return i1(i,e)}function i1(i,e,s,a,o){var se;Et(Xo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=k.useContext(si),{matches:f}=k.useContext(As),p=f[f.length-1],_=p?p.params:{},g=p?p.pathname:"/",b=p?p.pathnameBase:"/",T=p&&p.route;{let Q=T&&T.path||"";a1(g,!T||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let S=_a(),w;if(e){let Q=typeof e=="string"?sr(e):e;Et(b==="/"||((se=Q.pathname)==null?void 0:se.startsWith(b)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${Q.pathname}" was given in the \`location\` prop.`),w=Q}else w=S;let B=w.pathname||"/",G=B;if(b!=="/"){let Q=b.replace(/^\//,"").split("/");G="/"+B.replace(/^\//,"").split("/").slice(Q.length).join("/")}let R=qv(i,{pathname:G});ni(T||R!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),ni(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Z=sA(R&&R.map(Q=>Object.assign({},Q,{params:Object.assign({},_,Q.params),pathname:_s([b,u.encodeLocation?u.encodeLocation(Q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?b:_s([b,u.encodeLocation?u.encodeLocation(Q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Q.pathnameBase])})),f,s,a,o);return e&&Z?k.createElement(Qo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},Z):Z}function eA(){let i=uA(),e=zS(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),s=i instanceof Error?i.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:u},"ErrorBoundary")," or"," ",k.createElement("code",{style:u},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),s?k.createElement("pre",{style:o},s):null,f)}var tA=k.createElement(eA,null),s1=class extends k.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const s=QS(i.digest);s&&(i=s)}let e=i!==void 0?k.createElement(As.Provider,{value:this.props.routeContext},k.createElement(Hm.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?k.createElement(nA,{error:i},e):e}};s1.contextType=GS;var Kd=new WeakMap;function nA({children:i,error:e}){let{basename:s}=k.useContext(si);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let a=$S(e.digest);if(a){let o=Kd.get(e);if(o)throw o;let u=Jv(a.location,s);if(Xv&&!Kd.get(e))if(u.isExternal||a.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:a.replace}));throw Kd.set(e,f),f}return k.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return i}function iA({routeContext:i,match:e,children:s}){let a=k.useContext(yl);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(As.Provider,{value:i},s)}function sA(i,e=[],s=null,a=null,o=null){if(i==null){if(!s)return null;if(s.errors)i=s.matches;else if(e.length===0&&!s.initialized&&s.matches.length>0)i=s.matches;else return null}let u=i,f=s==null?void 0:s.errors;if(f!=null){let b=u.findIndex(T=>T.route.id&&(f==null?void 0:f[T.route.id])!==void 0);Et(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,b+1))}let p=!1,_=-1;if(s)for(let b=0;b<u.length;b++){let T=u[b];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(_=b),T.route.id){let{loaderData:S,errors:w}=s,B=T.route.loader&&!S.hasOwnProperty(T.route.id)&&(!w||w[T.route.id]===void 0);if(T.route.lazy||B){p=!0,_>=0?u=u.slice(0,_+1):u=[u[0]];break}}}let g=s&&a?(b,T)=>{var S,w;a(b,{location:s.location,params:((w=(S=s.matches)==null?void 0:S[0])==null?void 0:w.params)??{},unstable_pattern:BS(s.matches),errorInfo:T})}:void 0;return u.reduceRight((b,T,S)=>{let w,B=!1,G=null,R=null;s&&(w=f&&T.route.id?f[T.route.id]:void 0,G=T.route.errorElement||tA,p&&(_<0&&S===0?(a1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),B=!0,R=null):_===S&&(B=!0,R=T.route.hydrateFallbackElement||null)));let Z=e.concat(u.slice(0,S+1)),se=()=>{let Q;return w?Q=G:B?Q=R:T.route.Component?Q=k.createElement(T.route.Component,null):T.route.element?Q=T.route.element:Q=b,k.createElement(iA,{match:T,routeContext:{outlet:b,matches:Z,isDataRoute:s!=null},children:Q})};return s&&(T.route.ErrorBoundary||T.route.errorElement||S===0)?k.createElement(s1,{location:s.location,revalidation:s.revalidation,component:G,error:w,children:se(),routeContext:{outlet:null,matches:Z,isDataRoute:!0},onError:g}):se()},null)}function Gm(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aA(i){let e=k.useContext(yl);return Et(e,Gm(i)),e}function rA(i){let e=k.useContext(vh);return Et(e,Gm(i)),e}function lA(i){let e=k.useContext(As);return Et(e,Gm(i)),e}function qm(i){let e=lA(i),s=e.matches[e.matches.length-1];return Et(s.route.id,`${i} can only be used on routes that contain a unique "id"`),s.route.id}function oA(){return qm("useRouteId")}function uA(){var a;let i=k.useContext(Hm),e=rA("useRouteError"),s=qm("useRouteError");return i!==void 0?i:(a=e.errors)==null?void 0:a[s]}function cA(){let{router:i}=aA("useNavigate"),e=qm("useNavigate"),s=k.useRef(!1);return n1(()=>{s.current=!0}),k.useCallback(async(o,u={})=>{ni(s.current,t1),s.current&&(typeof o=="number"?await i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var g_={};function a1(i,e,s){!e&&!g_[i]&&(g_[i]=!0,ni(!1,s))}k.memo(hA);function hA({routes:i,future:e,state:s,onError:a}){return i1(i,void 0,s,a,e)}function el(i){Et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function fA({basename:i="/",children:e=null,location:s,navigationType:a="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){Et(!Xo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=i.replace(/^\/*/,"/"),_=k.useMemo(()=>({basename:p,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[p,o,u,f]);typeof s=="string"&&(s=sr(s));let{pathname:g="/",search:b="",hash:T="",state:S=null,key:w="default"}=s,B=k.useMemo(()=>{let G=vs(g,p);return G==null?null:{location:{pathname:G,search:b,hash:T,state:S,key:w},navigationType:a}},[p,g,b,T,S,w,a]);return ni(B!=null,`<Router basename="${p}"> is not able to match the URL "${g}${b}${T}" because it does not start with the basename, so the <Router> won't render anything.`),B==null?null:k.createElement(si.Provider,{value:_},k.createElement(Qo.Provider,{children:e,value:B}))}function dA({children:i,location:e}){return WS(um(i),e)}function um(i,e=[]){let s=[];return k.Children.forEach(i,(a,o)=>{if(!k.isValidElement(a))return;let u=[...e,o];if(a.type===k.Fragment){s.push.apply(s,um(a.props.children,u));return}Et(a.type===el,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Et(!a.props.index||!a.props.children,"An index route cannot have child routes.");let f={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(f.children=um(a.props.children,u)),s.push(f)}),s}var Pc="get",zc="application/x-www-form-urlencoded";function bh(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function mA(i){return bh(i)&&i.tagName.toLowerCase()==="button"}function pA(i){return bh(i)&&i.tagName.toLowerCase()==="form"}function gA(i){return bh(i)&&i.tagName.toLowerCase()==="input"}function yA(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function _A(i,e){return i.button===0&&(!e||e==="_self")&&!yA(i)}var Rc=null;function EA(){if(Rc===null)try{new FormData(document.createElement("form"),0),Rc=!1}catch{Rc=!0}return Rc}var vA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $d(i){return i!=null&&!vA.has(i)?(ni(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${zc}"`),null):i}function bA(i,e){let s,a,o,u,f;if(pA(i)){let p=i.getAttribute("action");a=p?vs(p,e):null,s=i.getAttribute("method")||Pc,o=$d(i.getAttribute("enctype"))||zc,u=new FormData(i)}else if(mA(i)||gA(i)&&(i.type==="submit"||i.type==="image")){let p=i.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let _=i.getAttribute("formaction")||p.getAttribute("action");if(a=_?vs(_,e):null,s=i.getAttribute("formmethod")||p.getAttribute("method")||Pc,o=$d(i.getAttribute("formenctype"))||$d(p.getAttribute("enctype"))||zc,u=new FormData(p,i),!EA()){let{name:g,type:b,value:T}=i;if(b==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,T)}}else{if(bh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=Pc,a=null,o=zc,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:a,method:s.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Fm(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function TA(i,e,s,a){let o=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${a}`:o.pathname=`${o.pathname}.${a}`:o.pathname==="/"?o.pathname=`_root.${a}`:e&&vs(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${a}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${a}`,o}async function xA(i,e){if(i.id in e)return e[i.id];try{let s=await import(i.module);return e[i.id]=s,s}catch(s){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function SA(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function AA(i,e,s){let a=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await xA(u,s);return f.links?f.links():[]}return[]}));return IA(a.flat(1).filter(SA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function y_(i,e,s,a,o,u){let f=(_,g)=>s[g]?_.route.id!==s[g].route.id:!0,p=(_,g)=>{var b;return s[g].pathname!==_.pathname||((b=s[g].route.path)==null?void 0:b.endsWith("*"))&&s[g].params["*"]!==_.params["*"]};return u==="assets"?e.filter((_,g)=>f(_,g)||p(_,g)):u==="data"?e.filter((_,g)=>{var T;let b=a.routes[_.route.id];if(!b||!b.hasLoader)return!1;if(f(_,g)||p(_,g))return!0;if(_.route.shouldRevalidate){let S=_.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=s[0])==null?void 0:T.params)||{},nextUrl:new URL(i,window.origin),nextParams:_.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function wA(i,e,{includeHydrateFallback:s}={}){return NA(i.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),s&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function NA(i){return[...new Set(i)]}function RA(i){let e={},s=Object.keys(i).sort();for(let a of s)e[a]=i[a];return e}function IA(i,e){let s=new Set;return new Set(e),i.reduce((a,o)=>{let u=JSON.stringify(RA(o));return s.has(u)||(s.add(u),a.push({key:u,link:o})),a},[])}function r1(){let i=k.useContext(yl);return Fm(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function CA(){let i=k.useContext(vh);return Fm(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Ym=k.createContext(void 0);Ym.displayName="FrameworkContext";function l1(){let i=k.useContext(Ym);return Fm(i,"You must render this element inside a <HydratedRouter> element"),i}function DA(i,e){let s=k.useContext(Ym),[a,o]=k.useState(!1),[u,f]=k.useState(!1),{onFocus:p,onBlur:_,onMouseEnter:g,onMouseLeave:b,onTouchStart:T}=e,S=k.useRef(null);k.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let G=Z=>{Z.forEach(se=>{f(se.isIntersecting)})},R=new IntersectionObserver(G,{threshold:.5});return S.current&&R.observe(S.current),()=>{R.disconnect()}}},[i]),k.useEffect(()=>{if(a){let G=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(G)}}},[a]);let w=()=>{o(!0)},B=()=>{o(!1),f(!1)};return s?i!=="intent"?[u,S,{}]:[u,S,{onFocus:Ao(p,w),onBlur:Ao(_,B),onMouseEnter:Ao(g,w),onMouseLeave:Ao(b,B),onTouchStart:Ao(T,w)}]:[!1,S,{}]}function Ao(i,e){return s=>{i&&i(s),s.defaultPrevented||e(s)}}function OA({page:i,...e}){let{router:s}=r1(),a=k.useMemo(()=>qv(s.routes,i,s.basename),[s.routes,i,s.basename]);return a?k.createElement(jA,{page:i,matches:a,...e}):null}function MA(i){let{manifest:e,routeModules:s}=l1(),[a,o]=k.useState([]);return k.useEffect(()=>{let u=!1;return AA(i,e,s).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,s]),a}function jA({page:i,matches:e,...s}){let a=_a(),{future:o,manifest:u,routeModules:f}=l1(),{basename:p}=r1(),{loaderData:_,matches:g}=CA(),b=k.useMemo(()=>y_(i,e,g,u,a,"data"),[i,e,g,u,a]),T=k.useMemo(()=>y_(i,e,g,u,a,"assets"),[i,e,g,u,a]),S=k.useMemo(()=>{if(i===a.pathname+a.search+a.hash)return[];let G=new Set,R=!1;if(e.forEach(se=>{var he;let Q=u.routes[se.route.id];!Q||!Q.hasLoader||(!b.some(me=>me.route.id===se.route.id)&&se.route.id in _&&((he=f[se.route.id])!=null&&he.shouldRevalidate)||Q.hasClientLoader?R=!0:G.add(se.route.id))}),G.size===0)return[];let Z=TA(i,p,o.unstable_trailingSlashAwareDataRequests,"data");return R&&G.size>0&&Z.searchParams.set("_routes",e.filter(se=>G.has(se.route.id)).map(se=>se.route.id).join(",")),[Z.pathname+Z.search]},[p,o.unstable_trailingSlashAwareDataRequests,_,a,u,b,e,i,f]),w=k.useMemo(()=>wA(T,u),[T,u]),B=MA(T);return k.createElement(k.Fragment,null,S.map(G=>k.createElement("link",{key:G,rel:"prefetch",as:"fetch",href:G,...s})),w.map(G=>k.createElement("link",{key:G,rel:"modulepreload",href:G,...s})),B.map(({key:G,link:R})=>k.createElement("link",{key:G,nonce:s.nonce,...R})))}function VA(...i){return e=>{i.forEach(s=>{typeof s=="function"?s(e):s!=null&&(s.current=e)})}}var UA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{UA&&(window.__reactRouterVersion="7.12.0")}catch{}function LA({basename:i,children:e,unstable_useTransitions:s,window:a}){let o=k.useRef();o.current==null&&(o.current=gS({window:a,v5Compat:!0}));let u=o.current,[f,p]=k.useState({action:u.action,location:u.location}),_=k.useCallback(g=>{s===!1?p(g):k.startTransition(()=>p(g))},[s]);return k.useLayoutEffect(()=>u.listen(_),[u,_]),k.createElement(fA,{basename:i,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:s})}var o1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Km=k.forwardRef(function({onClick:e,discover:s="render",prefetch:a="none",relative:o,reloadDocument:u,replace:f,state:p,target:_,to:g,preventScrollReset:b,viewTransition:T,unstable_defaultShouldRevalidate:S,...w},B){let{basename:G,unstable_useTransitions:R}=k.useContext(si),Z=typeof g=="string"&&o1.test(g),se=Jv(g,G);g=se.to;let Q=XS(g,{relative:o}),[he,me,pe]=DA(a,w),C=BA(g,{replace:f,state:p,target:_,preventScrollReset:b,relative:o,viewTransition:T,unstable_defaultShouldRevalidate:S,unstable_useTransitions:R});function N(U){e&&e(U),U.defaultPrevented||C(U)}let I=k.createElement("a",{...w,...pe,href:se.absoluteURL||Q,onClick:se.isExternal||u?e:N,ref:VA(B,me),target:_,"data-discover":!Z&&s==="render"?"true":void 0});return he&&!Z?k.createElement(k.Fragment,null,I,k.createElement(OA,{page:Q})):I});Km.displayName="Link";var kA=k.forwardRef(function({"aria-current":e="page",caseSensitive:s=!1,className:a="",end:o=!1,style:u,to:f,viewTransition:p,children:_,...g},b){let T=Jo(f,{relative:g.relative}),S=_a(),w=k.useContext(vh),{navigator:B,basename:G}=k.useContext(si),R=w!=null&&YA(T)&&p===!0,Z=B.encodeLocation?B.encodeLocation(T).pathname:T.pathname,se=S.pathname,Q=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;s||(se=se.toLowerCase(),Q=Q?Q.toLowerCase():null,Z=Z.toLowerCase()),Q&&G&&(Q=vs(Q,G)||Q);const he=Z!=="/"&&Z.endsWith("/")?Z.length-1:Z.length;let me=se===Z||!o&&se.startsWith(Z)&&se.charAt(he)==="/",pe=Q!=null&&(Q===Z||!o&&Q.startsWith(Z)&&Q.charAt(Z.length)==="/"),C={isActive:me,isPending:pe,isTransitioning:R},N=me?e:void 0,I;typeof a=="function"?I=a(C):I=[a,me?"active":null,pe?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let U=typeof u=="function"?u(C):u;return k.createElement(Km,{...g,"aria-current":N,className:I,ref:b,style:U,to:f,viewTransition:p},typeof _=="function"?_(C):_)});kA.displayName="NavLink";var PA=k.forwardRef(({discover:i="render",fetcherKey:e,navigate:s,reloadDocument:a,replace:o,state:u,method:f=Pc,action:p,onSubmit:_,relative:g,preventScrollReset:b,viewTransition:T,unstable_defaultShouldRevalidate:S,...w},B)=>{let{unstable_useTransitions:G}=k.useContext(si),R=qA(),Z=FA(p,{relative:g}),se=f.toLowerCase()==="get"?"get":"post",Q=typeof p=="string"&&o1.test(p),he=me=>{if(_&&_(me),me.defaultPrevented)return;me.preventDefault();let pe=me.nativeEvent.submitter,C=(pe==null?void 0:pe.getAttribute("formmethod"))||f,N=()=>R(pe||me.currentTarget,{fetcherKey:e,method:C,navigate:s,replace:o,state:u,relative:g,preventScrollReset:b,viewTransition:T,unstable_defaultShouldRevalidate:S});G&&s!==!1?k.startTransition(()=>N()):N()};return k.createElement("form",{ref:B,method:se,action:Z,onSubmit:a?_:he,...w,"data-discover":!Q&&i==="render"?"true":void 0})});PA.displayName="Form";function zA(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function u1(i){let e=k.useContext(yl);return Et(e,zA(i)),e}function BA(i,{target:e,replace:s,state:a,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:p,unstable_useTransitions:_}={}){let g=JS(),b=_a(),T=Jo(i,{relative:u});return k.useCallback(S=>{if(_A(S,e)){S.preventDefault();let w=s!==void 0?s:zo(b)===zo(T),B=()=>g(i,{replace:w,state:a,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:p});_?k.startTransition(()=>B()):B()}},[b,g,T,s,a,e,i,o,u,f,p,_])}var HA=0,GA=()=>`__${String(++HA)}__`;function qA(){let{router:i}=u1("useSubmit"),{basename:e}=k.useContext(si),s=oA(),a=i.fetch,o=i.navigate;return k.useCallback(async(u,f={})=>{let{action:p,method:_,encType:g,formData:b,body:T}=bA(u,e);if(f.navigate===!1){let S=f.fetcherKey||GA();await a(S,s,f.action||p,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:b,body:T,formMethod:f.method||_,formEncType:f.encType||g,flushSync:f.flushSync})}else await o(f.action||p,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:b,body:T,formMethod:f.method||_,formEncType:f.encType||g,replace:f.replace,state:f.state,fromRouteId:s,flushSync:f.flushSync,viewTransition:f.viewTransition})},[a,o,e,s])}function FA(i,{relative:e}={}){let{basename:s}=k.useContext(si),a=k.useContext(As);Et(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...Jo(i||".",{relative:e})},f=_a();if(i==null){u.search=f.search;let p=new URLSearchParams(u.search),_=p.getAll("index");if(_.some(b=>b==="")){p.delete("index"),_.filter(T=>T).forEach(T=>p.append("index",T));let b=p.toString();u.search=b?`?${b}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(u.pathname=u.pathname==="/"?s:_s([s,u.pathname])),zo(u)}function YA(i,{relative:e}={}){let s=k.useContext(Wv);Et(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=u1("useViewTransitionState"),o=Jo(i,{relative:e});if(!s.isTransitioning)return!1;let u=vs(s.currentLocation.pathname,a)||s.currentLocation.pathname,f=vs(s.nextLocation.pathname,a)||s.nextLocation.pathname;return Qc(o.pathname,f)!=null||Qc(o.pathname,u)!=null}/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$A=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,a)=>a?a.toUpperCase():s.toLowerCase()),__=i=>{const e=$A(i);return e.charAt(0).toUpperCase()+e.slice(1)},c1=(...i)=>i.filter((e,s,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===s).join(" ").trim(),QA=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var XA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=k.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:u,iconNode:f,...p},_)=>k.createElement("svg",{ref:_,...XA,width:e,height:e,stroke:i,strokeWidth:a?Number(s)*24/Number(e):s,className:c1("lucide",o),...!u&&!QA(p)&&{"aria-hidden":"true"},...p},[...f.map(([g,b])=>k.createElement(g,b)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=(i,e)=>{const s=k.forwardRef(({className:a,...o},u)=>k.createElement(JA,{ref:u,iconNode:e,className:c1(`lucide-${KA(__(i))}`,`lucide-${i}`,a),...o}));return s.displayName=__(i),s};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],E_=De("calendar",ZA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WA=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],v_=De("camera",WA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ew=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],No=De("check",ew);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tw=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],nw=De("chevron-right",tw);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],sw=De("circle-alert",iw);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aw=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],cm=De("circle-check-big",aw);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],lw=De("circle-check",rw);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Xc=De("clock",ow);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],cw=De("eye",uw);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],fw=De("flame",hw);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],b_=De("gift",dw);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mw=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],pw=De("graduation-cap",mw);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gw=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Bc=De("heart",gw);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yw=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Jc=De("history",yw);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _w=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Ew=De("layout-dashboard",_w);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vw=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],bw=De("log-out",vw);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],xw=De("medal",Tw);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sw=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Aw=De("menu",Sw);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ww=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],hm=De("package",ww);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ro=De("plus",Nw);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rw=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],Iw=De("qr-code",Rw);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cw=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]],Dw=De("scan-line",Cw);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Mw=De("search",Ow);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jw=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Vw=De("send",jw);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uw=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Zc=De("shield-check",Uw);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],kw=De("shopping-bag",Lw);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],zw=De("shopping-cart",Pw);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bw=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],fm=De("sparkles",Bw);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hw=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Gw=De("star",Hw);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Wc=De("target",qw);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fw=[["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}],["path",{d:"M7 10v12",key:"1qc93n"}]],Yw=De("thumbs-up",Fw);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kw=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Qd=De("trash-2",Kw);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $w=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Qw=De("trending-up",$w);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Jw=De("trophy",Xw);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],dm=De("user-plus",Zw);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ww=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],e2=De("user",Ww);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],n2=De("users",t2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],cl=De("x",i2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],h1=De("zap",s2);var ti=(i=>(i.STUDENT="STUDENT",i.ADMIN="ADMIN",i.GUEST="GUEST",i))(ti||{});const a2=()=>{};var T_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1=function(i){const e=[];let s=0;for(let a=0;a<i.length;a++){let o=i.charCodeAt(a);o<128?e[s++]=o:o<2048?(e[s++]=o>>6|192,e[s++]=o&63|128):(o&64512)===55296&&a+1<i.length&&(i.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++a)&1023),e[s++]=o>>18|240,e[s++]=o>>12&63|128,e[s++]=o>>6&63|128,e[s++]=o&63|128):(e[s++]=o>>12|224,e[s++]=o>>6&63|128,e[s++]=o&63|128)}return e},r2=function(i){const e=[];let s=0,a=0;for(;s<i.length;){const o=i[s++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[s++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[s++],f=i[s++],p=i[s++],_=((o&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const u=i[s++],f=i[s++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},d1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,p=f?i[o+1]:0,_=o+2<i.length,g=_?i[o+2]:0,b=u>>2,T=(u&3)<<4|p>>4;let S=(p&15)<<2|g>>6,w=g&63;_||(w=64,f||(S=64)),a.push(s[b],s[T],s[S],s[w])}return a.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(f1(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):r2(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const s=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<i.length;){const u=s[i.charAt(o++)],p=o<i.length?s[i.charAt(o)]:0;++o;const g=o<i.length?s[i.charAt(o)]:64;++o;const T=o<i.length?s[i.charAt(o)]:64;if(++o,u==null||p==null||g==null||T==null)throw new l2;const S=u<<2|p>>4;if(a.push(S),g!==64){const w=p<<4&240|g>>2;if(a.push(w),T!==64){const B=g<<6&192|T;a.push(B)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class l2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const o2=function(i){const e=f1(i);return d1.encodeByteArray(e,!0)},eh=function(i){return o2(i).replace(/\./g,"")},u2=function(i){try{return d1.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2=()=>c2().__FIREBASE_DEFAULTS__,f2=()=>{if(typeof process>"u"||typeof T_>"u")return;const i=T_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},d2=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&u2(i[1]);return e&&JSON.parse(e)},$m=()=>{try{return a2()||h2()||f2()||d2()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},m2=i=>{var e,s;return(s=(e=$m())==null?void 0:e.emulatorHosts)==null?void 0:s[i]},p2=i=>{const e=m2(i);if(!e)return;const s=e.lastIndexOf(":");if(s<=0||s+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(s+1),10);return e[0]==="["?[e.substring(1,s-1),a]:[e.substring(0,s),a]},m1=()=>{var i;return(i=$m())==null?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,s)=>{this.resolve=e,this.reject=s})}wrapCallback(e){return(s,a)=>{s?this.reject(s):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(s):e(s,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function y2(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s={alg:"none",type:"JWT"},a=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[eh(JSON.stringify(s)),eh(JSON.stringify(f)),""].join(".")}const jo={};function E2(){const i={prod:[],emulator:[]};for(const e of Object.keys(jo))jo[e]?i.emulator.push(e):i.prod.push(e);return i}function v2(i){let e=document.getElementById(i),s=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),s=!0),{created:s,element:e}}let x_=!1;function b2(i,e){if(typeof window>"u"||typeof document>"u"||!Qm(window.location.host)||jo[i]===e||jo[i]||x_)return;jo[i]=e;function s(S){return`__firebase__banner__${S}`}const a="__firebase__banner",u=E2().prod.length>0;function f(){const S=document.getElementById(a);S&&S.remove()}function p(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function _(S,w){S.setAttribute("width","24"),S.setAttribute("id",w),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{x_=!0,f()},S}function b(S,w){S.setAttribute("id",w),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function T(){const S=v2(a),w=s("text"),B=document.getElementById(w)||document.createElement("span"),G=s("learnmore"),R=document.getElementById(G)||document.createElement("a"),Z=s("preprendIcon"),se=document.getElementById(Z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const Q=S.element;p(Q),b(R,G);const he=g();_(se,Z),Q.append(se,B,R,he),document.body.appendChild(Q)}u?(B.innerText="Preview backend disconnected.",se.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(se.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,B.innerText="Preview backend running in this workspace."),B.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function x2(){var e;const i=(e=$m())==null?void 0:e.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function S2(){return!x2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function A2(){try{return typeof indexedDB=="object"}catch{return!1}}function w2(){return new Promise((i,e)=>{try{let s=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),s||self.indexedDB.deleteDatabase(a),i(!0)},o.onupgradeneeded=()=>{s=!1},o.onerror=()=>{var u;e(((u=o.error)==null?void 0:u.message)||"")}}catch(s){e(s)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2="FirebaseError";class _l extends Error{constructor(e,s,a){super(s),this.code=e,this.customData=a,this.name=N2,Object.setPrototypeOf(this,_l.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,p1.prototype.create)}}class p1{constructor(e,s,a){this.service=e,this.serviceName=s,this.errors=a}create(e,...s){const a=s[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?R2(u,a):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new _l(o,p,a)}}function R2(i,e){return i.replace(I2,(s,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const I2=/\{\$([^}]+)}/g;function th(i,e){if(i===e)return!0;const s=Object.keys(i),a=Object.keys(e);for(const o of s){if(!a.includes(o))return!1;const u=i[o],f=e[o];if(S_(u)&&S_(f)){if(!th(u,f))return!1}else if(u!==f)return!1}for(const o of a)if(!s.includes(o))return!1;return!0}function S_(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(i){return i&&i._delegate?i._delegate:i}class Bo{constructor(e,s,a){this.name=e,this.instanceFactory=s,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e,s){this.name=e,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const s=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(s)){const a=new g2;if(this.instancesDeferred.set(s,a),this.isInitialized(s)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:s});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(e){const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(e==null?void 0:e.optional)??!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(O2(e))try{this.getOrInitializeService({instanceIdentifier:Xa})}catch{}for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=Xa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...e.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xa){return this.instances.has(e)}getOptions(e=Xa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:s={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:s});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);a===p&&f.resolve(o)}return o}onInit(e,s){const a=this.normalizeInstanceIdentifier(s),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&e(u,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,s){const a=this.onInitCallbacks.get(s);if(a)for(const o of a)try{o(e,s)}catch{}}getOrInitializeService({instanceIdentifier:e,options:s={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:D2(e),options:s}),this.instances.set(e,a),this.instancesOptions.set(e,s),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Xa){return this.component?this.component.multipleInstances?e:Xa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function D2(i){return i===Xa?void 0:i}function O2(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const s=this.getProvider(e.name);if(s.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);s.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const s=new C2(e,this);return this.providers.set(e,s),s}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(He||(He={}));const j2={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},V2=He.INFO,U2={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},L2=(i,e,...s)=>{if(e<i.logLevel)return;const a=new Date().toISOString(),o=U2[e];if(o)console[o](`[${a}]  ${i.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class g1{constructor(e){this.name=e,this._logLevel=V2,this._logHandler=L2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?j2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const k2=(i,e)=>e.some(s=>i instanceof s);let A_,w_;function P2(){return A_||(A_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function z2(){return w_||(w_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const y1=new WeakMap,mm=new WeakMap,_1=new WeakMap,Xd=new WeakMap,Xm=new WeakMap;function B2(i){const e=new Promise((s,a)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{s(la(i.result)),o()},f=()=>{a(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(s=>{s instanceof IDBCursor&&y1.set(s,i)}).catch(()=>{}),Xm.set(e,i),e}function H2(i){if(mm.has(i))return;const e=new Promise((s,a)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{s(),o()},f=()=>{a(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});mm.set(i,e)}let pm={get(i,e,s){if(i instanceof IDBTransaction){if(e==="done")return mm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||_1.get(i);if(e==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return la(i[e])},set(i,e,s){return i[e]=s,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function G2(i){pm=i(pm)}function q2(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...s){const a=i.call(Jd(this),e,...s);return _1.set(a,e.sort?e.sort():[e]),la(a)}:z2().includes(i)?function(...e){return i.apply(Jd(this),e),la(y1.get(this))}:function(...e){return la(i.apply(Jd(this),e))}}function F2(i){return typeof i=="function"?q2(i):(i instanceof IDBTransaction&&H2(i),k2(i,P2())?new Proxy(i,pm):i)}function la(i){if(i instanceof IDBRequest)return B2(i);if(Xd.has(i))return Xd.get(i);const e=F2(i);return e!==i&&(Xd.set(i,e),Xm.set(e,i)),e}const Jd=i=>Xm.get(i);function Y2(i,e,{blocked:s,upgrade:a,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),p=la(f);return a&&f.addEventListener("upgradeneeded",_=>{a(la(f.result),_.oldVersion,_.newVersion,la(f.transaction),_)}),s&&f.addEventListener("blocked",_=>s(_.oldVersion,_.newVersion,_)),p.then(_=>{u&&_.addEventListener("close",()=>u()),o&&_.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const K2=["get","getKey","getAll","getAllKeys","count"],$2=["put","add","delete","clear"],Zd=new Map;function N_(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Zd.get(e))return Zd.get(e);const s=e.replace(/FromIndex$/,""),a=e!==s,o=$2.includes(s);if(!(s in(a?IDBIndex:IDBObjectStore).prototype)||!(o||K2.includes(s)))return;const u=async function(f,...p){const _=this.transaction(f,o?"readwrite":"readonly");let g=_.store;return a&&(g=g.index(p.shift())),(await Promise.all([g[s](...p),o&&_.done]))[0]};return Zd.set(e,u),u}G2(i=>({...i,get:(e,s,a)=>N_(e,s)||i.get(e,s,a),has:(e,s)=>!!N_(e,s)||i.has(e,s)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(X2(s)){const a=s.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(s=>s).join(" ")}}function X2(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const gm="@firebase/app",R_="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs=new g1("@firebase/app"),J2="@firebase/app-compat",Z2="@firebase/analytics-compat",W2="@firebase/analytics",eN="@firebase/app-check-compat",tN="@firebase/app-check",nN="@firebase/auth",iN="@firebase/auth-compat",sN="@firebase/database",aN="@firebase/data-connect",rN="@firebase/database-compat",lN="@firebase/functions",oN="@firebase/functions-compat",uN="@firebase/installations",cN="@firebase/installations-compat",hN="@firebase/messaging",fN="@firebase/messaging-compat",dN="@firebase/performance",mN="@firebase/performance-compat",pN="@firebase/remote-config",gN="@firebase/remote-config-compat",yN="@firebase/storage",_N="@firebase/storage-compat",EN="@firebase/firestore",vN="@firebase/ai",bN="@firebase/firestore-compat",TN="firebase",xN="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym="[DEFAULT]",SN={[gm]:"fire-core",[J2]:"fire-core-compat",[W2]:"fire-analytics",[Z2]:"fire-analytics-compat",[tN]:"fire-app-check",[eN]:"fire-app-check-compat",[nN]:"fire-auth",[iN]:"fire-auth-compat",[sN]:"fire-rtdb",[aN]:"fire-data-connect",[rN]:"fire-rtdb-compat",[lN]:"fire-fn",[oN]:"fire-fn-compat",[uN]:"fire-iid",[cN]:"fire-iid-compat",[hN]:"fire-fcm",[fN]:"fire-fcm-compat",[dN]:"fire-perf",[mN]:"fire-perf-compat",[pN]:"fire-rc",[gN]:"fire-rc-compat",[yN]:"fire-gcs",[_N]:"fire-gcs-compat",[EN]:"fire-fst",[bN]:"fire-fst-compat",[vN]:"fire-vertex","fire-js":"fire-js",[TN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh=new Map,AN=new Map,_m=new Map;function I_(i,e){try{i.container.addComponent(e)}catch(s){bs.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,s)}}function ih(i){const e=i.name;if(_m.has(e))return bs.debug(`There were multiple attempts to register component ${e}.`),!1;_m.set(e,i);for(const s of nh.values())I_(s,i);for(const s of AN.values())I_(s,i);return!0}function wN(i,e){const s=i.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),i.container.getProvider(e)}function NN(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},oa=new p1("app","Firebase",RN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e,s,a){this._isDeleted=!1,this._options={...e},this._config={...s},this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Bo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw oa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN=xN;function E1(i,e={}){let s=i;typeof e!="object"&&(e={name:e});const a={name:ym,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw oa.create("bad-app-name",{appName:String(o)});if(s||(s=m1()),!s)throw oa.create("no-options");const u=nh.get(o);if(u){if(th(s,u.options)&&th(a,u.config))return u;throw oa.create("duplicate-app",{appName:o})}const f=new M2(o);for(const _ of _m.values())f.addComponent(_);const p=new IN(s,a,f);return nh.set(o,p),p}function DN(i=ym){const e=nh.get(i);if(!e&&i===ym&&m1())return E1();if(!e)throw oa.create("no-app",{appName:i});return e}function ll(i,e,s){let a=SN[i]??i;s&&(a+=`-${s}`);const o=a.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${a}" with version "${e}":`];o&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bs.warn(f.join(" "));return}ih(new Bo(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON="firebase-heartbeat-database",MN=1,Ho="firebase-heartbeat-store";let Wd=null;function v1(){return Wd||(Wd=Y2(ON,MN,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Ho)}catch(s){console.warn(s)}}}}).catch(i=>{throw oa.create("idb-open",{originalErrorMessage:i.message})})),Wd}async function jN(i){try{const s=(await v1()).transaction(Ho),a=await s.objectStore(Ho).get(b1(i));return await s.done,a}catch(e){if(e instanceof _l)bs.warn(e.message);else{const s=oa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});bs.warn(s.message)}}}async function C_(i,e){try{const a=(await v1()).transaction(Ho,"readwrite");await a.objectStore(Ho).put(e,b1(i)),await a.done}catch(s){if(s instanceof _l)bs.warn(s.message);else{const a=oa.create("idb-set",{originalErrorMessage:s==null?void 0:s.message});bs.warn(a.message)}}}function b1(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=1024,UN=30;class LN{constructor(e){this.container=e,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new PN(s),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,s;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=D_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((s=this._heartbeatsCache)==null?void 0:s.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>UN){const f=zN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){bs.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const s=D_(),{heartbeatsToSend:a,unsentEntries:o}=kN(this._heartbeatsCache.heartbeats),u=eh(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=s,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(s){return bs.warn(s),""}}}function D_(){return new Date().toISOString().substring(0,10)}function kN(i,e=VN){const s=[];let a=i.slice();for(const o of i){const u=s.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),O_(s)>e){u.dates.pop();break}}else if(s.push({agent:o.agent,dates:[o.date]}),O_(s)>e){s.pop();break}a=a.slice(1)}return{heartbeatsToSend:s,unsentEntries:a}}class PN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return A2()?w2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await jN(this.app);return s!=null&&s.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return C_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return C_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function O_(i){return eh(JSON.stringify({version:2,heartbeats:i})).length}function zN(i){if(i.length===0)return-1;let e=0,s=i[0].date;for(let a=1;a<i.length;a++)i[a].date<s&&(s=i[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BN(i){ih(new Bo("platform-logger",e=>new Q2(e),"PRIVATE")),ih(new Bo("heartbeat",e=>new LN(e),"PRIVATE")),ll(gm,R_,i),ll(gm,R_,"esm2020"),ll("fire-js","")}BN("");var M_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ua,T1;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,N){function I(){}I.prototype=N.prototype,C.F=N.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(U,M,z){for(var D=Array(arguments.length-2),st=2;st<arguments.length;st++)D[st-2]=arguments[st];return N.prototype[M].apply(U,D)}}function s(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,s),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,N,I){I||(I=0);const U=Array(16);if(typeof N=="string")for(var M=0;M<16;++M)U[M]=N.charCodeAt(I++)|N.charCodeAt(I++)<<8|N.charCodeAt(I++)<<16|N.charCodeAt(I++)<<24;else for(M=0;M<16;++M)U[M]=N[I++]|N[I++]<<8|N[I++]<<16|N[I++]<<24;N=C.g[0],I=C.g[1],M=C.g[2];let z=C.g[3],D;D=N+(z^I&(M^z))+U[0]+3614090360&4294967295,N=I+(D<<7&4294967295|D>>>25),D=z+(M^N&(I^M))+U[1]+3905402710&4294967295,z=N+(D<<12&4294967295|D>>>20),D=M+(I^z&(N^I))+U[2]+606105819&4294967295,M=z+(D<<17&4294967295|D>>>15),D=I+(N^M&(z^N))+U[3]+3250441966&4294967295,I=M+(D<<22&4294967295|D>>>10),D=N+(z^I&(M^z))+U[4]+4118548399&4294967295,N=I+(D<<7&4294967295|D>>>25),D=z+(M^N&(I^M))+U[5]+1200080426&4294967295,z=N+(D<<12&4294967295|D>>>20),D=M+(I^z&(N^I))+U[6]+2821735955&4294967295,M=z+(D<<17&4294967295|D>>>15),D=I+(N^M&(z^N))+U[7]+4249261313&4294967295,I=M+(D<<22&4294967295|D>>>10),D=N+(z^I&(M^z))+U[8]+1770035416&4294967295,N=I+(D<<7&4294967295|D>>>25),D=z+(M^N&(I^M))+U[9]+2336552879&4294967295,z=N+(D<<12&4294967295|D>>>20),D=M+(I^z&(N^I))+U[10]+4294925233&4294967295,M=z+(D<<17&4294967295|D>>>15),D=I+(N^M&(z^N))+U[11]+2304563134&4294967295,I=M+(D<<22&4294967295|D>>>10),D=N+(z^I&(M^z))+U[12]+1804603682&4294967295,N=I+(D<<7&4294967295|D>>>25),D=z+(M^N&(I^M))+U[13]+4254626195&4294967295,z=N+(D<<12&4294967295|D>>>20),D=M+(I^z&(N^I))+U[14]+2792965006&4294967295,M=z+(D<<17&4294967295|D>>>15),D=I+(N^M&(z^N))+U[15]+1236535329&4294967295,I=M+(D<<22&4294967295|D>>>10),D=N+(M^z&(I^M))+U[1]+4129170786&4294967295,N=I+(D<<5&4294967295|D>>>27),D=z+(I^M&(N^I))+U[6]+3225465664&4294967295,z=N+(D<<9&4294967295|D>>>23),D=M+(N^I&(z^N))+U[11]+643717713&4294967295,M=z+(D<<14&4294967295|D>>>18),D=I+(z^N&(M^z))+U[0]+3921069994&4294967295,I=M+(D<<20&4294967295|D>>>12),D=N+(M^z&(I^M))+U[5]+3593408605&4294967295,N=I+(D<<5&4294967295|D>>>27),D=z+(I^M&(N^I))+U[10]+38016083&4294967295,z=N+(D<<9&4294967295|D>>>23),D=M+(N^I&(z^N))+U[15]+3634488961&4294967295,M=z+(D<<14&4294967295|D>>>18),D=I+(z^N&(M^z))+U[4]+3889429448&4294967295,I=M+(D<<20&4294967295|D>>>12),D=N+(M^z&(I^M))+U[9]+568446438&4294967295,N=I+(D<<5&4294967295|D>>>27),D=z+(I^M&(N^I))+U[14]+3275163606&4294967295,z=N+(D<<9&4294967295|D>>>23),D=M+(N^I&(z^N))+U[3]+4107603335&4294967295,M=z+(D<<14&4294967295|D>>>18),D=I+(z^N&(M^z))+U[8]+1163531501&4294967295,I=M+(D<<20&4294967295|D>>>12),D=N+(M^z&(I^M))+U[13]+2850285829&4294967295,N=I+(D<<5&4294967295|D>>>27),D=z+(I^M&(N^I))+U[2]+4243563512&4294967295,z=N+(D<<9&4294967295|D>>>23),D=M+(N^I&(z^N))+U[7]+1735328473&4294967295,M=z+(D<<14&4294967295|D>>>18),D=I+(z^N&(M^z))+U[12]+2368359562&4294967295,I=M+(D<<20&4294967295|D>>>12),D=N+(I^M^z)+U[5]+4294588738&4294967295,N=I+(D<<4&4294967295|D>>>28),D=z+(N^I^M)+U[8]+2272392833&4294967295,z=N+(D<<11&4294967295|D>>>21),D=M+(z^N^I)+U[11]+1839030562&4294967295,M=z+(D<<16&4294967295|D>>>16),D=I+(M^z^N)+U[14]+4259657740&4294967295,I=M+(D<<23&4294967295|D>>>9),D=N+(I^M^z)+U[1]+2763975236&4294967295,N=I+(D<<4&4294967295|D>>>28),D=z+(N^I^M)+U[4]+1272893353&4294967295,z=N+(D<<11&4294967295|D>>>21),D=M+(z^N^I)+U[7]+4139469664&4294967295,M=z+(D<<16&4294967295|D>>>16),D=I+(M^z^N)+U[10]+3200236656&4294967295,I=M+(D<<23&4294967295|D>>>9),D=N+(I^M^z)+U[13]+681279174&4294967295,N=I+(D<<4&4294967295|D>>>28),D=z+(N^I^M)+U[0]+3936430074&4294967295,z=N+(D<<11&4294967295|D>>>21),D=M+(z^N^I)+U[3]+3572445317&4294967295,M=z+(D<<16&4294967295|D>>>16),D=I+(M^z^N)+U[6]+76029189&4294967295,I=M+(D<<23&4294967295|D>>>9),D=N+(I^M^z)+U[9]+3654602809&4294967295,N=I+(D<<4&4294967295|D>>>28),D=z+(N^I^M)+U[12]+3873151461&4294967295,z=N+(D<<11&4294967295|D>>>21),D=M+(z^N^I)+U[15]+530742520&4294967295,M=z+(D<<16&4294967295|D>>>16),D=I+(M^z^N)+U[2]+3299628645&4294967295,I=M+(D<<23&4294967295|D>>>9),D=N+(M^(I|~z))+U[0]+4096336452&4294967295,N=I+(D<<6&4294967295|D>>>26),D=z+(I^(N|~M))+U[7]+1126891415&4294967295,z=N+(D<<10&4294967295|D>>>22),D=M+(N^(z|~I))+U[14]+2878612391&4294967295,M=z+(D<<15&4294967295|D>>>17),D=I+(z^(M|~N))+U[5]+4237533241&4294967295,I=M+(D<<21&4294967295|D>>>11),D=N+(M^(I|~z))+U[12]+1700485571&4294967295,N=I+(D<<6&4294967295|D>>>26),D=z+(I^(N|~M))+U[3]+2399980690&4294967295,z=N+(D<<10&4294967295|D>>>22),D=M+(N^(z|~I))+U[10]+4293915773&4294967295,M=z+(D<<15&4294967295|D>>>17),D=I+(z^(M|~N))+U[1]+2240044497&4294967295,I=M+(D<<21&4294967295|D>>>11),D=N+(M^(I|~z))+U[8]+1873313359&4294967295,N=I+(D<<6&4294967295|D>>>26),D=z+(I^(N|~M))+U[15]+4264355552&4294967295,z=N+(D<<10&4294967295|D>>>22),D=M+(N^(z|~I))+U[6]+2734768916&4294967295,M=z+(D<<15&4294967295|D>>>17),D=I+(z^(M|~N))+U[13]+1309151649&4294967295,I=M+(D<<21&4294967295|D>>>11),D=N+(M^(I|~z))+U[4]+4149444226&4294967295,N=I+(D<<6&4294967295|D>>>26),D=z+(I^(N|~M))+U[11]+3174756917&4294967295,z=N+(D<<10&4294967295|D>>>22),D=M+(N^(z|~I))+U[2]+718787259&4294967295,M=z+(D<<15&4294967295|D>>>17),D=I+(z^(M|~N))+U[9]+3951481745&4294967295,C.g[0]=C.g[0]+N&4294967295,C.g[1]=C.g[1]+(M+(D<<21&4294967295|D>>>11))&4294967295,C.g[2]=C.g[2]+M&4294967295,C.g[3]=C.g[3]+z&4294967295}a.prototype.v=function(C,N){N===void 0&&(N=C.length);const I=N-this.blockSize,U=this.C;let M=this.h,z=0;for(;z<N;){if(M==0)for(;z<=I;)o(this,C,z),z+=this.blockSize;if(typeof C=="string"){for(;z<N;)if(U[M++]=C.charCodeAt(z++),M==this.blockSize){o(this,U),M=0;break}}else for(;z<N;)if(U[M++]=C[z++],M==this.blockSize){o(this,U),M=0;break}}this.h=M,this.o+=N},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var N=1;N<C.length-8;++N)C[N]=0;N=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=N&255,N/=256;for(this.v(C),C=Array(16),N=0,I=0;I<4;++I)for(let U=0;U<32;U+=8)C[N++]=this.g[I]>>>U&255;return C};function u(C,N){var I=p;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=N(C)}function f(C,N){this.h=N;const I=[];let U=!0;for(let M=C.length-1;M>=0;M--){const z=C[M]|0;U&&z==N||(I[M]=z,U=!1)}this.g=I}var p={};function _(C){return-128<=C&&C<128?u(C,function(N){return new f([N|0],N<0?-1:0)}):new f([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return T;if(C<0)return R(g(-C));const N=[];let I=1;for(let U=0;C>=I;U++)N[U]=C/I|0,I*=4294967296;return new f(N,0)}function b(C,N){if(C.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(C.charAt(0)=="-")return R(b(C.substring(1),N));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=g(Math.pow(N,8));let U=T;for(let z=0;z<C.length;z+=8){var M=Math.min(8,C.length-z);const D=parseInt(C.substring(z,z+M),N);M<8?(M=g(Math.pow(N,M)),U=U.j(M).add(g(D))):(U=U.j(I),U=U.add(g(D)))}return U}var T=_(0),S=_(1),w=_(16777216);i=f.prototype,i.m=function(){if(G(this))return-R(this).m();let C=0,N=1;for(let I=0;I<this.g.length;I++){const U=this.i(I);C+=(U>=0?U:4294967296+U)*N,N*=4294967296}return C},i.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(B(this))return"0";if(G(this))return"-"+R(this).toString(C);const N=g(Math.pow(C,6));var I=this;let U="";for(;;){const M=he(I,N).g;I=Z(I,M.j(N));let z=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=M,B(I))return z+U;for(;z.length<6;)z="0"+z;U=z+U}},i.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function B(C){if(C.h!=0)return!1;for(let N=0;N<C.g.length;N++)if(C.g[N]!=0)return!1;return!0}function G(C){return C.h==-1}i.l=function(C){return C=Z(this,C),G(C)?-1:B(C)?0:1};function R(C){const N=C.g.length,I=[];for(let U=0;U<N;U++)I[U]=~C.g[U];return new f(I,~C.h).add(S)}i.abs=function(){return G(this)?R(this):this},i.add=function(C){const N=Math.max(this.g.length,C.g.length),I=[];let U=0;for(let M=0;M<=N;M++){let z=U+(this.i(M)&65535)+(C.i(M)&65535),D=(z>>>16)+(this.i(M)>>>16)+(C.i(M)>>>16);U=D>>>16,z&=65535,D&=65535,I[M]=D<<16|z}return new f(I,I[I.length-1]&-2147483648?-1:0)};function Z(C,N){return C.add(R(N))}i.j=function(C){if(B(this)||B(C))return T;if(G(this))return G(C)?R(this).j(R(C)):R(R(this).j(C));if(G(C))return R(this.j(R(C)));if(this.l(w)<0&&C.l(w)<0)return g(this.m()*C.m());const N=this.g.length+C.g.length,I=[];for(var U=0;U<2*N;U++)I[U]=0;for(U=0;U<this.g.length;U++)for(let M=0;M<C.g.length;M++){const z=this.i(U)>>>16,D=this.i(U)&65535,st=C.i(M)>>>16,pt=C.i(M)&65535;I[2*U+2*M]+=D*pt,se(I,2*U+2*M),I[2*U+2*M+1]+=z*pt,se(I,2*U+2*M+1),I[2*U+2*M+1]+=D*st,se(I,2*U+2*M+1),I[2*U+2*M+2]+=z*st,se(I,2*U+2*M+2)}for(C=0;C<N;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=N;C<2*N;C++)I[C]=0;return new f(I,0)};function se(C,N){for(;(C[N]&65535)!=C[N];)C[N+1]+=C[N]>>>16,C[N]&=65535,N++}function Q(C,N){this.g=C,this.h=N}function he(C,N){if(B(N))throw Error("division by zero");if(B(C))return new Q(T,T);if(G(C))return N=he(R(C),N),new Q(R(N.g),R(N.h));if(G(N))return N=he(C,R(N)),new Q(R(N.g),N.h);if(C.g.length>30){if(G(C)||G(N))throw Error("slowDivide_ only works with positive integers.");for(var I=S,U=N;U.l(C)<=0;)I=me(I),U=me(U);var M=pe(I,1),z=pe(U,1);for(U=pe(U,2),I=pe(I,2);!B(U);){var D=z.add(U);D.l(C)<=0&&(M=M.add(I),z=D),U=pe(U,1),I=pe(I,1)}return N=Z(C,M.j(N)),new Q(M,N)}for(M=T;C.l(N)>=0;){for(I=Math.max(1,Math.floor(C.m()/N.m())),U=Math.ceil(Math.log(I)/Math.LN2),U=U<=48?1:Math.pow(2,U-48),z=g(I),D=z.j(N);G(D)||D.l(C)>0;)I-=U,z=g(I),D=z.j(N);B(z)&&(z=S),M=M.add(z),C=Z(C,D)}return new Q(M,C)}i.B=function(C){return he(this,C).h},i.and=function(C){const N=Math.max(this.g.length,C.g.length),I=[];for(let U=0;U<N;U++)I[U]=this.i(U)&C.i(U);return new f(I,this.h&C.h)},i.or=function(C){const N=Math.max(this.g.length,C.g.length),I=[];for(let U=0;U<N;U++)I[U]=this.i(U)|C.i(U);return new f(I,this.h|C.h)},i.xor=function(C){const N=Math.max(this.g.length,C.g.length),I=[];for(let U=0;U<N;U++)I[U]=this.i(U)^C.i(U);return new f(I,this.h^C.h)};function me(C){const N=C.g.length+1,I=[];for(let U=0;U<N;U++)I[U]=C.i(U)<<1|C.i(U-1)>>>31;return new f(I,C.h)}function pe(C,N){const I=N>>5;N%=32;const U=C.g.length-I,M=[];for(let z=0;z<U;z++)M[z]=N>0?C.i(z+I)>>>N|C.i(z+I+1)<<32-N:C.i(z+I);return new f(M,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,T1=a,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=b,ua=f}).apply(typeof M_<"u"?M_:typeof self<"u"?self:typeof window<"u"?window:{});var Ic=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var x1,Io,S1,Hc,Em,A1,w1,N1;(function(){var i,e=Object.defineProperty;function s(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ic=="object"&&Ic];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=s(this);function o(c,y){if(y)e:{var v=a;c=c.split(".");for(var A=0;A<c.length-1;A++){var H=c[A];if(!(H in v))break e;v=v[H]}c=c[c.length-1],A=v[c],y=y(A),y!=A&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var v=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&v.push([A,y[A]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function p(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function _(c,y,v){return c.call.apply(c.bind,arguments)}function g(c,y,v){return g=_,g.apply(null,arguments)}function b(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function T(c,y){function v(){}v.prototype=y.prototype,c.Z=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,H,K){for(var re=Array(arguments.length-2),we=2;we<arguments.length;we++)re[we-2]=arguments[we];return y.prototype[H].apply(A,re)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function w(c){const y=c.length;if(y>0){const v=Array(y);for(let A=0;A<y;A++)v[A]=c[A];return v}return[]}function B(c,y){for(let A=1;A<arguments.length;A++){const H=arguments[A];var v=typeof H;if(v=v!="object"?v:H?Array.isArray(H)?"array":v:"null",v=="array"||v=="object"&&typeof H.length=="number"){v=c.length||0;const K=H.length||0;c.length=v+K;for(let re=0;re<K;re++)c[v+re]=H[re]}else c.push(H)}}class G{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function R(c){f.setTimeout(()=>{throw c},0)}function Z(){var c=C;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class se{constructor(){this.h=this.g=null}add(y,v){const A=Q.get();A.set(y,v),this.h?this.h.next=A:this.g=A,this.h=A}}var Q=new G(()=>new he,c=>c.reset());class he{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let me,pe=!1,C=new se,N=()=>{const c=Promise.resolve(void 0);me=()=>{c.then(I)}};function I(){for(var c;c=Z();){try{c.h.call(c.g)}catch(v){R(v)}var y=Q;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}pe=!1}function U(){this.u=this.u,this.C=this.C}U.prototype.u=!1,U.prototype.dispose=function(){this.u||(this.u=!0,this.N())},U.prototype[Symbol.dispose]=function(){this.dispose()},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,y),f.removeEventListener("test",v,y)}catch{}return c})();function D(c){return/^[\s\xa0]*$/.test(c)}function st(c,y){M.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T(st,M),st.prototype.init=function(c,y){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&st.Z.h.call(this)},st.prototype.h=function(){st.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var pt="closure_listenable_"+(Math.random()*1e6|0),X=0;function le(c,y,v,A,H){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!A,this.ha=H,this.key=++X,this.da=this.fa=!1}function ge(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Me(c,y,v){for(const A in c)y.call(v,c[A],A,c)}function qe(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function V(c){const y={};for(const v in c)y[v]=c[v];return y}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(c,y){let v,A;for(let H=1;H<arguments.length;H++){A=arguments[H];for(v in A)c[v]=A[v];for(let K=0;K<ee.length;K++)v=ee[K],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function oe(c){this.src=c,this.g={},this.h=0}oe.prototype.add=function(c,y,v,A,H){const K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);const re=xe(c,y,A,H);return re>-1?(y=c[re],v||(y.fa=!1)):(y=new le(y,this.src,K,!!A,H),y.fa=v,c.push(y)),y};function ve(c,y){const v=y.type;if(v in c.g){var A=c.g[v],H=Array.prototype.indexOf.call(A,y,void 0),K;(K=H>=0)&&Array.prototype.splice.call(A,H,1),K&&(ge(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function xe(c,y,v,A){for(let H=0;H<c.length;++H){const K=c[H];if(!K.da&&K.listener==y&&K.capture==!!v&&K.ha==A)return H}return-1}var Ce="closure_lm_"+(Math.random()*1e6|0),bt={};function We(c,y,v,A,H){if(Array.isArray(y)){for(let K=0;K<y.length;K++)We(c,y[K],v,A,H);return null}return v=ws(v),c&&c[pt]?c.J(y,v,p(A)?!!A.capture:!1,H):yi(c,y,v,!1,A,H)}function yi(c,y,v,A,H,K){if(!y)throw Error("Invalid event type");const re=p(H)?!!H.capture:!!H;let we=Ei(c);if(we||(c[Ce]=we=new oe(c)),v=we.add(y,v,A,re,K),v.proxy)return v;if(A=Pn(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)z||(H=re),H===void 0&&(H=!1),c.addEventListener(y.toString(),A,H);else if(c.attachEvent)c.attachEvent(Nn(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Pn(){function c(v){return y.call(c.src,c.listener,v)}const y=$i;return c}function Ki(c,y,v,A,H){if(Array.isArray(y))for(var K=0;K<y.length;K++)Ki(c,y[K],v,A,H);else A=p(A)?!!A.capture:!!A,v=ws(v),c&&c[pt]?(c=c.i,K=String(y).toString(),K in c.g&&(y=c.g[K],v=xe(y,v,A,H),v>-1&&(ge(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete c.g[K],c.h--)))):c&&(c=Ei(c))&&(y=c.g[y.toString()],c=-1,y&&(c=xe(y,v,A,H)),(v=c>-1?y[c]:null)&&_i(v))}function _i(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[pt])ve(y.i,c);else{var v=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(v,A,c.capture):y.detachEvent?y.detachEvent(Nn(v),A):y.addListener&&y.removeListener&&y.removeListener(A),(v=Ei(y))?(ve(v,c),v.h==0&&(v.src=null,y[Ce]=null)):ge(c)}}}function Nn(c){return c in bt?bt[c]:bt[c]="on"+c}function $i(c,y){if(c.da)c=!0;else{y=new st(y,this);const v=c.listener,A=c.ha||c.src;c.fa&&_i(c),c=v.call(A,y)}return c}function Ei(c){return c=c[Ce],c instanceof oe?c:null}var Qi="__closure_events_fn_"+(Math.random()*1e9>>>0);function ws(c){return typeof c=="function"?c:(c[Qi]||(c[Qi]=function(y){return c.handleEvent(y)}),c[Qi])}function rt(){U.call(this),this.i=new oe(this),this.M=this,this.G=null}T(rt,U),rt.prototype[pt]=!0,rt.prototype.removeEventListener=function(c,y,v,A){Ki(this,c,y,v,A)};function Tt(c,y){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new M(y,c);else if(y instanceof M)y.target=y.target||c;else{var H=y;y=new M(A,c),ae(y,H)}H=!0;let K,re;if(v)for(re=v.length-1;re>=0;re--)K=y.g=v[re],H=ai(K,A,!0,y)&&H;if(K=y.g=c,H=ai(K,A,!0,y)&&H,H=ai(K,A,!1,y)&&H,v)for(re=0;re<v.length;re++)K=y.g=v[re],H=ai(K,A,!1,y)&&H}rt.prototype.N=function(){if(rt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const v=c.g[y];for(let A=0;A<v.length;A++)ge(v[A]);delete c.g[y],c.h--}}this.G=null},rt.prototype.J=function(c,y,v,A){return this.i.add(String(c),y,!1,v,A)},rt.prototype.K=function(c,y,v,A){return this.i.add(String(c),y,!0,v,A)};function ai(c,y,v,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let H=!0;for(let K=0;K<y.length;++K){const re=y[K];if(re&&!re.da&&re.capture==v){const we=re.listener,At=re.ha||re.src;re.fa&&ve(c.i,re),H=we.call(At,A)!==!1&&H}}return H&&!A.defaultPrevented}function or(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:f.setTimeout(c,y||0)}function Ta(c){c.g=or(()=>{c.g=null,c.i&&(c.i=!1,Ta(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Pt extends U{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ta(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xi(c){U.call(this),this.h=c,this.g={}}T(Xi,U);var Ns=[];function xa(c){Me(c.g,function(y,v){this.g.hasOwnProperty(v)&&_i(y)},c),c.g={}}Xi.prototype.N=function(){Xi.Z.N.call(this),xa(this)},Xi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vi=f.JSON.stringify,xl=f.JSON.parse,ur=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function cr(){}function hr(){}var Rn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zt(){M.call(this,"d")}T(zt,M);function mn(){M.call(this,"c")}T(mn,M);var gt={},fr=null;function Rs(){return fr=fr||new rt}gt.Ia="serverreachability";function dr(c){M.call(this,gt.Ia,c)}T(dr,M);function zn(c){const y=Rs();Tt(y,new dr(y))}gt.STAT_EVENT="statevent";function Ji(c,y){M.call(this,gt.STAT_EVENT,c),this.stat=y}T(Ji,M);function yt(c){const y=Rs();Tt(y,new Ji(y,c))}gt.Ja="timingevent";function L(c,y){M.call(this,gt.Ja,c),this.size=y}T(L,M);function Re(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},y)}function lt(){this.g=!0}lt.prototype.ua=function(){this.g=!1};function Zi(c,y,v,A,H,K){c.info(function(){if(c.g)if(K){var re="",we=K.split("&");for(let Ke=0;Ke<we.length;Ke++){var At=we[Ke].split("=");if(At.length>1){const ft=At[0];At=At[1];const Fn=ft.split("_");re=Fn.length>=2&&Fn[1]=="type"?re+(ft+"="+At+"&"):re+(ft+"=redacted&")}}}else re=null;else re=K;return"XMLHTTP REQ ("+A+") [attempt "+H+"]: "+y+`
`+v+`
`+re})}function $t(c,y,v,A,H,K,re){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+H+"]: "+y+`
`+v+`
`+K+" "+re})}function un(c,y,v,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Sa(c,v)+(A?" "+A:"")})}function Bn(c,y){c.info(function(){return"TIMEOUT: "+y})}lt.prototype.info=function(){};function Sa(c,y){if(!c.g)return y;if(!y)return null;try{const K=JSON.parse(y);if(K){for(c=0;c<K.length;c++)if(Array.isArray(K[c])){var v=K[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var H=A[0];if(H!="noop"&&H!="stop"&&H!="close")for(let re=1;re<A.length;re++)A[re]=""}}}}return vi(K)}catch{return y}}var bi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},pn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Sl;function Aa(){}T(Aa,cr),Aa.prototype.g=function(){return new XMLHttpRequest},Sl=new Aa;function Wi(c){return encodeURIComponent(String(c))}function ru(c){var y=1;c=c.split(":");const v=[];for(;y>0&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function ri(c,y,v,A){this.j=c,this.i=y,this.l=v,this.S=A||1,this.V=new Xi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new li}function li(){this.i=null,this.g="",this.h=!1}var Ct={},qt={};function Ti(c,y,v){c.M=1,c.A=wa(Ot(y)),c.u=v,c.R=!0,mr(c,null)}function mr(c,y){c.F=Date.now(),xi(c),c.B=Ot(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),_r(v.i,"t",A),c.C=0,v=c.j.L,c.h=new li,c.g=bu(c.j,v?y:null,!c.u),c.P>0&&(c.O=new Pt(g(c.Y,c,c.g),c.P)),y=c.V,v=c.g,A=c.ba;var H="readystatechange";Array.isArray(H)||(H&&(Ns[0]=H.toString()),H=Ns);for(let K=0;K<H.length;K++){const re=We(v,H[K],A||y.handleEvent,!1,y.h||y);if(!re)break;y.g[re.key]=re}y=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),zn(),Zi(c.i,c.v,c.B,c.l,c.S,c.u)}ri.prototype.ba=function(c){c=c.target;const y=this.O;y&&ci(c)==3?y.j():this.Y(c)},ri.prototype.Y=function(c){try{if(c==this.g)e:{const we=ci(this.g),At=this.g.ya(),Ke=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||Qt(this.g)))){this.K||we!=4||At==7||(At==8||Ke<=0?zn(3):zn(2)),Si(this);var y=this.g.ca();this.X=y;var v=Fh(this);if(this.o=y==200,$t(this.i,this.v,this.B,this.l,this.S,we,y),this.o){if(this.U&&!this.L){t:{if(this.g){var A,H=this.g;if((A=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(A)){var K=A;break t}}K=null}if(c=K)un(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ai(this,c);else{this.o=!1,this.m=3,yt(12),In(this),Hn(this);break e}}if(this.R){c=!0;let ft;for(;!this.K&&this.C<v.length;)if(ft=ou(this,v),ft==qt){we==4&&(this.m=4,yt(14),c=!1),un(this.i,this.l,null,"[Incomplete Response]");break}else if(ft==Ct){this.m=4,yt(15),un(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else un(this.i,this.l,ft,null),Ai(this,ft);if(lu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||v.length!=0||this.h.h||(this.m=1,yt(16),c=!1),this.o=this.o&&c,!c)un(this.i,this.l,v,"[Invalid Chunked Response]"),In(this),Hn(this);else if(v.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Pl(re),re.P=!0,yt(11))}}else un(this.i,this.l,v,null),Ai(this,v);we==4&&In(this),this.o&&!this.K&&(we==4?yu(this.j,this):(this.o=!1,xi(this)))}else ts(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,yt(12)):(this.m=0,yt(13)),In(this),Hn(this)}}}catch{}finally{}};function Fh(c){if(!lu(c))return c.g.la();const y=Qt(c.g);if(y==="")return"";let v="";const A=y.length,H=ci(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return In(c),Hn(c),"";c.h.i=new f.TextDecoder}for(let K=0;K<A;K++)c.h.h=!0,v+=c.h.i.decode(y[K],{stream:!(H&&K==A-1)});return y.length=0,c.h.g+=v,c.C=0,c.h.g}function lu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function ou(c,y){var v=c.C,A=y.indexOf(`
`,v);return A==-1?qt:(v=Number(y.substring(v,A)),isNaN(v)?Ct:(A+=1,A+v>y.length?qt:(y=y.slice(A,A+v),c.C=A+v,y)))}ri.prototype.cancel=function(){this.K=!0,In(this)};function xi(c){c.T=Date.now()+c.H,pr(c,c.H)}function pr(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Re(g(c.aa,c),y)}function Si(c){c.D&&(f.clearTimeout(c.D),c.D=null)}ri.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Bn(this.i,this.B),this.M!=2&&(zn(),yt(17)),In(this),this.m=2,Hn(this)):pr(this,this.T-c)};function Hn(c){c.j.I==0||c.K||yu(c.j,c)}function In(c){Si(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,xa(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function Ai(c,y){try{var v=c.j;if(v.I!=0&&(v.g==c||Ni(v.h,c))){if(!c.L&&Ni(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var H=A;if(H[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)xr(v),Us(v);else break e;Ma(v),yt(18)}}else v.xa=H[1],0<v.xa-v.K&&H[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Re(g(v.Va,v),6e3));wi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Mi(v,11)}else if((c.L||v.g==c)&&xr(v),!D(y))for(H=v.Ba.g.parse(y),y=0;y<H.length;y++){let Ke=H[y];const ft=Ke[0];if(!(ft<=v.K))if(v.K=ft,Ke=Ke[1],v.I==2)if(Ke[0]=="c"){v.M=Ke[1],v.ba=Ke[2];const Fn=Ke[3];Fn!=null&&(v.ka=Fn,v.j.info("VER="+v.ka));const ji=Ke[4];ji!=null&&(v.za=ji,v.j.info("SVER="+v.za));const hi=Ke[5];hi!=null&&typeof hi=="number"&&hi>0&&(A=1.5*hi,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const fi=c.g;if(fi){const ja=fi.g?fi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ja){var K=A.h;K.g||ja.indexOf("spdy")==-1&&ja.indexOf("quic")==-1&&ja.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Nl(K,K.h),K.h=null))}if(A.G){const Sr=fi.g?fi.g.getResponseHeader("X-HTTP-Session-Id"):null;Sr&&(A.wa=Sr,Xe(A.J,A.G,Sr))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var re=c;if(A.na=vu(A,A.L?A.ba:null,A.W),re.L){Rl(A.h,re);var we=re,At=A.O;At&&(we.H=At),we.D&&(Si(we),xi(we)),A.g=re}else pu(A);v.i.length>0&&Oi(v)}else Ke[0]!="stop"&&Ke[0]!="close"||Mi(v,7);else v.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Mi(v,7):Ll(v):Ke[0]!="noop"&&v.l&&v.l.qa(Ke),v.A=0)}}zn(4)}catch{}}var Dt=class{constructor(c,y){this.g=c,this.map=y}};function Al(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function wl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function wi(c){return c.h?1:c.g?c.g.size:0}function Ni(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Nl(c,y){c.g?c.g.add(y):c.h=y}function Rl(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Al.prototype.cancel=function(){if(this.i=Il(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Il(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.G);return y}return w(c.i)}var uu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gr(c,y){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let H,K=null;A>=0?(H=c[v].substring(0,A),K=c[v].substring(A+1)):H=c[v],y(H,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Cn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof Cn?(this.l=c.l,Ft(this,c.j),this.o=c.o,this.g=c.g,Is(this,c.u),this.h=c.h,Cl(this,du(c.i)),this.m=c.m):c&&(y=String(c).match(uu))?(this.l=!1,Ft(this,y[1]||"",!0),this.o=Ri(y[2]||""),this.g=Ri(y[3]||"",!0),Is(this,y[4]),this.h=Ri(y[5]||"",!0),Cl(this,y[6]||"",!0),this.m=Ri(y[7]||"")):(this.l=!1,this.i=new Ds(null,this.l))}Cn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Na(y,yr,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Na(y,yr,!0),"@"),c.push(Wi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Na(v,v.charAt(0)=="/"?Dl:cu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Na(v,hu)),c.join("")},Cn.prototype.resolve=function(c){const y=Ot(this);let v=!!c.j;v?Ft(y,c.j):v=!!c.o,v?y.o=c.o:v=!!c.g,v?y.g=c.g:v=c.u!=null;var A=c.h;if(v)Is(y,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var H=y.h.lastIndexOf("/");H!=-1&&(A=y.h.slice(0,H+1)+A)}if(H=A,H==".."||H==".")A="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){A=H.lastIndexOf("/",0)==0,H=H.split("/");const K=[];for(let re=0;re<H.length;){const we=H[re++];we=="."?A&&re==H.length&&K.push(""):we==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),A&&re==H.length&&K.push("")):(K.push(we),A=!0)}A=K.join("/")}else A=H}return v?y.h=A:v=c.i.toString()!=="",v?Cl(y,du(c.i)):v=!!c.m,v&&(y.m=c.m),y};function Ot(c){return new Cn(c)}function Ft(c,y,v){c.j=v?Ri(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Is(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Cl(c,y,v){y instanceof Ds?(c.i=y,Er(c.i,c.l)):(v||(y=Na(y,Cs)),c.i=new Ds(y,c.l))}function Xe(c,y,v){c.i.set(y,v)}function wa(c){return Xe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ri(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Na(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,gn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function gn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var yr=/[#\/\?@]/g,cu=/[#\?:]/g,Dl=/[#\?]/g,Cs=/[#\?@]/g,hu=/#/g;function Ds(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function yn(c){c.g||(c.g=new Map,c.h=0,c.i&&gr(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}i=Ds.prototype,i.add=function(c,y){yn(this),this.i=null,c=Os(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function fu(c,y){yn(c),y=Os(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Ol(c,y){return yn(c),y=Os(c,y),c.g.has(y)}i.forEach=function(c,y){yn(this),this.g.forEach(function(v,A){v.forEach(function(H){c.call(y,H,A,this)},this)},this)};function Ml(c,y){yn(c);let v=[];if(typeof y=="string")Ol(c,y)&&(v=v.concat(c.g.get(Os(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)v=v.concat(c[y]);return v}i.set=function(c,y){return yn(this),this.i=null,c=Os(this,c),Ol(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=Ml(this,c),c.length>0?String(c[0]):y):y};function _r(c,y,v){fu(c,y),v.length>0&&(c.i=null,c.g.set(Os(c,y),w(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var v=y[A];const H=Wi(v);v=Ml(this,v);for(let K=0;K<v.length;K++){let re=H;v[K]!==""&&(re+="="+Wi(v[K])),c.push(re)}}return this.i=c.join("&")};function du(c){const y=new Ds;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Os(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Er(c,y){y&&!c.j&&(yn(c),c.i=null,c.g.forEach(function(v,A){const H=A.toLowerCase();A!=H&&(fu(this,A),_r(this,H,v))},c)),c.j=y}function oi(c,y){const v=new lt;if(f.Image){const A=new Image;A.onload=b(Gn,v,"TestLoadImage: loaded",!0,y,A),A.onerror=b(Gn,v,"TestLoadImage: error",!1,y,A),A.onabort=b(Gn,v,"TestLoadImage: abort",!1,y,A),A.ontimeout=b(Gn,v,"TestLoadImage: timeout",!1,y,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function jl(c,y){const v=new lt,A=new AbortController,H=setTimeout(()=>{A.abort(),Gn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(K=>{clearTimeout(H),K.ok?Gn(v,"TestPingServer: ok",!0,y):Gn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(H),Gn(v,"TestPingServer: error",!1,y)})}function Gn(c,y,v,A,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),A(v)}catch{}}function Ms(){this.g=new ur}function Ii(c){this.i=c.Sb||null,this.h=c.ab||!1}T(Ii,cr),Ii.prototype.g=function(){return new Ra(this.i,this.h)};function Ra(c,y){rt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Ra,rt),i=Ra.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,ui(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||f).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,js(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ui(this)),this.g&&(this.readyState=3,ui(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;vr(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function vr(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?js(this):ui(this),this.readyState==3&&vr(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,js(this))},i.Na=function(c){this.g&&(this.response=c,js(this))},i.ga=function(){this.g&&js(this)};function js(c){c.readyState=4,c.l=null,c.j=null,c.B=null,ui(c)}i.setRequestHeader=function(c,y){this.A.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function ui(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ra.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function qn(c){let y="";return Me(c,function(v,A){y+=A,y+=":",y+=v,y+=`\r
`}),y}function Ia(c,y,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=qn(v),typeof c=="string"?v!=null&&Wi(v):Xe(c,y,v))}function et(c){rt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(et,rt);var Ci=/^https?$/i,Vl=["POST","PUT"];i=et.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,y,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Sl.g(),this.g.onreadystatechange=S(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){Ca(this,K);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var H in A)v.set(H,A[H]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const K of A.keys())v.set(K,A.get(K));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(K=>K.toLowerCase()=="content-type"),H=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Vl,y,void 0)>=0)||A||H||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,re]of v)this.g.setRequestHeader(K,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(K){Ca(this,K)}};function Ca(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,Ul(c),es(c)}function Ul(c){c.A||(c.A=!0,Tt(c,"complete"),Tt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Tt(this,"complete"),Tt(this,"abort"),es(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),es(this,!0)),et.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Da(this):this.Xa())},i.Xa=function(){Da(this)};function Da(c){if(c.h&&typeof u<"u"){if(c.v&&ci(c)==4)setTimeout(c.Ca.bind(c),0);else if(Tt(c,"readystatechange"),ci(c)==4){c.h=!1;try{const K=c.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var A;if(A=K===0){let re=String(c.D).match(uu)[1]||null;!re&&f.self&&f.self.location&&(re=f.self.location.protocol.slice(0,-1)),A=!Ci.test(re?re.toLowerCase():"")}v=A}if(v)Tt(c,"complete"),Tt(c,"success");else{c.o=6;try{var H=ci(c)>2?c.g.statusText:""}catch{H=""}c.l=H+" ["+c.ca()+"]",Ul(c)}}finally{es(c)}}}}function es(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,y||Tt(c,"ready");try{v.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function ci(c){return c.g?c.g.readyState:0}i.ca=function(){try{return ci(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),xl(y)}};function Qt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ts(c){const y={};c=(c.g&&ci(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(D(c[A]))continue;var v=ru(c[A]);const H=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const K=y[H]||[];y[H]=K,K.push(v)}qe(y,function(A){return A.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Di(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Vs(c){this.za=0,this.i=[],this.j=new lt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Di("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Di("baseRetryDelayMs",5e3,c),this.Za=Di("retryDelaySeedMs",1e4,c),this.Ta=Di("forwardChannelMaxRetries",2,c),this.va=Di("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Al(c&&c.concurrentRequestLimit),this.Ba=new Ms,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Vs.prototype,i.ka=8,i.I=1,i.connect=function(c,y,v,A){yt(0),this.W=c,this.H=y||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=vu(this,null,this.W),Oi(this)};function Ll(c){if(br(c),c.I==3){var y=c.V++,v=Ot(c.J);if(Xe(v,"SID",c.M),Xe(v,"RID",y),Xe(v,"TYPE","terminate"),Oa(c,v),y=new ri(c,c.j,y),y.M=2,y.A=wa(Ot(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=y.A,v=!0),v||(y.g=bu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),xi(y)}Eu(c)}function Us(c){c.g&&(Pl(c),c.g.cancel(),c.g=null)}function br(c){Us(c),c.v&&(f.clearTimeout(c.v),c.v=null),xr(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Oi(c){if(!wl(c.h)&&!c.m){c.m=!0;var y=c.Ea;me||N(),pe||(me(),pe=!0),C.add(y,c),c.D=0}}function Tr(c,y){return wi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Re(g(c.Ea,c,y),_u(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const H=new ri(this,this.j,c);let K=this.o;if(this.U&&(K?(K=V(K),ae(K,this.U)):K=this.U),this.u!==null||this.R||(H.J=K,K=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=mu(this,H,y),v=Ot(this.J),Xe(v,"RID",c),Xe(v,"CVER",22),this.G&&Xe(v,"X-HTTP-Session-Id",this.G),Oa(this,v),K&&(this.R?y="headers="+Wi(qn(K))+"&"+y:this.u&&Ia(v,this.u,K)),Nl(this.h,H),this.Ra&&Xe(v,"TYPE","init"),this.S?(Xe(v,"$req",y),Xe(v,"SID","null"),H.U=!0,Ti(H,v,null)):Ti(H,v,y),this.I=2}}else this.I==3&&(c?kl(this,c):this.i.length==0||wl(this.h)||kl(this))};function kl(c,y){var v;y?v=y.l:v=c.V++;const A=Ot(c.J);Xe(A,"SID",c.M),Xe(A,"RID",v),Xe(A,"AID",c.K),Oa(c,A),c.u&&c.o&&Ia(A,c.u,c.o),v=new ri(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),y&&(c.i=y.G.concat(c.i)),y=mu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Nl(c.h,v),Ti(v,A,y)}function Oa(c,y){c.H&&Me(c.H,function(v,A){Xe(y,A,v)}),c.l&&Me({},function(v,A){Xe(y,A,v)})}function mu(c,y,v){v=Math.min(c.i.length,v);const A=c.l?g(c.l.Ka,c.l,c):null;e:{var H=c.i;let we=-1;for(;;){const At=["count="+v];we==-1?v>0?(we=H[0].g,At.push("ofs="+we)):we=0:At.push("ofs="+we);let Ke=!0;for(let ft=0;ft<v;ft++){var K=H[ft].g;const Fn=H[ft].map;if(K-=we,K<0)we=Math.max(0,H[ft].g-100),Ke=!1;else try{K="req"+K+"_"||"";try{var re=Fn instanceof Map?Fn:Object.entries(Fn);for(const[ji,hi]of re){let fi=hi;p(hi)&&(fi=vi(hi)),At.push(K+ji+"="+encodeURIComponent(fi))}}catch(ji){throw At.push(K+"type="+encodeURIComponent("_badmap")),ji}}catch{A&&A(Fn)}}if(Ke){re=At.join("&");break e}}re=void 0}return c=c.i.splice(0,v),y.G=c,re}function pu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;me||N(),pe||(me(),pe=!0),C.add(y,c),c.A=0}}function Ma(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Re(g(c.Da,c),_u(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,gu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Re(g(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,yt(10),Us(this),gu(this))};function Pl(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function gu(c){c.g=new ri(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=Ot(c.na);Xe(y,"RID","rpc"),Xe(y,"SID",c.M),Xe(y,"AID",c.K),Xe(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Xe(y,"TO",c.ia),Xe(y,"TYPE","xmlhttp"),Oa(c,y),c.u&&c.o&&Ia(y,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=wa(Ot(y)),v.u=null,v.R=!0,mr(v,c)}i.Va=function(){this.C!=null&&(this.C=null,Us(this),Ma(this),yt(19))};function xr(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function yu(c,y){var v=null;if(c.g==y){xr(c),Pl(c),c.g=null;var A=2}else if(Ni(c.h,y))v=y.G,Rl(c.h,y),A=1;else return;if(c.I!=0){if(y.o)if(A==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var H=c.D;A=Rs(),Tt(A,new L(A,v)),Oi(c)}else pu(c);else if(H=y.m,H==3||H==0&&y.X>0||!(A==1&&Tr(c,y)||A==2&&Ma(c)))switch(v&&v.length>0&&(y=c.h,y.i=y.i.concat(v)),H){case 1:Mi(c,5);break;case 4:Mi(c,10);break;case 3:Mi(c,6);break;default:Mi(c,2)}}}function _u(c,y){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*y}function Mi(c,y){if(c.j.info("Error code "+y),y==2){var v=g(c.bb,c),A=c.Ua;const H=!A;A=new Cn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ft(A,"https"),wa(A),H?oi(A.toString(),v):jl(A.toString(),v)}else yt(2);c.I=0,c.l&&c.l.pa(y),Eu(c),br(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function Eu(c){if(c.I=0,c.ja=[],c.l){const y=Il(c.h);(y.length!=0||c.i.length!=0)&&(B(c.ja,y),B(c.ja,c.i),c.h.i.length=0,w(c.i),c.i.length=0),c.l.oa()}}function vu(c,y,v){var A=v instanceof Cn?Ot(v):new Cn(v);if(A.g!="")y&&(A.g=y+"."+A.g),Is(A,A.u);else{var H=f.location;A=H.protocol,y=y?y+"."+H.hostname:H.hostname,H=+H.port;const K=new Cn(null);A&&Ft(K,A),y&&(K.g=y),H&&Is(K,H),v&&(K.h=v),A=K}return v=c.G,y=c.wa,v&&y&&Xe(A,v,y),Xe(A,"VER",c.ka),Oa(c,A),A}function bu(c,y,v){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new et(new Ii({ab:v})):new et(c.ma),y.Fa(c.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tu(){}i=Tu.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Ls(){}Ls.prototype.g=function(c,y){return new cn(c,y)};function cn(c,y){rt.call(this),this.g=new Vs(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!D(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!D(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ns(this)}T(cn,rt),cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){Ll(this.g)},cn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=vi(c),c=v);y.i.push(new Dt(y.Ya++,c)),y.I==3&&Oi(y)},cn.prototype.N=function(){this.g.l=null,delete this.j,Ll(this.g),delete this.g,cn.Z.N.call(this)};function xu(c){zt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T(xu,zt);function Su(){mn.call(this),this.status=1}T(Su,mn);function ns(c){this.g=c}T(ns,Tu),ns.prototype.ra=function(){Tt(this.g,"a")},ns.prototype.qa=function(c){Tt(this.g,new xu(c))},ns.prototype.pa=function(c){Tt(this.g,new Su)},ns.prototype.oa=function(){Tt(this.g,"b")},Ls.prototype.createWebChannel=Ls.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,N1=function(){return new Ls},w1=function(){return Rs()},A1=gt,Em={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},bi.NO_ERROR=0,bi.TIMEOUT=8,bi.HTTP_ERROR=6,Hc=bi,pn.COMPLETE="complete",S1=pn,hr.EventType=Rn,Rn.OPEN="a",Rn.CLOSE="b",Rn.ERROR="c",Rn.MESSAGE="d",rt.prototype.listen=rt.prototype.J,Io=hr,et.prototype.listenOnce=et.prototype.K,et.prototype.getLastError=et.prototype.Ha,et.prototype.getLastErrorCode=et.prototype.ya,et.prototype.getStatus=et.prototype.ca,et.prototype.getResponseJson=et.prototype.La,et.prototype.getResponseText=et.prototype.la,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Fa,x1=et}).apply(typeof Ic<"u"?Ic:typeof self<"u"?self:typeof window<"u"?window:{});const j_="@firebase/firestore",V_="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let El="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr=new g1("@firebase/firestore");function tl(){return nr.logLevel}function ue(i,...e){if(nr.logLevel<=He.DEBUG){const s=e.map(Jm);nr.debug(`Firestore (${El}): ${i}`,...s)}}function Ts(i,...e){if(nr.logLevel<=He.ERROR){const s=e.map(Jm);nr.error(`Firestore (${El}): ${i}`,...s)}}function hl(i,...e){if(nr.logLevel<=He.WARN){const s=e.map(Jm);nr.warn(`Firestore (${El}): ${i}`,...s)}}function Jm(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(s){return JSON.stringify(s)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(i,e,s){let a="Unexpected state";typeof e=="string"?a=e:s=e,R1(i,a,s)}function R1(i,e,s){let a=`FIRESTORE (${El}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(s!==void 0)try{a+=" CONTEXT: "+JSON.stringify(s)}catch{a+=" CONTEXT: "+s}throw Ts(a),new Error(a)}function Qe(i,e,s,a){let o="Unexpected state";typeof s=="string"?o=s:a=s,i||R1(e,o,a)}function Ae(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends _l{constructor(e,s){super(e,s),this.code=e,this.message=s,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(){this.promise=new Promise(((e,s)=>{this.resolve=e,this.reject=s}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e,s){this.user=s,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class HN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,s){e.enqueueRetryable((()=>s(ln.UNAUTHENTICATED)))}shutdown(){}}class GN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,s){this.changeListener=s,e.enqueueRetryable((()=>s(this.token.user)))}shutdown(){this.changeListener=null}}class qN{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,s){Qe(this.o===void 0,42304);let a=this.i;const o=_=>this.i!==a?(a=this.i,s(_)):Promise.resolve();let u=new Es;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Es,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const _=u;e.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},p=_=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Es)}}),0),f()}getToken(){const e=this.i,s=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(s).then((a=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Qe(typeof a.accessToken=="string",31837,{l:a}),new I1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new ln(e)}}class FN{constructor(e,s,a){this.P=e,this.T=s,this.I=a,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class YN{constructor(e,s,a){this.P=e,this.T=s,this.I=a}getToken(){return Promise.resolve(new FN(this.P,this.T,this.I))}start(e,s){e.enqueueRetryable((()=>s(ln.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class U_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KN{constructor(e,s){this.V=s,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,NN(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,s){Qe(this.o===void 0,3512);const a=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?s(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>a(u)))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new U_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((s=>s?(Qe(typeof s.token=="string",44558,{tokenResult:s}),this.m=s.token,new U_(s.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),s=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(s);else for(let a=0;a<i;a++)s[a]=Math.floor(256*Math.random());return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=$N(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<s&&(a+=e.charAt(o[u]%62))}return a}}function ke(i,e){return i<e?-1:i>e?1:0}function vm(i,e){const s=Math.min(i.length,e.length);for(let a=0;a<s;a++){const o=i.charAt(a),u=e.charAt(a);if(o!==u)return em(o)===em(u)?ke(o,u):em(o)?1:-1}return ke(i.length,e.length)}const QN=55296,XN=57343;function em(i){const e=i.charCodeAt(0);return e>=QN&&e<=XN}function fl(i,e,s){return i.length===e.length&&i.every(((a,o)=>s(a,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_="__name__";class Pi{constructor(e,s,a){s===void 0?s=0:s>e.length&&be(637,{offset:s,range:e.length}),a===void 0?a=e.length-s:a>e.length-s&&be(1746,{length:a,range:e.length-s}),this.segments=e,this.offset=s,this.len=a}get length(){return this.len}isEqual(e){return Pi.comparator(this,e)===0}child(e){const s=this.segments.slice(this.offset,this.limit());return e instanceof Pi?e.forEach((a=>{s.push(a)})):s.push(e),this.construct(s)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}forEach(e){for(let s=this.offset,a=this.limit();s<a;s++)e(this.segments[s])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,s){const a=Math.min(e.length,s.length);for(let o=0;o<a;o++){const u=Pi.compareSegments(e.get(o),s.get(o));if(u!==0)return u}return ke(e.length,s.length)}static compareSegments(e,s){const a=Pi.isNumericId(e),o=Pi.isNumericId(s);return a&&!o?-1:!a&&o?1:a&&o?Pi.extractNumericId(e).compare(Pi.extractNumericId(s)):vm(e,s)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ua.fromString(e.substring(4,e.length-2))}}class ct extends Pi{construct(e,s,a){return new ct(e,s,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const s=[];for(const a of e){if(a.indexOf("//")>=0)throw new fe(ie.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);s.push(...a.split("/").filter((o=>o.length>0)))}return new ct(s)}static emptyPath(){return new ct([])}}const JN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Pi{construct(e,s,a){return new tn(e,s,a)}static isValidIdentifier(e){return JN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===L_}static keyField(){return new tn([L_])}static fromServerFormat(e){const s=[];let a="",o=0;const u=()=>{if(a.length===0)throw new fe(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);s.push(a),a=""};let f=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new fe(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new fe(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(a+=p,o++):(u(),o++)}if(u(),f)throw new fe(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(s)}static emptyPath(){return new tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(ct.fromString(e))}static fromName(e){return new _e(ct.fromString(e).popFirst(5))}static empty(){return new _e(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,s){return ct.comparator(e.path,s.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new ct(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(i,e,s){if(!s)throw new fe(ie.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function ZN(i,e,s,a){if(e===!0&&a===!0)throw new fe(ie.INVALID_ARGUMENT,`${i} and ${s} cannot be used together.`)}function k_(i){if(!_e.isDocumentKey(i))throw new fe(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function P_(i){if(_e.isDocumentKey(i))throw new fe(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function D1(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Wm(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":be(12329,{type:typeof i})}function An(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new fe(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const s=Wm(i);throw new fe(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${s}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(i,e){const s={typeString:i};return e&&(s.value=e),s}function Zo(i,e){if(!D1(i))throw new fe(ie.INVALID_ARGUMENT,"JSON must be an object");let s;for(const a in e)if(e[a]){const o=e[a].typeString,u="value"in e[a]?{value:e[a].value}:void 0;if(!(a in i)){s=`JSON missing required field: '${a}'`;break}const f=i[a];if(o&&typeof f!==o){s=`JSON field '${a}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){s=`Expected '${a}' field to equal '${u.value}'`;break}}if(s)throw new fe(ie.INVALID_ARGUMENT,s);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_=-62135596800,B_=1e6;class ht{static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const s=Math.floor(e/1e3),a=Math.floor((e-1e3*s)*B_);return new ht(s,a)}constructor(e,s){if(this.seconds=e,this.nanoseconds=s,s<0)throw new fe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(s>=1e9)throw new fe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(e<z_)throw new fe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/B_}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ht._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Zo(e,ht._jsonSchema))return new ht(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-z_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ht._jsonSchemaVersion="firestore/timestamp/1.0",ht._jsonSchema={type:kt("string",ht._jsonSchemaVersion),seconds:kt("number"),nanoseconds:kt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new ht(0,0))}static max(){return new Te(new ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go=-1;function WN(i,e){const s=i.toTimestamp().seconds,a=i.toTimestamp().nanoseconds+1,o=Te.fromTimestamp(a===1e9?new ht(s+1,0):new ht(s,a));return new ha(o,_e.empty(),e)}function eR(i){return new ha(i.readTime,i.key,Go)}class ha{constructor(e,s,a){this.readTime=e,this.documentKey=s,this.largestBatchId=a}static min(){return new ha(Te.min(),_e.empty(),Go)}static max(){return new ha(Te.max(),_e.empty(),Go)}}function tR(i,e){let s=i.readTime.compareTo(e.readTime);return s!==0?s:(s=_e.comparator(i.documentKey,e.documentKey),s!==0?s:ke(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vl(i){if(i.code!==ie.FAILED_PRECONDITION||i.message!==nR)throw i;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((s=>{this.isDone=!0,this.result=s,this.nextCallback&&this.nextCallback(s)}),(s=>{this.isDone=!0,this.error=s,this.catchCallback&&this.catchCallback(s)}))}catch(e){return this.next(void 0,e)}next(e,s){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(s,this.error):this.wrapSuccess(e,this.result):new ne(((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(s,u).next(a,o)}}))}toPromise(){return new Promise(((e,s)=>{this.next(e,s)}))}wrapUserFunction(e){try{const s=e();return s instanceof ne?s:ne.resolve(s)}catch(s){return ne.reject(s)}}wrapSuccess(e,s){return e?this.wrapUserFunction((()=>e(s))):ne.resolve(s)}wrapFailure(e,s){return e?this.wrapUserFunction((()=>e(s))):ne.reject(s)}static resolve(e){return new ne(((s,a)=>{s(e)}))}static reject(e){return new ne(((s,a)=>{a(e)}))}static waitFor(e){return new ne(((s,a)=>{let o=0,u=0,f=!1;e.forEach((p=>{++o,p.next((()=>{++u,f&&u===o&&s()}),(_=>a(_)))})),f=!0,u===o&&s()}))}static or(e){let s=ne.resolve(!1);for(const a of e)s=s.next((o=>o?ne.resolve(o):a()));return s}static forEach(e,s){const a=[];return e.forEach(((o,u)=>{a.push(s.call(this,o,u))})),this.waitFor(a)}static mapArray(e,s){return new ne(((a,o)=>{const u=e.length,f=new Array(u);let p=0;for(let _=0;_<u;_++){const g=_;s(e[g]).next((b=>{f[g]=b,++p,p===u&&a(f)}),(b=>o(b)))}}))}static doWhile(e,s){return new ne(((a,o)=>{const u=()=>{e()===!0?s().next((()=>{u()}),o):a()};u()}))}}function sR(i){const e=i.match(/Android ([\d.]+)/i),s=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(s)}function bl(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,s){this.previousValue=e,s&&(s.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>s.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Th.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep=-1;function xh(i){return i==null}function sh(i){return i===0&&1/i==-1/0}function aR(i){return typeof i=="number"&&Number.isInteger(i)&&!sh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1="";function rR(i){let e="";for(let s=0;s<i.length;s++)e.length>0&&(e=H_(e)),e=lR(i.get(s),e);return H_(e)}function lR(i,e){let s=e;const a=i.length;for(let o=0;o<a;o++){const u=i.charAt(o);switch(u){case"\0":s+="";break;case O1:s+="";break;default:s+=u}}return s}function H_(i){return i+O1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(i){let e=0;for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&e++;return e}function Ea(i,e){for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&e(s,i[s])}function M1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,s){this.comparator=e,this.root=s||en.EMPTY}insert(e,s){return new vt(this.comparator,this.root.insert(e,s,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return s.value;a<0?s=s.left:a>0&&(s=s.right)}return null}indexOf(e){let s=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return s+a.left.size;o<0?a=a.left:(s+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((s,a)=>(e(s,a),!1)))}toString(){const e=[];return this.inorderTraversal(((s,a)=>(e.push(`${s}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cc(this.root,e,this.comparator,!0)}}class Cc{constructor(e,s,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=s?a(e.key,s):1,s&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const s={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return s}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,s,a,o,u){this.key=e,this.value=s,this.color=a??en.RED,this.left=o??en.EMPTY,this.right=u??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,s,a,o,u){return new en(e??this.key,s??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,s,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,s,a),null):u===0?o.copy(null,s,null,null,null):o.copy(null,null,null,null,o.right.insert(e,s,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,s){let a,o=this;if(s(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,s),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),s(e,o.key)===0){if(o.right.isEmpty())return en.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,s))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,s)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,s,a,o,u){return this}insert(e,s,a){return new en(e,s)}remove(e,s){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((s,a)=>(e(s),!1)))}forEachInRange(e,s){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;s(o.key)}}forEachWhile(e,s){let a;for(a=s!==void 0?this.data.getIteratorFrom(s):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const s=this.data.getIteratorFrom(e);return s.hasNext()?s.getNext().key:null}getIterator(){return new q_(this.data.getIterator())}getIteratorFrom(e){return new q_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let s=this;return s.size<e.size&&(s=e,e=this),e.forEach((a=>{s=s.add(a)})),s}isEqual(e){if(!(e instanceof Gt)||this.size!==e.size)return!1;const s=this.data.getIterator(),a=e.data.getIterator();for(;s.hasNext();){const o=s.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((s=>{e.push(s)})),e}toString(){const e=[];return this.forEach((s=>e.push(s))),"SortedSet("+e.toString()+")"}copy(e){const s=new Gt(this.comparator);return s.data=e,s}}class q_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new kn([])}unionWith(e){let s=new Gt(tn.comparator);for(const a of this.fields)s=s.add(a);for(const a of e)s=s.add(a);return new kn(s.toArray())}covers(e){for(const s of this.fields)if(s.isPrefixOf(e))return!0;return!1}isEqual(e){return fl(this.fields,e.fields,((s,a)=>s.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const s=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new j1("Invalid base64 string: "+u):u}})(e);return new nn(s)}static fromUint8Array(e){const s=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new nn(s)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(s){return btoa(s)})(this.binaryString)}toUint8Array(){return(function(s){const a=new Uint8Array(s.length);for(let o=0;o<s.length;o++)a[o]=s.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const oR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fa(i){if(Qe(!!i,39018),typeof i=="string"){let e=0;const s=oR.exec(i);if(Qe(!!s,46558,{timestamp:i}),s[1]){let o=s[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Rt(i.seconds),nanos:Rt(i.nanos)}}function Rt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function da(i){return typeof i=="string"?nn.fromBase64String(i):nn.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1="server_timestamp",U1="__type__",L1="__previous_value__",k1="__local_write_time__";function tp(i){var s,a;return((a=(((s=i==null?void 0:i.mapValue)==null?void 0:s.fields)||{})[U1])==null?void 0:a.stringValue)===V1}function Sh(i){const e=i.mapValue.fields[L1];return tp(e)?Sh(e):e}function qo(i){const e=fa(i.mapValue.fields[k1].timestampValue);return new ht(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e,s,a,o,u,f,p,_,g,b){this.databaseId=e,this.appId=s,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=g,this.isUsingEmulator=b}}const ah="(default)";class Fo{constructor(e,s){this.projectId=e,this.database=s||ah}static empty(){return new Fo("","")}get isDefaultDatabase(){return this.database===ah}isEqual(e){return e instanceof Fo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1="__type__",cR="__max__",Dc={mapValue:{}},z1="__vector__",rh="value";function ma(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?tp(i)?4:fR(i)?9007199254740991:hR(i)?10:11:be(28295,{value:i})}function qi(i,e){if(i===e)return!0;const s=ma(i);if(s!==ma(e))return!1;switch(s){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return qo(i).isEqual(qo(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=fa(o.timestampValue),p=fa(u.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return da(o.bytesValue).isEqual(da(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return Rt(o.geoPointValue.latitude)===Rt(u.geoPointValue.latitude)&&Rt(o.geoPointValue.longitude)===Rt(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Rt(o.integerValue)===Rt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Rt(o.doubleValue),p=Rt(u.doubleValue);return f===p?sh(f)===sh(p):isNaN(f)&&isNaN(p)}return!1})(i,e);case 9:return fl(i.arrayValue.values||[],e.arrayValue.values||[],qi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},p=u.mapValue.fields||{};if(G_(f)!==G_(p))return!1;for(const _ in f)if(f.hasOwnProperty(_)&&(p[_]===void 0||!qi(f[_],p[_])))return!1;return!0})(i,e);default:return be(52216,{left:i})}}function Yo(i,e){return(i.values||[]).find((s=>qi(s,e)))!==void 0}function dl(i,e){if(i===e)return 0;const s=ma(i),a=ma(e);if(s!==a)return ke(s,a);switch(s){case 0:case 9007199254740991:return 0;case 1:return ke(i.booleanValue,e.booleanValue);case 2:return(function(u,f){const p=Rt(u.integerValue||u.doubleValue),_=Rt(f.integerValue||f.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(i,e);case 3:return F_(i.timestampValue,e.timestampValue);case 4:return F_(qo(i),qo(e));case 5:return vm(i.stringValue,e.stringValue);case 6:return(function(u,f){const p=da(u),_=da(f);return p.compareTo(_)})(i.bytesValue,e.bytesValue);case 7:return(function(u,f){const p=u.split("/"),_=f.split("/");for(let g=0;g<p.length&&g<_.length;g++){const b=ke(p[g],_[g]);if(b!==0)return b}return ke(p.length,_.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,f){const p=ke(Rt(u.latitude),Rt(f.latitude));return p!==0?p:ke(Rt(u.longitude),Rt(f.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return Y_(i.arrayValue,e.arrayValue);case 10:return(function(u,f){var S,w,B,G;const p=u.fields||{},_=f.fields||{},g=(S=p[rh])==null?void 0:S.arrayValue,b=(w=_[rh])==null?void 0:w.arrayValue,T=ke(((B=g==null?void 0:g.values)==null?void 0:B.length)||0,((G=b==null?void 0:b.values)==null?void 0:G.length)||0);return T!==0?T:Y_(g,b)})(i.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Dc.mapValue&&f===Dc.mapValue)return 0;if(u===Dc.mapValue)return 1;if(f===Dc.mapValue)return-1;const p=u.fields||{},_=Object.keys(p),g=f.fields||{},b=Object.keys(g);_.sort(),b.sort();for(let T=0;T<_.length&&T<b.length;++T){const S=vm(_[T],b[T]);if(S!==0)return S;const w=dl(p[_[T]],g[b[T]]);if(w!==0)return w}return ke(_.length,b.length)})(i.mapValue,e.mapValue);default:throw be(23264,{he:s})}}function F_(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return ke(i,e);const s=fa(i),a=fa(e),o=ke(s.seconds,a.seconds);return o!==0?o:ke(s.nanos,a.nanos)}function Y_(i,e){const s=i.values||[],a=e.values||[];for(let o=0;o<s.length&&o<a.length;++o){const u=dl(s[o],a[o]);if(u)return u}return ke(s.length,a.length)}function ml(i){return bm(i)}function bm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(s){const a=fa(s);return`time(${a.seconds},${a.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(s){return da(s).toBase64()})(i.bytesValue):"referenceValue"in i?(function(s){return _e.fromName(s).toString()})(i.referenceValue):"geoPointValue"in i?(function(s){return`geo(${s.latitude},${s.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(s){let a="[",o=!0;for(const u of s.values||[])o?o=!1:a+=",",a+=bm(u);return a+"]"})(i.arrayValue):"mapValue"in i?(function(s){const a=Object.keys(s.fields||{}).sort();let o="{",u=!0;for(const f of a)u?u=!1:o+=",",o+=`${f}:${bm(s.fields[f])}`;return o+"}"})(i.mapValue):be(61005,{value:i})}function Gc(i){switch(ma(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Sh(i);return e?16+Gc(e):16;case 5:return 2*i.stringValue.length;case 6:return da(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,u)=>o+Gc(u)),0)})(i.arrayValue);case 10:case 11:return(function(a){let o=0;return Ea(a.fields,((u,f)=>{o+=u.length+Gc(f)})),o})(i.mapValue);default:throw be(13486,{value:i})}}function Tm(i){return!!i&&"integerValue"in i}function np(i){return!!i&&"arrayValue"in i}function K_(i){return!!i&&"nullValue"in i}function $_(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function qc(i){return!!i&&"mapValue"in i}function hR(i){var s,a;return((a=(((s=i==null?void 0:i.mapValue)==null?void 0:s.fields)||{})[P1])==null?void 0:a.stringValue)===z1}function Vo(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Ea(i.mapValue.fields,((s,a)=>e.mapValue.fields[s]=Vo(a))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let s=0;s<(i.arrayValue.values||[]).length;++s)e.arrayValue.values[s]=Vo(i.arrayValue.values[s]);return e}return{...i}}function fR(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===cR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.value=e}static empty(){return new Sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let s=this.value;for(let a=0;a<e.length-1;++a)if(s=(s.mapValue.fields||{})[e.get(a)],!qc(s))return null;return s=(s.mapValue.fields||{})[e.lastSegment()],s||null}}set(e,s){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vo(s)}setAll(e){let s=tn.emptyPath(),a={},o=[];e.forEach(((f,p)=>{if(!s.isImmediateParentOf(p)){const _=this.getFieldsMap(s);this.applyChanges(_,a,o),a={},o=[],s=p.popLast()}f?a[p.lastSegment()]=Vo(f):o.push(p.lastSegment())}));const u=this.getFieldsMap(s);this.applyChanges(u,a,o)}delete(e){const s=this.field(e.popLast());qc(s)&&s.mapValue.fields&&delete s.mapValue.fields[e.lastSegment()]}isEqual(e){return qi(this.value,e.value)}getFieldsMap(e){let s=this.value;s.mapValue.fields||(s.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=s.mapValue.fields[e.get(a)];qc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},s.mapValue.fields[e.get(a)]=o),s=o}return s.mapValue.fields}applyChanges(e,s,a){Ea(s,((o,u)=>e[o]=u));for(const o of a)delete e[o]}clone(){return new Sn(Vo(this.value))}}function B1(i){const e=[];return Ea(i.fields,((s,a)=>{const o=new tn([s]);if(qc(a)){const u=B1(a.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new kn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e,s,a,o,u,f,p){this.key=e,this.documentType=s,this.version=a,this.readTime=o,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(e){return new on(e,0,Te.min(),Te.min(),Te.min(),Sn.empty(),0)}static newFoundDocument(e,s,a,o){return new on(e,1,s,Te.min(),a,o,0)}static newNoDocument(e,s){return new on(e,2,s,Te.min(),Te.min(),Sn.empty(),0)}static newUnknownDocument(e,s){return new on(e,3,s,Te.min(),Te.min(),Sn.empty(),2)}convertToFoundDocument(e,s){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=s,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof on&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,s){this.position=e,this.inclusive=s}}function Q_(i,e,s){let a=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?a=_e.comparator(_e.fromName(f.referenceValue),s.key):a=dl(f,s.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function X_(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let s=0;s<i.position.length;s++)if(!qi(i.position[s],e.position[s]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,s="asc"){this.field=e,this.dir=s}}function dR(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{}class Ht extends H1{constructor(e,s,a){super(),this.field=e,this.op=s,this.value=a}static create(e,s,a){return e.isKeyField()?s==="in"||s==="not-in"?this.createKeyFieldInFilter(e,s,a):new pR(e,s,a):s==="array-contains"?new _R(e,a):s==="in"?new ER(e,a):s==="not-in"?new vR(e,a):s==="array-contains-any"?new bR(e,a):new Ht(e,s,a)}static createKeyFieldInFilter(e,s,a){return s==="in"?new gR(e,a):new yR(e,a)}matches(e){const s=e.data.field(this.field);return this.op==="!="?s!==null&&s.nullValue===void 0&&this.matchesComparison(dl(s,this.value)):s!==null&&ma(this.value)===ma(s)&&this.matchesComparison(dl(s,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fi extends H1{constructor(e,s){super(),this.filters=e,this.op=s,this.Pe=null}static create(e,s){return new Fi(e,s)}matches(e){return G1(this)?this.filters.find((s=>!s.matches(e)))===void 0:this.filters.find((s=>s.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,s)=>e.concat(s.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function G1(i){return i.op==="and"}function q1(i){return mR(i)&&G1(i)}function mR(i){for(const e of i.filters)if(e instanceof Fi)return!1;return!0}function xm(i){if(i instanceof Ht)return i.field.canonicalString()+i.op.toString()+ml(i.value);if(q1(i))return i.filters.map((e=>xm(e))).join(",");{const e=i.filters.map((s=>xm(s))).join(",");return`${i.op}(${e})`}}function F1(i,e){return i instanceof Ht?(function(a,o){return o instanceof Ht&&a.op===o.op&&a.field.isEqual(o.field)&&qi(a.value,o.value)})(i,e):i instanceof Fi?(function(a,o){return o instanceof Fi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((u,f,p)=>u&&F1(f,o.filters[p])),!0):!1})(i,e):void be(19439)}function Y1(i){return i instanceof Ht?(function(s){return`${s.field.canonicalString()} ${s.op} ${ml(s.value)}`})(i):i instanceof Fi?(function(s){return s.op.toString()+" {"+s.getFilters().map(Y1).join(" ,")+"}"})(i):"Filter"}class pR extends Ht{constructor(e,s,a){super(e,s,a),this.key=_e.fromName(a.referenceValue)}matches(e){const s=_e.comparator(e.key,this.key);return this.matchesComparison(s)}}class gR extends Ht{constructor(e,s){super(e,"in",s),this.keys=K1("in",s)}matches(e){return this.keys.some((s=>s.isEqual(e.key)))}}class yR extends Ht{constructor(e,s){super(e,"not-in",s),this.keys=K1("not-in",s)}matches(e){return!this.keys.some((s=>s.isEqual(e.key)))}}function K1(i,e){var s;return(((s=e.arrayValue)==null?void 0:s.values)||[]).map((a=>_e.fromName(a.referenceValue)))}class _R extends Ht{constructor(e,s){super(e,"array-contains",s)}matches(e){const s=e.data.field(this.field);return np(s)&&Yo(s.arrayValue,this.value)}}class ER extends Ht{constructor(e,s){super(e,"in",s)}matches(e){const s=e.data.field(this.field);return s!==null&&Yo(this.value.arrayValue,s)}}class vR extends Ht{constructor(e,s){super(e,"not-in",s)}matches(e){if(Yo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const s=e.data.field(this.field);return s!==null&&s.nullValue===void 0&&!Yo(this.value.arrayValue,s)}}class bR extends Ht{constructor(e,s){super(e,"array-contains-any",s)}matches(e){const s=e.data.field(this.field);return!(!np(s)||!s.arrayValue.values)&&s.arrayValue.values.some((a=>Yo(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e,s=null,a=[],o=[],u=null,f=null,p=null){this.path=e,this.collectionGroup=s,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=f,this.endAt=p,this.Te=null}}function J_(i,e=null,s=[],a=[],o=null,u=null,f=null){return new TR(i,e,s,a,o,u,f)}function ip(i){const e=Ae(i);if(e.Te===null){let s=e.path.canonicalString();e.collectionGroup!==null&&(s+="|cg:"+e.collectionGroup),s+="|f:",s+=e.filters.map((a=>xm(a))).join(","),s+="|ob:",s+=e.orderBy.map((a=>(function(u){return u.field.canonicalString()+u.dir})(a))).join(","),xh(e.limit)||(s+="|l:",s+=e.limit),e.startAt&&(s+="|lb:",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map((a=>ml(a))).join(",")),e.endAt&&(s+="|ub:",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map((a=>ml(a))).join(",")),e.Te=s}return e.Te}function sp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let s=0;s<i.orderBy.length;s++)if(!dR(i.orderBy[s],e.orderBy[s]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let s=0;s<i.filters.length;s++)if(!F1(i.filters[s],e.filters[s]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!X_(i.startAt,e.startAt)&&X_(i.endAt,e.endAt)}function Sm(i){return _e.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,s=null,a=[],o=[],u=null,f="F",p=null,_=null){this.path=e,this.collectionGroup=s,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function xR(i,e,s,a,o,u,f,p){return new Ah(i,e,s,a,o,u,f,p)}function wh(i){return new Ah(i)}function Z_(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function SR(i){return i.collectionGroup!==null}function Uo(i){const e=Ae(i);if(e.Ie===null){e.Ie=[];const s=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),s.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new Gt(tn.comparator);return f.filters.forEach((_=>{_.getFlattenedFilters().forEach((g=>{g.isInequality()&&(p=p.add(g.field))}))})),p})(e).forEach((u=>{s.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new oh(u,a))})),s.has(tn.keyField().canonicalString())||e.Ie.push(new oh(tn.keyField(),a))}return e.Ie}function zi(i){const e=Ae(i);return e.Ee||(e.Ee=AR(e,Uo(i))),e.Ee}function AR(i,e){if(i.limitType==="F")return J_(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new oh(o.field,u)}));const s=i.endAt?new lh(i.endAt.position,i.endAt.inclusive):null,a=i.startAt?new lh(i.startAt.position,i.startAt.inclusive):null;return J_(i.path,i.collectionGroup,e,i.filters,i.limit,s,a)}}function Am(i,e,s){return new Ah(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,s,i.startAt,i.endAt)}function Nh(i,e){return sp(zi(i),zi(e))&&i.limitType===e.limitType}function $1(i){return`${ip(zi(i))}|lt:${i.limitType}`}function nl(i){return`Query(target=${(function(s){let a=s.path.canonicalString();return s.collectionGroup!==null&&(a+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(a+=`, filters: [${s.filters.map((o=>Y1(o))).join(", ")}]`),xh(s.limit)||(a+=", limit: "+s.limit),s.orderBy.length>0&&(a+=`, orderBy: [${s.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),s.startAt&&(a+=", startAt: ",a+=s.startAt.inclusive?"b:":"a:",a+=s.startAt.position.map((o=>ml(o))).join(",")),s.endAt&&(a+=", endAt: ",a+=s.endAt.inclusive?"a:":"b:",a+=s.endAt.position.map((o=>ml(o))).join(",")),`Target(${a})`})(zi(i))}; limitType=${i.limitType})`}function Rh(i,e){return e.isFoundDocument()&&(function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):_e.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)})(i,e)&&(function(a,o){for(const u of Uo(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(a,o){return!(a.startAt&&!(function(f,p,_){const g=Q_(f,p,_);return f.inclusive?g<=0:g<0})(a.startAt,Uo(a),o)||a.endAt&&!(function(f,p,_){const g=Q_(f,p,_);return f.inclusive?g>=0:g>0})(a.endAt,Uo(a),o))})(i,e)}function wR(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Q1(i){return(e,s)=>{let a=!1;for(const o of Uo(i)){const u=NR(o,e,s);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function NR(i,e,s){const a=i.field.isKeyField()?_e.comparator(e.key,s.key):(function(u,f,p){const _=f.data.field(u),g=p.data.field(u);return _!==null&&g!==null?dl(_,g):be(42886)})(i.field,e,s);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return be(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e,s){this.mapKeyFn=e,this.equalsFn=s,this.inner={},this.innerSize=0}get(e){const s=this.mapKeyFn(e),a=this.inner[s];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,s){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,s]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,s]);o.push([e,s]),this.innerSize++}delete(e){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[s]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ea(this.inner,((s,a)=>{for(const[o,u]of a)e(o,u)}))}isEmpty(){return M1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=new vt(_e.comparator);function xs(){return RR}const X1=new vt(_e.comparator);function Co(...i){let e=X1;for(const s of i)e=e.insert(s.key,s);return e}function J1(i){let e=X1;return i.forEach(((s,a)=>e=e.insert(s,a.overlayedDocument))),e}function Za(){return Lo()}function Z1(){return Lo()}function Lo(){return new ar((i=>i.toString()),((i,e)=>i.isEqual(e)))}const IR=new vt(_e.comparator),CR=new Gt(_e.comparator);function Pe(...i){let e=CR;for(const s of i)e=e.add(s);return e}const DR=new Gt(ke);function OR(){return DR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ap(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sh(e)?"-0":e}}function W1(i){return{integerValue:""+i}}function MR(i,e){return aR(e)?W1(e):ap(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(){this._=void 0}}function jR(i,e,s){return i instanceof uh?(function(o,u){const f={fields:{[U1]:{stringValue:V1},[k1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&tp(u)&&(u=Sh(u)),u&&(f.fields[L1]=u),{mapValue:f}})(s,e):i instanceof Ko?tb(i,e):i instanceof $o?nb(i,e):(function(o,u){const f=eb(o,u),p=W_(f)+W_(o.Ae);return Tm(f)&&Tm(o.Ae)?W1(p):ap(o.serializer,p)})(i,e)}function VR(i,e,s){return i instanceof Ko?tb(i,e):i instanceof $o?nb(i,e):s}function eb(i,e){return i instanceof ch?(function(a){return Tm(a)||(function(u){return!!u&&"doubleValue"in u})(a)})(e)?e:{integerValue:0}:null}class uh extends Ih{}class Ko extends Ih{constructor(e){super(),this.elements=e}}function tb(i,e){const s=ib(e);for(const a of i.elements)s.some((o=>qi(o,a)))||s.push(a);return{arrayValue:{values:s}}}class $o extends Ih{constructor(e){super(),this.elements=e}}function nb(i,e){let s=ib(e);for(const a of i.elements)s=s.filter((o=>!qi(o,a)));return{arrayValue:{values:s}}}class ch extends Ih{constructor(e,s){super(),this.serializer=e,this.Ae=s}}function W_(i){return Rt(i.integerValue||i.doubleValue)}function ib(i){return np(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function UR(i,e){return i.field.isEqual(e.field)&&(function(a,o){return a instanceof Ko&&o instanceof Ko||a instanceof $o&&o instanceof $o?fl(a.elements,o.elements,qi):a instanceof ch&&o instanceof ch?qi(a.Ae,o.Ae):a instanceof uh&&o instanceof uh})(i.transform,e.transform)}class LR{constructor(e,s){this.version=e,this.transformResults=s}}class wn{constructor(e,s){this.updateTime=e,this.exists=s}static none(){return new wn}static exists(e){return new wn(void 0,e)}static updateTime(e){return new wn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fc(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Ch{}function sb(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Dh(i.key,wn.none()):new Wo(i.key,i.data,wn.none());{const s=i.data,a=Sn.empty();let o=new Gt(tn.comparator);for(let u of e.fields)if(!o.has(u)){let f=s.field(u);f===null&&u.length>1&&(u=u.popLast(),f=s.field(u)),f===null?a.delete(u):a.set(u,f),o=o.add(u)}return new va(i.key,a,new kn(o.toArray()),wn.none())}}function kR(i,e,s){i instanceof Wo?(function(o,u,f){const p=o.value.clone(),_=tE(o.fieldTransforms,u,f.transformResults);p.setAll(_),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(i,e,s):i instanceof va?(function(o,u,f){if(!Fc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const p=tE(o.fieldTransforms,u,f.transformResults),_=u.data;_.setAll(ab(o)),_.setAll(p),u.convertToFoundDocument(f.version,_).setHasCommittedMutations()})(i,e,s):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,s)}function ko(i,e,s,a){return i instanceof Wo?(function(u,f,p,_){if(!Fc(u.precondition,f))return p;const g=u.value.clone(),b=nE(u.fieldTransforms,_,f);return g.setAll(b),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(i,e,s,a):i instanceof va?(function(u,f,p,_){if(!Fc(u.precondition,f))return p;const g=nE(u.fieldTransforms,_,f),b=f.data;return b.setAll(ab(u)),b.setAll(g),f.convertToFoundDocument(f.version,b).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(i,e,s,a):(function(u,f,p){return Fc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p})(i,e,s)}function PR(i,e){let s=null;for(const a of i.fieldTransforms){const o=e.data.field(a.field),u=eb(a.transform,o||null);u!=null&&(s===null&&(s=Sn.empty()),s.set(a.field,u))}return s||null}function eE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&fl(a,o,((u,f)=>UR(u,f)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Wo extends Ch{constructor(e,s,a,o=[]){super(),this.key=e,this.value=s,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class va extends Ch{constructor(e,s,a,o,u=[]){super(),this.key=e,this.data=s,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function ab(i){const e=new Map;return i.fieldMask.fields.forEach((s=>{if(!s.isEmpty()){const a=i.data.field(s);e.set(s,a)}})),e}function tE(i,e,s){const a=new Map;Qe(i.length===s.length,32656,{Re:s.length,Ve:i.length});for(let o=0;o<s.length;o++){const u=i[o],f=u.transform,p=e.data.field(u.field);a.set(u.field,VR(f,p,s[o]))}return a}function nE(i,e,s){const a=new Map;for(const o of i){const u=o.transform,f=s.data.field(o.field);a.set(o.field,jR(u,f,e))}return a}class Dh extends Ch{constructor(e,s){super(),this.key=e,this.precondition=s,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zR extends Ch{constructor(e,s){super(),this.key=e,this.precondition=s,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e,s,a,o){this.batchId=e,this.localWriteTime=s,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,s){const a=s.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&kR(u,e,a[o])}}applyToLocalView(e,s){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(s=ko(a,e,s,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(s=ko(a,e,s,this.localWriteTime));return s}applyToLocalDocumentSet(e,s){const a=Z1();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=s.has(o.key)?null:p;const _=sb(f,p);_!==null&&a.set(o.key,_),f.isValidDocument()||f.convertToNoDocument(Te.min())})),a}keys(){return this.mutations.reduce(((e,s)=>e.add(s.key)),Pe())}isEqual(e){return this.batchId===e.batchId&&fl(this.mutations,e.mutations,((s,a)=>eE(s,a)))&&fl(this.baseMutations,e.baseMutations,((s,a)=>eE(s,a)))}}class rp{constructor(e,s,a,o){this.batch=e,this.commitVersion=s,this.mutationResults=a,this.docVersions=o}static from(e,s,a){Qe(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return IR})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,a[f].version);return new rp(e,s,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,s){this.largestBatchId=e,this.mutation=s}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e,s){this.count=e,this.unchangedNames=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt,Be;function qR(i){switch(i){case ie.OK:return be(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return be(15467,{code:i})}}function rb(i){if(i===void 0)return Ts("GRPC error has no .code"),ie.UNKNOWN;switch(i){case Lt.OK:return ie.OK;case Lt.CANCELLED:return ie.CANCELLED;case Lt.UNKNOWN:return ie.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return ie.INTERNAL;case Lt.UNAVAILABLE:return ie.UNAVAILABLE;case Lt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Lt.NOT_FOUND:return ie.NOT_FOUND;case Lt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Lt.ABORTED:return ie.ABORTED;case Lt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Lt.DATA_LOSS:return ie.DATA_LOSS;default:return be(39323,{code:i})}}(Be=Lt||(Lt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=new ua([4294967295,4294967295],0);function iE(i){const e=FR().encode(i),s=new T1;return s.update(e),new Uint8Array(s.digest())}function sE(i){const e=new DataView(i.buffer),s=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ua([s,a],0),new ua([o,u],0)]}class lp{constructor(e,s,a){if(this.bitmap=e,this.padding=s,this.hashCount=a,s<0||s>=8)throw new Do(`Invalid padding: ${s}`);if(a<0)throw new Do(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Do(`Invalid hash count: ${a}`);if(e.length===0&&s!==0)throw new Do(`Invalid padding when bitmap length is 0: ${s}`);this.ge=8*e.length-s,this.pe=ua.fromNumber(this.ge)}ye(e,s,a){let o=e.add(s.multiply(ua.fromNumber(a)));return o.compare(YR)===1&&(o=new ua([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const s=iE(e),[a,o]=sE(s);for(let u=0;u<this.hashCount;u++){const f=this.ye(a,o,u);if(!this.we(f))return!1}return!0}static create(e,s,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new lp(u,o,s);return a.forEach((p=>f.insert(p))),f}insert(e){if(this.ge===0)return;const s=iE(e),[a,o]=sE(s);for(let u=0;u<this.hashCount;u++){const f=this.ye(a,o,u);this.Se(f)}}Se(e){const s=Math.floor(e/8),a=e%8;this.bitmap[s]|=1<<a}}class Do extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,s,a,o,u){this.snapshotVersion=e,this.targetChanges=s,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,s,a){const o=new Map;return o.set(e,eu.createSynthesizedTargetChangeForCurrentChange(e,s,a)),new Oh(Te.min(),o,new vt(ke),xs(),Pe())}}class eu{constructor(e,s,a,o,u){this.resumeToken=e,this.current=s,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,s,a){return new eu(a,s,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,s,a,o){this.be=e,this.removedTargetIds=s,this.key=a,this.De=o}}class lb{constructor(e,s){this.targetId=e,this.Ce=s}}class ob{constructor(e,s,a=nn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=s,this.resumeToken=a,this.cause=o}}class aE{constructor(){this.ve=0,this.Fe=rE(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),s=Pe(),a=Pe();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:s=s.add(o);break;case 1:a=a.add(o);break;default:be(38017,{changeType:u})}})),new eu(this.Me,this.xe,e,s,a)}qe(){this.Oe=!1,this.Fe=rE()}Qe(e,s){this.Oe=!0,this.Fe=this.Fe.insert(e,s)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class KR{constructor(e){this.Ge=e,this.ze=new Map,this.je=xs(),this.Je=Oc(),this.He=Oc(),this.Ye=new vt(ke)}Ze(e){for(const s of e.be)e.De&&e.De.isFoundDocument()?this.Xe(s,e.De):this.et(s,e.key,e.De);for(const s of e.removedTargetIds)this.et(s,e.key,e.De)}tt(e){this.forEachTarget(e,(s=>{const a=this.nt(s);switch(e.state){case 0:this.rt(s)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(s);break;case 3:this.rt(s)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(s)&&(this.it(s),a.Le(e.resumeToken));break;default:be(56790,{state:e.state})}}))}forEachTarget(e,s){e.targetIds.length>0?e.targetIds.forEach(s):this.ze.forEach(((a,o)=>{this.rt(o)&&s(o)}))}st(e){const s=e.targetId,a=e.Ce.count,o=this.ot(s);if(o){const u=o.target;if(Sm(u))if(a===0){const f=new _e(u.path);this.et(s,f,on.newNoDocument(f,Te.min()))}else Qe(a===1,20013,{expectedCount:a});else{const f=this._t(s);if(f!==a){const p=this.ut(e),_=p?this.ct(p,e,f):1;if(_!==0){this.it(s);const g=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(s,g)}}}}}ut(e){const s=e.Ce.unchangedNames;if(!s||!s.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=s;let f,p;try{f=da(a).toUint8Array()}catch(_){if(_ instanceof j1)return hl("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new lp(f,o,u)}catch(_){return hl(_ instanceof Do?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(e,s,a){return s.Ce.count===a-this.Pt(e,s.targetId)?0:2}Pt(e,s){const a=this.Ge.getRemoteKeysForTarget(s);let o=0;return a.forEach((u=>{const f=this.Ge.ht(),p=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(s,u,null),o++)})),o}Tt(e){const s=new Map;this.ze.forEach(((u,f)=>{const p=this.ot(f);if(p){if(u.current&&Sm(p.target)){const _=new _e(p.target.path);this.It(_).has(f)||this.Et(f,_)||this.et(f,_,on.newNoDocument(_,e))}u.Be&&(s.set(f,u.ke()),u.qe())}}));let a=Pe();this.He.forEach(((u,f)=>{let p=!0;f.forEachWhile((_=>{const g=this.ot(_);return!g||g.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new Oh(e,s,this.Ye,this.je,a);return this.je=xs(),this.Je=Oc(),this.He=Oc(),this.Ye=new vt(ke),o}Xe(e,s){if(!this.rt(e))return;const a=this.Et(e,s.key)?2:0;this.nt(e).Qe(s.key,a),this.je=this.je.insert(s.key,s),this.Je=this.Je.insert(s.key,this.It(s.key).add(e)),this.He=this.He.insert(s.key,this.dt(s.key).add(e))}et(e,s,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,s)?o.Qe(s,1):o.$e(s),this.He=this.He.insert(s,this.dt(s).delete(e)),this.He=this.He.insert(s,this.dt(s).add(e)),a&&(this.je=this.je.insert(s,a))}removeTarget(e){this.ze.delete(e)}_t(e){const s=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+s.addedDocuments.size-s.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let s=this.ze.get(e);return s||(s=new aE,this.ze.set(e,s)),s}dt(e){let s=this.He.get(e);return s||(s=new Gt(ke),this.He=this.He.insert(e,s)),s}It(e){let s=this.Je.get(e);return s||(s=new Gt(ke),this.Je=this.Je.insert(e,s)),s}rt(e){const s=this.ot(e)!==null;return s||ue("WatchChangeAggregator","Detected inactive target",e),s}ot(e){const s=this.ze.get(e);return s&&s.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new aE),this.Ge.getRemoteKeysForTarget(e).forEach((s=>{this.et(e,s,null)}))}Et(e,s){return this.Ge.getRemoteKeysForTarget(e).has(s)}}function Oc(){return new vt(_e.comparator)}function rE(){return new vt(_e.comparator)}const $R={asc:"ASCENDING",desc:"DESCENDING"},QR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XR={and:"AND",or:"OR"};class JR{constructor(e,s){this.databaseId=e,this.useProto3Json=s}}function wm(i,e){return i.useProto3Json||xh(e)?e:{value:e}}function hh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ub(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function ZR(i,e){return hh(i,e.toTimestamp())}function Bi(i){return Qe(!!i,49232),Te.fromTimestamp((function(s){const a=fa(s);return new ht(a.seconds,a.nanos)})(i))}function op(i,e){return Nm(i,e).canonicalString()}function Nm(i,e){const s=(function(o){return new ct(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?s:s.child(e)}function cb(i){const e=ct.fromString(i);return Qe(pb(e),10190,{key:e.toString()}),e}function Rm(i,e){return op(i.databaseId,e.path)}function tm(i,e){const s=cb(e);if(s.get(1)!==i.databaseId.projectId)throw new fe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+s.get(1)+" vs "+i.databaseId.projectId);if(s.get(3)!==i.databaseId.database)throw new fe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+s.get(3)+" vs "+i.databaseId.database);return new _e(fb(s))}function hb(i,e){return op(i.databaseId,e)}function WR(i){const e=cb(i);return e.length===4?ct.emptyPath():fb(e)}function Im(i){return new ct(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function fb(i){return Qe(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function lE(i,e,s){return{name:Rm(i,e),fields:s.value.mapValue.fields}}function eI(i,e){let s;if("targetChange"in e){e.targetChange;const a=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:be(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,b){return g.useProto3Json?(Qe(b===void 0||typeof b=="string",58123),nn.fromBase64String(b||"")):(Qe(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),nn.fromUint8Array(b||new Uint8Array))})(i,e.targetChange.resumeToken),f=e.targetChange.cause,p=f&&(function(g){const b=g.code===void 0?ie.UNKNOWN:rb(g.code);return new fe(b,g.message||"")})(f);s=new ob(a,o,u,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=tm(i,a.document.name),u=Bi(a.document.updateTime),f=a.document.createTime?Bi(a.document.createTime):Te.min(),p=new Sn({mapValue:{fields:a.document.fields}}),_=on.newFoundDocument(o,u,f,p),g=a.targetIds||[],b=a.removedTargetIds||[];s=new Yc(g,b,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=tm(i,a.document),u=a.readTime?Bi(a.readTime):Te.min(),f=on.newNoDocument(o,u),p=a.removedTargetIds||[];s=new Yc([],p,f.key,f)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=tm(i,a.document),u=a.removedTargetIds||[];s=new Yc([],u,o,null)}else{if(!("filter"in e))return be(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,f=new GR(o,u),p=a.targetId;s=new lb(p,f)}}return s}function tI(i,e){let s;if(e instanceof Wo)s={update:lE(i,e.key,e.value)};else if(e instanceof Dh)s={delete:Rm(i,e.key)};else if(e instanceof va)s={update:lE(i,e.key,e.data),updateMask:cI(e.fieldMask)};else{if(!(e instanceof zR))return be(16599,{Vt:e.type});s={verify:Rm(i,e.key)}}return e.fieldTransforms.length>0&&(s.updateTransforms=e.fieldTransforms.map((a=>(function(u,f){const p=f.transform;if(p instanceof uh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Ko)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof $o)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof ch)return{fieldPath:f.field.canonicalString(),increment:p.Ae};throw be(20930,{transform:f.transform})})(0,a)))),e.precondition.isNone||(s.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:ZR(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:be(27497)})(i,e.precondition)),s}function nI(i,e){return i&&i.length>0?(Qe(e!==void 0,14353),i.map((s=>(function(o,u){let f=o.updateTime?Bi(o.updateTime):Bi(u);return f.isEqual(Te.min())&&(f=Bi(u)),new LR(f,o.transformResults||[])})(s,e)))):[]}function iI(i,e){return{documents:[hb(i,e.path)]}}function sI(i,e){const s={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,s.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),s.structuredQuery.from=[{collectionId:a.lastSegment()}]),s.parent=hb(i,o);const u=(function(g){if(g.length!==0)return mb(Fi.create(g,"and"))})(e.filters);u&&(s.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((b=>(function(S){return{field:il(S.field),direction:lI(S.dir)}})(b)))})(e.orderBy);f&&(s.structuredQuery.orderBy=f);const p=wm(i,e.limit);return p!==null&&(s.structuredQuery.limit=p),e.startAt&&(s.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(s.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:s,parent:o}}function aI(i){let e=WR(i.parent);const s=i.structuredQuery,a=s.from?s.from.length:0;let o=null;if(a>0){Qe(a===1,65062);const b=s.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let u=[];s.where&&(u=(function(T){const S=db(T);return S instanceof Fi&&q1(S)?S.getFilters():[S]})(s.where));let f=[];s.orderBy&&(f=(function(T){return T.map((S=>(function(B){return new oh(sl(B.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(B.direction))})(S)))})(s.orderBy));let p=null;s.limit&&(p=(function(T){let S;return S=typeof T=="object"?T.value:T,xh(S)?null:S})(s.limit));let _=null;s.startAt&&(_=(function(T){const S=!!T.before,w=T.values||[];return new lh(w,S)})(s.startAt));let g=null;return s.endAt&&(g=(function(T){const S=!T.before,w=T.values||[];return new lh(w,S)})(s.endAt)),xR(e,o,f,u,p,"F",_,g)}function rI(i,e){const s=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:o})}})(e.purpose);return s==null?null:{"goog-listen-tags":s}}function db(i){return i.unaryFilter!==void 0?(function(s){switch(s.unaryFilter.op){case"IS_NAN":const a=sl(s.unaryFilter.field);return Ht.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=sl(s.unaryFilter.field);return Ht.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=sl(s.unaryFilter.field);return Ht.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=sl(s.unaryFilter.field);return Ht.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(i):i.fieldFilter!==void 0?(function(s){return Ht.create(sl(s.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(s.fieldFilter.op),s.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(s){return Fi.create(s.compositeFilter.filters.map((a=>db(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(s.compositeFilter.op))})(i):be(30097,{filter:i})}function lI(i){return $R[i]}function oI(i){return QR[i]}function uI(i){return XR[i]}function il(i){return{fieldPath:i.canonicalString()}}function sl(i){return tn.fromServerFormat(i.fieldPath)}function mb(i){return i instanceof Ht?(function(s){if(s.op==="=="){if($_(s.value))return{unaryFilter:{field:il(s.field),op:"IS_NAN"}};if(K_(s.value))return{unaryFilter:{field:il(s.field),op:"IS_NULL"}}}else if(s.op==="!="){if($_(s.value))return{unaryFilter:{field:il(s.field),op:"IS_NOT_NAN"}};if(K_(s.value))return{unaryFilter:{field:il(s.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:il(s.field),op:oI(s.op),value:s.value}}})(i):i instanceof Fi?(function(s){const a=s.getFilters().map((o=>mb(o)));return a.length===1?a[0]:{compositeFilter:{op:uI(s.op),filters:a}}})(i):be(54877,{filter:i})}function cI(i){const e=[];return i.fields.forEach((s=>e.push(s.canonicalString()))),{fieldPaths:e}}function pb(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,s,a,o,u=Te.min(),f=Te.min(),p=nn.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=s,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(e){return new ra(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,s){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,s,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e){this.yt=e}}function fI(i){const e=aI({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Am(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(){this.Cn=new mI}addToCollectionParentIndex(e,s){return this.Cn.add(s),ne.resolve()}getCollectionParents(e,s){return ne.resolve(this.Cn.getEntries(s))}addFieldIndex(e,s){return ne.resolve()}deleteFieldIndex(e,s){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,s){return ne.resolve()}getDocumentsMatchingTarget(e,s){return ne.resolve(null)}getIndexType(e,s){return ne.resolve(0)}getFieldIndexes(e,s){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,s){return ne.resolve(ha.min())}getMinOffsetFromCollectionGroup(e,s){return ne.resolve(ha.min())}updateCollectionGroup(e,s,a){return ne.resolve()}updateIndexEntries(e,s){return ne.resolve()}}class mI{constructor(){this.index={}}add(e){const s=e.lastSegment(),a=e.popLast(),o=this.index[s]||new Gt(ct.comparator),u=!o.has(a);return this.index[s]=o.add(a),u}has(e){const s=e.lastSegment(),a=e.popLast(),o=this.index[s];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Gt(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gb=41943040;class xn{static withCacheSize(e){return new xn(e,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,s,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=s,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(gb,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new pl(0)}static cr(){return new pl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="LruGarbageCollector",pI=1048576;function cE([i,e],[s,a]){const o=ke(i,s);return o===0?ke(e,a):o}class gI{constructor(e){this.Ir=e,this.buffer=new Gt(cE),this.Er=0}dr(){return++this.Er}Ar(e){const s=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(s);else{const a=this.buffer.last();cE(s,a)<0&&(this.buffer=this.buffer.delete(a).add(s))}}get maxValue(){return this.buffer.last()[0]}}class yI{constructor(e,s,a){this.garbageCollector=e,this.asyncQueue=s,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(uE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(s){bl(s)?ue(uE,"Ignoring IndexedDB error during garbage collection: ",s):await vl(s)}await this.Vr(3e5)}))}}class _I{constructor(e,s){this.mr=e,this.params=s}calculateTargetCount(e,s){return this.mr.gr(e).next((a=>Math.floor(s/100*a)))}nthSequenceNumber(e,s){if(s===0)return ne.resolve(Th.ce);const a=new gI(s);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,s,a){return this.mr.removeTargets(e,s,a)}removeOrphanedDocuments(e,s){return this.mr.removeOrphanedDocuments(e,s)}collect(e,s){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(oE)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),oE):this.yr(e,s)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,s){let a,o,u,f,p,_,g;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(a=T,p=Date.now(),this.removeTargets(e,a,s)))).next((T=>(u=T,_=Date.now(),this.removeOrphanedDocuments(e,a)))).next((T=>(g=Date.now(),tl()<=He.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-b}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${u} targets in `+(_-p)+`ms
	Removed ${T} documents in `+(g-_)+`ms
Total Duration: ${g-b}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function EI(i,e){return new _I(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(){this.changes=new ar((e=>e.toString()),((e,s)=>e.isEqual(s))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,s){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(s))}getEntry(e,s){this.assertNotApplied();const a=this.changes.get(s);return a!==void 0?ne.resolve(a):this.getFromCache(e,s)}getEntries(e,s){return this.getAllFromCache(e,s)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e,s){this.overlayedDocument=e,this.mutatedFields=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e,s,a,o){this.remoteDocumentCache=e,this.mutationQueue=s,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,s){let a=null;return this.documentOverlayCache.getOverlay(e,s).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,s)))).next((o=>(a!==null&&ko(a.mutation,o,kn.empty(),ht.now()),o)))}getDocuments(e,s){return this.remoteDocumentCache.getEntries(e,s).next((a=>this.getLocalViewOfDocuments(e,a,Pe()).next((()=>a))))}getLocalViewOfDocuments(e,s,a=Pe()){const o=Za();return this.populateOverlays(e,o,s).next((()=>this.computeViews(e,s,o,a).next((u=>{let f=Co();return u.forEach(((p,_)=>{f=f.insert(p,_.overlayedDocument)})),f}))))}getOverlayedDocuments(e,s){const a=Za();return this.populateOverlays(e,a,s).next((()=>this.computeViews(e,s,a,Pe())))}populateOverlays(e,s,a){const o=[];return a.forEach((u=>{s.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,p)=>{s.set(f,p)}))}))}computeViews(e,s,a,o){let u=xs();const f=Lo(),p=(function(){return Lo()})();return s.forEach(((_,g)=>{const b=a.get(g.key);o.has(g.key)&&(b===void 0||b.mutation instanceof va)?u=u.insert(g.key,g):b!==void 0?(f.set(g.key,b.mutation.getFieldMask()),ko(b.mutation,g,b.mutation.getFieldMask(),ht.now())):f.set(g.key,kn.empty())})),this.recalculateAndSaveOverlays(e,u).next((_=>(_.forEach(((g,b)=>f.set(g,b))),s.forEach(((g,b)=>p.set(g,new bI(b,f.get(g)??null)))),p)))}recalculateAndSaveOverlays(e,s){const a=Lo();let o=new vt(((f,p)=>f-p)),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,s).next((f=>{for(const p of f)p.keys().forEach((_=>{const g=s.get(_);if(g===null)return;let b=a.get(_)||kn.empty();b=p.applyToLocalView(g,b),a.set(_,b);const T=(o.get(p.batchId)||Pe()).add(_);o=o.insert(p.batchId,T)}))})).next((()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),g=_.key,b=_.value,T=Z1();b.forEach((S=>{if(!u.has(S)){const w=sb(s.get(S),a.get(S));w!==null&&T.set(S,w),u=u.add(S)}})),f.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ne.waitFor(f)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,s){return this.remoteDocumentCache.getEntries(e,s).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,s,a,o){return(function(f){return _e.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(s)?this.getDocumentsMatchingDocumentQuery(e,s.path):SR(s)?this.getDocumentsMatchingCollectionGroupQuery(e,s,a,o):this.getDocumentsMatchingCollectionQuery(e,s,a,o)}getNextDocuments(e,s,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,s,a,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,s,a.largestBatchId,o-u.size):ne.resolve(Za());let p=Go,_=u;return f.next((g=>ne.forEach(g,((b,T)=>(p<T.largestBatchId&&(p=T.largestBatchId),u.get(b)?ne.resolve():this.remoteDocumentCache.getEntry(e,b).next((S=>{_=_.insert(b,S)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,_,g,Pe()))).next((b=>({batchId:p,changes:J1(b)})))))}))}getDocumentsMatchingDocumentQuery(e,s){return this.getDocument(e,new _e(s)).next((a=>{let o=Co();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,s,a,o){const u=s.collectionGroup;let f=Co();return this.indexManager.getCollectionParents(e,u).next((p=>ne.forEach(p,(_=>{const g=(function(T,S){return new Ah(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(s,_.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,a,o).next((b=>{b.forEach(((T,S)=>{f=f.insert(T,S)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,s,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,s.path,a.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,s,a,u,o)))).next((f=>{u.forEach(((_,g)=>{const b=g.getKey();f.get(b)===null&&(f=f.insert(b,on.newInvalidDocument(b)))}));let p=Co();return f.forEach(((_,g)=>{const b=u.get(_);b!==void 0&&ko(b.mutation,g,kn.empty(),ht.now()),Rh(s,g)&&(p=p.insert(_,g))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,s){return ne.resolve(this.Lr.get(s))}saveBundleMetadata(e,s){return this.Lr.set(s.id,(function(o){return{id:o.id,version:o.version,createTime:Bi(o.createTime)}})(s)),ne.resolve()}getNamedQuery(e,s){return ne.resolve(this.kr.get(s))}saveNamedQuery(e,s){return this.kr.set(s.name,(function(o){return{name:o.name,query:fI(o.bundledQuery),readTime:Bi(o.readTime)}})(s)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(){this.overlays=new vt(_e.comparator),this.qr=new Map}getOverlay(e,s){return ne.resolve(this.overlays.get(s))}getOverlays(e,s){const a=Za();return ne.forEach(s,(o=>this.getOverlay(e,o).next((u=>{u!==null&&a.set(o,u)})))).next((()=>a))}saveOverlays(e,s,a){return a.forEach(((o,u)=>{this.St(e,s,u)})),ne.resolve()}removeOverlaysForBatchId(e,s,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(a)),ne.resolve()}getOverlaysForCollection(e,s,a){const o=Za(),u=s.length+1,f=new _e(s.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const _=p.getNext().value,g=_.getKey();if(!s.isPrefixOf(g.path))break;g.path.length===u&&_.largestBatchId>a&&o.set(_.getKey(),_)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,s,a,o){let u=new vt(((g,b)=>g-b));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===s&&g.largestBatchId>a){let b=u.get(g.largestBatchId);b===null&&(b=Za(),u=u.insert(g.largestBatchId,b)),b.set(g.getKey(),g)}}const p=Za(),_=u.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((g,b)=>p.set(g,b))),!(p.size()>=o)););return ne.resolve(p)}St(e,s,a){const o=this.overlays.get(a.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(a.key,new HR(s,a));let u=this.qr.get(s);u===void 0&&(u=Pe(),this.qr.set(s,u)),this.qr.set(s,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,s){return this.sessionToken=s,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(){this.Qr=new Gt(Kt.$r),this.Ur=new Gt(Kt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,s){const a=new Kt(e,s);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,s){e.forEach((a=>this.addReference(a,s)))}removeReference(e,s){this.Gr(new Kt(e,s))}zr(e,s){e.forEach((a=>this.removeReference(a,s)))}jr(e){const s=new _e(new ct([])),a=new Kt(s,e),o=new Kt(s,e+1),u=[];return this.Ur.forEachInRange([a,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const s=new _e(new ct([])),a=new Kt(s,e),o=new Kt(s,e+1);let u=Pe();return this.Ur.forEachInRange([a,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const s=new Kt(e,0),a=this.Qr.firstAfterOrEqual(s);return a!==null&&e.isEqual(a.key)}}class Kt{constructor(e,s){this.key=e,this.Yr=s}static $r(e,s){return _e.comparator(e.key,s.key)||ke(e.Yr,s.Yr)}static Kr(e,s){return ke(e.Yr,s.Yr)||_e.comparator(e.key,s.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e,s){this.indexManager=e,this.referenceDelegate=s,this.mutationQueue=[],this.tr=1,this.Zr=new Gt(Kt.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,s,a,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new BR(u,s,a,o);this.mutationQueue.push(f);for(const p of o)this.Zr=this.Zr.add(new Kt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ne.resolve(f)}lookupMutationBatch(e,s){return ne.resolve(this.Xr(s))}getNextMutationBatchAfterBatchId(e,s){const a=s+1,o=this.ei(a),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?ep:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,s){const a=new Kt(s,0),o=new Kt(s,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([a,o],(f=>{const p=this.Xr(f.Yr);u.push(p)})),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,s){let a=new Gt(ke);return s.forEach((o=>{const u=new Kt(o,0),f=new Kt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(p=>{a=a.add(p.Yr)}))})),ne.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,s){const a=s.path,o=a.length+1;let u=a;_e.isDocumentKey(u)||(u=u.child(""));const f=new Kt(new _e(u),0);let p=new Gt(ke);return this.Zr.forEachWhile((_=>{const g=_.key.path;return!!a.isPrefixOf(g)&&(g.length===o&&(p=p.add(_.Yr)),!0)}),f),ne.resolve(this.ti(p))}ti(e){const s=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&s.push(o)})),s}removeMutationBatch(e,s){Qe(this.ni(s.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return ne.forEach(s.mutations,(o=>{const u=new Kt(o.key,s.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,s){const a=new Kt(s,0),o=this.Zr.firstAfterOrEqual(a);return ne.resolve(s.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,s){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const s=this.ei(e);return s<0||s>=this.mutationQueue.length?null:this.mutationQueue[s]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e){this.ri=e,this.docs=(function(){return new vt(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,s){const a=s.key,o=this.docs.get(a),u=o?o.size:0,f=this.ri(s);return this.docs=this.docs.insert(a,{document:s.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const s=this.docs.get(e);s&&(this.docs=this.docs.remove(e),this.size-=s.size)}getEntry(e,s){const a=this.docs.get(s);return ne.resolve(a?a.document.mutableCopy():on.newInvalidDocument(s))}getEntries(e,s){let a=xs();return s.forEach((o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():on.newInvalidDocument(o))})),ne.resolve(a)}getDocumentsMatchingQuery(e,s,a,o){let u=xs();const f=s.path,p=new _e(f.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:g,value:{document:b}}=_.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||tR(eR(b),a)<=0||(o.has(b.key)||Rh(s,b))&&(u=u.insert(b.key,b.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,s,a,o){be(9500)}ii(e,s){return ne.forEach(this.docs,(a=>s(a)))}newChangeBuffer(e){return new RI(this)}getSize(e){return ne.resolve(this.size)}}class RI extends vI{constructor(e){super(),this.Nr=e}applyChanges(e){const s=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?s.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),ne.waitFor(s)}getFromCache(e,s){return this.Nr.getEntry(e,s)}getAllFromCache(e,s){return this.Nr.getEntries(e,s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e){this.persistence=e,this.si=new ar((s=>ip(s)),sp),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.oi=0,this._i=new up,this.targetCount=0,this.ai=pl.ur()}forEachTarget(e,s){return this.si.forEach(((a,o)=>s(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,s,a){return a&&(this.lastRemoteSnapshotVersion=a),s>this.oi&&(this.oi=s),ne.resolve()}Pr(e){this.si.set(e.target,e);const s=e.targetId;s>this.highestTargetId&&(this.ai=new pl(s),this.highestTargetId=s),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,s){return this.Pr(s),this.targetCount+=1,ne.resolve()}updateTargetData(e,s){return this.Pr(s),ne.resolve()}removeTargetData(e,s){return this.si.delete(s.target),this._i.jr(s.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,s,a){let o=0;const u=[];return this.si.forEach(((f,p)=>{p.sequenceNumber<=s&&a.get(p.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),ne.waitFor(u).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,s){const a=this.si.get(s)||null;return ne.resolve(a)}addMatchingKeys(e,s,a){return this._i.Wr(s,a),ne.resolve()}removeMatchingKeys(e,s,a){this._i.zr(s,a);const o=this.persistence.referenceDelegate,u=[];return o&&s.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),ne.waitFor(u)}removeMatchingKeysForTargetId(e,s){return this._i.jr(s),ne.resolve()}getMatchingKeysForTargetId(e,s){const a=this._i.Hr(s);return ne.resolve(a)}containsKey(e,s){return ne.resolve(this._i.containsKey(s))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e,s){this.ui={},this.overlays={},this.ci=new Th(0),this.li=!1,this.li=!0,this.hi=new AI,this.referenceDelegate=e(this),this.Pi=new II(this),this.indexManager=new dI,this.remoteDocumentCache=(function(o){return new NI(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new hI(s),this.Ii=new xI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let s=this.overlays[e.toKey()];return s||(s=new SI,this.overlays[e.toKey()]=s),s}getMutationQueue(e,s){let a=this.ui[e.toKey()];return a||(a=new wI(s,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,s,a){ue("MemoryPersistence","Starting transaction:",e);const o=new CI(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,s){return ne.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,s))))}}class CI extends iR{constructor(e){super(),this.currentSequenceNumber=e}}class cp{constructor(e){this.persistence=e,this.Ri=new up,this.Vi=null}static mi(e){return new cp(e)}get fi(){if(this.Vi)return this.Vi;throw be(60996)}addReference(e,s,a){return this.Ri.addReference(a,s),this.fi.delete(a.toString()),ne.resolve()}removeReference(e,s,a){return this.Ri.removeReference(a,s),this.fi.add(a.toString()),ne.resolve()}markPotentiallyOrphaned(e,s){return this.fi.add(s.toString()),ne.resolve()}removeTarget(e,s){this.Ri.jr(s.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,s.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>a.removeTargetData(e,s)))}Ei(){this.Vi=new Set}di(e){const s=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(a=>{const o=_e.fromPath(a);return this.gi(e,o).next((u=>{u||s.removeEntry(o,Te.min())}))})).next((()=>(this.Vi=null,s.apply(e))))}updateLimboDocument(e,s){return this.gi(e,s).next((a=>{a?this.fi.delete(s.toString()):this.fi.add(s.toString())}))}Ti(e){return 0}gi(e,s){return ne.or([()=>ne.resolve(this.Ri.containsKey(s)),()=>this.persistence.getTargetCache().containsKey(e,s),()=>this.persistence.Ai(e,s)])}}class fh{constructor(e,s){this.persistence=e,this.pi=new ar((a=>rR(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=EI(this,s)}static mi(e,s){return new fh(e,s)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,s){return this.persistence.getTargetCache().forEachTarget(e,s)}gr(e){const s=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>s.next((o=>a+o))))}wr(e){let s=0;return this.pr(e,(a=>{s++})).next((()=>s))}pr(e,s){return ne.forEach(this.pi,((a,o)=>this.br(e,a,o).next((u=>u?ne.resolve():s(o)))))}removeTargets(e,s,a){return this.persistence.getTargetCache().removeTargets(e,s,a)}removeOrphanedDocuments(e,s){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,s).next((p=>{p||(a++,u.removeEntry(f,Te.min()))})))).next((()=>u.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}removeTarget(e,s){const a=s.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,s,a){return this.pi.set(a,e.currentSequenceNumber),ne.resolve()}removeReference(e,s,a){return this.pi.set(a,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}Ti(e){let s=e.key.toString().length;return e.isFoundDocument()&&(s+=Gc(e.data.value)),s}br(e,s,a){return ne.or([()=>this.persistence.Ai(e,s),()=>this.persistence.getTargetCache().containsKey(e,s),()=>{const o=this.pi.get(s);return ne.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,s,a,o){this.targetId=e,this.fromCache=s,this.Es=a,this.ds=o}static As(e,s){let a=Pe(),o=Pe();for(const u of s.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new hp(e,s.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return S2()?8:sR(T2())>0?6:4})()}initialize(e,s){this.ps=e,this.indexManager=s,this.Rs=!0}getDocumentsMatchingQuery(e,s,a,o){const u={result:null};return this.ys(e,s).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,s,o,a).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new DI;return this.Ss(e,s,f).next((p=>{if(u.result=p,this.Vs)return this.bs(e,s,f,p.size)}))})).next((()=>u.result))}bs(e,s,a,o){return a.documentReadCount<this.fs?(tl()<=He.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",nl(s),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(tl()<=He.DEBUG&&ue("QueryEngine","Query:",nl(s),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(tl()<=He.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",nl(s),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zi(s))):ne.resolve())}ys(e,s){if(Z_(s))return ne.resolve(null);let a=zi(s);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(s.limit!==null&&o===1&&(s=Am(s,null,"F"),a=zi(s)),this.indexManager.getDocumentsMatchingTarget(e,a).next((u=>{const f=Pe(...u);return this.ps.getDocuments(e,f).next((p=>this.indexManager.getMinOffset(e,a).next((_=>{const g=this.Ds(s,p);return this.Cs(s,g,f,_.readTime)?this.ys(e,Am(s,null,"F")):this.vs(e,g,s,_)}))))})))))}ws(e,s,a,o){return Z_(s)||o.isEqual(Te.min())?ne.resolve(null):this.ps.getDocuments(e,a).next((u=>{const f=this.Ds(s,u);return this.Cs(s,f,a,o)?ne.resolve(null):(tl()<=He.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),nl(s)),this.vs(e,f,s,WN(o,Go)).next((p=>p)))}))}Ds(e,s){let a=new Gt(Q1(e));return s.forEach(((o,u)=>{Rh(e,u)&&(a=a.add(u))})),a}Cs(e,s,a,o){if(e.limit===null)return!1;if(a.size!==s.size)return!0;const u=e.limitType==="F"?s.last():s.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,s,a){return tl()<=He.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",nl(s)),this.ps.getDocumentsMatchingQuery(e,s,ha.min(),a)}vs(e,s,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((u=>(s.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp="LocalStore",MI=3e8;class jI{constructor(e,s,a,o){this.persistence=e,this.Fs=s,this.serializer=o,this.Ms=new vt(ke),this.xs=new ar((u=>ip(u)),sp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(s=>e.collect(s,this.Ms)))}}function VI(i,e,s,a){return new jI(i,e,s,a)}async function _b(i,e){const s=Ae(i);return await s.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return s.mutationQueue.getAllMutationBatches(a).next((u=>(o=u,s.Bs(e),s.mutationQueue.getAllMutationBatches(a)))).next((u=>{const f=[],p=[];let _=Pe();for(const g of o){f.push(g.batchId);for(const b of g.mutations)_=_.add(b.key)}for(const g of u){p.push(g.batchId);for(const b of g.mutations)_=_.add(b.key)}return s.localDocuments.getDocuments(a,_).next((g=>({Ls:g,removedBatchIds:f,addedBatchIds:p})))}))}))}function UI(i,e){const s=Ae(i);return s.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),u=s.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,_,g,b){const T=g.batch,S=T.keys();let w=ne.resolve();return S.forEach((B=>{w=w.next((()=>b.getEntry(_,B))).next((G=>{const R=g.docVersions.get(B);Qe(R!==null,48541),G.version.compareTo(R)<0&&(T.applyToRemoteDocument(G,g),G.isValidDocument()&&(G.setReadTime(g.commitVersion),b.addEntry(G)))}))})),w.next((()=>p.mutationQueue.removeMutationBatch(_,T)))})(s,a,e,u).next((()=>u.apply(a))).next((()=>s.mutationQueue.performConsistencyCheck(a))).next((()=>s.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>s.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let _=Pe();for(let g=0;g<p.mutationResults.length;++g)p.mutationResults[g].transformResults.length>0&&(_=_.add(p.batch.mutations[g].key));return _})(e)))).next((()=>s.localDocuments.getDocuments(a,o)))}))}function Eb(i){const e=Ae(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(s=>e.Pi.getLastRemoteSnapshotVersion(s)))}function LI(i,e){const s=Ae(i),a=e.snapshotVersion;let o=s.Ms;return s.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=s.Ns.newChangeBuffer({trackRemovals:!0});o=s.Ms;const p=[];e.targetChanges.forEach(((b,T)=>{const S=o.get(T);if(!S)return;p.push(s.Pi.removeMatchingKeys(u,b.removedDocuments,T).next((()=>s.Pi.addMatchingKeys(u,b.addedDocuments,T))));let w=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?w=w.withResumeToken(nn.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):b.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(b.resumeToken,a)),o=o.insert(T,w),(function(G,R,Z){return G.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=MI?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0})(S,w,b)&&p.push(s.Pi.updateTargetData(u,w))}));let _=xs(),g=Pe();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&p.push(s.persistence.referenceDelegate.updateLimboDocument(u,b))})),p.push(kI(u,f,e.documentUpdates).next((b=>{_=b.ks,g=b.qs}))),!a.isEqual(Te.min())){const b=s.Pi.getLastRemoteSnapshotVersion(u).next((T=>s.Pi.setTargetsMetadata(u,u.currentSequenceNumber,a)));p.push(b)}return ne.waitFor(p).next((()=>f.apply(u))).next((()=>s.localDocuments.getLocalViewOfDocuments(u,_,g))).next((()=>_))})).then((u=>(s.Ms=o,u)))}function kI(i,e,s){let a=Pe(),o=Pe();return s.forEach((u=>a=a.add(u))),e.getEntries(i,a).next((u=>{let f=xs();return s.forEach(((p,_)=>{const g=u.get(p);_.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(p)),_.isNoDocument()&&_.version.isEqual(Te.min())?(e.removeEntry(p,_.readTime),f=f.insert(p,_)):!g.isValidDocument()||_.version.compareTo(g.version)>0||_.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(_),f=f.insert(p,_)):ue(fp,"Ignoring outdated watch update for ",p,". Current version:",g.version," Watch version:",_.version)})),{ks:f,qs:o}}))}function PI(i,e){const s=Ae(i);return s.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=ep),s.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function zI(i,e){const s=Ae(i);return s.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return s.Pi.getTargetData(a,e).next((u=>u?(o=u,ne.resolve(o)):s.Pi.allocateTargetId(a).next((f=>(o=new ra(e,f,"TargetPurposeListen",a.currentSequenceNumber),s.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=s.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(s.Ms=s.Ms.insert(a.targetId,a),s.xs.set(e,a.targetId)),a}))}async function Cm(i,e,s){const a=Ae(i),o=a.Ms.get(e),u=s?"readwrite":"readwrite-primary";try{s||await a.persistence.runTransaction("Release target",u,(f=>a.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!bl(f))throw f;ue(fp,`Failed to update sequence numbers for target ${e}: ${f}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function hE(i,e,s){const a=Ae(i);let o=Te.min(),u=Pe();return a.persistence.runTransaction("Execute query","readwrite",(f=>(function(_,g,b){const T=Ae(_),S=T.xs.get(b);return S!==void 0?ne.resolve(T.Ms.get(S)):T.Pi.getTargetData(g,b)})(a,f,zi(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(f,p.targetId).next((_=>{u=_}))})).next((()=>a.Fs.getDocumentsMatchingQuery(f,e,s?o:Te.min(),s?u:Pe()))).next((p=>(BI(a,wR(e),p),{documents:p,Qs:u})))))}function BI(i,e,s){let a=i.Os.get(e)||Te.min();s.forEach(((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)})),i.Os.set(e,a)}class fE{constructor(){this.activeTargetIds=OR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class HI{constructor(){this.Mo=new fE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,s,a){}addLocalQueryTarget(e,s=!0){return s&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,s,a){this.xo[e]=s}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new fE,Promise.resolve()}handleUserChange(e,s,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="ConnectivityMonitor";class mE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(dE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(dE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mc=null;function Dm(){return Mc===null?Mc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Mc++,"0x"+Mc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm="RestConnection",qI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class FI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const s=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=s+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===ah?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,s,a,o,u){const f=Dm(),p=this.zo(e,s.toUriEncodedString());ue(nm,`Sending RPC '${e}' ${f}:`,p,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,o,u);const{host:g}=new URL(p),b=Qm(g);return this.Jo(e,p,_,a,b).then((T=>(ue(nm,`Received RPC '${e}' ${f}: `,T),T)),(T=>{throw hl(nm,`RPC '${e}' ${f} failed with error: `,T,"url: ",p,"request:",a),T}))}Ho(e,s,a,o,u,f){return this.Go(e,s,a,o,u)}jo(e,s,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+El})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach(((o,u)=>e[u]=o)),a&&a.headers.forEach(((o,u)=>e[u]=o))}zo(e,s){const a=qI[e];return`${this.Uo}/v1/${s}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class KI extends FI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,s,a,o,u){const f=Dm();return new Promise(((p,_)=>{const g=new x1;g.setWithCredentials(!0),g.listenOnce(S1.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Hc.NO_ERROR:const T=g.getResponseJson();ue(rn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(T)),p(T);break;case Hc.TIMEOUT:ue(rn,`RPC '${e}' ${f} timed out`),_(new fe(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Hc.HTTP_ERROR:const S=g.getStatus();if(ue(rn,`RPC '${e}' ${f} failed with status:`,S,"response text:",g.getResponseText()),S>0){let w=g.getResponseJson();Array.isArray(w)&&(w=w[0]);const B=w==null?void 0:w.error;if(B&&B.status&&B.message){const G=(function(Z){const se=Z.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(se)>=0?se:ie.UNKNOWN})(B.status);_(new fe(G,B.message))}else _(new fe(ie.UNKNOWN,"Server responded with status "+g.getStatus()))}else _(new fe(ie.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ue(rn,`RPC '${e}' ${f} completed.`)}}));const b=JSON.stringify(o);ue(rn,`RPC '${e}' ${f} sending request:`,o),g.send(s,"POST",b,a,15)}))}T_(e,s,a){const o=Dm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=N1(),p=w1(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(_.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,s,a),_.encodeInitMessageHeaders=!0;const b=u.join("");ue(rn,`Creating RPC '${e}' stream ${o}: ${b}`,_);const T=f.createWebChannel(b,_);this.I_(T);let S=!1,w=!1;const B=new YI({Yo:R=>{w?ue(rn,`Not sending because RPC '${e}' stream ${o} is closed:`,R):(S||(ue(rn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),S=!0),ue(rn,`RPC '${e}' stream ${o} sending:`,R),T.send(R))},Zo:()=>T.close()}),G=(R,Z,se)=>{R.listen(Z,(Q=>{try{se(Q)}catch(he){setTimeout((()=>{throw he}),0)}}))};return G(T,Io.EventType.OPEN,(()=>{w||(ue(rn,`RPC '${e}' stream ${o} transport opened.`),B.o_())})),G(T,Io.EventType.CLOSE,(()=>{w||(w=!0,ue(rn,`RPC '${e}' stream ${o} transport closed`),B.a_(),this.E_(T))})),G(T,Io.EventType.ERROR,(R=>{w||(w=!0,hl(rn,`RPC '${e}' stream ${o} transport errored. Name:`,R.name,"Message:",R.message),B.a_(new fe(ie.UNAVAILABLE,"The operation could not be completed")))})),G(T,Io.EventType.MESSAGE,(R=>{var Z;if(!w){const se=R.data[0];Qe(!!se,16349);const Q=se,he=(Q==null?void 0:Q.error)||((Z=Q[0])==null?void 0:Z.error);if(he){ue(rn,`RPC '${e}' stream ${o} received error:`,he);const me=he.status;let pe=(function(I){const U=Lt[I];if(U!==void 0)return rb(U)})(me),C=he.message;pe===void 0&&(pe=ie.INTERNAL,C="Unknown error status: "+me+" with message "+he.message),w=!0,B.a_(new fe(pe,C)),T.close()}else ue(rn,`RPC '${e}' stream ${o} received:`,se),B.u_(se)}})),G(p,A1.STAT_EVENT,(R=>{R.stat===Em.PROXY?ue(rn,`RPC '${e}' stream ${o} detected buffering proxy`):R.stat===Em.NOPROXY&&ue(rn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{B.__()}),0),B}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((s=>s===e))}}function im(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mh(i){return new JR(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e,s,a=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=s,this.d_=a,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const s=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,s-a);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${s} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="PersistentStream";class bb{constructor(e,s,a,o,u,f,p,_){this.Mi=e,this.S_=a,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new vb(e,s)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,s){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():s&&s.code===ie.RESOURCE_EXHAUSTED?(Ts(s.toString()),Ts("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):s&&s.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(s)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),s=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===s&&this.G_(a,o)}),(a=>{e((()=>{const o=new fe(ie.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,s){const a=this.W_(this.D_);this.stream=this.j_(e,s),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(pE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return s=>{this.Mi.enqueueAndForget((()=>this.D_===e?s():(ue(pE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class $I extends bb{constructor(e,s,a,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",s,a,o,f),this.serializer=u}j_(e,s){return this.connection.T_("Listen",e,s)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const s=eI(this.serializer,e),a=(function(u){if(!("targetChange"in u))return Te.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Te.min():f.readTime?Bi(f.readTime):Te.min()})(e);return this.listener.H_(s,a)}Y_(e){const s={};s.database=Im(this.serializer),s.addTarget=(function(u,f){let p;const _=f.target;if(p=Sm(_)?{documents:iI(u,_)}:{query:sI(u,_).ft},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=ub(u,f.resumeToken);const g=wm(u,f.expectedCount);g!==null&&(p.expectedCount=g)}else if(f.snapshotVersion.compareTo(Te.min())>0){p.readTime=hh(u,f.snapshotVersion.toTimestamp());const g=wm(u,f.expectedCount);g!==null&&(p.expectedCount=g)}return p})(this.serializer,e);const a=rI(this.serializer,e);a&&(s.labels=a),this.q_(s)}Z_(e){const s={};s.database=Im(this.serializer),s.removeTarget=e,this.q_(s)}}class QI extends bb{constructor(e,s,a,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",s,a,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,s){return this.connection.T_("Write",e,s)}J_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const s=nI(e.writeResults,e.commitTime),a=Bi(e.commitTime);return this.listener.na(a,s)}ra(){const e={};e.database=Im(this.serializer),this.q_(e)}ea(e){const s={streamToken:this.lastStreamToken,writes:e.map((a=>tI(this.serializer,a)))};this.q_(s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{}class JI extends XI{constructor(e,s,a,o){super(),this.authCredentials=e,this.appCheckCredentials=s,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new fe(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,s,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Nm(s,a),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(ie.UNKNOWN,u.toString())}))}Ho(e,s,a,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,p])=>this.connection.Ho(e,Nm(s,a),o,f,p,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new fe(ie.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class ZI{constructor(e,s){this.asyncQueue=e,this.onlineStateHandler=s,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const s=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ts(s),this.aa=!1):ue("OnlineStateTracker",s)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ir="RemoteStore";class WI{constructor(e,s,a,o,u){this.localStore=e,this.datastore=s,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{a.enqueueAndForget((async()=>{rr(this)&&(ue(ir,"Restarting streams for network reachability change."),await(async function(_){const g=Ae(_);g.Ea.add(4),await tu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await jh(g)})(this))}))})),this.Ra=new ZI(a,o)}}async function jh(i){if(rr(i))for(const e of i.da)await e(!0)}async function tu(i){for(const e of i.da)await e(!1)}function Tb(i,e){const s=Ae(i);s.Ia.has(e.targetId)||(s.Ia.set(e.targetId,e),gp(s)?pp(s):Tl(s).O_()&&mp(s,e))}function dp(i,e){const s=Ae(i),a=Tl(s);s.Ia.delete(e),a.O_()&&xb(s,e),s.Ia.size===0&&(a.O_()?a.L_():rr(s)&&s.Ra.set("Unknown"))}function mp(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const s=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(s)}Tl(i).Y_(e)}function xb(i,e){i.Va.Ue(e),Tl(i).Z_(e)}function pp(i){i.Va=new KR({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Tl(i).start(),i.Ra.ua()}function gp(i){return rr(i)&&!Tl(i).x_()&&i.Ia.size>0}function rr(i){return Ae(i).Ea.size===0}function Sb(i){i.Va=void 0}async function eC(i){i.Ra.set("Online")}async function tC(i){i.Ia.forEach(((e,s)=>{mp(i,e)}))}async function nC(i,e){Sb(i),gp(i)?(i.Ra.ha(e),pp(i)):i.Ra.set("Unknown")}async function iC(i,e,s){if(i.Ra.set("Online"),e instanceof ob&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o.Ia.delete(p),o.Va.removeTarget(p))})(i,e)}catch(a){ue(ir,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await dh(i,a)}else if(e instanceof Yc?i.Va.Ze(e):e instanceof lb?i.Va.st(e):i.Va.tt(e),!s.isEqual(Te.min()))try{const a=await Eb(i.localStore);s.compareTo(a)>=0&&await(function(u,f){const p=u.Va.Tt(f);return p.targetChanges.forEach(((_,g)=>{if(_.resumeToken.approximateByteSize()>0){const b=u.Ia.get(g);b&&u.Ia.set(g,b.withResumeToken(_.resumeToken,f))}})),p.targetMismatches.forEach(((_,g)=>{const b=u.Ia.get(_);if(!b)return;u.Ia.set(_,b.withResumeToken(nn.EMPTY_BYTE_STRING,b.snapshotVersion)),xb(u,_);const T=new ra(b.target,_,g,b.sequenceNumber);mp(u,T)})),u.remoteSyncer.applyRemoteEvent(p)})(i,s)}catch(a){ue(ir,"Failed to raise snapshot:",a),await dh(i,a)}}async function dh(i,e,s){if(!bl(e))throw e;i.Ea.add(1),await tu(i),i.Ra.set("Offline"),s||(s=()=>Eb(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ue(ir,"Retrying IndexedDB access"),await s(),i.Ea.delete(1),await jh(i)}))}function Ab(i,e){return e().catch((s=>dh(i,s,e)))}async function Vh(i){const e=Ae(i),s=pa(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ep;for(;sC(e);)try{const o=await PI(e.localStore,a);if(o===null){e.Ta.length===0&&s.L_();break}a=o.batchId,aC(e,o)}catch(o){await dh(e,o)}wb(e)&&Nb(e)}function sC(i){return rr(i)&&i.Ta.length<10}function aC(i,e){i.Ta.push(e);const s=pa(i);s.O_()&&s.X_&&s.ea(e.mutations)}function wb(i){return rr(i)&&!pa(i).x_()&&i.Ta.length>0}function Nb(i){pa(i).start()}async function rC(i){pa(i).ra()}async function lC(i){const e=pa(i);for(const s of i.Ta)e.ea(s.mutations)}async function oC(i,e,s){const a=i.Ta.shift(),o=rp.from(a,e,s);await Ab(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Vh(i)}async function uC(i,e){e&&pa(i).X_&&await(async function(a,o){if((function(f){return qR(f)&&f!==ie.ABORTED})(o.code)){const u=a.Ta.shift();pa(a).B_(),await Ab(a,(()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Vh(a)}})(i,e),wb(i)&&Nb(i)}async function gE(i,e){const s=Ae(i);s.asyncQueue.verifyOperationInProgress(),ue(ir,"RemoteStore received new credentials");const a=rr(s);s.Ea.add(3),await tu(s),a&&s.Ra.set("Unknown"),await s.remoteSyncer.handleCredentialChange(e),s.Ea.delete(3),await jh(s)}async function cC(i,e){const s=Ae(i);e?(s.Ea.delete(2),await jh(s)):e||(s.Ea.add(2),await tu(s),s.Ra.set("Unknown"))}function Tl(i){return i.ma||(i.ma=(function(s,a,o){const u=Ae(s);return u.sa(),new $I(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:eC.bind(null,i),t_:tC.bind(null,i),r_:nC.bind(null,i),H_:iC.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),gp(i)?pp(i):i.Ra.set("Unknown")):(await i.ma.stop(),Sb(i))}))),i.ma}function pa(i){return i.fa||(i.fa=(function(s,a,o){const u=Ae(s);return u.sa(),new QI(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:rC.bind(null,i),r_:uC.bind(null,i),ta:lC.bind(null,i),na:oC.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Vh(i)):(await i.fa.stop(),i.Ta.length>0&&(ue(ir,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e,s,a,o,u){this.asyncQueue=e,this.timerId=s,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new Es,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,s,a,o,u){const f=Date.now()+a,p=new yp(e,s,f,o,u);return p.start(a),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _p(i,e){if(Ts("AsyncQueue",`${e}: ${i}`),bl(i))return new fe(ie.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{static emptySet(e){return new ol(e.comparator)}constructor(e){this.comparator=e?(s,a)=>e(s,a)||_e.comparator(s.key,a.key):(s,a)=>_e.comparator(s.key,a.key),this.keyedMap=Co(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const s=this.keyedMap.get(e);return s?this.sortedSet.indexOf(s):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((s,a)=>(e(s),!1)))}add(e){const s=this.delete(e.key);return s.copy(s.keyedMap.insert(e.key,e),s.sortedSet.insert(e,null))}delete(e){const s=this.get(e);return s?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(s)):this}isEqual(e){if(!(e instanceof ol)||this.size!==e.size)return!1;const s=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;s.hasNext();){const o=s.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((s=>{e.push(s.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,s){const a=new ol;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=s,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(){this.ga=new vt(_e.comparator)}track(e){const s=e.doc.key,a=this.ga.get(s);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(s,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(s,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(s,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(s,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(s):e.type===1&&a.type===2?this.ga=this.ga.insert(s,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(s,{type:2,doc:e.doc}):be(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(s,e)}ya(){const e=[];return this.ga.inorderTraversal(((s,a)=>{e.push(a)})),e}}class gl{constructor(e,s,a,o,u,f,p,_,g){this.query=e,this.docs=s,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=g}static fromInitialDocuments(e,s,a,o,u){const f=[];return s.forEach((p=>{f.push({type:0,doc:p})})),new gl(e,s,ol.emptySet(s),f,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const s=this.docChanges,a=e.docChanges;if(s.length!==a.length)return!1;for(let o=0;o<s.length;o++)if(s[o].type!==a[o].type||!s[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class fC{constructor(){this.queries=_E(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(s,a){const o=Ae(s),u=o.queries;o.queries=_E(),u.forEach(((f,p)=>{for(const _ of p.Sa)_.onError(a)}))})(this,new fe(ie.ABORTED,"Firestore shutting down"))}}function _E(){return new ar((i=>$1(i)),Nh)}async function Ep(i,e){const s=Ae(i);let a=3;const o=e.query;let u=s.queries.get(o);u?!u.ba()&&e.Da()&&(a=2):(u=new hC,a=e.Da()?0:1);try{switch(a){case 0:u.wa=await s.onListen(o,!0);break;case 1:u.wa=await s.onListen(o,!1);break;case 2:await s.onFirstRemoteStoreListen(o)}}catch(f){const p=_p(f,`Initialization of query '${nl(e.query)}' failed`);return void e.onError(p)}s.queries.set(o,u),u.Sa.push(e),e.va(s.onlineState),u.wa&&e.Fa(u.wa)&&bp(s)}async function vp(i,e){const s=Ae(i),a=e.query;let o=3;const u=s.queries.get(a);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return s.queries.delete(a),s.onUnlisten(a,!0);case 1:return s.queries.delete(a),s.onUnlisten(a,!1);case 2:return s.onLastRemoteStoreUnlisten(a);default:return}}function dC(i,e){const s=Ae(i);let a=!1;for(const o of e){const u=o.query,f=s.queries.get(u);if(f){for(const p of f.Sa)p.Fa(o)&&(a=!0);f.wa=o}}a&&bp(s)}function mC(i,e,s){const a=Ae(i),o=a.queries.get(e);if(o)for(const u of o.Sa)u.onError(s);a.queries.delete(e)}function bp(i){i.Ca.forEach((e=>{e.next()}))}var Om,EE;(EE=Om||(Om={})).Ma="default",EE.Cache="cache";class Tp{constructor(e,s,a){this.query=e,this.xa=s,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new gl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let s=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),s=!0):this.La(e,this.onlineState)&&(this.ka(e),s=!0),this.Na=e,s}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let s=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),s=!0),s}La(e,s){if(!e.fromCache||!this.Da())return!0;const a=s!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||s==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const s=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!s)&&this.options.includeMetadataChanges===!0}ka(e){e=gl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Om.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e){this.key=e}}class Ib{constructor(e){this.key=e}}class pC{constructor(e,s){this.query=e,this.Ya=s,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pe(),this.mutatedKeys=Pe(),this.eu=Q1(e),this.tu=new ol(this.eu)}get nu(){return this.Ya}ru(e,s){const a=s?s.iu:new yE,o=s?s.tu:this.tu;let u=s?s.mutatedKeys:this.mutatedKeys,f=o,p=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((b,T)=>{const S=o.get(b),w=Rh(this.query,T)?T:null,B=!!S&&this.mutatedKeys.has(S.key),G=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let R=!1;S&&w?S.data.isEqual(w.data)?B!==G&&(a.track({type:3,doc:w}),R=!0):this.su(S,w)||(a.track({type:2,doc:w}),R=!0,(_&&this.eu(w,_)>0||g&&this.eu(w,g)<0)&&(p=!0)):!S&&w?(a.track({type:0,doc:w}),R=!0):S&&!w&&(a.track({type:1,doc:S}),R=!0,(_||g)&&(p=!0)),R&&(w?(f=f.add(w),u=G?u.add(b):u.delete(b)):(f=f.delete(b),u=u.delete(b)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const b=this.query.limitType==="F"?f.last():f.first();f=f.delete(b.key),u=u.delete(b.key),a.track({type:1,doc:b})}return{tu:f,iu:a,Cs:p,mutatedKeys:u}}su(e,s){return e.hasLocalMutations&&s.hasCommittedMutations&&!s.hasLocalMutations}applyChanges(e,s,a,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((b,T)=>(function(w,B){const G=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Rt:R})}};return G(w)-G(B)})(b.type,T.type)||this.eu(b.doc,T.doc))),this.ou(a),o=o??!1;const p=s&&!o?this._u():[],_=this.Xa.size===0&&this.current&&!o?1:0,g=_!==this.Za;return this.Za=_,f.length!==0||g?{snapshot:new gl(this.query,e.tu,u,f,e.mutatedKeys,_===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new yE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((s=>this.Ya=this.Ya.add(s))),e.modifiedDocuments.forEach((s=>{})),e.removedDocuments.forEach((s=>this.Ya=this.Ya.delete(s))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Pe(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const s=[];return e.forEach((a=>{this.Xa.has(a)||s.push(new Ib(a))})),this.Xa.forEach((a=>{e.has(a)||s.push(new Rb(a))})),s}cu(e){this.Ya=e.Qs,this.Xa=Pe();const s=this.ru(e.documents);return this.applyChanges(s,!0)}lu(){return gl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const xp="SyncEngine";class gC{constructor(e,s,a){this.query=e,this.targetId=s,this.view=a}}class yC{constructor(e){this.key=e,this.hu=!1}}class _C{constructor(e,s,a,o,u,f){this.localStore=e,this.remoteStore=s,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ar((p=>$1(p)),Nh),this.Iu=new Map,this.Eu=new Set,this.du=new vt(_e.comparator),this.Au=new Map,this.Ru=new up,this.Vu={},this.mu=new Map,this.fu=pl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function EC(i,e,s=!0){const a=Vb(i);let o;const u=a.Tu.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Cb(a,e,s,!0),o}async function vC(i,e){const s=Vb(i);await Cb(s,e,!0,!1)}async function Cb(i,e,s,a){const o=await zI(i.localStore,zi(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,s);let p;return a&&(p=await bC(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&s&&Tb(i.remoteStore,o),p}async function bC(i,e,s,a,o){i.pu=(T,S,w)=>(async function(G,R,Z,se){let Q=R.view.ru(Z);Q.Cs&&(Q=await hE(G.localStore,R.query,!1).then((({documents:C})=>R.view.ru(C,Q))));const he=se&&se.targetChanges.get(R.targetId),me=se&&se.targetMismatches.get(R.targetId)!=null,pe=R.view.applyChanges(Q,G.isPrimaryClient,he,me);return bE(G,R.targetId,pe.au),pe.snapshot})(i,T,S,w);const u=await hE(i.localStore,e,!0),f=new pC(e,u.Qs),p=f.ru(u.documents),_=eu.createSynthesizedTargetChangeForCurrentChange(s,a&&i.onlineState!=="Offline",o),g=f.applyChanges(p,i.isPrimaryClient,_);bE(i,s,g.au);const b=new gC(e,s,f);return i.Tu.set(e,b),i.Iu.has(s)?i.Iu.get(s).push(e):i.Iu.set(s,[e]),g.snapshot}async function TC(i,e,s){const a=Ae(i),o=a.Tu.get(e),u=a.Iu.get(o.targetId);if(u.length>1)return a.Iu.set(o.targetId,u.filter((f=>!Nh(f,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Cm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),s&&dp(a.remoteStore,o.targetId),Mm(a,o.targetId)})).catch(vl)):(Mm(a,o.targetId),await Cm(a.localStore,o.targetId,!0))}async function xC(i,e){const s=Ae(i),a=s.Tu.get(e),o=s.Iu.get(a.targetId);s.isPrimaryClient&&o.length===1&&(s.sharedClientState.removeLocalQueryTarget(a.targetId),dp(s.remoteStore,a.targetId))}async function SC(i,e,s){const a=DC(i);try{const o=await(function(f,p){const _=Ae(f),g=ht.now(),b=p.reduce(((w,B)=>w.add(B.key)),Pe());let T,S;return _.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let B=xs(),G=Pe();return _.Ns.getEntries(w,b).next((R=>{B=R,B.forEach(((Z,se)=>{se.isValidDocument()||(G=G.add(Z))}))})).next((()=>_.localDocuments.getOverlayedDocuments(w,B))).next((R=>{T=R;const Z=[];for(const se of p){const Q=PR(se,T.get(se.key).overlayedDocument);Q!=null&&Z.push(new va(se.key,Q,B1(Q.value.mapValue),wn.exists(!0)))}return _.mutationQueue.addMutationBatch(w,g,Z,p)})).next((R=>{S=R;const Z=R.applyToLocalDocumentSet(T,G);return _.documentOverlayCache.saveOverlays(w,R.batchId,Z)}))})).then((()=>({batchId:S.batchId,changes:J1(T)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(f,p,_){let g=f.Vu[f.currentUser.toKey()];g||(g=new vt(ke)),g=g.insert(p,_),f.Vu[f.currentUser.toKey()]=g})(a,o.batchId,s),await nu(a,o.changes),await Vh(a.remoteStore)}catch(o){const u=_p(o,"Failed to persist write");s.reject(u)}}async function Db(i,e){const s=Ae(i);try{const a=await LI(s.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=s.Au.get(u);f&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Qe(f.hu,14607):o.removedDocuments.size>0&&(Qe(f.hu,42227),f.hu=!1))})),await nu(s,a,e)}catch(a){await vl(a)}}function vE(i,e,s){const a=Ae(i);if(a.isPrimaryClient&&s===0||!a.isPrimaryClient&&s===1){const o=[];a.Tu.forEach(((u,f)=>{const p=f.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(f,p){const _=Ae(f);_.onlineState=p;let g=!1;_.queries.forEach(((b,T)=>{for(const S of T.Sa)S.va(p)&&(g=!0)})),g&&bp(_)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function AC(i,e,s){const a=Ae(i);a.sharedClientState.updateQueryState(e,"rejected",s);const o=a.Au.get(e),u=o&&o.key;if(u){let f=new vt(_e.comparator);f=f.insert(u,on.newNoDocument(u,Te.min()));const p=Pe().add(u),_=new Oh(Te.min(),new Map,new vt(ke),f,p);await Db(a,_),a.du=a.du.remove(u),a.Au.delete(e),Sp(a)}else await Cm(a.localStore,e,!1).then((()=>Mm(a,e,s))).catch(vl)}async function wC(i,e){const s=Ae(i),a=e.batch.batchId;try{const o=await UI(s.localStore,e);Mb(s,a,null),Ob(s,a),s.sharedClientState.updateMutationState(a,"acknowledged"),await nu(s,o)}catch(o){await vl(o)}}async function NC(i,e,s){const a=Ae(i);try{const o=await(function(f,p){const _=Ae(f);return _.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let b;return _.mutationQueue.lookupMutationBatch(g,p).next((T=>(Qe(T!==null,37113),b=T.keys(),_.mutationQueue.removeMutationBatch(g,T)))).next((()=>_.mutationQueue.performConsistencyCheck(g))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(g,b,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,b))).next((()=>_.localDocuments.getDocuments(g,b)))}))})(a.localStore,e);Mb(a,e,s),Ob(a,e),a.sharedClientState.updateMutationState(e,"rejected",s),await nu(a,o)}catch(o){await vl(o)}}function Ob(i,e){(i.mu.get(e)||[]).forEach((s=>{s.resolve()})),i.mu.delete(e)}function Mb(i,e,s){const a=Ae(i);let o=a.Vu[a.currentUser.toKey()];if(o){const u=o.get(e);u&&(s?u.reject(s):u.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function Mm(i,e,s=null){i.sharedClientState.removeLocalQueryTarget(e);for(const a of i.Iu.get(e))i.Tu.delete(a),s&&i.Pu.yu(a,s);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((a=>{i.Ru.containsKey(a)||jb(i,a)}))}function jb(i,e){i.Eu.delete(e.path.canonicalString());const s=i.du.get(e);s!==null&&(dp(i.remoteStore,s),i.du=i.du.remove(e),i.Au.delete(s),Sp(i))}function bE(i,e,s){for(const a of s)a instanceof Rb?(i.Ru.addReference(a.key,e),RC(i,a)):a instanceof Ib?(ue(xp,"Document no longer in limbo: "+a.key),i.Ru.removeReference(a.key,e),i.Ru.containsKey(a.key)||jb(i,a.key)):be(19791,{wu:a})}function RC(i,e){const s=e.key,a=s.path.canonicalString();i.du.get(s)||i.Eu.has(a)||(ue(xp,"New document in limbo: "+s),i.Eu.add(a),Sp(i))}function Sp(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const s=new _e(ct.fromString(e)),a=i.fu.next();i.Au.set(a,new yC(s)),i.du=i.du.insert(s,a),Tb(i.remoteStore,new ra(zi(wh(s.path)),a,"TargetPurposeLimboResolution",Th.ce))}}async function nu(i,e,s){const a=Ae(i),o=[],u=[],f=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,_)=>{f.push(a.pu(_,e,s).then((g=>{var b;if((g||s)&&a.isPrimaryClient){const T=g?!g.fromCache:(b=s==null?void 0:s.targetChanges.get(_.targetId))==null?void 0:b.current;a.sharedClientState.updateQueryState(_.targetId,T?"current":"not-current")}if(g){o.push(g);const T=hp.As(_.targetId,g);u.push(T)}})))})),await Promise.all(f),a.Pu.H_(o),await(async function(_,g){const b=Ae(_);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ne.forEach(g,(S=>ne.forEach(S.Es,(w=>b.persistence.referenceDelegate.addReference(T,S.targetId,w))).next((()=>ne.forEach(S.ds,(w=>b.persistence.referenceDelegate.removeReference(T,S.targetId,w)))))))))}catch(T){if(!bl(T))throw T;ue(fp,"Failed to update sequence numbers: "+T)}for(const T of g){const S=T.targetId;if(!T.fromCache){const w=b.Ms.get(S),B=w.snapshotVersion,G=w.withLastLimboFreeSnapshotVersion(B);b.Ms=b.Ms.insert(S,G)}}})(a.localStore,u))}async function IC(i,e){const s=Ae(i);if(!s.currentUser.isEqual(e)){ue(xp,"User change. New user:",e.toKey());const a=await _b(s.localStore,e);s.currentUser=e,(function(u,f){u.mu.forEach((p=>{p.forEach((_=>{_.reject(new fe(ie.CANCELLED,f))}))})),u.mu.clear()})(s,"'waitForPendingWrites' promise is rejected due to a user change."),s.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await nu(s,a.Ls)}}function CC(i,e){const s=Ae(i),a=s.Au.get(e);if(a&&a.hu)return Pe().add(a.key);{let o=Pe();const u=s.Iu.get(e);if(!u)return o;for(const f of u){const p=s.Tu.get(f);o=o.unionWith(p.view.nu)}return o}}function Vb(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Db.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AC.bind(null,e),e.Pu.H_=dC.bind(null,e.eventManager),e.Pu.yu=mC.bind(null,e.eventManager),e}function DC(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=NC.bind(null,e),e}class mh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,s){return null}Mu(e,s){return null}vu(e){return VI(this.persistence,new OI,e.initialUser,this.serializer)}Cu(e){return new yb(cp.mi,this.serializer)}Du(e){return new HI}async terminate(){var e,s;(e=this.gcScheduler)==null||e.stop(),(s=this.indexBackfillerScheduler)==null||s.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mh.provider={build:()=>new mh};class OC extends mh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,s){Qe(this.persistence.referenceDelegate instanceof fh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new yI(a,e.asyncQueue,s)}Cu(e){const s=this.cacheSizeBytes!==void 0?xn.withCacheSize(this.cacheSizeBytes):xn.DEFAULT;return new yb((a=>fh.mi(a,s)),this.serializer)}}class jm{async initialize(e,s){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(s),this.remoteStore=this.createRemoteStore(s),this.eventManager=this.createEventManager(s),this.syncEngine=this.createSyncEngine(s,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>vE(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=IC.bind(null,this.syncEngine),await cC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new fC})()}createDatastore(e){const s=Mh(e.databaseInfo.databaseId),a=(function(u){return new KI(u)})(e.databaseInfo);return(function(u,f,p,_){return new JI(u,f,p,_)})(e.authCredentials,e.appCheckCredentials,a,s)}createRemoteStore(e){return(function(a,o,u,f,p){return new WI(a,o,u,f,p)})(this.localStore,this.datastore,e.asyncQueue,(s=>vE(this.syncEngine,s,0)),(function(){return mE.v()?new mE:new GI})())}createSyncEngine(e,s){return(function(o,u,f,p,_,g,b){const T=new _C(o,u,f,p,_,g);return b&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,s)}async terminate(){var e,s;await(async function(o){const u=Ae(o);ue(ir,"RemoteStore shutting down."),u.Ea.add(5),await tu(u),u.Aa.shutdown(),u.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(s=this.eventManager)==null||s.terminate()}}jm.provider={build:()=>new jm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ts("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,s){setTimeout((()=>{this.muted||e(s)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga="FirestoreClient";class MC{constructor(e,s,a,o,u){this.authCredentials=e,this.appCheckCredentials=s,this.asyncQueue=a,this.databaseInfo=o,this.user=ln.UNAUTHENTICATED,this.clientId=Zm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,(async f=>{ue(ga,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(a,(f=>(ue(ga,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Es;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(s){const a=_p(s,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function sm(i,e){i.asyncQueue.verifyOperationInProgress(),ue(ga,"Initializing OfflineComponentProvider");const s=i.configuration;await e.initialize(s);let a=s.initialUser;i.setCredentialChangeListener((async o=>{a.isEqual(o)||(await _b(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function TE(i,e){i.asyncQueue.verifyOperationInProgress();const s=await jC(i);ue(ga,"Initializing OnlineComponentProvider"),await e.initialize(s,i.configuration),i.setCredentialChangeListener((a=>gE(e.remoteStore,a))),i.setAppCheckTokenChangeListener(((a,o)=>gE(e.remoteStore,o))),i._onlineComponents=e}async function jC(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ue(ga,"Using user provided OfflineComponentProvider");try{await sm(i,i._uninitializedComponentsProvider._offline)}catch(e){const s=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ie.FAILED_PRECONDITION||o.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(s))throw s;hl("Error using user provided cache. Falling back to memory cache: "+s),await sm(i,new mh)}}else ue(ga,"Using default OfflineComponentProvider"),await sm(i,new OC(void 0));return i._offlineComponents}async function Ub(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ue(ga,"Using user provided OnlineComponentProvider"),await TE(i,i._uninitializedComponentsProvider._online)):(ue(ga,"Using default OnlineComponentProvider"),await TE(i,new jm))),i._onlineComponents}function VC(i){return Ub(i).then((e=>e.syncEngine))}async function ph(i){const e=await Ub(i),s=e.eventManager;return s.onListen=EC.bind(null,e.syncEngine),s.onUnlisten=TC.bind(null,e.syncEngine),s.onFirstRemoteStoreListen=vC.bind(null,e.syncEngine),s.onLastRemoteStoreUnlisten=xC.bind(null,e.syncEngine),s}function UC(i,e,s={}){const a=new Es;return i.asyncQueue.enqueueAndForget((async()=>(function(u,f,p,_,g){const b=new Ap({next:S=>{b.Nu(),f.enqueueAndForget((()=>vp(u,T)));const w=S.docs.has(p);!w&&S.fromCache?g.reject(new fe(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&S.fromCache&&_&&_.source==="server"?g.reject(new fe(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),T=new Tp(wh(p.path),b,{includeMetadataChanges:!0,qa:!0});return Ep(u,T)})(await ph(i),i.asyncQueue,e,s,a))),a.promise}function LC(i,e,s={}){const a=new Es;return i.asyncQueue.enqueueAndForget((async()=>(function(u,f,p,_,g){const b=new Ap({next:S=>{b.Nu(),f.enqueueAndForget((()=>vp(u,T))),S.fromCache&&_.source==="server"?g.reject(new fe(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),T=new Tp(p,b,{includeMetadataChanges:!0,qa:!0});return Ep(u,T)})(await ph(i),i.asyncQueue,e,s,a))),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb="firestore.googleapis.com",SE=!0;class AE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kb,this.ssl=SE}else this.host=e.host,this.ssl=e.ssl??SE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=gb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<pI)throw new fe(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ZN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Lb(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Uh{constructor(e,s,a,o){this._authCredentials=e,this._appCheckCredentials=s,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new HN;switch(a.type){case"firstParty":return new YN(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new fe(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(s){const a=xE.get(s);a&&(ue("ComponentProvider","Removing Datastore"),xE.delete(s),a.terminate())})(this),Promise.resolve()}}function kC(i,e,s,a={}){var g;i=An(i,Uh);const o=Qm(e),u=i._getSettings(),f={...u,emulatorOptions:i._getEmulatorOptions()},p=`${e}:${s}`;o&&(y2(`https://${p}`),b2("Firestore",!0)),u.host!==kb&&u.host!==p&&hl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...u,host:p,ssl:o,emulatorOptions:a};if(!th(_,f)&&(i._setSettings(_),a.mockUserToken)){let b,T;if(typeof a.mockUserToken=="string")b=a.mockUserToken,T=ln.MOCK_USER;else{b=_2(a.mockUserToken,(g=i._app)==null?void 0:g.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new fe(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new ln(S)}i._authCredentials=new GN(new I1(b,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,s,a){this.converter=s,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new iu(this.firestore,e,this._query)}}class It{constructor(e,s,a){this.converter=s,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ca(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new It(this.firestore,e,this._key)}toJSON(){return{type:It._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,s,a){if(Zo(s,It._jsonSchema))return new It(e,a||null,new _e(ct.fromString(s.referencePath)))}}It._jsonSchemaVersion="firestore/documentReference/1.0",It._jsonSchema={type:kt("string",It._jsonSchemaVersion),referencePath:kt("string")};class ca extends iu{constructor(e,s,a){super(e,s,wh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new It(this.firestore,null,new _e(e))}withConverter(e){return new ca(this.firestore,e,this._path)}}function Yi(i,e,...s){if(i=gi(i),C1("collection","path",e),i instanceof Uh){const a=ct.fromString(e,...s);return P_(a),new ca(i,null,a)}{if(!(i instanceof It||i instanceof ca))throw new fe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(ct.fromString(e,...s));return P_(a),new ca(i.firestore,null,a)}}function mt(i,e,...s){if(i=gi(i),arguments.length===1&&(e=Zm.newId()),C1("doc","path",e),i instanceof Uh){const a=ct.fromString(e,...s);return k_(a),new It(i,null,new _e(a))}{if(!(i instanceof It||i instanceof ca))throw new fe(ie.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(ct.fromString(e,...s));return k_(a),new It(i.firestore,i instanceof ca?i.converter:null,new _e(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="AsyncQueue";class NE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new vb(this,"async_queue_retry"),this._c=()=>{const a=im();a&&ue(wE,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const s=im();s&&typeof s.addEventListener=="function"&&s.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const s=im();s&&typeof s.removeEventListener=="function"&&s.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const s=new Es;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(s.resolve,s.reject),s.promise))).then((()=>s.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!bl(e))throw e;ue(wE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const s=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Ts("INTERNAL UNHANDLED ERROR: ",RE(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=s,s}enqueueAfterDelay(e,s,a){this.uc(),this.oc.indexOf(e)>-1&&(s=0);const o=yp.createAndSchedule(this,e,s,a,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&be(47125,{Pc:RE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const s of this.tc)if(s.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((s,a)=>s.targetTimeMs-a.targetTimeMs));for(const s of this.tc)if(s.skipDelay(),e!=="all"&&s.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const s=this.tc.indexOf(e);this.tc.splice(s,1)}}function RE(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(i){return(function(s,a){if(typeof s!="object"||s===null)return!1;const o=s;for(const u of a)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class Ss extends Uh{constructor(e,s,a,o){super(e,s,a,o),this.type="firestore",this._queue=new NE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new NE(e),this._firestoreClient=void 0,await e}}}function PC(i,e){const s=typeof i=="object"?i:DN(),a=typeof i=="string"?i:ah,o=wN(s,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=p2("firestore");u&&kC(o,...u)}return o}function su(i){if(i._terminated)throw new fe(ie.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||zC(i),i._firestoreClient}function zC(i){var a,o,u;const e=i._freezeSettings(),s=(function(p,_,g,b){return new uR(p,_,g,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,Lb(b.experimentalLongPollingOptions),b.useFetchStreams,b.isUsingEmulator)})(i._databaseId,((a=i._app)==null?void 0:a.options.appId)||"",i._persistenceKey,e);i._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new MC(i._authCredentials,i._appCheckCredentials,i._queue,s,i._componentsProvider&&(function(p){const _=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(_),_online:_}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ei(nn.fromBase64String(e))}catch(s){throw new fe(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+s)}}static fromUint8Array(e){return new ei(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ei._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Zo(e,ei._jsonSchema))return ei.fromBase64String(e.bytes)}}ei._jsonSchemaVersion="firestore/bytes/1.0",ei._jsonSchema={type:kt("string",ei._jsonSchemaVersion),bytes:kt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(...e){for(let s=0;s<e.length;++s)if(e[s].length===0)throw new fe(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,s){if(!isFinite(e)||e<-90||e>90)throw new fe(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(s)||s<-180||s>180)throw new fe(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+s);this._lat=e,this._long=s}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Hi._jsonSchemaVersion}}static fromJSON(e){if(Zo(e,Hi._jsonSchema))return new Hi(e.latitude,e.longitude)}}Hi._jsonSchemaVersion="firestore/geoPoint/1.0",Hi._jsonSchema={type:kt("string",Hi._jsonSchemaVersion),latitude:kt("number"),longitude:kt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e){this._values=(e||[]).map((s=>s))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Gi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Zo(e,Gi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((s=>typeof s=="number")))return new Gi(e.vectorValues);throw new fe(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Gi._jsonSchemaVersion="firestore/vectorValue/1.0",Gi._jsonSchema={type:kt("string",Gi._jsonSchemaVersion),vectorValues:kt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC=/^__.*__$/;class HC{constructor(e,s,a){this.data=e,this.fieldMask=s,this.fieldTransforms=a}toMutation(e,s){return this.fieldMask!==null?new va(e,this.data,this.fieldMask,s,this.fieldTransforms):new Wo(e,this.data,s,this.fieldTransforms)}}class Pb{constructor(e,s,a){this.data=e,this.fieldMask=s,this.fieldTransforms=a}toMutation(e,s){return new va(e,this.data,this.fieldMask,s,this.fieldTransforms)}}function zb(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{Ac:i})}}class Np{constructor(e,s,a,o,u,f){this.settings=e,this.databaseId=s,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Np({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const s=(o=this.path)==null?void 0:o.child(e),a=this.Vc({path:s,fc:!1});return a.gc(e),a}yc(e){var o;const s=(o=this.path)==null?void 0:o.child(e),a=this.Vc({path:s,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return gh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((s=>e.isPrefixOf(s)))!==void 0||this.fieldTransforms.find((s=>e.isPrefixOf(s.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(zb(this.Ac)&&BC.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class GC{constructor(e,s,a){this.databaseId=e,this.ignoreUndefinedProperties=s,this.serializer=a||Mh(e)}Cc(e,s,a,o=!1){return new Np({Ac:e,methodName:s,Dc:a,path:tn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rp(i){const e=i._freezeSettings(),s=Mh(i._databaseId);return new GC(i._databaseId,!!e.ignoreUndefinedProperties,s)}function Bb(i,e,s,a,o,u={}){const f=i.Cc(u.merge||u.mergeFields?2:0,e,s,o);Ip("Data must be an object, but it was:",f,a);const p=qb(a,f);let _,g;if(u.merge)_=new kn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const b=[];for(const T of u.mergeFields){const S=Vm(e,T,s);if(!f.contains(S))throw new fe(ie.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);Yb(b,S)||b.push(S)}_=new kn(b),g=f.fieldTransforms.filter((T=>_.covers(T.field)))}else _=null,g=f.fieldTransforms;return new HC(new Sn(p),_,g)}class Lh extends wp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Lh}}function Hb(i,e,s,a){const o=i.Cc(1,e,s);Ip("Data must be an object, but it was:",o,a);const u=[],f=Sn.empty();Ea(a,((_,g)=>{const b=Cp(e,_,s);g=gi(g);const T=o.yc(b);if(g instanceof Lh)u.push(b);else{const S=kh(g,T);S!=null&&(u.push(b),f.set(b,S))}}));const p=new kn(u);return new Pb(f,p,o.fieldTransforms)}function Gb(i,e,s,a,o,u){const f=i.Cc(1,e,s),p=[Vm(e,a,s)],_=[o];if(u.length%2!=0)throw new fe(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)p.push(Vm(e,u[S])),_.push(u[S+1]);const g=[],b=Sn.empty();for(let S=p.length-1;S>=0;--S)if(!Yb(g,p[S])){const w=p[S];let B=_[S];B=gi(B);const G=f.yc(w);if(B instanceof Lh)g.push(w);else{const R=kh(B,G);R!=null&&(g.push(w),b.set(w,R))}}const T=new kn(g);return new Pb(b,T,f.fieldTransforms)}function kh(i,e){if(Fb(i=gi(i)))return Ip("Unsupported field value:",e,i),qb(i,e);if(i instanceof wp)return(function(a,o){if(!zb(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const u=[];let f=0;for(const p of a){let _=kh(p,o.wc(f));_==null&&(_={nullValue:"NULL_VALUE"}),u.push(_),f++}return{arrayValue:{values:u}}})(i,e)}return(function(a,o){if((a=gi(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return MR(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=ht.fromDate(a);return{timestampValue:hh(o.serializer,u)}}if(a instanceof ht){const u=new ht(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:hh(o.serializer,u)}}if(a instanceof Hi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ei)return{bytesValue:ub(o.serializer,a._byteString)};if(a instanceof It){const u=o.databaseId,f=a.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:op(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Gi)return(function(f,p){return{mapValue:{fields:{[P1]:{stringValue:z1},[rh]:{arrayValue:{values:f.toArray().map((g=>{if(typeof g!="number")throw p.Sc("VectorValues must only contain numeric values.");return ap(p.serializer,g)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Wm(a)}`)})(i,e)}function qb(i,e){const s={};return M1(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ea(i,((a,o)=>{const u=kh(o,e.mc(a));u!=null&&(s[a]=u)})),{mapValue:{fields:s}}}function Fb(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof ht||i instanceof Hi||i instanceof ei||i instanceof It||i instanceof wp||i instanceof Gi)}function Ip(i,e,s){if(!Fb(s)||!D1(s)){const a=Wm(s);throw a==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+a)}}function Vm(i,e,s){if((e=gi(e))instanceof au)return e._internalPath;if(typeof e=="string")return Cp(i,e);throw gh("Field path arguments must be of type string or ",i,!1,void 0,s)}const qC=new RegExp("[~\\*/\\[\\]]");function Cp(i,e,s){if(e.search(qC)>=0)throw gh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,s);try{return new au(...e.split("."))._internalPath}catch{throw gh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,s)}}function gh(i,e,s,a,o){const u=a&&!a.isEmpty(),f=o!==void 0;let p=`Function ${e}() called with invalid data`;s&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(u||f)&&(_+=" (found",u&&(_+=` in field ${a}`),f&&(_+=` in document ${o}`),_+=")"),new fe(ie.INVALID_ARGUMENT,p+i+_)}function Yb(i,e){return i.some((s=>s.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(e,s,a,o,u){this._firestore=e,this._userDataWriter=s,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new It(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new FC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const s=this._document.data.field($b("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s)}}}class FC extends Kb{data(){return super.data()}}function $b(i,e){return typeof e=="string"?Cp(i,e):e instanceof au?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new fe(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class YC{convertValue(e,s="none"){switch(ma(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,s);case 5:return e.stringValue;case 6:return this.convertBytes(da(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,s);case 11:return this.convertObject(e.mapValue,s);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,s){return this.convertObjectMap(e.fields,s)}convertObjectMap(e,s="none"){const a={};return Ea(e,((o,u)=>{a[o]=this.convertValue(u,s)})),a}convertVectorValue(e){var a,o,u;const s=(u=(o=(a=e.fields)==null?void 0:a[rh].arrayValue)==null?void 0:o.values)==null?void 0:u.map((f=>Rt(f.doubleValue)));return new Gi(s)}convertGeoPoint(e){return new Hi(Rt(e.latitude),Rt(e.longitude))}convertArray(e,s){return(e.values||[]).map((a=>this.convertValue(a,s)))}convertServerTimestamp(e,s){switch(s){case"previous":const a=Sh(e);return a==null?null:this.convertValue(a,s);case"estimate":return this.convertTimestamp(qo(e));default:return null}}convertTimestamp(e){const s=fa(e);return new ht(s.seconds,s.nanos)}convertDocumentKey(e,s){const a=ct.fromString(e);Qe(pb(a),9688,{name:e});const o=new Fo(a.get(1),a.get(3)),u=new _e(a.popFirst(5));return o.isEqual(s)||Ts(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${s.projectId}/${s.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(i,e,s){let a;return a=i?s&&(s.merge||s.mergeFields)?i.toFirestore(e,s):i.toFirestore(e):e,a}class Oo{constructor(e,s){this.hasPendingWrites=e,this.fromCache=s}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wa extends Kb{constructor(e,s,a,o,u,f){super(e,s,a,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const s=new Kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(s,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,s={}){if(this._document){const a=this._document.data.field($b("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,s.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,s={};return s.type=Wa._jsonSchemaVersion,s.bundle="",s.bundleSource="DocumentSnapshot",s.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?s:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),s.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),s)}}Wa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Wa._jsonSchema={type:kt("string",Wa._jsonSchemaVersion),bundleSource:kt("string","DocumentSnapshot"),bundleName:kt("string"),bundle:kt("string")};class Kc extends Wa{data(e={}){return super.data(e)}}class er{constructor(e,s,a,o){this._firestore=e,this._userDataWriter=s,this._snapshot=o,this.metadata=new Oo(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((s=>e.push(s))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,s){this._snapshot.docs.forEach((a=>{e.call(s,new Kc(this._firestore,this._userDataWriter,a.key,a,new Oo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const s=!!e.includeMetadataChanges;if(s&&this._snapshot.excludesMetadataChanges)throw new fe(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===s||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((p=>{const _=new Kc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Oo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const _=new Kc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Oo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,b=-1;return p.type!==0&&(g=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),b=f.indexOf(p.doc.key)),{type:KC(p.type),doc:_,oldIndex:g,newIndex:b}}))}})(this,s),this._cachedChangesIncludeMetadataChanges=s),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=er._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Zm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const s=[],a=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(s.push(u._document),a.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function KC(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(i){i=An(i,It);const e=An(i.firestore,Ss);return UC(su(e),i._key).then((s=>Jb(e,i,s)))}er._jsonSchemaVersion="firestore/querySnapshot/1.0",er._jsonSchema={type:kt("string",er._jsonSchemaVersion),bundleSource:kt("string","QuerySnapshot"),bundleName:kt("string"),bundle:kt("string")};class Dp extends YC{constructor(e){super(),this.firestore=e}convertBytes(e){return new ei(e)}convertReference(e){const s=this.convertDocumentKey(e,this.firestore._databaseId);return new It(this.firestore,null,s)}}function Op(i){i=An(i,iu);const e=An(i.firestore,Ss),s=su(e),a=new Dp(e);return Qb(i._query),LC(s,i._query).then((o=>new er(e,a,i,o)))}function ba(i,e,s){i=An(i,It);const a=An(i.firestore,Ss),o=Xb(i.converter,e,s);return zh(a,[Bb(Rp(a),"setDoc",i._key,o,i.converter!==null,s).toMutation(i._key,wn.none())])}function ya(i,e,s,...a){i=An(i,It);const o=An(i.firestore,Ss),u=Rp(o);let f;return f=typeof(e=gi(e))=="string"||e instanceof au?Gb(u,"updateDoc",i._key,e,s,a):Hb(u,"updateDoc",i._key,e),zh(o,[f.toMutation(i._key,wn.exists(!0))])}function Ph(i){return zh(An(i.firestore,Ss),[new Dh(i._key,wn.none())])}function lr(i,...e){var _,g,b;i=gi(i);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||IE(e[a])||(s=e[a++]);const o={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(IE(e[a])){const T=e[a];e[a]=(_=T.next)==null?void 0:_.bind(T),e[a+1]=(g=T.error)==null?void 0:g.bind(T),e[a+2]=(b=T.complete)==null?void 0:b.bind(T)}let u,f,p;if(i instanceof It)f=An(i.firestore,Ss),p=wh(i._key.path),u={next:T=>{e[a]&&e[a](Jb(f,i,T))},error:e[a+1],complete:e[a+2]};else{const T=An(i,iu);f=An(T.firestore,Ss),p=T._query;const S=new Dp(f);u={next:w=>{e[a]&&e[a](new er(f,S,T,w))},error:e[a+1],complete:e[a+2]},Qb(i._query)}return(function(S,w,B,G){const R=new Ap(G),Z=new Tp(w,R,B);return S.asyncQueue.enqueueAndForget((async()=>Ep(await ph(S),Z))),()=>{R.Nu(),S.asyncQueue.enqueueAndForget((async()=>vp(await ph(S),Z)))}})(su(f),p,o,u)}function zh(i,e){return(function(a,o){const u=new Es;return a.asyncQueue.enqueueAndForget((async()=>SC(await VC(a),o,u))),u.promise})(su(i),e)}function Jb(i,e,s){const a=s.docs.get(e._key),o=new Dp(i);return new Wa(i,o,e._key,a,new Oo(s.hasPendingWrites,s.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e,s){this._firestore=e,this._commitHandler=s,this._mutations=[],this._committed=!1,this._dataReader=Rp(e)}set(e,s,a){this._verifyNotCommitted();const o=am(e,this._firestore),u=Xb(o.converter,s,a),f=Bb(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,a);return this._mutations.push(f.toMutation(o._key,wn.none())),this}update(e,s,a,...o){this._verifyNotCommitted();const u=am(e,this._firestore);let f;return f=typeof(s=gi(s))=="string"||s instanceof au?Gb(this._dataReader,"WriteBatch.update",u._key,s,a,o):Hb(this._dataReader,"WriteBatch.update",u._key,s),this._mutations.push(f.toMutation(u._key,wn.exists(!0))),this}delete(e){this._verifyNotCommitted();const s=am(e,this._firestore);return this._mutations=this._mutations.concat(new Dh(s._key,wn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new fe(ie.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function am(i,e){if((i=gi(i)).firestore!==e)throw new fe(ie.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bh(i){return su(i=An(i,Ss)),new $C(i,(e=>zh(i,e)))}(function(e,s=!0){(function(o){El=o})(CN),ih(new Bo("firestore",((a,{instanceIdentifier:o,options:u})=>{const f=a.getProvider("app").getImmediate(),p=new Ss(new qN(a.getProvider("auth-internal")),new KN(f,a.getProvider("app-check-internal")),(function(g,b){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new fe(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fo(g.options.projectId,b)})(f,o),f);return u={useFetchStreams:s,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),ll(j_,V_,e),ll(j_,V_,"esm2020")})();var QC="firebase",XC="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ll(QC,XC,"app");const JC={apiKey:"AIzaSyDYZ6VUaaDmy-AvS4D9cM3zkN0Vg4lStuk",authDomain:"workshop-36cbe.firebaseapp.com",projectId:"workshop-36cbe",storageBucket:"workshop-36cbe.firebasestorage.app",messagingSenderId:"742601440632",appId:"1:742601440632:web:48e380f7e1441494ba9c8d"},ZC=E1(JC),Oe=PC(ZC),WC=[{id:"p1",name:"",category:"food",price:150,description:"",imageUrl:"https://images.unsplash.com/photo-1558961363-fa8fdf82db35?q=80&w=400&h=300&auto=format&fit=crop",stock:12},{id:"p2",name:"",category:"food",price:80,description:"",imageUrl:"https://images.unsplash.com/photo-1544467316-e97029d2d47b?q=80&w=400&h=300&auto=format&fit=crop",stock:45},{id:"p3",name:"",category:"electronic",price:12e3,description:"",imageUrl:"https://images.unsplash.com/photo-1511707171634-5f897ff02aa9?q=80&w=400&h=300&auto=format&fit=crop",stock:1},{id:"p4",name:"",category:"ticket",price:320,description:"",imageUrl:"https://images.unsplash.com/photo-1489599849927-2ee91cede3ba?q=80&w=400&h=300&auto=format&fit=crop",stock:8},{id:"p5",name:"",category:"food",price:800,description:"",imageUrl:"https://images.unsplash.com/photo-1544739313-6fad02872377?q=80&w=400&h=300&auto=format&fit=crop",stock:3},{id:"p6",name:"",category:"electronic",price:2500,description:"",imageUrl:"https://images.unsplash.com/photo-1505740420928-5e560c06d30e?q=80&w=400&h=300&auto=format&fit=crop",stock:5}],tr=[{name:"",threshold:0,color:"bg-slate-400",icon:""},{name:"",threshold:500,color:"bg-blue-400",icon:""},{name:"",threshold:2e3,color:"bg-green-500",icon:""},{name:"",threshold:5e3,color:"bg-purple-500",icon:""},{name:"",threshold:1e4,color:"bg-orange-500",icon:""},{name:"",threshold:3e4,color:"bg-yellow-500",icon:""}],Mp={USER:"workshop_user"},Ge={STUDENTS:"students",MISSIONS:"missions",PRODUCTS:"products",WISHES:"wishes",REDEMPTIONS:"redemptions",CHALLENGE_HISTORY:"challengeHistory",POINT_REASONS:"pointReasons",MISSION_SUBMISSIONS:"missionSubmissions"},Zb=[{id:"user_zhou",name:"",points:1200,totalEarned:2500,role:ti.STUDENT,avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Zhou",password:"123",grade:"",isApproved:!0},{id:"user_hu",name:"",points:800,totalEarned:1800,role:ti.STUDENT,avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Hu",password:"123",grade:"",isApproved:!0},{id:"user_lin",name:"",points:2100,totalEarned:4200,role:ti.STUDENT,avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Lin",password:"123",grade:"",isApproved:!0}],CE={id:"user_admin",name:"",points:0,totalEarned:0,role:ti.ADMIN,avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Admin",isApproved:!0},DE={id:"user_guest",name:"",points:0,totalEarned:0,role:ti.GUEST,avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Guest",isApproved:!0},Wb=async()=>{try{const i=await Op(Yi(Oe,Ge.STUDENTS));return i.empty?(await eD(),Zb):i.docs.map(e=>({...e.data(),id:e.id}))}catch(i){return console.error("Error fetching students:",i),[]}},eD=async()=>{const i=Bh(Oe);Zb.forEach(e=>{const s=mt(Oe,Ge.STUDENTS,e.id);i.set(s,e)}),await i.commit()},eT=async i=>{try{await ba(mt(Oe,Ge.STUDENTS,i.id),i)}catch(e){console.error("Error saving student:",e),alert("")}},tD=async i=>{const e=Bh(Oe);i.forEach(s=>{const a=mt(Oe,Ge.STUDENTS,s.id);e.set(a,s)}),await e.commit()},nD=async(i,e,s)=>{try{if((await Wb()).some(u=>u.name===i))return!1;const o={id:`user_${Date.now()}`,name:i,password:e,grade:s,points:0,totalEarned:0,role:ti.STUDENT,avatar:`https://api.dicebear.com/7.x/avataaars/svg?seed=${i}`,isApproved:!1};return await eT(o),!0}catch(a){return console.error("Error registering student:",a),!1}},iD=async i=>{try{const e=mt(Oe,Ge.STUDENTS,i);await ya(e,{isApproved:!0})}catch(e){console.error("Error approving student:",e)}},sD=async i=>{try{await Ph(mt(Oe,Ge.STUDENTS,i))}catch(e){console.error("Error deleting student:",e)}},OE=()=>{const i=localStorage.getItem(Mp.USER);return i?JSON.parse(i):null},$c=async i=>{localStorage.setItem(Mp.USER,JSON.stringify(i)),i.role===ti.STUDENT&&await eT(i)},aD=()=>{localStorage.removeItem(Mp.USER)},rD=async i=>{try{await ba(mt(Oe,Ge.REDEMPTIONS,i.id),i)}catch(e){console.error("Error adding redemption:",e)}},lD=async(i,e)=>{try{const s=mt(Oe,Ge.REDEMPTIONS,i);await ya(s,{status:e})}catch(s){console.error("Error updating redemption status:",s)}},oD=[{id:"m1",title:"",description:"",points:100,type:"normal",isActive:!0,maxAttempts:1},{id:"m2",title:" 80 ",description:"",points:300,type:"challenge",isActive:!0,maxAttempts:1},{id:"m3",title:" 90 ",description:"",points:1e3,type:"hard",isActive:!0,maxAttempts:1}],uD=async()=>{const i=Bh(Oe);oD.forEach(e=>{const s=mt(Oe,Ge.MISSIONS,e.id);i.set(s,e)}),await i.commit()},cD=async i=>{try{await ba(mt(Oe,Ge.MISSIONS,i.id),i)}catch(e){console.error("Error adding mission:",e)}},hD=async i=>{try{const e=mt(Oe,Ge.MISSIONS,i),s=await yh(e);if(s.exists()){const a=s.data();await ya(e,{isActive:!a.isActive})}}catch(e){console.error("Error toggling mission:",e)}},fD=async()=>{try{return(await Op(Yi(Oe,Ge.CHALLENGE_HISTORY))).docs.map(e=>({...e.data(),id:e.id}))}catch(i){return console.error("Error fetching challenge history:",i),[]}},dD=async i=>{try{const e=`${i.userId}_${i.missionId}_${Date.now()}`;await ba(mt(Oe,Ge.CHALLENGE_HISTORY,e),i)}catch(e){console.error("Error adding challenge history:",e)}},mD=async(i,e)=>{try{return(await fD()).some(a=>a.userId===i&&a.missionId===e)}catch(s){return console.error("Error checking mission completion:",s),!1}},pD=async i=>{try{await ba(mt(Oe,Ge.MISSION_SUBMISSIONS,i.id),i)}catch(e){console.error("Error submitting mission:",e)}},gD=async i=>{try{const e=mt(Oe,Ge.MISSION_SUBMISSIONS,i),s=await yh(e);if(s.exists()){const a=s.data();await ya(e,{status:"approved"}),await dD({id:`h_${Date.now()}`,userId:a.userId,missionId:a.missionId,timestamp:Date.now()});const o=mt(Oe,Ge.STUDENTS,a.userId),u=await yh(o);if(u.exists()){const f=u.data();await ya(o,{points:f.points+a.points,totalEarned:f.totalEarned+a.points})}}}catch(e){console.error("Error approving mission:",e)}},yD=async i=>{try{const e=mt(Oe,Ge.MISSION_SUBMISSIONS,i);await ya(e,{status:"rejected"})}catch(e){console.error("Error rejecting mission:",e)}},tT=i=>lr(Yi(Oe,Ge.MISSION_SUBMISSIONS),e=>{i(e.docs.map(s=>({...s.data(),id:s.id})))}),_D=async()=>{const i=Bh(Oe);WC.forEach(e=>{const s=mt(Oe,Ge.PRODUCTS,e.id);i.set(s,e)}),await i.commit()},ED=async i=>{try{await ba(mt(Oe,Ge.PRODUCTS,i.id),i)}catch(e){console.error("Error adding product:",e)}},nT=async(i,e)=>{try{const s=mt(Oe,Ge.PRODUCTS,i);await ya(s,{stock:Math.max(0,e)})}catch(s){console.error("Error updating product stock:",s)}},vD=async i=>{try{await Ph(mt(Oe,Ge.PRODUCTS,i))}catch(e){console.error("Error deleting product:",e)}},bD=async i=>{try{await ba(mt(Oe,Ge.POINT_REASONS,i.id),i)}catch(e){console.error("Error adding point reason:",e)}},TD=async i=>{try{await Ph(mt(Oe,Ge.POINT_REASONS,i))}catch(e){console.error("Error deleting point reason:",e)}},xD=i=>lr(Yi(Oe,Ge.POINT_REASONS),e=>{const s=e.docs.map(a=>({...a.data(),id:a.id}));i(s)}),SD=async()=>{try{return(await Op(Yi(Oe,Ge.WISHES))).docs.map(e=>({...e.data(),id:e.id}))}catch(i){return console.error("Error fetching wishes:",i),[]}},AD=async i=>{try{if((await SD()).find(a=>a.userId===i.userId)){alert("");return}await ba(mt(Oe,Ge.WISHES,i.id),i)}catch(e){console.error("Error adding wish:",e),alert(" Firestore  (Test Mode)")}},wD=async i=>{try{await Ph(mt(Oe,Ge.WISHES,i))}catch(e){console.error("Error deleting wish:",e)}},ND=async(i,e)=>{try{const s=mt(Oe,Ge.WISHES,i),a=await yh(s);if(a.exists()){const u=a.data().likedBy||[];if(u.includes(e)){alert("");return}await ya(s,{likedBy:[...u,e]})}}catch(s){console.error("Error liking wish:",s)}},RD=i=>lr(Yi(Oe,Ge.STUDENTS),e=>{const s=e.docs.map(a=>({...a.data(),id:a.id}));i(s)},e=>{console.error("Error in subscribeToStudents:",e)}),iT=i=>lr(Yi(Oe,Ge.MISSIONS),e=>{e.empty&&uD().catch(console.error);const s=e.docs.map(a=>({...a.data(),id:a.id}));i(s)},e=>console.error("Error subscribing to missions:",e)),sT=i=>lr(Yi(Oe,Ge.PRODUCTS),e=>{e.empty&&_D().catch(console.error);const s=e.docs.map(a=>({...a.data(),id:a.id}));i(s)},e=>{console.error("Error subscribing to products:",e),alert("")}),aT=i=>lr(Yi(Oe,Ge.WISHES),e=>{const s=e.docs.map(a=>({...a.data(),id:a.id}));i(s)},e=>console.error("Error subscribing to wishes:",e)),rT=i=>lr(Yi(Oe,Ge.REDEMPTIONS),e=>{const s=e.docs.map(a=>{const o=a.data();return{id:a.id,status:"pending",pointsSpent:0,productName:"",timestamp:Date.now(),userId:"unknown",qrCodeData:"",...o}});i(s)},e=>{console.error("Error subscribing to redemptions:",e)});var ID={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ME;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(ME||(ME={}));var jE;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(jE||(jE={}));var VE;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(VE||(VE={}));var UE;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(UE||(UE={}));var LE;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(LE||(LE={}));var kE;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(kE||(kE={}));var PE;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(PE||(PE={}));var zE;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(zE||(zE={}));var BE;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(BE||(BE={}));var HE;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(HE||(HE={}));var GE;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(GE||(GE={}));var qE;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH",i.MINIMAL="MINIMAL"})(qE||(qE={}));var FE;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(FE||(FE={}));var YE;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(YE||(YE={}));var KE;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(KE||(KE={}));var $E;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE",i.IMAGE_RECITATION="IMAGE_RECITATION",i.IMAGE_OTHER="IMAGE_OTHER"})($E||($E={}));var QE;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(QE||(QE={}));var XE;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(XE||(XE={}));var JE;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(JE||(JE={}));var ZE;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(ZE||(ZE={}));var WE;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(WE||(WE={}));var ev;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(ev||(ev={}));var tv;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(tv||(tv={}));var nv;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(nv||(nv={}));var iv;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(iv||(iv={}));var sv;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(sv||(sv={}));var av;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(av||(av={}));var rv;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",i.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(rv||(rv={}));var lv;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(lv||(lv={}));var ov;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(ov||(ov={}));var uv;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(uv||(uv={}));var cv;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(cv||(cv={}));var hv;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(hv||(hv={}));var fv;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(fv||(fv={}));var dv;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(dv||(dv={}));var mv;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(mv||(mv={}));var pv;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(pv||(pv={}));var gv;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(gv||(gv={}));var yv;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(yv||(yv={}));var _v;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(_v||(_v={}));var Ev;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(Ev||(Ev={}));var vv;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(vv||(vv={}));var bv;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(bv||(bv={}));var Tv;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(Tv||(Tv={}));var xv;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED",i.REGISTERED="REGISTERED"})(xv||(xv={}));var Sv;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Sv||(Sv={}));var Av;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(Av||(Av={}));var wv;(function(i){i.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",i.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",i.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(wv||(wv={}));var Nv;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Nv||(Nv={}));var Rv;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Rv||(Rv={}));var Iv;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(Iv||(Iv={}));var Cv;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Cv||(Cv={}));var Dv;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Dv||(Dv={}));var Ov;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(Ov||(Ov={}));var Mv;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(Mv||(Mv={}));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var jv;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(jv||(jv={}));function _h(i,e){var s={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&e.indexOf(a)<0&&(s[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(i);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(i,a[o])&&(s[a[o]]=i[a[o]]);return s}function Vv(i){var e=typeof Symbol=="function"&&Symbol.iterator,s=e&&i[e],a=0;if(s)return s.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&a>=i.length&&(i=void 0),{value:i&&i[a++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function _t(i){return this instanceof _t?(this.v=i,this):new _t(i)}function Po(i,e,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=s.apply(i,e||[]),o,u=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",f),o[Symbol.asyncIterator]=function(){return this},o;function f(w){return function(B){return Promise.resolve(B).then(w,T)}}function p(w,B){a[w]&&(o[w]=function(G){return new Promise(function(R,Z){u.push([w,G,R,Z])>1||_(w,G)})},B&&(o[w]=B(o[w])))}function _(w,B){try{g(a[w](B))}catch(G){S(u[0][3],G)}}function g(w){w.value instanceof _t?Promise.resolve(w.value.v).then(b,T):S(u[0][2],w)}function b(w){_("next",w)}function T(w){_("throw",w)}function S(w,B){w(B),u.shift(),u.length&&_(u[0][0],u[0][1])}}function ul(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=i[Symbol.asyncIterator],s;return e?e.call(i):(i=typeof Vv=="function"?Vv(i):i[Symbol.iterator](),s={},a("next"),a("throw"),a("return"),s[Symbol.asyncIterator]=function(){return this},s);function a(u){s[u]=i[u]&&function(f){return new Promise(function(p,_){f=i[u](f),o(p,_,f.done,f.value)})}}function o(u,f,p,_){Promise.resolve(_).then(function(g){u({value:g,done:p})},f)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let lT=function(){const{crypto:i}=globalThis;if(i!=null&&i.randomUUID)return lT=i.randomUUID.bind(i),i.randomUUID();const e=new Uint8Array(1),s=i?()=>i.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,a=>(+a^s()&15>>+a/4).toString(16))};const CD=()=>lT();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Um(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const Lm=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const e=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(e.stack=i.stack),i.cause&&!e.cause&&(e.cause=i.cause),i.name&&(e.name=i.name),e}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ii extends Error{}class dn extends ii{constructor(e,s,a,o){super(`${dn.makeMessage(e,s,a)}`),this.status=e,this.headers=o,this.error=s}static makeMessage(e,s,a){const o=s!=null&&s.message?typeof s.message=="string"?s.message:JSON.stringify(s.message):s?JSON.stringify(s):a;return e&&o?`${e} ${o}`:e?`${e} status code (no body)`:o||"(no status code or body)"}static generate(e,s,a,o){if(!e||!o)return new Hh({message:a,cause:Lm(s)});const u=s;return e===400?new uT(e,u,a,o):e===401?new cT(e,u,a,o):e===403?new hT(e,u,a,o):e===404?new fT(e,u,a,o):e===409?new dT(e,u,a,o):e===422?new mT(e,u,a,o):e===429?new pT(e,u,a,o):e>=500?new gT(e,u,a,o):new dn(e,u,a,o)}}class km extends dn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Hh extends dn{constructor({message:e,cause:s}){super(void 0,void 0,e||"Connection error.",void 0),s&&(this.cause=s)}}class oT extends Hh{constructor({message:e}={}){super({message:e??"Request timed out."})}}class uT extends dn{}class cT extends dn{}class hT extends dn{}class fT extends dn{}class dT extends dn{}class mT extends dn{}class pT extends dn{}class gT extends dn{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const DD=/^[a-z][a-z0-9+.-]*:/i,OD=i=>DD.test(i);let Pm=i=>(Pm=Array.isArray,Pm(i));const MD=Pm;let jD=MD;const Uv=jD;function VD(i){if(!i)return!0;for(const e in i)return!1;return!0}function UD(i,e){return Object.prototype.hasOwnProperty.call(i,e)}const LD=(i,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new ii(`${i} must be an integer`);if(e<0)throw new ii(`${i} must be a positive integer`);return e},kD=i=>{try{return JSON.parse(i)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const PD=i=>new Promise(e=>setTimeout(e,i));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const al="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zD(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const BD=()=>{var i,e,s,a,o;const u=zD();if(u==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":al,"X-Stainless-OS":kv(Deno.build.os),"X-Stainless-Arch":Lv(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(i=Deno.version)===null||i===void 0?void 0:i.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":al,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(u==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":al,"X-Stainless-OS":kv((s=globalThis.process.platform)!==null&&s!==void 0?s:"unknown"),"X-Stainless-Arch":Lv((a=globalThis.process.arch)!==null&&a!==void 0?a:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(o=globalThis.process.version)!==null&&o!==void 0?o:"unknown"};const f=HD();return f?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":al,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${f.browser}`,"X-Stainless-Runtime-Version":f.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":al,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function HD(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:s}of i){const a=s.exec(navigator.userAgent);if(a){const o=a[1]||0,u=a[2]||0,f=a[3]||0;return{browser:e,version:`${o}.${u}.${f}`}}}return null}const Lv=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",kv=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let jc;const GD=()=>jc??(jc=BD());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qD(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function yT(...i){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...i)}function FD(i){let e=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return yT({start(){},async pull(s){const{done:a,value:o}=await e.next();a?s.close():s.enqueue(o)},async cancel(){var s;await((s=e.return)===null||s===void 0?void 0:s.call(e))}})}function _T(i){if(i[Symbol.asyncIterator])return i;const e=i.getReader();return{async next(){try{const s=await e.read();return s!=null&&s.done&&e.releaseLock(),s}catch(s){throw e.releaseLock(),s}},async return(){const s=e.cancel();return e.releaseLock(),await s,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function YD(i){var e,s;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((s=(e=i[Symbol.asyncIterator]()).return)===null||s===void 0?void 0:s.call(e));return}const a=i.getReader(),o=a.cancel();a.releaseLock(),await o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const KD=({headers:i,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ET=()=>{var i;if(typeof File>"u"){const{process:e}=globalThis,s=typeof((i=e==null?void 0:e.versions)===null||i===void 0?void 0:i.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(s?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function rm(i,e,s){return ET(),new File(i,e??"unknown_file",s)}function $D(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const QD=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vT=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",XD=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&vT(i),JD=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function ZD(i,e,s){if(ET(),i=await i,XD(i))return i instanceof File?i:rm([await i.arrayBuffer()],i.name);if(JD(i)){const o=await i.blob();return e||(e=new URL(i.url).pathname.split(/[\\/]/).pop()),rm(await zm(o),e,s)}const a=await zm(i);if(e||(e=$D(i)),!(s!=null&&s.type)){const o=a.find(u=>typeof u=="object"&&"type"in u&&u.type);typeof o=="string"&&(s=Object.assign(Object.assign({},s),{type:o}))}return rm(a,e,s)}async function zm(i){var e,s,a,o,u;let f=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)f.push(i);else if(vT(i))f.push(i instanceof Blob?i:await i.arrayBuffer());else if(QD(i))try{for(var p=!0,_=ul(i),g;g=await _.next(),e=g.done,!e;p=!0){o=g.value,p=!1;const b=o;f.push(...await zm(b))}}catch(b){s={error:b}}finally{try{!p&&!e&&(a=_.return)&&await a.call(_)}finally{if(s)throw s.error}}else{const b=(u=i==null?void 0:i.constructor)===null||u===void 0?void 0:u.name;throw new Error(`Unexpected data type: ${typeof i}${b?`; constructor: ${b}`:""}${WD(i)}`)}return f}function WD(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(s=>`"${s}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bT{constructor(e){this._client=e}}bT._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TT(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Pv=Object.freeze(Object.create(null)),eO=(i=TT)=>(function(s,...a){if(s.length===1)return s[0];let o=!1;const u=[],f=s.reduce((b,T,S)=>{var w,B,G;/[?#]/.test(T)&&(o=!0);const R=a[S];let Z=(o?encodeURIComponent:i)(""+R);return S!==a.length&&(R==null||typeof R=="object"&&R.toString===((G=Object.getPrototypeOf((B=Object.getPrototypeOf((w=R.hasOwnProperty)!==null&&w!==void 0?w:Pv))!==null&&B!==void 0?B:Pv))===null||G===void 0?void 0:G.toString))&&(Z=R+"",u.push({start:b.length+T.length,length:Z.length,error:`Value of type ${Object.prototype.toString.call(R).slice(8,-1)} is not a valid path parameter`})),b+T+(S===a.length?"":Z)},""),p=f.split(/[?#]/,1)[0],_=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let g;for(;(g=_.exec(p))!==null;)u.push({start:g.index,length:g[0].length,error:`Value "${g[0]}" can't be safely passed as a path parameter`});if(u.sort((b,T)=>b.start-T.start),u.length>0){let b=0;const T=u.reduce((S,w)=>{const B=" ".repeat(w.start-b),G="^".repeat(w.length);return b=w.start+w.length,S+B+G},"");throw new ii(`Path parameters result in path with invalid segments:
${u.map(S=>S.error).join(`
`)}
${f}
${T}`)}return f}),Vc=eO(TT);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xT extends bT{create(e,s){var a;const{api_version:o=this._client.apiVersion}=e,u=_h(e,["api_version"]);if("model"in u&&"agent_config"in u)throw new ii("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in u&&"generation_config"in u)throw new ii("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Vc`/${o}/interactions`,Object.assign(Object.assign({body:u},s),{stream:(a=e.stream)!==null&&a!==void 0?a:!1}))}delete(e,s={},a){const{api_version:o=this._client.apiVersion}=s??{};return this._client.delete(Vc`/${o}/interactions/${e}`,a)}cancel(e,s={},a){const{api_version:o=this._client.apiVersion}=s??{};return this._client.post(Vc`/${o}/interactions/${e}/cancel`,a)}get(e,s={},a){var o;const u=s??{},{api_version:f=this._client.apiVersion}=u,p=_h(u,["api_version"]);return this._client.get(Vc`/${f}/interactions/${e}`,Object.assign(Object.assign({query:p},a),{stream:(o=s==null?void 0:s.stream)!==null&&o!==void 0?o:!1}))}}xT._key=Object.freeze(["interactions"]);class ST extends xT{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tO(i){let e=0;for(const o of i)e+=o.length;const s=new Uint8Array(e);let a=0;for(const o of i)s.set(o,a),a+=o.length;return s}let Uc;function jp(i){let e;return(Uc??(e=new globalThis.TextEncoder,Uc=e.encode.bind(e)))(i)}let Lc;function zv(i){let e;return(Lc??(e=new globalThis.TextDecoder,Lc=e.decode.bind(e)))(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gh{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const s=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?jp(e):e;this.buffer=tO([this.buffer,s]);const a=[];let o;for(;(o=nO(this.buffer,this.carriageReturnIndex))!=null;){if(o.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=o.index;continue}if(this.carriageReturnIndex!=null&&(o.index!==this.carriageReturnIndex+1||o.carriage)){a.push(zv(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const u=this.carriageReturnIndex!==null?o.preceding-1:o.preceding,f=zv(this.buffer.subarray(0,u));a.push(f),this.buffer=this.buffer.subarray(o.index),this.carriageReturnIndex=null}return a}flush(){return this.buffer.length?this.decode(`
`):[]}}Gh.NEWLINE_CHARS=new Set([`
`,"\r"]);Gh.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function nO(i,e){for(let o=e??0;o<i.length;o++){if(i[o]===10)return{preceding:o,index:o+1,carriage:!1};if(i[o]===13)return{preceding:o,index:o+1,carriage:!0}}return null}function iO(i){for(let a=0;a<i.length-1;a++){if(i[a]===10&&i[a+1]===10||i[a]===13&&i[a+1]===13)return a+2;if(i[a]===13&&i[a+1]===10&&a+3<i.length&&i[a+2]===13&&i[a+3]===10)return a+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Eh={off:0,error:200,warn:300,info:400,debug:500},Bv=(i,e,s)=>{if(i){if(UD(Eh,i))return i;fn(s).warn(`${e} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(Eh))}`)}};function Mo(){}function kc(i,e,s){return!e||Eh[i]>Eh[s]?Mo:e[i].bind(e)}const sO={error:Mo,warn:Mo,info:Mo,debug:Mo};let Hv=new WeakMap;function fn(i){var e;const s=i.logger,a=(e=i.logLevel)!==null&&e!==void 0?e:"off";if(!s)return sO;const o=Hv.get(s);if(o&&o[0]===a)return o[1];const u={error:kc("error",s,a),warn:kc("warn",s,a),info:kc("info",s,a),debug:kc("debug",s,a)};return Hv.set(s,[a,u]),u}const Ja=i=>(i.options&&(i.options=Object.assign({},i.options),delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([e,s])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":s]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rl{constructor(e,s,a){this.iterator=e,this.controller=s,this.client=a}static fromSSEResponse(e,s,a){let o=!1;const u=a?fn(a):console;function f(){return Po(this,arguments,function*(){var _,g,b,T;if(o)throw new ii("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let S=!1;try{try{for(var w=!0,B=ul(aO(e,s)),G;G=yield _t(B.next()),_=G.done,!_;w=!0){T=G.value,w=!1;const R=T;if(!S)if(R.data.startsWith("[DONE]")){S=!0;continue}else try{yield yield _t(JSON.parse(R.data))}catch(Z){throw u.error("Could not parse message into JSON:",R.data),u.error("From chunk:",R.raw),Z}}}catch(R){g={error:R}}finally{try{!w&&!_&&(b=B.return)&&(yield _t(b.call(B)))}finally{if(g)throw g.error}}S=!0}catch(R){if(Um(R))return yield _t(void 0);throw R}finally{S||s.abort()}})}return new rl(f,s,a)}static fromReadableStream(e,s,a){let o=!1;function u(){return Po(this,arguments,function*(){var _,g,b,T;const S=new Gh,w=_T(e);try{for(var B=!0,G=ul(w),R;R=yield _t(G.next()),_=R.done,!_;B=!0){T=R.value,B=!1;const Z=T;for(const se of S.decode(Z))yield yield _t(se)}}catch(Z){g={error:Z}}finally{try{!B&&!_&&(b=G.return)&&(yield _t(b.call(G)))}finally{if(g)throw g.error}}for(const Z of S.flush())yield yield _t(Z)})}function f(){return Po(this,arguments,function*(){var _,g,b,T;if(o)throw new ii("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let S=!1;try{try{for(var w=!0,B=ul(u()),G;G=yield _t(B.next()),_=G.done,!_;w=!0){T=G.value,w=!1;const R=T;S||R&&(yield yield _t(JSON.parse(R)))}}catch(R){g={error:R}}finally{try{!w&&!_&&(b=B.return)&&(yield _t(b.call(B)))}finally{if(g)throw g.error}}S=!0}catch(R){if(Um(R))return yield _t(void 0);throw R}finally{S||s.abort()}})}return new rl(f,s,a)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],s=[],a=this.iterator(),o=u=>({next:()=>{if(u.length===0){const f=a.next();e.push(f),s.push(f)}return u.shift()}});return[new rl(()=>o(e),this.controller,this.client),new rl(()=>o(s),this.controller,this.client)]}toReadableStream(){const e=this;let s;return yT({async start(){s=e[Symbol.asyncIterator]()},async pull(a){try{const{value:o,done:u}=await s.next();if(u)return a.close();const f=jp(JSON.stringify(o)+`
`);a.enqueue(f)}catch(o){a.error(o)}},async cancel(){var a;await((a=s.return)===null||a===void 0?void 0:a.call(s))}})}}function aO(i,e){return Po(this,arguments,function*(){var a,o,u,f;if(!i.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new ii("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new ii("Attempted to iterate over a response with no body");const p=new lO,_=new Gh,g=_T(i.body);try{for(var b=!0,T=ul(rO(g)),S;S=yield _t(T.next()),a=S.done,!a;b=!0){f=S.value,b=!1;const w=f;for(const B of _.decode(w)){const G=p.decode(B);G&&(yield yield _t(G))}}}catch(w){o={error:w}}finally{try{!b&&!a&&(u=T.return)&&(yield _t(u.call(T)))}finally{if(o)throw o.error}}for(const w of _.flush()){const B=p.decode(w);B&&(yield yield _t(B))}})}function rO(i){return Po(this,arguments,function*(){var s,a,o,u;let f=new Uint8Array;try{for(var p=!0,_=ul(i),g;g=yield _t(_.next()),s=g.done,!s;p=!0){u=g.value,p=!1;const b=u;if(b==null)continue;const T=b instanceof ArrayBuffer?new Uint8Array(b):typeof b=="string"?jp(b):b;let S=new Uint8Array(f.length+T.length);S.set(f),S.set(T,f.length),f=S;let w;for(;(w=iO(f))!==-1;)yield yield _t(f.slice(0,w)),f=f.slice(w)}}catch(b){a={error:b}}finally{try{!p&&!s&&(o=_.return)&&(yield _t(o.call(_)))}finally{if(a)throw a.error}}f.length>0&&(yield yield _t(f))})}class lO{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const u={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],u}if(this.chunks.push(e),e.startsWith(":"))return null;let[s,a,o]=oO(e,":");return o.startsWith(" ")&&(o=o.substring(1)),s==="event"?this.event=o:s==="data"&&this.data.push(o),null}}function oO(i,e){const s=i.indexOf(e);return s!==-1?[i.substring(0,s),e,i.substring(s+e.length)]:[i,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function uO(i,e){const{response:s,requestLogID:a,retryOfRequestLogID:o,startTime:u}=e,f=await(async()=>{var p;if(e.options.stream)return fn(i).debug("response",s.status,s.url,s.headers,s.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(s,e.controller,i):rl.fromSSEResponse(s,e.controller,i);if(s.status===204)return null;if(e.options.__binaryResponse)return s;const _=s.headers.get("content-type"),g=(p=_==null?void 0:_.split(";")[0])===null||p===void 0?void 0:p.trim();return(g==null?void 0:g.includes("application/json"))||(g==null?void 0:g.endsWith("+json"))?await s.json():await s.text()})();return fn(i).debug(`[${a}] response parsed`,Ja({retryOfRequestLogID:o,url:s.url,status:s.status,body:f,durationMs:Date.now()-u})),f}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vp extends Promise{constructor(e,s,a=uO){super(o=>{o(null)}),this.responsePromise=s,this.parseResponse=a,this.client=e}_thenUnwrap(e){return new Vp(this.client,this.responsePromise,async(s,a)=>e(await this.parseResponse(s,a),a))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,s]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:s}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,s){return this.parse().then(e,s)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const AT=Symbol("brand.privateNullableHeaders");function*cO(i){if(!i)return;if(AT in i){const{values:a,nulls:o}=i;yield*a.entries();for(const u of o)yield[u,null];return}let e=!1,s;i instanceof Headers?s=i.entries():Uv(i)?s=i:(e=!0,s=Object.entries(i??{}));for(let a of s){const o=a[0];if(typeof o!="string")throw new TypeError("expected header name to be a string");const u=Uv(a[1])?a[1]:[a[1]];let f=!1;for(const p of u)p!==void 0&&(e&&!f&&(f=!0,yield[o,null]),yield[o,p])}}const wo=i=>{const e=new Headers,s=new Set;for(const a of i){const o=new Set;for(const[u,f]of cO(a)){const p=u.toLowerCase();o.has(p)||(e.delete(u),o.add(p)),f===null?(e.delete(u),s.add(p)):(e.append(u,f),s.delete(p))}}return{[AT]:!0,values:e,nulls:s}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lm=i=>{var e,s,a,o,u,f;if(typeof globalThis.process<"u")return(a=(s=(e=ID)===null||e===void 0?void 0:e[i])===null||s===void 0?void 0:s.trim())!==null&&a!==void 0?a:void 0;if(typeof globalThis.Deno<"u")return(f=(u=(o=globalThis.Deno.env)===null||o===void 0?void 0:o.get)===null||u===void 0?void 0:u.call(o,i))===null||f===void 0?void 0:f.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var wT;class qh{constructor(e){var s,a,o,u,f,p,_,{baseURL:g=lm("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:b=(s=lm("GEMINI_API_KEY"))!==null&&s!==void 0?s:null,apiVersion:T="v1beta"}=e,S=_h(e,["baseURL","apiKey","apiVersion"]);const w=Object.assign(Object.assign({apiKey:b,apiVersion:T},S),{baseURL:g||"https://generativelanguage.googleapis.com"});this.baseURL=w.baseURL,this.timeout=(a=w.timeout)!==null&&a!==void 0?a:qh.DEFAULT_TIMEOUT,this.logger=(o=w.logger)!==null&&o!==void 0?o:console;const B="warn";this.logLevel=B,this.logLevel=(f=(u=Bv(w.logLevel,"ClientOptions.logLevel",this))!==null&&u!==void 0?u:Bv(lm("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&f!==void 0?f:B,this.fetchOptions=w.fetchOptions,this.maxRetries=(p=w.maxRetries)!==null&&p!==void 0?p:2,this.fetch=(_=w.fetch)!==null&&_!==void 0?_:qD(),this.encoder=KD,this._options=w,this.apiKey=b,this.apiVersion=T,this.clientAdapter=w.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:s}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!s.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const s=wo([e.headers]);if(!(s.values.has("authorization")||s.values.has("x-goog-api-key"))){if(this.apiKey)return wo([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return wo([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([s,a])=>typeof a<"u").map(([s,a])=>{if(typeof a=="string"||typeof a=="number"||typeof a=="boolean")return`${encodeURIComponent(s)}=${encodeURIComponent(a)}`;if(a===null)return`${encodeURIComponent(s)}=`;throw new ii(`Cannot stringify type ${typeof a}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${al}`}defaultIdempotencyKey(){return`stainless-node-retry-${CD()}`}makeStatusError(e,s,a,o){return dn.generate(e,s,a,o)}buildURL(e,s,a){const o=!this.baseURLOverridden()&&a||this.baseURL,u=OD(e)?new URL(e):new URL(o+(o.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),f=this.defaultQuery();return VD(f)||(s=Object.assign(Object.assign({},f),s)),typeof s=="object"&&s&&!Array.isArray(s)&&(u.search=this.stringifyQuery(s)),u.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const s=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${s}`}}async prepareRequest(e,{url:s,options:a}){}get(e,s){return this.methodRequest("get",e,s)}post(e,s){return this.methodRequest("post",e,s)}patch(e,s){return this.methodRequest("patch",e,s)}put(e,s){return this.methodRequest("put",e,s)}delete(e,s){return this.methodRequest("delete",e,s)}methodRequest(e,s,a){return this.request(Promise.resolve(a).then(o=>Object.assign({method:e,path:s},o)))}request(e,s=null){return new Vp(this,this.makeRequest(e,s,void 0))}async makeRequest(e,s,a){var o,u,f;const p=await e,_=(o=p.maxRetries)!==null&&o!==void 0?o:this.maxRetries;s==null&&(s=_),await this.prepareOptions(p);const{req:g,url:b,timeout:T}=await this.buildRequest(p,{retryCount:_-s});await this.prepareRequest(g,{url:b,options:p});const S="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),w=a===void 0?"":`, retryOf: ${a}`,B=Date.now();if(fn(this).debug(`[${S}] sending request`,Ja({retryOfRequestLogID:a,method:p.method,url:b,options:p,headers:g.headers})),!((u=p.signal)===null||u===void 0)&&u.aborted)throw new km;const G=new AbortController,R=await this.fetchWithTimeout(b,g,T,G).catch(Lm),Z=Date.now();if(R instanceof globalThis.Error){const Q=`retrying, ${s} attempts remaining`;if(!((f=p.signal)===null||f===void 0)&&f.aborted)throw new km;const he=Um(R)||/timed? ?out/i.test(String(R)+("cause"in R?String(R.cause):""));if(s)return fn(this).info(`[${S}] connection ${he?"timed out":"failed"} - ${Q}`),fn(this).debug(`[${S}] connection ${he?"timed out":"failed"} (${Q})`,Ja({retryOfRequestLogID:a,url:b,durationMs:Z-B,message:R.message})),this.retryRequest(p,s,a??S);throw fn(this).info(`[${S}] connection ${he?"timed out":"failed"} - error; no more retries left`),fn(this).debug(`[${S}] connection ${he?"timed out":"failed"} (error; no more retries left)`,Ja({retryOfRequestLogID:a,url:b,durationMs:Z-B,message:R.message})),he?new oT:new Hh({cause:R})}const se=`[${S}${w}] ${g.method} ${b} ${R.ok?"succeeded":"failed"} with status ${R.status} in ${Z-B}ms`;if(!R.ok){const Q=await this.shouldRetry(R);if(s&&Q){const I=`retrying, ${s} attempts remaining`;return await YD(R.body),fn(this).info(`${se} - ${I}`),fn(this).debug(`[${S}] response error (${I})`,Ja({retryOfRequestLogID:a,url:R.url,status:R.status,headers:R.headers,durationMs:Z-B})),this.retryRequest(p,s,a??S,R.headers)}const he=Q?"error; no more retries left":"error; not retryable";fn(this).info(`${se} - ${he}`);const me=await R.text().catch(I=>Lm(I).message),pe=kD(me),C=pe?void 0:me;throw fn(this).debug(`[${S}] response error (${he})`,Ja({retryOfRequestLogID:a,url:R.url,status:R.status,headers:R.headers,message:C,durationMs:Date.now()-B})),this.makeStatusError(R.status,pe,C,R.headers)}return fn(this).info(se),fn(this).debug(`[${S}] response start`,Ja({retryOfRequestLogID:a,url:R.url,status:R.status,headers:R.headers,durationMs:Z-B})),{response:R,options:p,controller:G,requestLogID:S,retryOfRequestLogID:a,startTime:B}}async fetchWithTimeout(e,s,a,o){const u=s||{},{signal:f,method:p}=u,_=_h(u,["signal","method"]);f&&f.addEventListener("abort",()=>o.abort());const g=setTimeout(()=>o.abort(),a),b=globalThis.ReadableStream&&_.body instanceof globalThis.ReadableStream||typeof _.body=="object"&&_.body!==null&&Symbol.asyncIterator in _.body,T=Object.assign(Object.assign(Object.assign({signal:o.signal},b?{duplex:"half"}:{}),{method:"GET"}),_);p&&(T.method=p.toUpperCase());try{return await this.fetch.call(void 0,e,T)}finally{clearTimeout(g)}}async shouldRetry(e){const s=e.headers.get("x-should-retry");return s==="true"?!0:s==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,s,a,o){var u;let f;const p=o==null?void 0:o.get("retry-after-ms");if(p){const g=parseFloat(p);Number.isNaN(g)||(f=g)}const _=o==null?void 0:o.get("retry-after");if(_&&!f){const g=parseFloat(_);Number.isNaN(g)?f=Date.parse(_)-Date.now():f=g*1e3}if(!(f&&0<=f&&f<60*1e3)){const g=(u=e.maxRetries)!==null&&u!==void 0?u:this.maxRetries;f=this.calculateDefaultRetryTimeoutMillis(s,g)}return await PD(f),this.makeRequest(e,s-1,a)}calculateDefaultRetryTimeoutMillis(e,s){const u=s-e,f=Math.min(.5*Math.pow(2,u),8),p=1-Math.random()*.25;return f*p*1e3}async buildRequest(e,{retryCount:s=0}={}){var a,o,u;const f=Object.assign({},e),{method:p,path:_,query:g,defaultBaseURL:b}=f,T=this.buildURL(_,g,b);"timeout"in f&&LD("timeout",f.timeout),f.timeout=(a=f.timeout)!==null&&a!==void 0?a:this.timeout;const{bodyHeaders:S,body:w}=this.buildBody({options:f}),B=await this.buildHeaders({options:e,method:p,bodyHeaders:S,retryCount:s});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:p,headers:B},f.signal&&{signal:f.signal}),globalThis.ReadableStream&&w instanceof globalThis.ReadableStream&&{duplex:"half"}),w&&{body:w}),(o=this.fetchOptions)!==null&&o!==void 0?o:{}),(u=f.fetchOptions)!==null&&u!==void 0?u:{}),url:T,timeout:f.timeout}}async buildHeaders({options:e,method:s,bodyHeaders:a,retryCount:o}){let u={};this.idempotencyHeader&&s!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),u[this.idempotencyHeader]=e.idempotencyKey);const f=await this.authHeaders(e);let p=wo([u,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(o)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),GD()),this._options.defaultHeaders,a,e.headers,f]);return this.validateHeaders(p),p.values}buildBody({options:{body:e,headers:s}}){if(!e)return{bodyHeaders:void 0,body:void 0};const a=wo([s]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&a.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:FD(e)}:this.encoder({body:e,headers:a})}}qh.DEFAULT_TIMEOUT=6e4;class sn extends qh{constructor(){super(...arguments),this.interactions=new ST(this)}}wT=sn;sn.GeminiNextGenAPIClient=wT;sn.GeminiNextGenAPIClientError=ii;sn.APIError=dn;sn.APIConnectionError=Hh;sn.APIConnectionTimeoutError=oT;sn.APIUserAbortError=km;sn.NotFoundError=fT;sn.ConflictError=dT;sn.RateLimitError=pT;sn.BadRequestError=uT;sn.AuthenticationError=cT;sn.InternalServerError=gT;sn.PermissionDeniedError=hT;sn.UnprocessableEntityError=mT;sn.toFile=ZD;sn.Interactions=ST;const hO=()=>null,fO=async(i,e)=>{try{const s=hO();if(!s)throw new Error("API Key not found");return(await s.models.generateContent({model:"gemini-2.0-flash-exp",contents:`
        
        
        - ${i.name}
        - ${e.name}
        - ${i.points}
        - ${i.totalEarned}

        30-50
        
      `})).text()||""}catch(s){return console.error("Gemini Error:",s),""}},dO=({user:i,rank:e,onUserUpdate:s})=>{const[a,o]=k.useState("..."),[u,f]=k.useState([]),[p,_]=k.useState([]),[g,b]=k.useState(null),[T,S]=k.useState(new Set),w=tr[tr.indexOf(e)+1]||null,B=w?Math.min(100,(i.totalEarned-e.threshold)/(w.threshold-e.threshold)*100):100;k.useEffect(()=>{(async()=>{const Q=await fO(i,e);o(Q)})();const Z=iT(async Q=>{const he=Q.filter(pe=>pe.isActive);f(he);const me=new Set;for(const pe of he)await mD(i.id,pe.id)&&me.add(pe.id);S(me)}),se=tT(Q=>{_(Q.filter(he=>he.userId===i.id))});return()=>{Z(),se()}},[i.id,e]);const G=async R=>{if(!g){if(R.deadline&&R.deadline<Date.now()){alert("");return}b(R.id),setTimeout(async()=>{const Z={id:`sub_${Date.now()}`,userId:i.id,userName:i.name,missionId:R.id,missionTitle:R.title,points:R.points,timestamp:Date.now(),status:"pending"};await pD(Z),b(null),alert(` 
`)},1e3)}};return m.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-10",children:[m.jsxs("header",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4",children:[m.jsxs("div",{children:[m.jsxs("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:["",i.name,""]}),m.jsxs("p",{className:"text-slate-500 mt-1 italic max-w-xl font-medium",children:['"',a,'"']})]}),m.jsxs("div",{className:"bg-amber-50 border border-amber-100 rounded-2xl px-5 py-3 flex items-center gap-3 self-end md:self-start shadow-sm",children:[m.jsx("div",{className:"bg-amber-500 p-2 rounded-xl text-white shadow-lg shadow-amber-200",children:m.jsx(xw,{size:20})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-[10px] text-amber-700 font-black uppercase tracking-widest",children:""}),m.jsxs("p",{className:"text-2xl font-black text-amber-900 leading-none",children:[i.totalEarned.toLocaleString()," ",m.jsx("span",{className:"text-xs font-bold opacity-60",children:"PTS"})]})]})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[m.jsxs("div",{className:"md:col-span-2 bg-white rounded-[2.5rem] p-10 border border-slate-100 shadow-xl shadow-slate-200/40 relative overflow-hidden",children:[m.jsxs("div",{className:"flex items-center justify-between mb-12",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-slate-400 text-[10px] font-black uppercase tracking-[0.2em] mb-2",children:""}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("span",{className:"text-4xl filter drop-shadow-md",children:e.icon}),m.jsx("span",{className:`text-2xl font-black px-6 py-2 rounded-2xl text-white ${e.color} shadow-xl shadow-indigo-100 border-2 border-white/20`,children:e.name})]})]}),w&&m.jsxs("div",{className:"text-right",children:[m.jsx("h3",{className:"text-slate-400 text-[10px] font-black uppercase tracking-[0.2em] mb-2",children:""}),m.jsxs("div",{className:"flex items-center gap-3 justify-end group",children:[m.jsx("span",{className:"text-lg font-black text-slate-700 group-hover:text-indigo-600 transition-colors",children:w.name}),m.jsx("span",{className:"text-2xl animate-bounce",children:w.icon})]})]})]}),m.jsxs("div",{className:"relative pt-12 pb-6 px-2",children:[m.jsx("div",{className:"h-5 bg-slate-100 rounded-full w-full overflow-hidden border border-slate-200 shadow-inner p-1",children:m.jsx("div",{className:`h-full ${e.color} transition-all duration-1000 ease-out rounded-full relative overflow-hidden`,style:{width:`${B}%`},children:m.jsx("div",{className:"absolute inset-0 bg-white/20 animate-pulse"})})}),m.jsx("div",{className:"absolute top-0 transition-all duration-1000 ease-out",style:{left:`calc(${B}% - 30px)`},children:m.jsxs("div",{className:"relative group cursor-pointer",children:[m.jsx("div",{className:"p-1.5 bg-white rounded-full shadow-2xl border border-slate-50 transition-transform group-hover:scale-110 active:scale-95",children:m.jsx("img",{src:i.avatar,className:`w-14 h-14 rounded-full border-4 border-opacity-30 object-cover ${e.color.replace("bg-","border-")}`,alt:"me"})}),m.jsxs("div",{className:`absolute -top-10 left-1/2 -translate-x-1/2 px-3 py-1 rounded-xl text-[11px] font-black text-white shadow-xl ${e.color} whitespace-nowrap`,children:[" ",Math.round(B),"%"]})]})})]}),m.jsx("p",{className:"text-center text-xs text-slate-400 font-bold mt-8 tracking-wide",children:w?`${w.name} ${w.threshold-i.totalEarned} `:""})]}),m.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 via-indigo-700 to-indigo-900 rounded-[2.5rem] p-10 text-white shadow-2xl shadow-indigo-300 flex flex-col justify-center items-center text-center relative overflow-hidden",children:[m.jsx("div",{className:"absolute -top-10 -right-10 w-40 h-40 bg-white/10 rounded-full blur-3xl"}),m.jsx("div",{className:"absolute -bottom-10 -left-10 w-40 h-40 bg-indigo-500/20 rounded-full blur-3xl"}),m.jsx("div",{className:"w-20 h-20 bg-white/20 backdrop-blur-xl rounded-[2rem] flex items-center justify-center mb-6 border border-white/20 shadow-xl",children:m.jsx(Qw,{size:40,className:"text-white drop-shadow-md"})}),m.jsx("h3",{className:"text-indigo-200 text-sm font-black mb-1 uppercase tracking-widest",children:""}),m.jsx("p",{className:"text-6xl font-black mb-4 drop-shadow-lg",children:i.points.toLocaleString()}),m.jsx("div",{className:"px-5 py-1.5 bg-indigo-500/40 backdrop-blur rounded-full text-[10px] font-black tracking-[0.2em] uppercase border border-white/10",children:"SHOPPING POWER"})]})]}),m.jsxs("section",{className:"mt-16",children:[m.jsxs("div",{className:"flex items-center justify-between mb-8",children:[m.jsxs("h2",{className:"text-2xl font-black text-slate-800 flex items-center gap-3",children:[m.jsx(Wc,{className:"text-indigo-500",size:28}),""]}),m.jsx("div",{className:"flex items-center gap-4 text-xs font-bold text-slate-400",children:m.jsxs("span",{className:"flex items-center gap-1",children:[m.jsx(Gw,{size:12,className:"text-amber-500"})," "]})})]}),m.jsx("div",{className:"grid grid-cols-1 gap-6",children:u.map(R=>{const Z=T.has(R.id);return m.jsx("div",{className:`bg-white border-2 border-slate-50 p-8 rounded-[2.5rem] transition-all group relative overflow-hidden ${Z?"opacity-60 grayscale":"shadow-sm hover:shadow-xl"} ${R.id===g?"animate-pulse":""}`,children:m.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-8",children:[m.jsxs("div",{className:"flex gap-8 items-start",children:[m.jsx("div",{className:`w-20 h-20 rounded-3xl flex items-center justify-center shrink-0 shadow-inner ${R.type==="normal"?"bg-emerald-50 text-emerald-600":R.type==="challenge"?"bg-orange-50 text-orange-600":"bg-rose-50 text-rose-600"}`,children:Z?m.jsx(cm,{size:36}):R.type==="normal"?m.jsx(Wc,{size:36}):R.type==="challenge"?m.jsx(fw,{size:36}):m.jsx(Jw,{size:36})}),m.jsxs("div",{children:[m.jsx("div",{className:"flex items-center gap-3 mb-2",children:m.jsx("span",{className:`px-3 py-1 rounded-lg text-[10px] font-black uppercase tracking-widest ${R.type==="normal"?"bg-emerald-100 text-emerald-700":R.type==="challenge"?"bg-orange-100 text-orange-700":"bg-rose-100 text-rose-700"}`,children:R.type==="normal"?"":R.type==="challenge"?"":""})}),m.jsx("h3",{className:"text-2xl font-black text-slate-800 transition-colors",children:R.title}),m.jsx("p",{className:"text-slate-500 mt-2 leading-relaxed text-lg font-medium max-w-2xl",children:R.description}),R.deadline&&m.jsxs("div",{className:`mt-3 flex items-center gap-2 text-sm font-black ${R.deadline<Date.now()?"text-rose-500":"text-amber-500"}`,children:[m.jsx(Xc,{size:16}),R.deadline<Date.now()?"":` ${new Date(R.deadline).toLocaleString()}`]})]})]}),m.jsxs("div",{className:"flex flex-col md:items-end gap-6 shrink-0",children:[m.jsxs("div",{className:"flex flex-col items-end",children:[m.jsx("span",{className:"text-xs font-bold text-slate-400 mb-1 uppercase tracking-tighter",children:""}),m.jsxs("div",{className:"flex items-baseline gap-2",children:[m.jsx("span",{className:"text-4xl font-black text-indigo-600 tracking-tighter",children:R.points}),m.jsx("span",{className:"text-sm font-bold text-slate-400",children:"PTS"})]})]}),m.jsxs("button",{onClick:()=>G(R),disabled:g!==null||Z||R.deadline!==void 0&&R.deadline<Date.now(),className:`px-10 py-5 rounded-2xl font-black transition-all flex items-center gap-3 shadow-xl ${Z?"bg-slate-200 text-slate-500 cursor-not-allowed shadow-none":R.deadline!==void 0&&R.deadline<Date.now()?"bg-slate-200 text-slate-400 cursor-not-allowed shadow-none":R.type==="normal"?"bg-emerald-600 hover:bg-emerald-700 shadow-emerald-100":R.type==="challenge"?"bg-orange-600 hover:bg-orange-700 shadow-orange-100":"bg-rose-600 hover:bg-rose-700 shadow-rose-100"} text-white text-lg active:scale-95 disabled:active:scale-100`,children:[Z?"":R.deadline!==void 0&&R.deadline<Date.now()?"":g===R.id?"...":"",!Z&&(!R.deadline||R.deadline>=Date.now())&&m.jsx(nw,{size:20})]})]})]})},R.id)})})]})]})},mO=({user:i,onUserUpdate:e})=>{const[s,a]=k.useState(null),[o,u]=k.useState("all"),[f,p]=k.useState([]);k.useEffect(()=>{const b=sT(T=>{p(T)});return()=>b()},[]);const _=f.filter(b=>o==="all"||b.category===o),g=async()=>{if(i.role==="GUEST"){alert("");return}if(!s||i.points<s.price||s.stock<=0)return;const b={id:`red_${Date.now()}`,userId:i.id,productId:s.id,productName:s.name,pointsSpent:s.price,timestamp:Date.now(),status:"pending",qrCodeData:`AUTH_WORKSHOP_${Date.now()}_${s.id}`},T={...i,points:i.points-s.price};await rD(b),await $c(T),await nT(s.id,1),e(),a(null),alert("  QR Code")};return m.jsxs("div",{className:"space-y-8 pb-20",children:[m.jsxs("header",{children:[m.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:""}),m.jsx("p",{className:"text-slate-500 mt-1",children:""})]}),m.jsx("div",{className:"flex flex-wrap gap-2",children:["all","food","electronic","ticket","other"].map(b=>m.jsx("button",{onClick:()=>u(b),className:`px-6 py-2.5 rounded-2xl text-sm font-bold transition-all ${o===b?"bg-indigo-600 text-white shadow-lg shadow-indigo-100":"bg-white text-slate-600 border border-slate-200 hover:border-indigo-300"}`,children:b==="all"?"":b==="food"?"":b==="electronic"?"":b==="ticket"?"":""},b))}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:_.map(b=>{const T=i.points>=b.price,S=b.stock<=0;return m.jsxs("div",{className:`bg-white rounded-[2rem] border border-slate-100 overflow-hidden shadow-sm hover:shadow-2xl transition-all flex flex-col group ${S?"opacity-75 grayscale-[0.5]":""}`,children:[m.jsxs("div",{className:"relative h-56 overflow-hidden",children:[m.jsx("img",{src:b.imageUrl,alt:b.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}),m.jsx("div",{className:"absolute top-5 left-5",children:m.jsx("span",{className:"bg-white/90 backdrop-blur text-indigo-600 text-[10px] px-3 py-1.5 rounded-full font-black tracking-widest shadow-sm",children:b.category.toUpperCase()})}),S&&m.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center",children:m.jsx("span",{className:"text-white font-black text-2xl rotate-12 border-4 border-white px-4 py-1",children:"SOLD OUT"})})]}),m.jsxs("div",{className:"p-8 flex flex-col flex-1",children:[m.jsx("div",{className:"flex justify-between items-start mb-2",children:m.jsx("h3",{className:"font-black text-xl text-slate-800 leading-tight",children:b.name})}),m.jsx("p",{className:"text-slate-500 text-sm mb-6 flex-1 leading-relaxed",children:b.description}),m.jsxs("div",{className:"flex items-center gap-2 mb-6 text-slate-400 text-xs font-bold",children:[m.jsx(hm,{size:14}),m.jsxs("span",{children:["",m.jsxs("span",{className:b.stock<=5?"text-red-500":"text-slate-600",children:[b.stock," "]})]})]}),m.jsxs("div",{className:"flex items-center justify-between mt-auto",children:[m.jsxs("div",{className:"flex items-center gap-1 text-indigo-600",children:[m.jsx("span",{className:"text-2xl font-black",children:b.price.toLocaleString()}),m.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-tighter",children:"pts"})]}),m.jsx("button",{onClick:()=>a(b),disabled:!T||S,className:`px-6 py-3 rounded-2xl font-black text-sm transition-all shadow-md ${S?"bg-slate-100 text-slate-400 cursor-not-allowed shadow-none":T?"bg-indigo-600 text-white hover:bg-indigo-700 hover:shadow-indigo-200 active:scale-95":"bg-slate-100 text-slate-400 cursor-not-allowed shadow-none"}`,children:S?"":""})]})]})]},b.id)})}),s&&m.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm",children:m.jsxs("div",{className:"bg-white rounded-[2.5rem] max-w-md w-full p-10 shadow-2xl animate-in zoom-in-95 duration-200",children:[m.jsxs("div",{className:"flex justify-between items-start mb-8",children:[m.jsx("div",{className:"bg-indigo-50 p-4 rounded-2xl text-indigo-600",children:m.jsx(zw,{size:28})}),m.jsx("button",{onClick:()=>a(null),className:"text-slate-400 hover:text-slate-600 bg-slate-50 p-2 rounded-full",children:m.jsx(cl,{size:24})})]}),m.jsx("h2",{className:"text-2xl font-black text-slate-800 mb-2",children:""}),m.jsxs("p",{className:"text-slate-500 mb-8 leading-relaxed",children:[" ",m.jsxs("span",{className:"font-black text-indigo-600",children:[s.price," "]}),"  ",m.jsxs("span",{className:"font-black text-slate-800",children:["",s.name,""]})," "]}),m.jsxs("div",{className:"bg-slate-50 rounded-[1.5rem] p-6 mb-8 border border-slate-100",children:[m.jsxs("div",{className:"flex justify-between text-sm mb-3",children:[m.jsx("span",{className:"text-slate-500 font-medium",children:""}),m.jsx("span",{className:"font-bold text-slate-800",children:i.points.toLocaleString()})]}),m.jsxs("div",{className:"flex justify-between text-sm mb-5",children:[m.jsx("span",{className:"text-slate-500 font-medium",children:""}),m.jsxs("span",{className:"font-bold text-red-500",children:["-",s.price.toLocaleString()]})]}),m.jsxs("div",{className:"border-t border-slate-200 pt-5 flex justify-between",children:[m.jsx("span",{className:"font-black text-slate-700 text-lg",children:""}),m.jsx("span",{className:"font-black text-indigo-600 text-2xl",children:(i.points-s.price).toLocaleString()})]})]}),m.jsxs("div",{className:"flex flex-col gap-3",children:[m.jsxs("button",{onClick:g,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-black py-5 rounded-[1.25rem] transition-all shadow-xl shadow-indigo-100 flex items-center justify-center gap-3 text-lg",children:[m.jsx(No,{size:24}),""]}),m.jsx("button",{onClick:()=>a(null),className:"w-full bg-white border border-slate-200 text-slate-600 font-black py-4 rounded-[1.25rem] hover:bg-slate-50 transition-all",children:""})]})]})})]})},pO=({user:i})=>{const[e,s]=k.useState([]),[a,o]=k.useState(null),[u,f]=k.useState(()=>{const g=new Date;return`${g.getFullYear()}-${String(g.getMonth()+1).padStart(2,"0")}`});k.useEffect(()=>{const g=rT(b=>{s(b.filter(T=>T.userId===i.id))});return()=>g()},[i.id]);const p=g=>new Date(g).toLocaleString("zh-TW",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),_=e.filter(g=>{const b=new Date(g.timestamp);return`${b.getFullYear()}-${String(b.getMonth()+1).padStart(2,"0")}`===u});return m.jsxs("div",{className:"space-y-8 animate-in slide-in-from-bottom-4 duration-500",children:[m.jsxs("header",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:""}),m.jsx("p",{className:"text-slate-500 mt-1",children:""})]}),m.jsxs("div",{className:"flex items-center gap-3 bg-white p-2 rounded-2xl border border-slate-100 shadow-sm",children:[m.jsx(E_,{size:18,className:"text-indigo-600 ml-2"}),m.jsx("input",{type:"month",value:u,onChange:g=>f(g.target.value),className:"border-none bg-transparent font-bold text-slate-600 outline-none p-1"})]})]}),_.length===0?m.jsxs("div",{className:"bg-white rounded-3xl p-12 text-center border border-dashed border-slate-200",children:[m.jsx("div",{className:"bg-slate-50 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6 text-slate-300",children:m.jsx(Jc,{size:40})}),m.jsx("h2",{className:"text-xl font-bold text-slate-800",children:""}),m.jsx("p",{className:"text-slate-400 mt-2",children:""})]}):m.jsx("div",{className:"space-y-4",children:_.map(g=>m.jsxs("div",{className:"bg-white rounded-3xl border border-slate-100 p-6 flex flex-col md:flex-row md:items-center justify-between gap-6 shadow-sm hover:shadow-md transition-shadow",children:[m.jsxs("div",{className:"flex gap-4",children:[m.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center shrink-0 ${g.status==="completed"?"bg-green-50 text-green-600":g.status==="pending"?"bg-indigo-50 text-indigo-600":"bg-red-50 text-red-600"}`,children:g.status==="completed"?m.jsx(lw,{size:24}):g.status==="pending"?m.jsx(Xc,{size:24}):m.jsx(sw,{size:24})}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-bold text-slate-800 text-lg",children:g.productName||""}),m.jsxs("div",{className:"flex items-center gap-3 text-xs text-slate-400 mt-1",children:[m.jsxs("span",{className:"flex items-center gap-1",children:[m.jsx(E_,{size:12})," ",p(g.timestamp||Date.now())]}),m.jsxs("span",{className:"font-bold text-indigo-600",children:["-",g.pointsSpent||0," "]})]})]})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:`px-4 py-1.5 rounded-full text-xs font-bold ${g.status==="completed"?"bg-green-100 text-green-700":g.status==="pending"?"bg-indigo-100 text-indigo-700":"bg-red-100 text-red-700"}`,children:g.status==="completed"?"":g.status==="pending"?"":""}),g.status==="pending"&&m.jsxs("button",{onClick:()=>o(g),className:"flex items-center gap-2 bg-indigo-600 hover:bg-indigo-700 text-white px-5 py-2.5 rounded-xl text-sm font-bold transition-all shadow-lg shadow-indigo-100",children:[m.jsx(Iw,{size:18}),""]})]})]},g.id))}),a&&m.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm",children:m.jsxs("div",{className:"bg-white rounded-[2.5rem] max-w-sm w-full p-10 shadow-2xl animate-in zoom-in-95 duration-200 text-center",children:[m.jsx("div",{className:"flex justify-end mb-4 -mt-4 -mr-4",children:m.jsx("button",{onClick:()=>o(null),className:"text-slate-400 hover:text-slate-600 p-2",children:m.jsx(cl,{size:28})})}),m.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-2",children:""}),m.jsx("p",{className:"text-slate-500 mb-8 text-sm",children:""}),m.jsx("div",{className:"aspect-square bg-white border-8 border-indigo-50 rounded-3xl flex items-center justify-center mb-8 shadow-inner overflow-hidden",children:m.jsxs("svg",{width:"200",height:"200",viewBox:"0 0 200 200",className:"w-full h-full p-4",children:[m.jsx("rect",{x:"0",y:"0",width:"200",height:"200",fill:"white"}),m.jsx("path",{d:"M20 20h60v60h-60zM40 40h20v20h-20zM120 20h60v60h-60zM140 40h20v20h-20zM20 120h60v60h-60zM40 140h20v20h-20zM120 120h60v60h-60zM140 140h20v20h-20z",fill:"#4f46e5"}),m.jsx("path",{d:"M90 20h20v20h-20zM20 90h20v20h-20zM170 90h10v10h-10zM110 170h10v10h-10zM50 110h10v10h-10zM90 90h20v20h-20zM120 90h10v10h-10z",fill:"#4f46e5"}),m.jsx("rect",{x:"70",y:"70",width:"60",height:"60",rx:"10",fill:"#4f46e5",className:"opacity-20"})]})}),m.jsx("div",{className:"bg-slate-50 p-4 rounded-2xl text-slate-400 font-mono text-xs mb-8 tracking-widest uppercase",children:a.qrCodeData}),m.jsx("p",{className:"font-bold text-slate-800 mb-1",children:a.productName}),m.jsxs("p",{className:"text-xs text-slate-400",children:["ID: ",a.id]})]})})]})},gO=({onRefresh:i})=>{var yt;const[e,s]=k.useState("roster"),[a,o]=k.useState(!1),[u,f]=k.useState([]),[p,_]=k.useState([]),[g,b]=k.useState([]),[T,S]=k.useState([]),[w,B]=k.useState([]),[G,R]=k.useState([]),[Z,se]=k.useState([]),[Q,he]=k.useState([]),[me,pe]=k.useState(""),[C,N]=k.useState(new Date().toISOString().substring(0,7)),[I,U]=k.useState(""),[M,z]=k.useState(null),[D,st]=k.useState(""),[pt,X]=k.useState(""),[le,ge]=k.useState("normal"),[Me,qe]=k.useState(""),[V,ee]=k.useState(!1),[ae,oe]=k.useState(""),[ve,xe]=k.useState("100"),[Ce,bt]=k.useState(""),[We,yi]=k.useState(""),[Pn,Ki]=k.useState(!1),[_i,Nn]=k.useState(""),[$i,Ei]=k.useState(""),[Qi,ws]=k.useState(""),[rt,Tt]=k.useState("other"),[ai,or]=k.useState(""),[Ta,Pt]=k.useState(!1);k.useEffect(()=>{const L=RD(Sa=>{_(Sa.filter(pn=>pn.role===ti.STUDENT&&pn.isApproved)),b(Sa.filter(pn=>pn.role===ti.STUDENT&&!pn.isApproved));const bi=Sa.filter(pn=>pn.role===ti.STUDENT&&pn.isApproved);bi.length>0&&!ae&&oe(bi[0].id)}),Re=rT(f),lt=sT(S),Zi=iT(B),$t=xD(R),un=aT(se),Bn=tT(he);return()=>{L(),Re(),lt(),Zi(),$t(),un(),Bn()}},[ae]);const Xi=async()=>{if(!I){alert(" QR Code ");return}o(!0),setTimeout(()=>{const L=u.find(Re=>Re.qrCodeData===I&&Re.status==="pending");L?(z(L),U("")):alert(" "),o(!1)},1500)},Ns=async L=>{await lD(L,"completed"),z(null),i(),alert(" ")},xa=async()=>{var Zi;const L=parseInt(ve);if(isNaN(L)||!ae)return;const Re=p.map($t=>$t.id===ae?{...$t,points:$t.points+L,totalEarned:L>0?$t.totalEarned+L:$t.totalEarned}:$t);await tD(Re),i();const lt=(Zi=p.find($t=>$t.id===ae))==null?void 0:Zi.name;alert(`  ${lt}  ${L} 
${Ce}`),xe("")},vi=async L=>{await iD(L),alert("")},xl=async L=>{confirm("/")&&await sD(L)},ur=async L=>{if(L.preventDefault(),!_i||!$i||!Qi)return;const Re={id:`prod_${Date.now()}`,name:_i,price:parseInt($i),stock:parseInt(Qi),category:rt,description:`${rt==="food"?"":rt==="electronic"?"":rt==="ticket"?"":""}`,imageUrl:ai||"https://images.unsplash.com/photo-1553456558-aff63285bdd1?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3"};await ED(Re),Pt(!1),Nn(""),Ei(""),ws(""),or(""),Tt("other"),alert("")},cr=async L=>{window.confirm("")&&await vD(L)},hr=async L=>{if(L.preventDefault(),!D||!pt)return;const Re={id:`m_${Date.now()}`,title:D,description:"",points:parseInt(pt),type:le,isActive:!0,maxAttempts:1,deadline:Me?new Date(Me).getTime():void 0};await cD(Re),ee(!1),st(""),X(""),ge("normal"),qe(""),alert("")},Rn=async L=>{window.confirm("")&&await wD(L)},zt=async()=>{We&&(await bD({id:`r_${Date.now()}`,title:We}),yi(""),Ki(!1))},mn=async L=>{await TD(L)},gt=async L=>{await hD(L)},fr=async(L,Re)=>{await nT(L,Re),alert("")},Rs=async L=>{await gD(L),alert("")},dr=async L=>{confirm("")&&await yD(L)},zn=u.filter(L=>{var un,Bn;const Re=(((un=L.productName)==null?void 0:un.toLowerCase())||"").includes(me.toLowerCase())||(((Bn=L.id)==null?void 0:Bn.toLowerCase())||"").includes(me.toLowerCase()),lt=new Date(L.timestamp),$t=`${lt.getFullYear()}-${String(lt.getMonth()+1).padStart(2,"0")}`===C;return Re&&$t}),Ji=L=>tr.reduce((Re,lt)=>L>=lt.threshold?lt:Re,tr[0]);return m.jsxs("div",{className:"space-y-8 pb-20 animate-in fade-in duration-500",children:[m.jsx("header",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:m.jsxs("div",{children:[m.jsxs("h1",{className:"text-4xl font-black text-slate-800 flex items-center gap-4",children:[m.jsx("div",{className:"bg-indigo-600 p-3 rounded-2xl text-white shadow-xl shadow-indigo-100",children:m.jsx(Zc,{size:32})}),""]}),m.jsx("p",{className:"text-slate-500 mt-2 italic font-medium",children:""})]})}),m.jsxs("div",{className:"flex bg-white p-2 rounded-3xl border border-slate-100 shadow-md overflow-x-auto gap-2",children:[m.jsxs("button",{onClick:()=>s("roster"),className:`flex items-center justify-center gap-3 py-4 px-6 rounded-2xl font-black transition-all whitespace-nowrap ${e==="roster"?"bg-indigo-600 text-white shadow-xl shadow-indigo-100":"text-slate-400 hover:text-slate-600 hover:bg-slate-50"}`,children:[m.jsx(n2,{size:18})," ",m.jsx("span",{children:""})]}),m.jsxs("button",{onClick:()=>s("approval"),className:`flex items-center justify-center gap-3 py-4 px-6 rounded-2xl font-black transition-all whitespace-nowrap ${e==="approval"?"bg-indigo-600 text-white shadow-xl shadow-indigo-100":"text-slate-400 hover:text-slate-600 hover:bg-slate-50 relative"}`,children:[m.jsx(dm,{size:18})," ",m.jsx("span",{children:""}),g.length>0&&m.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full text-white text-[10px] flex items-center justify-center border-2 border-white",children:g.length})]}),m.jsxs("button",{onClick:()=>s("points"),className:`flex items-center justify-center gap-3 py-4 px-6 rounded-2xl font-black transition-all whitespace-nowrap ${e==="points"?"bg-indigo-600 text-white shadow-xl shadow-indigo-100":"text-slate-400 hover:text-slate-600 hover:bg-slate-50"}`,children:[m.jsx(pw,{size:18})," ",m.jsx("span",{children:""})]}),m.jsxs("button",{onClick:()=>s("products"),className:`flex items-center justify-center gap-3 py-4 px-6 rounded-2xl font-black transition-all whitespace-nowrap ${e==="products"?"bg-indigo-600 text-white shadow-xl shadow-indigo-100":"text-slate-400 hover:text-slate-600 hover:bg-slate-50"}`,children:[m.jsx(hm,{size:18})," ",m.jsx("span",{children:""})]}),m.jsxs("button",{onClick:()=>s("mission_approval"),className:`flex items-center justify-center gap-3 py-4 px-6 rounded-2xl font-black transition-all whitespace-nowrap ${e==="mission_approval"?"bg-indigo-600 text-white shadow-xl shadow-indigo-100":"text-slate-400 hover:text-slate-600 hover:bg-slate-50 relative"}`,children:[m.jsx(cm,{size:18})," ",m.jsx("span",{children:""}),Q.filter(L=>L.status==="pending").length>0&&m.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-pink-500 rounded-full text-white text-[10px] flex items-center justify-center border-2 border-white",children:Q.filter(L=>L.status==="pending").length})]}),m.jsxs("button",{onClick:()=>s("scan"),className:`flex items-center justify-center gap-3 py-4 px-6 rounded-2xl font-black transition-all whitespace-nowrap ${e==="scan"?"bg-indigo-600 text-white shadow-xl shadow-indigo-100":"text-slate-400 hover:text-slate-600 hover:bg-slate-50"}`,children:[m.jsx(v_,{size:18})," ",m.jsx("span",{children:""})]}),m.jsxs("button",{onClick:()=>s("history"),className:`flex items-center justify-center gap-3 py-4 px-6 rounded-2xl font-black transition-all whitespace-nowrap ${e==="history"?"bg-indigo-600 text-white shadow-xl shadow-indigo-100":"text-slate-400 hover:text-slate-600 hover:bg-slate-50"}`,children:[m.jsx(Jc,{size:18})," ",m.jsx("span",{children:""})]}),m.jsxs("button",{onClick:()=>s("missions"),className:`flex items-center justify-center gap-3 py-4 px-6 rounded-2xl font-black transition-all whitespace-nowrap ${e==="missions"?"bg-indigo-600 text-white shadow-xl shadow-indigo-100":"text-slate-400 hover:text-slate-600 hover:bg-slate-50"}`,children:[m.jsx(Wc,{size:18})," ",m.jsx("span",{children:""})]}),m.jsxs("button",{onClick:()=>s("wishes"),className:`flex items-center justify-center gap-3 py-4 px-6 rounded-2xl font-black transition-all whitespace-nowrap ${e==="wishes"?"bg-indigo-600 text-white shadow-xl shadow-indigo-100":"text-slate-400 hover:text-slate-600 hover:bg-slate-50 relative"}`,children:[m.jsx(Bc,{size:18})," ",m.jsx("span",{children:""}),Z.length>0&&m.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-pink-500 rounded-full text-white text-[10px] flex items-center justify-center border-2 border-white",children:Z.length})]})]}),e==="roster"&&m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 animate-in slide-in-from-bottom-4",children:p.map(L=>{const Re=Ji(L.totalEarned);return m.jsxs("div",{className:"bg-white rounded-[2.5rem] p-8 border border-slate-100 shadow-sm hover:shadow-xl transition-all group overflow-hidden relative",children:[m.jsx("div",{className:`absolute top-0 right-0 w-24 h-24 ${Re.color} opacity-5 -translate-y-12 translate-x-12 rounded-full`}),m.jsxs("div",{className:"flex flex-col items-center text-center",children:[m.jsxs("div",{className:"relative mb-6",children:[m.jsx("div",{className:`absolute inset-0 rounded-full blur-xl opacity-20 ${Re.color}`}),m.jsx("img",{src:L.avatar,className:"w-24 h-24 rounded-full border-4 border-white shadow-2xl relative z-10 object-cover",alt:L.name}),m.jsx("div",{className:"absolute -bottom-2 -right-2 w-10 h-10 rounded-2xl bg-white shadow-lg flex items-center justify-center text-xl z-20 border border-slate-50",children:Re.icon})]}),m.jsx("h3",{className:"text-2xl font-black text-slate-800 mb-1",children:L.name}),m.jsx("div",{className:`px-4 py-1 rounded-full text-[10px] font-black text-white uppercase tracking-widest mb-6 ${Re.color} shadow-sm`,children:Re.name}),m.jsxs("div",{className:"w-full grid grid-cols-2 gap-4",children:[m.jsxs("div",{className:"bg-indigo-50/50 p-4 rounded-2xl border border-indigo-50",children:[m.jsx("p",{className:"text-[10px] font-black text-indigo-400 uppercase tracking-widest mb-1",children:""}),m.jsx("p",{className:"text-xl font-black text-indigo-600",children:L.points.toLocaleString()})]}),m.jsxs("div",{className:"bg-amber-50/50 p-4 rounded-2xl border border-amber-50",children:[m.jsx("p",{className:"text-[10px] font-black text-amber-400 uppercase tracking-widest mb-1",children:""}),m.jsx("p",{className:"text-xl font-black text-amber-600",children:L.totalEarned.toLocaleString()})]})]})]}),m.jsxs("div",{className:"mt-8 pt-6 border-t border-slate-50 flex justify-between items-center",children:[m.jsxs("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-tighter",children:["ID: ",L.id.replace("user_","")]}),m.jsxs("button",{onClick:()=>{oe(L.id),s("points")},className:"text-indigo-600 font-black text-xs hover:underline flex items-center gap-1",children:[m.jsx(b_,{size:14})," "]})]})]},L.id)})}),e==="points"&&m.jsxs("div",{className:"bg-white rounded-[3rem] p-12 border border-slate-100 shadow-xl animate-in slide-in-from-bottom-4",children:[m.jsxs("div",{className:"flex items-center gap-6 mb-12",children:[m.jsx("div",{className:"w-20 h-20 bg-emerald-50 text-emerald-600 rounded-3xl flex items-center justify-center shadow-inner",children:m.jsx(b_,{size:40})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-3xl font-black text-slate-800 tracking-tight",children:""}),m.jsx("p",{className:"text-slate-400 font-medium",children:""})]})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16",children:[m.jsxs("div",{className:"space-y-8",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-[0.2em] mb-4",children:""}),m.jsx("div",{className:"grid grid-cols-3 gap-4",children:p.map(L=>m.jsxs("button",{onClick:()=>oe(L.id),className:`flex flex-col items-center gap-3 p-4 rounded-3xl border-2 transition-all ${ae===L.id?"border-indigo-600 bg-indigo-50 shadow-lg shadow-indigo-100":"border-slate-50 bg-slate-50/50 hover:bg-white hover:border-slate-200"}`,children:[m.jsx("img",{src:L.avatar,className:"w-12 h-12 rounded-full shadow-sm",alt:L.name}),m.jsx("span",{className:`font-black text-sm ${ae===L.id?"text-indigo-600":"text-slate-600"}`,children:L.name})]},L.id))})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-[0.2em]",children:""}),m.jsxs("button",{onClick:()=>Ki(!Pn),className:"text-xs font-black text-indigo-600 hover:text-indigo-700 flex items-center gap-1",children:[Pn?m.jsx(cl,{size:14}):m.jsx(Ro,{size:14}),Pn?"":""]})]}),Pn?m.jsxs("div",{className:"bg-slate-50 p-6 rounded-2xl border-2 border-indigo-100 mb-4 animate-in zoom-in-95 duration-200",children:[m.jsxs("div",{className:"flex gap-2",children:[m.jsx("input",{type:"text",placeholder:" (: )",value:We,onChange:L=>yi(L.target.value),className:"flex-1 p-3 border-2 border-slate-200 rounded-xl focus:border-indigo-600 outline-none font-bold"}),m.jsx("button",{onClick:zt,className:"bg-indigo-600 text-white p-3 rounded-xl hover:bg-indigo-700 shadow-md",children:m.jsx(Ro,{size:20})})]}),m.jsx("div",{className:"mt-4 space-y-2 max-h-40 overflow-y-auto pr-2",children:G.map(L=>m.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded-lg border border-slate-100",children:[m.jsx("span",{className:"font-bold text-sm text-slate-700",children:L.title}),m.jsx("button",{onClick:()=>mn(L.id),className:"text-rose-500 hover:text-rose-600",children:m.jsx(Qd,{size:16})})]},L.id))})]}):m.jsxs("select",{value:Ce,onChange:L=>bt(L.target.value),className:"w-full p-5 bg-slate-50 border-2 border-transparent rounded-2xl focus:bg-white focus:border-indigo-600 focus:ring-4 focus:ring-indigo-100 transition-all outline-none font-bold text-slate-700 shadow-inner",children:[m.jsx("option",{value:"",children:"..."}),G.length>0?G.map(L=>m.jsx("option",{value:L.title,children:L.title},L.id)):m.jsxs(m.Fragment,{children:[m.jsx("option",{children:""}),m.jsx("option",{children:""}),m.jsx("option",{children:" A++"}),m.jsx("option",{children:""})]}),m.jsx("option",{value:"other",children:""})]}),Ce==="other"&&!Pn&&m.jsx("input",{type:"text",placeholder:"...",value:Ce==="other"?"":Ce,onChange:L=>bt(L.target.value),className:"w-full mt-4 p-5 bg-white border-2 border-indigo-200 rounded-2xl outline-none font-bold text-slate-700"})]})]}),m.jsxs("div",{className:"space-y-8",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-[0.2em] mb-4",children:""}),m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"number",value:ve,onChange:L=>xe(L.target.value),className:"w-full p-8 text-5xl font-black bg-slate-50 border-2 border-transparent rounded-[2rem] focus:bg-white focus:border-indigo-600 focus:ring-4 focus:ring-indigo-100 transition-all outline-none text-indigo-600 shadow-inner"}),m.jsx("div",{className:"absolute right-8 top-1/2 -translate-y-1/2 flex items-center gap-2 pointer-events-none",children:m.jsx("span",{className:"font-black text-slate-300 text-2xl uppercase tracking-tighter",children:"PTS"})})]})]}),m.jsxs("button",{onClick:xa,className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white font-black py-8 rounded-[2rem] transition-all shadow-2xl shadow-emerald-200 flex items-center justify-center gap-4 text-2xl active:scale-95 group",children:[m.jsx(No,{size:32,className:"group-hover:scale-125 transition-transform"}),""]})]})]})]}),e==="approval"&&m.jsxs("div",{className:"bg-white rounded-[3rem] p-12 border border-slate-100 shadow-xl animate-in slide-in-from-bottom-4",children:[m.jsxs("h2",{className:"text-3xl font-black text-slate-800 mb-8 flex items-center gap-3",children:[m.jsx(dm,{className:"text-indigo-600"}),"",m.jsxs("span",{className:"bg-indigo-100 text-indigo-600 text-sm px-3 py-1 rounded-full",children:[g.length," "]})]}),m.jsx("div",{className:"space-y-4",children:g.length===0?m.jsx("div",{className:"text-center py-20 text-slate-400 font-bold",children:""}):g.map(L=>m.jsxs("div",{className:"flex items-center justify-between p-6 bg-slate-50 rounded-2xl border border-slate-100",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"w-12 h-12 bg-indigo-200 rounded-full flex items-center justify-center text-indigo-700 font-bold text-xl",children:L.name[0]}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-black text-lg text-slate-800",children:L.name}),m.jsx("p",{className:"text-slate-500 text-sm font-bold",children:L.grade||""})]})]}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("button",{onClick:()=>vi(L.id),className:"bg-emerald-500 hover:bg-emerald-600 text-white px-6 py-2 rounded-xl font-bold transition-all shadow-lg shadow-emerald-100",children:""}),m.jsx("button",{onClick:()=>xl(L.id),className:"bg-slate-200 hover:bg-rose-500 hover:text-white text-slate-500 px-6 py-2 rounded-xl font-bold transition-all",children:""})]})]},L.id))})]}),e==="products"&&m.jsxs("div",{className:"bg-white rounded-[3rem] p-12 border border-slate-100 shadow-xl animate-in slide-in-from-bottom-4",children:[m.jsxs("div",{className:"flex justify-between items-center mb-8",children:[m.jsxs("h2",{className:"text-3xl font-black text-slate-800 flex items-center gap-3",children:[m.jsx(hm,{className:"text-indigo-600"})," "]}),m.jsxs("button",{onClick:()=>Pt(!Ta),className:"bg-indigo-600 text-white px-5 py-3 rounded-xl font-bold flex items-center gap-2 hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-100",children:[m.jsx(Ro,{size:20})," "]})]}),Ta&&m.jsxs("form",{onSubmit:ur,className:"bg-slate-50 p-6 rounded-2xl mb-8 border border-slate-200 animate-in fade-in",children:[m.jsx("h3",{className:"font-black text-slate-700 mb-4",children:""}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[m.jsx("input",{placeholder:"",value:_i,onChange:L=>Nn(L.target.value),className:"p-3 rounded-xl border border-slate-200 font-bold outline-none focus:ring-2 focus:ring-indigo-500"}),m.jsxs("select",{value:rt,onChange:L=>Tt(L.target.value),className:"p-3 rounded-xl border border-slate-200 font-bold outline-none focus:ring-2 focus:ring-indigo-500",children:[m.jsx("option",{value:"food",children:""}),m.jsx("option",{value:"electronic",children:""}),m.jsx("option",{value:"ticket",children:""}),m.jsx("option",{value:"other",children:""})]}),m.jsx("input",{placeholder:" ()",value:ai,onChange:L=>or(L.target.value),className:"p-3 rounded-xl border border-slate-200 font-bold outline-none focus:ring-2 focus:ring-indigo-500"}),m.jsx("input",{placeholder:" ()",type:"number",value:$i,onChange:L=>Ei(L.target.value),className:"p-3 rounded-xl border border-slate-200 font-bold outline-none focus:ring-2 focus:ring-indigo-500"}),m.jsx("input",{placeholder:"",type:"number",value:Qi,onChange:L=>ws(L.target.value),className:"p-3 rounded-xl border border-slate-200 font-bold outline-none focus:ring-2 focus:ring-indigo-500"})]}),m.jsxs("div",{className:"flex justify-end gap-2",children:[m.jsx("button",{type:"button",onClick:()=>Pt(!1),className:"px-4 py-2 text-slate-400 font-bold hover:text-slate-600",children:""}),m.jsx("button",{type:"submit",className:"px-6 py-2 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700",children:""})]})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:T.map(L=>m.jsxs("div",{className:"border border-slate-100 rounded-[2rem] p-6 flex flex-col gap-4 group hover:shadow-xl transition-all bg-white relative",children:[m.jsxs("div",{className:"flex gap-4 items-center",children:[m.jsx("img",{src:L.imageUrl,alt:L.name,className:"w-20 h-20 rounded-2xl object-cover shadow-sm"}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h4",{className:"font-black text-slate-800 text-lg",children:L.name}),m.jsx("p",{className:"text-[10px] text-slate-400 font-black uppercase tracking-widest",children:L.category}),m.jsxs("p",{className:"text-indigo-600 font-black",children:[L.price," PTS"]})]}),m.jsx("button",{onClick:()=>cr(L.id),className:"p-2 text-slate-300 hover:text-rose-500 transition-colors",children:m.jsx(Qd,{size:18})})]}),m.jsx("div",{className:"flex items-center justify-between pt-4 border-t border-slate-50",children:m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-tighter mb-1",children:""}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("input",{type:"number",defaultValue:L.stock,onBlur:Re=>fr(L.id,parseInt(Re.target.value)||0),className:"w-16 p-2 bg-slate-50 border border-slate-200 rounded-lg text-sm font-black text-slate-700 outline-none focus:ring-2 focus:ring-indigo-500"}),m.jsx("span",{className:`text-[10px] font-black px-2 py-1 rounded-lg ${L.stock>0?"bg-emerald-100 text-emerald-600":"bg-red-100 text-red-600"}`,children:L.stock>0?"ON SALE":"SOLD OUT"})]})]})})]},L.id))})]}),e==="mission_approval"&&m.jsxs("div",{className:"bg-white rounded-[3rem] p-12 border border-slate-100 shadow-xl animate-in slide-in-from-bottom-4",children:[m.jsxs("h2",{className:"text-3xl font-black text-slate-800 mb-8 flex items-center gap-3",children:[m.jsx(cm,{className:"text-emerald-600"}),"",m.jsxs("span",{className:"bg-emerald-100 text-emerald-600 text-sm px-3 py-1 rounded-full",children:[Q.filter(L=>L.status==="pending").length," "]})]}),m.jsx("div",{className:"space-y-6",children:Q.filter(L=>L.status==="pending").length===0?m.jsx("div",{className:"text-center py-24 text-slate-400 font-bold bg-slate-50 rounded-[3rem] border border-slate-100 border-dashed",children:""}):Q.filter(L=>L.status==="pending").map(L=>m.jsxs("div",{className:"bg-slate-50 p-8 rounded-[2.5rem] border border-slate-100 flex flex-col md:flex-row md:items-center justify-between gap-6",children:[m.jsxs("div",{className:"flex items-center gap-6",children:[m.jsx("div",{className:"w-16 h-16 bg-white rounded-2xl shadow-sm flex items-center justify-center text-2xl font-black text-indigo-600 border border-slate-100",children:L.userName[0]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-black text-slate-800",children:L.userName}),m.jsxs("p",{className:"text-slate-500 font-bold flex items-center gap-2",children:["",m.jsxs("span",{className:"text-indigo-600",children:["",L.missionTitle,""]})]}),m.jsxs("p",{className:"text-[10px] text-slate-400 font-black uppercase tracking-widest mt-2",children:["",L.points," PTS  ",new Date(L.timestamp).toLocaleString()]})]})]}),m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("button",{onClick:()=>Rs(L.id),className:"bg-emerald-600 hover:bg-emerald-700 text-white px-8 py-3 rounded-2xl font-black transition-all shadow-xl shadow-emerald-100 flex items-center gap-2",children:[m.jsx(No,{size:20})," "]}),m.jsx("button",{onClick:()=>dr(L.id),className:"bg-white hover:bg-rose-50 text-slate-400 hover:text-rose-600 px-8 py-3 rounded-2xl font-black transition-all border border-slate-200",children:""})]})]},L.id))})]}),e==="scan"&&m.jsxs("div",{className:"bg-white rounded-[3rem] p-16 border border-slate-100 text-center shadow-xl animate-in fade-in",children:[m.jsx("div",{className:"bg-indigo-50 w-32 h-32 rounded-[2.5rem] flex items-center justify-center mx-auto mb-8 text-indigo-600 shadow-inner",children:m.jsx(v_,{size:56})}),m.jsx("h2",{className:"text-3xl font-black text-slate-800 mb-4 tracking-tight",children:""}),m.jsx("p",{className:"text-slate-400 mb-8 font-medium max-w-md mx-auto leading-relaxed",children:" QR Code "}),m.jsx("div",{className:"max-w-md mx-auto mb-8",children:m.jsx("input",{type:"text",placeholder:" QR Code  (: AUTH_WORKSHOP_...)",value:I,onChange:L=>U(L.target.value),className:"w-full p-5 bg-slate-50 border-2 border-indigo-100 rounded-2xl focus:bg-white focus:border-indigo-600 focus:ring-4 focus:ring-indigo-100 transition-all outline-none font-mono text-xs text-slate-600 shadow-inner"})}),m.jsx("button",{onClick:Xi,disabled:a,className:"bg-indigo-600 hover:bg-indigo-700 disabled:bg-slate-300 text-white px-16 py-6 rounded-[2rem] font-black transition-all shadow-2xl shadow-indigo-200 inline-flex items-center justify-center gap-4 text-xl active:scale-95",children:a?"...":""})]}),e==="history"&&m.jsxs("section",{className:"bg-white rounded-[3rem] border border-slate-100 shadow-xl overflow-hidden animate-in fade-in",children:[m.jsxs("div",{className:"p-10 border-b border-slate-50 flex flex-col md:flex-row md:items-center justify-between gap-6",children:[m.jsxs("h2",{className:"font-black text-2xl text-slate-800 flex items-center gap-3",children:[m.jsx(Jc,{className:"text-indigo-600"}),""]}),m.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[m.jsx("div",{className:"relative",children:m.jsx("input",{type:"month",value:C,onChange:L=>N(L.target.value),className:"pl-5 pr-5 py-4 rounded-2xl bg-slate-50 border-2 border-transparent focus:bg-white focus:border-indigo-600 focus:ring-4 focus:ring-indigo-100 transition-all outline-none text-sm font-bold shadow-inner"})}),m.jsxs("div",{className:"relative",children:[m.jsx(Mw,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-slate-400",size:20}),m.jsx("input",{type:"text",placeholder:"...",value:me,onChange:L=>pe(L.target.value),className:"pl-14 pr-8 py-4 rounded-2xl bg-slate-50 border-2 border-transparent focus:bg-white focus:border-indigo-600 focus:ring-4 focus:ring-indigo-100 transition-all outline-none text-sm w-full md:w-80 shadow-inner font-bold"})]})]})]}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full",children:[m.jsx("thead",{className:"bg-slate-50/50",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-10 py-6 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:""}),m.jsx("th",{className:"px-10 py-6 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:""}),m.jsx("th",{className:"px-10 py-6 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:""}),m.jsx("th",{className:"px-10 py-6 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:""}),m.jsx("th",{className:"px-10 py-6 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:""}),m.jsx("th",{className:"px-10 py-6 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:""})]})}),m.jsx("tbody",{className:"divide-y divide-slate-50",children:zn.map(L=>{var Re;try{return m.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[m.jsx("td",{className:"px-10 py-6 whitespace-nowrap",children:m.jsx("span",{className:`px-4 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest ${L.status==="completed"?"bg-emerald-100 text-emerald-700":L.status==="pending"?"bg-amber-100 text-amber-700":"bg-rose-100 text-rose-700"}`,children:L.status==="completed"?"":L.status==="pending"?"":""})}),m.jsx("td",{className:"px-10 py-6 whitespace-nowrap font-black text-slate-800",children:((Re=p.find(lt=>lt.id===L.userId))==null?void 0:Re.name)||""}),m.jsx("td",{className:"px-10 py-6 whitespace-nowrap font-bold text-slate-600",children:L.productName}),m.jsxs("td",{className:"px-10 py-6 whitespace-nowrap text-indigo-600 font-black",children:[L.pointsSpent," PTS"]}),m.jsx("td",{className:"px-10 py-6 whitespace-nowrap text-slate-400 text-sm font-bold",children:L.timestamp?new Date(L.timestamp).toLocaleDateString():""}),m.jsx("td",{className:"px-10 py-6 whitespace-nowrap",children:L.status==="pending"?m.jsx("button",{onClick:()=>Ns(L.id),className:"text-white bg-indigo-600 hover:bg-indigo-700 px-5 py-2.5 rounded-xl text-xs font-black transition-all shadow-xl shadow-indigo-100 active:scale-95",children:""}):m.jsxs("div",{className:"flex items-center gap-2 text-slate-300 font-black text-[10px] tracking-widest",children:[m.jsx(No,{size:14})," FINISHED"]})})]},L.id)}catch(lt){return console.error("Row render error",lt),null}})})]})})]}),e==="missions"&&m.jsxs("div",{className:"bg-white rounded-[3rem] p-12 border border-slate-100 shadow-xl animate-in slide-in-from-bottom-4",children:[m.jsxs("div",{className:"flex justify-between items-center mb-8",children:[m.jsxs("h2",{className:"text-3xl font-black text-slate-800 flex items-center gap-3",children:[m.jsx(Wc,{className:"text-indigo-600"})," "]}),m.jsxs("button",{onClick:()=>ee(!V),className:"bg-indigo-600 text-white px-5 py-3 rounded-xl font-bold flex items-center gap-2 hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-100",children:[m.jsx(Ro,{size:18})," "]})]}),V&&m.jsxs("form",{onSubmit:hr,className:"bg-slate-50 p-6 rounded-2xl mb-8 border border-slate-200 animate-in fade-in",children:[m.jsx("h3",{className:"font-black text-slate-700 mb-4",children:""}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[m.jsx("input",{placeholder:"",value:D,onChange:L=>st(L.target.value),className:"p-3 rounded-xl border border-slate-200 font-bold outline-none focus:ring-2 focus:ring-indigo-500"}),m.jsx("input",{placeholder:"",type:"number",value:pt,onChange:L=>X(L.target.value),className:"p-3 rounded-xl border border-slate-200 font-bold outline-none focus:ring-2 focus:ring-indigo-500"}),m.jsxs("select",{value:le,onChange:L=>ge(L.target.value),className:"p-3 rounded-xl border border-slate-200 font-bold outline-none focus:ring-2 focus:ring-indigo-500",children:[m.jsx("option",{value:"normal",children:""}),m.jsx("option",{value:"challenge",children:""}),m.jsx("option",{value:"hard",children:""})]}),m.jsxs("div",{className:"flex items-center gap-2 p-3 bg-white rounded-xl border border-slate-200",children:[m.jsx(Xc,{size:18,className:"text-slate-400"}),m.jsx("input",{type:"datetime-local",value:Me,onChange:L=>qe(L.target.value),className:"font-bold outline-none text-slate-600 w-full",placeholder:" ()"})]})]}),m.jsxs("div",{className:"flex justify-end gap-3",children:[m.jsx("button",{type:"button",onClick:()=>ee(!1),className:"px-4 py-2 rounded-xl font-bold text-slate-400 hover:bg-slate-200 transition-all",children:""}),m.jsx("button",{type:"submit",className:"bg-indigo-600 text-white px-6 py-2 rounded-xl font-bold hover:bg-indigo-700 transition-all shadow-lg",children:""})]})]}),m.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[w.length===0&&m.jsx("div",{className:"text-center py-12 text-slate-400 font-bold bg-slate-50 rounded-2xl border border-slate-100 border-dashed",children:""}),w.map(L=>m.jsxs("div",{className:`flex flex-col md:flex-row md:items-center justify-between p-6 rounded-2xl border transition-all ${L.isActive?"bg-white border-slate-100 shadow-sm":"bg-slate-50 border-slate-100 opacity-60"}`,children:[m.jsxs("div",{className:"flex items-center gap-4 mb-4 md:mb-0",children:[m.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center font-black text-lg shrink-0 ${L.type==="normal"?"bg-emerald-100 text-emerald-600":L.type==="challenge"?"bg-orange-100 text-orange-600":"bg-rose-100 text-rose-600"}`,children:L.type==="normal"?"N":L.type==="challenge"?"C":"H"}),m.jsxs("div",{children:[m.jsxs("h3",{className:"font-black text-lg text-slate-800 flex items-center gap-2",children:[L.title,!L.isActive&&m.jsx("span",{className:"text-[10px] bg-slate-200 text-slate-500 px-2 py-0.5 rounded-full",children:""})]}),m.jsxs("p",{className:"text-slate-400 text-sm font-bold flex items-center gap-2",children:[m.jsxs("span",{className:"text-indigo-500",children:[L.points," PTS"]}),"  ",L.description,L.deadline&&m.jsxs("span",{className:"flex items-center gap-1 text-amber-500 ml-2",children:[m.jsx(Xc,{size:14})," ",new Date(L.deadline).toLocaleString()," "]})]})]})]}),m.jsx("button",{onClick:()=>gt(L.id),className:`px-4 py-2 rounded-xl font-black text-xs transition-all whitespace-nowrap ${L.isActive?"bg-rose-50 text-rose-600 hover:bg-rose-100":"bg-emerald-50 text-emerald-600 hover:bg-emerald-100"}`,children:L.isActive?"":""})]},L.id))]})]}),e==="wishes"&&m.jsxs("div",{className:"bg-white rounded-[3rem] p-12 border border-slate-100 shadow-xl animate-in slide-in-from-bottom-4",children:[m.jsxs("h2",{className:"text-3xl font-black text-slate-800 mb-8 flex items-center gap-3",children:[m.jsx(Bc,{className:"text-pink-500"})," "]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Z.length===0?m.jsx("div",{className:"col-span-full py-20 text-center text-slate-400 font-bold",children:""}):Z.map(L=>{var Re;return m.jsxs("div",{className:"bg-slate-50 p-6 rounded-[2.5rem] border border-slate-100 relative group",children:[m.jsx("button",{onClick:()=>Rn(L.id),className:"absolute top-4 right-4 p-2 bg-white rounded-full text-slate-300 hover:text-rose-500 hover:shadow-md transition-all opacity-0 group-hover:opacity-100",children:m.jsx(Qd,{size:18})}),m.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[m.jsx("img",{src:L.userAvatar,className:"w-12 h-12 rounded-full border-2 border-white shadow-sm",alt:L.userName}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-black text-slate-800",children:L.userName}),m.jsx("p",{className:"text-[10px] text-slate-400 font-bold",children:new Date(L.timestamp).toLocaleString()})]})]}),m.jsxs("h3",{className:"text-xl font-black text-slate-800 mb-2",children:["",L.itemName]}),m.jsxs("p",{className:"text-slate-500 text-sm mb-6 leading-relaxed italic",children:['"',L.description,'"']}),m.jsxs("div",{className:"flex items-center gap-2 text-pink-500 font-black text-sm",children:[m.jsx(Bc,{size:16,fill:"currentColor"})," ",((Re=L.likedBy)==null?void 0:Re.length)||0," "]})]},L.id)})})]}),a&&m.jsxs("div",{className:"fixed inset-0 z-[150] bg-slate-900/95 backdrop-blur-xl flex flex-col items-center justify-center p-8",children:[m.jsxs("div",{className:"relative w-full max-w-lg aspect-square border-8 border-white/5 rounded-[5rem] overflow-hidden shadow-[0_0_100px_rgba(79,70,229,0.3)]",children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900 via-indigo-900/20 to-slate-900 flex items-center justify-center",children:m.jsxs("div",{className:"text-center",children:[m.jsx(Dw,{size:140,className:"mx-auto mb-10 animate-pulse text-indigo-400"}),m.jsx("p",{className:"text-3xl font-black text-white mb-4 tracking-tight",children:"..."}),m.jsx("p",{className:"text-indigo-300 font-bold tracking-widest uppercase text-xs",children:"AI Computer Vision Active"})]})}),m.jsx("div",{className:"absolute top-0 left-0 w-full h-3 bg-indigo-400 shadow-[0_0_50px_rgba(129,140,248,1)] animate-scan-line"})]}),m.jsxs("button",{onClick:()=>o(!1),className:"mt-16 bg-white/5 hover:bg-white/10 text-white px-12 py-5 rounded-[2rem] font-black transition-all border border-white/10 flex items-center gap-4 text-lg backdrop-blur",children:[m.jsx(cl,{size:24})," "]}),m.jsx("style",{children:`
            @keyframes scan-line {
              0% { top: 0% }
              100% { top: 100% }
            }
            .animate-scan-line {
              animation: scan-line 3s linear infinite;
            }
          `})]}),M&&m.jsx("div",{className:"fixed inset-0 z-[160] flex items-center justify-center p-4 bg-slate-900/70 backdrop-blur-2xl",children:m.jsxs("div",{className:"bg-white rounded-[4rem] max-w-md w-full p-12 shadow-[0_0_80px_rgba(0,0,0,0.5)] animate-in zoom-in-95 duration-200",children:[m.jsx("div",{className:"bg-emerald-50 w-24 h-24 rounded-[2rem] flex items-center justify-center text-emerald-600 mb-10 mx-auto shadow-inner",children:m.jsx(Zc,{size:48})}),m.jsx("h2",{className:"text-3xl font-black text-slate-800 text-center mb-10 tracking-tight",children:""}),m.jsxs("div",{className:"bg-slate-50 rounded-[2.5rem] p-8 space-y-6 mb-12 border border-slate-100 shadow-inner",children:[m.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-slate-200/50",children:[m.jsx("span",{className:"text-slate-400 text-[10px] font-black uppercase tracking-widest",children:""}),m.jsx("span",{className:"font-black text-slate-800 text-xl",children:(yt=p.find(L=>L.id===M.userId))==null?void 0:yt.name})]}),m.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-slate-200/50",children:[m.jsx("span",{className:"text-slate-400 text-[10px] font-black uppercase tracking-widest",children:""}),m.jsx("span",{className:"font-black text-slate-800 text-xl",children:M.productName})]}),m.jsxs("div",{className:"flex justify-between items-center py-2",children:[m.jsx("span",{className:"text-slate-400 text-[10px] font-black uppercase tracking-widest",children:""}),m.jsxs("span",{className:"font-black text-indigo-600 text-2xl",children:[M.pointsSpent," ",m.jsx("span",{className:"text-xs font-bold text-indigo-400",children:"PTS"})]})]})]}),m.jsxs("div",{className:"flex flex-col gap-4",children:[m.jsxs("button",{onClick:()=>Ns(M.id),className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-black py-6 rounded-2xl transition-all shadow-2xl shadow-indigo-100 flex items-center justify-center gap-4 text-xl active:scale-95",children:[m.jsx(No,{size:28}),""]}),m.jsx("button",{onClick:()=>z(null),className:"w-full bg-slate-100 text-slate-600 font-bold py-5 rounded-2xl hover:bg-slate-200 transition-all text-lg",children:""})]})]})})]})},yO=({user:i})=>{const[e,s]=k.useState([]),[a,o]=k.useState(!1),[u,f]=k.useState(""),[p,_]=k.useState("");k.useEffect(()=>{const S=aT(w=>{s(w.sort((B,G)=>G.timestamp-B.timestamp))});return()=>S()},[]);const g=async S=>{if(S.preventDefault(),!u.trim()||!p.trim())return;const w={id:`wish_${Date.now()}`,userId:i.id,userName:i.name,userAvatar:i.avatar,itemName:u,description:p,timestamp:Date.now(),likedBy:[]};await AD(w),o(!1),f(""),_("")},b=async S=>{await ND(S,i.id)},T=e.some(S=>S.userId===i.id);return m.jsxs("div",{className:"space-y-8 pb-20",children:[m.jsxs("header",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[m.jsxs("div",{children:[m.jsxs("h1",{className:"text-3xl font-bold text-slate-800 flex items-center gap-3",children:[m.jsx(fm,{className:"text-yellow-500"}),""]}),m.jsx("p",{className:"text-slate-500 mt-1",children:""})]}),m.jsxs("button",{onClick:()=>{T?alert(""):o(!0)},className:`px-6 py-3 rounded-2xl font-bold shadow-lg flex items-center gap-2 transition-all hover:scale-105 ${T?"bg-slate-200 text-slate-400 cursor-not-allowed":"bg-indigo-600 text-white shadow-indigo-100 hover:bg-indigo-700"}`,children:[m.jsx(Ro,{size:20}),m.jsx("span",{children:T?"":""})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.map(S=>{var w,B,G,R;return m.jsxs("div",{className:"bg-white rounded-[2rem] p-6 border border-slate-100 shadow-sm hover:shadow-md transition-all flex flex-col relative overflow-hidden group",children:[m.jsx("div",{className:"absolute -right-4 -top-4 w-24 h-24 bg-yellow-50 rounded-full blur-2xl group-hover:bg-yellow-100 transition-colors"}),m.jsxs("div",{className:"flex items-center gap-3 mb-4 z-10",children:[m.jsx("img",{src:S.userAvatar,alt:S.userName,className:"w-10 h-10 rounded-full border-2 border-white shadow-sm"}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-bold text-slate-700",children:S.userName}),m.jsx("p",{className:"text-xs text-slate-400",children:new Date(S.timestamp).toLocaleDateString()})]})]}),m.jsx("h3",{className:"text-xl font-black text-slate-800 mb-2 z-10",children:S.itemName}),m.jsx("p",{className:"text-slate-500 text-sm mb-6 flex-1 z-10",children:S.description}),m.jsx("div",{className:"flex items-center justify-between pt-4 border-t border-slate-50 z-10",children:m.jsxs("button",{onClick:()=>b(S.id),className:`flex items-center gap-2 transition-colors group/like ${(w=S.likedBy)!=null&&w.includes(i.id)?"text-pink-500":"text-slate-400 hover:text-pink-500"}`,children:[m.jsx("div",{className:`p-2 rounded-full transition-colors ${(B=S.likedBy)!=null&&B.includes(i.id)?"bg-pink-50":"hover:bg-pink-50"}`,children:m.jsx(Yw,{size:18,className:(G=S.likedBy)!=null&&G.includes(i.id)?"fill-pink-500":""})}),m.jsxs("span",{className:"font-bold text-sm",children:[((R=S.likedBy)==null?void 0:R.length)||0," "]})]})})]},S.id)}),e.length===0&&m.jsxs("div",{className:"col-span-full py-20 text-center space-y-4",children:[m.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-full flex items-center justify-center mx-auto text-slate-300",children:m.jsx(Bc,{size:40})}),m.jsx("p",{className:"text-slate-400 font-bold",children:""})]})]}),a&&m.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm",children:m.jsxs("div",{className:"bg-white rounded-[2.5rem] max-w-lg w-full p-8 shadow-2xl animate-in zoom-in-95 duration-200",children:[m.jsxs("div",{className:"flex justify-between items-center mb-8",children:[m.jsxs("h2",{className:"text-2xl font-black text-slate-800 flex items-center gap-2",children:[m.jsx(fm,{className:"text-indigo-500"}),""]}),m.jsx("button",{onClick:()=>o(!1),className:"text-slate-400 hover:text-slate-600 bg-slate-50 p-2 rounded-full",children:m.jsx(cl,{size:24})})]}),m.jsxs("form",{onSubmit:g,className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-slate-700 font-bold mb-2 ml-1",children:""}),m.jsx("input",{type:"text",value:u,onChange:S=>f(S.target.value),placeholder:"AirPods Pro...",className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-5 py-4 font-bold text-slate-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:bg-white transition-all placeholder:font-medium",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-slate-700 font-bold mb-2 ml-1",children:""}),m.jsx("textarea",{value:p,onChange:S=>_(S.target.value),placeholder:"...",className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-5 py-4 font-medium text-slate-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:bg-white transition-all h-32 resize-none placeholder:font-medium",required:!0})]}),m.jsxs("button",{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-black py-5 rounded-[1.25rem] transition-all shadow-xl shadow-indigo-100 flex items-center justify-center gap-3 text-lg",children:[m.jsx(Vw,{size:24}),""]})]})]})})]})},_O=({onLogin:i})=>{const[e,s]=k.useState("student"),[a,o]=k.useState(!1),[u,f]=k.useState(""),[p,_]=k.useState(""),[g,b]=k.useState(""),[T,S]=k.useState(""),[w,B]=k.useState(""),G=async Q=>{Q.preventDefault();const me=(await Wb()).find(pe=>pe.name===u);if(!me){alert("");return}if(me.password&&me.password!==p){alert("");return}if(!me.isApproved){alert("");return}await $c(me),alert(""),i(me)},R=async Q=>{Q.preventDefault(),await nD(u,p,g)?(alert(""),o(!1),_("")):alert("")},Z=Q=>{Q.preventDefault(),T==="0957999"?($c(CE),alert(""),i(CE)):alert("")},se=Q=>{Q.preventDefault(),w.toLowerCase()==="aaa"?($c(DE),alert(""),i(DE)):alert("")};return m.jsx("div",{className:"min-h-screen bg-[#f8fafc] flex items-center justify-center p-4",children:m.jsxs("div",{className:"bg-white max-w-4xl w-full rounded-[3rem] shadow-2xl overflow-hidden flex flex-col md:flex-row min-h-[600px]",children:[m.jsxs("div",{className:"bg-indigo-600 p-12 text-white md:w-5/12 flex flex-col justify-between relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-indigo-500 rounded-full -translate-y-1/2 translate-x-1/3 opacity-50"}),m.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-indigo-700 rounded-full translate-y-1/3 -translate-x-1/3 opacity-50"}),m.jsxs("div",{className:"relative z-10",children:[m.jsx("div",{className:"bg-white/20 w-16 h-16 rounded-2xl flex items-center justify-center backdrop-blur-sm mb-6",children:m.jsx(h1,{size:32})}),m.jsx("h1",{className:"text-4xl font-black tracking-tight mb-4",children:""}),m.jsx("p",{className:"text-indigo-100 font-medium text-lg leading-relaxed",children:""})]}),m.jsx("div",{className:"relative z-10 text-sm font-medium text-indigo-200",children:" 2026 Workshop System"})]}),m.jsxs("div",{className:"p-8 md:p-12 md:w-7/12 flex flex-col",children:[!a&&m.jsxs("div",{className:"flex gap-2 mb-10 overflow-x-auto pb-2",children:[m.jsxs("button",{onClick:()=>s("student"),className:`flex-1 min-w-[100px] py-3 rounded-xl font-bold text-sm transition-all flex flex-col items-center gap-1 ${e==="student"?"bg-indigo-50 text-indigo-600 ring-2 ring-indigo-500 ring-offset-2":"bg-slate-50 text-slate-400 hover:bg-slate-100"}`,children:[m.jsx(e2,{size:18})," "]}),m.jsxs("button",{onClick:()=>s("admin"),className:`flex-1 min-w-[100px] py-3 rounded-xl font-bold text-sm transition-all flex flex-col items-center gap-1 ${e==="admin"?"bg-indigo-50 text-indigo-600 ring-2 ring-indigo-500 ring-offset-2":"bg-slate-50 text-slate-400 hover:bg-slate-100"}`,children:[m.jsx(Zc,{size:18})," "]}),m.jsxs("button",{onClick:()=>s("guest"),className:`flex-1 min-w-[100px] py-3 rounded-xl font-bold text-sm transition-all flex flex-col items-center gap-1 ${e==="guest"?"bg-indigo-50 text-indigo-600 ring-2 ring-indigo-500 ring-offset-2":"bg-slate-50 text-slate-400 hover:bg-slate-100"}`,children:[m.jsx(cw,{size:18})," "]})]}),!a&&e==="student"&&m.jsxs("form",{onSubmit:G,className:"space-y-6 flex-1 flex flex-col justify-center animate-in fade-in slide-in-from-right-4 duration-300",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-black text-slate-800 mb-1",children:""}),m.jsx("p",{className:"text-slate-400",children:""})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-widest mb-2",children:""}),m.jsx("input",{type:"text",value:u,onChange:Q=>f(Q.target.value),className:"w-full bg-slate-50 border border-slate-200 rounded-2xl p-4 font-bold text-slate-700 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all",placeholder:""})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-widest mb-2",children:""}),m.jsx("input",{type:"password",value:p,onChange:Q=>_(Q.target.value),className:"w-full bg-slate-50 border border-slate-200 rounded-2xl p-4 font-bold text-slate-700 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all",placeholder:""})]})]}),m.jsx("button",{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-black py-4 rounded-2xl shadow-xl shadow-indigo-100 transition-all active:scale-95",children:""}),m.jsx("div",{className:"text-center",children:m.jsx("button",{type:"button",onClick:()=>o(!0),className:"text-indigo-500 font-bold hover:underline",children:""})})]}),a&&m.jsxs("form",{onSubmit:R,className:"space-y-6 flex-1 flex flex-col justify-center animate-in fade-in slide-in-from-right-4 duration-300",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-black text-slate-800 mb-1",children:""}),m.jsx("p",{className:"text-slate-400",children:""})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-widest mb-2",children:""}),m.jsx("input",{type:"text",value:u,onChange:Q=>f(Q.target.value),className:"w-full bg-slate-50 border border-slate-200 rounded-2xl p-4 font-bold text-slate-700 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all",placeholder:"",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-widest mb-2",children:""}),m.jsx("input",{type:"password",value:p,onChange:Q=>_(Q.target.value),className:"w-full bg-slate-50 border border-slate-200 rounded-2xl p-4 font-bold text-slate-700 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all",placeholder:"",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-widest mb-2",children:""}),m.jsxs("select",{value:g,onChange:Q=>b(Q.target.value),className:"w-full bg-slate-50 border border-slate-200 rounded-2xl p-4 font-bold text-slate-700 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all",children:[m.jsx("option",{children:""}),m.jsx("option",{children:""}),m.jsx("option",{children:""})]})]})]}),m.jsxs("button",{type:"submit",className:"w-full bg-slate-800 hover:bg-slate-900 text-white font-black py-4 rounded-2xl shadow-xl transition-all active:scale-95 flex items-center justify-center gap-2",children:[m.jsx(dm,{size:20}),""]}),m.jsx("div",{className:"text-center",children:m.jsx("button",{type:"button",onClick:()=>o(!1),className:"text-slate-400 font-bold hover:text-slate-600",children:""})})]}),!a&&e==="admin"&&m.jsxs("form",{onSubmit:Z,className:"space-y-6 flex-1 flex flex-col justify-center animate-in fade-in slide-in-from-right-4 duration-300",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-black text-slate-800 mb-1",children:""}),m.jsx("p",{className:"text-slate-400",children:""})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-widest mb-2",children:""}),m.jsx("input",{type:"password",value:T,onChange:Q=>S(Q.target.value),className:"w-full bg-slate-50 border border-slate-200 rounded-2xl p-4 font-bold text-slate-700 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all",placeholder:"..."})]}),m.jsx("button",{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-black py-4 rounded-2xl shadow-xl shadow-indigo-100 transition-all active:scale-95",children:""})]}),!a&&e==="guest"&&m.jsxs("form",{onSubmit:se,className:"space-y-6 flex-1 flex flex-col justify-center animate-in fade-in slide-in-from-right-4 duration-300",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-black text-slate-800 mb-1",children:""}),m.jsx("p",{className:"text-slate-400",children:""})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-widest mb-2",children:""}),m.jsx("input",{type:"text",value:w,onChange:Q=>B(Q.target.value),className:"w-full bg-slate-50 border border-slate-200 rounded-2xl p-4 font-bold text-slate-700 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all",placeholder:"..."})]}),m.jsx("button",{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-black py-4 rounded-2xl shadow-xl shadow-indigo-100 transition-all active:scale-95",children:""})]})]})]})})},EO=({user:i,currentRank:e,onSwitchUser:s})=>{const a=_a(),[o,u]=k.useState(!1),f=[{path:"/",label:"",icon:Ew},{path:"/shop",label:"",icon:kw},{path:"/wishes",label:"",icon:fm},{path:"/history",label:"",icon:Jc}];return i.role===ti.ADMIN&&f.push({path:"/admin",label:"",icon:Zc}),m.jsxs("nav",{className:"bg-white border-r border-slate-200 w-full md:w-64 md:fixed md:inset-y-0 h-auto md:h-full z-50 shadow-sm",children:[m.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"bg-indigo-600 p-2 rounded-lg text-white",children:m.jsx(h1,{size:20})}),m.jsx("span",{className:"text-xl font-bold text-slate-800 tracking-tight",children:""})]}),m.jsx("button",{onClick:()=>u(!o),className:"md:hidden text-slate-600",children:o?m.jsx(cl,{}):m.jsx(Aw,{})})]}),m.jsx("div",{className:`${o?"block":"hidden"} md:block p-4 space-y-2`,children:f.map(p=>{const _=p.icon,g=a.pathname===p.path;return m.jsxs(Km,{to:p.path,onClick:()=>u(!1),className:`flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 ${g?"bg-indigo-50 text-indigo-700 font-bold shadow-sm":"text-slate-600 hover:bg-slate-50"}`,children:[m.jsx(_,{size:20}),m.jsx("span",{children:p.label})]},p.path)})}),m.jsxs("div",{className:`${o?"block":"hidden"} md:block absolute bottom-0 w-full p-6 border-t border-slate-100 bg-white`,children:[m.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[m.jsx("img",{src:i.avatar,className:"w-10 h-10 rounded-full border-2 border-slate-100 object-cover",alt:"avatar"}),m.jsxs("div",{className:"overflow-hidden",children:[m.jsx("p",{className:"font-bold text-slate-800 truncate text-sm",children:i.name}),m.jsxs("div",{className:`text-[9px] px-2 py-0.5 rounded-full inline-block text-white font-black ${e.color}`,children:[e.icon," ",e.name]})]})]}),m.jsxs("button",{onClick:s,className:"flex items-center gap-2 text-indigo-600 hover:text-indigo-800 transition-colors text-xs font-bold w-full bg-indigo-50 p-2 rounded-lg justify-center mb-2",children:[m.jsx(bw,{size:14}),m.jsx("span",{children:""})]})]})]})},vO=()=>{const[i,e]=k.useState(OE()),s=i?tr.reduce((u,f)=>i.totalEarned>=f.threshold?f:u,tr[0]):tr[0],a=()=>{const u=OE();u&&e(u)},o=()=>{aD(),e(null)};return i?m.jsx(LA,{children:m.jsxs("div",{className:"min-h-screen flex flex-col md:flex-row bg-[#fbfcfd]",children:[m.jsx(EO,{user:i,currentRank:s,onSwitchUser:o}),m.jsx("main",{className:"flex-1 md:ml-64 p-4 md:p-8",children:m.jsx("div",{className:"max-w-6xl mx-auto",children:m.jsxs(dA,{children:[m.jsx(el,{path:"/",element:m.jsx(dO,{user:i,rank:s,onUserUpdate:a})}),m.jsx(el,{path:"/shop",element:m.jsx(mO,{user:i,onUserUpdate:a})}),m.jsx(el,{path:"/wishes",element:m.jsx(yO,{user:i})}),m.jsx(el,{path:"/history",element:m.jsx(pO,{user:i})}),m.jsx(el,{path:"/admin",element:m.jsx(gO,{onRefresh:a})})]})})})]})}):m.jsx(_O,{onLogin:e})},NT=document.getElementById("root");if(!NT)throw new Error("Could not find root element to mount to");const bO=pS.createRoot(NT);bO.render(m.jsx(lS.StrictMode,{children:m.jsx(vO,{})}));
