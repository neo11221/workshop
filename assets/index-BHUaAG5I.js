(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const _ of document.querySelectorAll('link[rel="modulepreload"]'))g(_);new MutationObserver(_=>{for(const T of _)if(T.type==="childList")for(const I of T.addedNodes)I.tagName==="LINK"&&I.rel==="modulepreload"&&g(I)}).observe(document,{childList:!0,subtree:!0});function f(_){const T={};return _.integrity&&(T.integrity=_.integrity),_.referrerPolicy&&(T.referrerPolicy=_.referrerPolicy),_.crossOrigin==="use-credentials"?T.credentials="include":_.crossOrigin==="anonymous"?T.credentials="omit":T.credentials="same-origin",T}function g(_){if(_.ep)return;_.ep=!0;const T=f(_);fetch(_.href,T)}})();var rc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function YE(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var Sh={exports:{}},Do={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bg;function zA(){if(bg)return Do;bg=1;var o=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function f(g,_,T){var I=null;if(T!==void 0&&(I=""+T),_.key!==void 0&&(I=""+_.key),"key"in _){T={};for(var z in _)z!=="key"&&(T[z]=_[z])}else T=_;return _=T.ref,{$$typeof:o,type:g,key:I,ref:_!==void 0?_:null,props:T}}return Do.Fragment=s,Do.jsx=f,Do.jsxs=f,Do}var Og;function GA(){return Og||(Og=1,Sh.exports=zA()),Sh.exports}var vr=GA(),Ch={exports:{}},ee={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ng;function YA(){if(Ng)return ee;Ng=1;var o=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),I=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),N=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),G=Symbol.iterator;function $(K){return K===null||typeof K!="object"?null:(K=G&&K[G]||K["@@iterator"],typeof K=="function"?K:null)}var at={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gt=Object.assign,ht={};function Ut(K,Et,bt){this.props=K,this.context=Et,this.refs=ht,this.updater=bt||at}Ut.prototype.isReactComponent={},Ut.prototype.setState=function(K,Et){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,Et,"setState")},Ut.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function Mt(){}Mt.prototype=Ut.prototype;function xt(K,Et,bt){this.props=K,this.context=Et,this.refs=ht,this.updater=bt||at}var Rt=xt.prototype=new Mt;Rt.constructor=xt,gt(Rt,Ut.prototype),Rt.isPureReactComponent=!0;var ue=Array.isArray;function Ft(){}var P={H:null,A:null,T:null,S:null},H=Object.prototype.hasOwnProperty;function L(K,Et,bt){var Ot=bt.ref;return{$$typeof:o,type:K,key:Et,ref:Ot!==void 0?Ot:null,props:bt}}function Q(K,Et){return L(K.type,Et,K.props)}function j(K){return typeof K=="object"&&K!==null&&K.$$typeof===o}function q(K){var Et={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(bt){return Et[bt]})}var V=/\/+/g;function Xt(K,Et){return typeof K=="object"&&K!==null&&K.key!=null?q(""+K.key):Et.toString(36)}function st(K){switch(K.status){case"fulfilled":return K.value;case"rejected":throw K.reason;default:switch(typeof K.status=="string"?K.then(Ft,Ft):(K.status="pending",K.then(function(Et){K.status==="pending"&&(K.status="fulfilled",K.value=Et)},function(Et){K.status==="pending"&&(K.status="rejected",K.reason=Et)})),K.status){case"fulfilled":return K.value;case"rejected":throw K.reason}}throw K}function ct(K,Et,bt,Ot,Kt){var It=typeof K;(It==="undefined"||It==="boolean")&&(K=null);var ce=!1;if(K===null)ce=!0;else switch(It){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(K.$$typeof){case o:case s:ce=!0;break;case U:return ce=K._init,ct(ce(K._payload),Et,bt,Ot,Kt)}}if(ce)return Kt=Kt(K),ce=Ot===""?"."+Xt(K,0):Ot,ue(Kt)?(bt="",ce!=null&&(bt=ce.replace(V,"$&/")+"/"),ct(Kt,Et,bt,"",function(Fi){return Fi})):Kt!=null&&(j(Kt)&&(Kt=Q(Kt,bt+(Kt.key==null||K&&K.key===Kt.key?"":(""+Kt.key).replace(V,"$&/")+"/")+ce)),Et.push(Kt)),1;ce=0;var fe=Ot===""?".":Ot+":";if(ue(K))for(var ke=0;ke<K.length;ke++)Ot=K[ke],It=fe+Xt(Ot,ke),ce+=ct(Ot,Et,bt,It,Kt);else if(ke=$(K),typeof ke=="function")for(K=ke.call(K),ke=0;!(Ot=K.next()).done;)Ot=Ot.value,It=fe+Xt(Ot,ke++),ce+=ct(Ot,Et,bt,It,Kt);else if(It==="object"){if(typeof K.then=="function")return ct(st(K),Et,bt,Ot,Kt);throw Et=String(K),Error("Objects are not valid as a React child (found: "+(Et==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":Et)+"). If you meant to render a collection of children, use an array instead.")}return ce}function pt(K,Et,bt){if(K==null)return K;var Ot=[],Kt=0;return ct(K,Ot,"","",function(It){return Et.call(bt,It,Kt++)}),Ot}function Pt(K){if(K._status===-1){var Et=K._result;Et=Et(),Et.then(function(bt){(K._status===0||K._status===-1)&&(K._status=1,K._result=bt)},function(bt){(K._status===0||K._status===-1)&&(K._status=2,K._result=bt)}),K._status===-1&&(K._status=0,K._result=Et)}if(K._status===1)return K._result.default;throw K._result}var Jt=typeof reportError=="function"?reportError:function(K){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Et=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof K=="object"&&K!==null&&typeof K.message=="string"?String(K.message):String(K),error:K});if(!window.dispatchEvent(Et))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",K);return}console.error(K)},ie={map:pt,forEach:function(K,Et,bt){pt(K,function(){Et.apply(this,arguments)},bt)},count:function(K){var Et=0;return pt(K,function(){Et++}),Et},toArray:function(K){return pt(K,function(Et){return Et})||[]},only:function(K){if(!j(K))throw Error("React.Children.only expected to receive a single React element child.");return K}};return ee.Activity=B,ee.Children=ie,ee.Component=Ut,ee.Fragment=f,ee.Profiler=_,ee.PureComponent=xt,ee.StrictMode=g,ee.Suspense=v,ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,ee.__COMPILER_RUNTIME={__proto__:null,c:function(K){return P.H.useMemoCache(K)}},ee.cache=function(K){return function(){return K.apply(null,arguments)}},ee.cacheSignal=function(){return null},ee.cloneElement=function(K,Et,bt){if(K==null)throw Error("The argument must be a React element, but you passed "+K+".");var Ot=gt({},K.props),Kt=K.key;if(Et!=null)for(It in Et.key!==void 0&&(Kt=""+Et.key),Et)!H.call(Et,It)||It==="key"||It==="__self"||It==="__source"||It==="ref"&&Et.ref===void 0||(Ot[It]=Et[It]);var It=arguments.length-2;if(It===1)Ot.children=bt;else if(1<It){for(var ce=Array(It),fe=0;fe<It;fe++)ce[fe]=arguments[fe+2];Ot.children=ce}return L(K.type,Kt,Ot)},ee.createContext=function(K){return K={$$typeof:I,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null},K.Provider=K,K.Consumer={$$typeof:T,_context:K},K},ee.createElement=function(K,Et,bt){var Ot,Kt={},It=null;if(Et!=null)for(Ot in Et.key!==void 0&&(It=""+Et.key),Et)H.call(Et,Ot)&&Ot!=="key"&&Ot!=="__self"&&Ot!=="__source"&&(Kt[Ot]=Et[Ot]);var ce=arguments.length-2;if(ce===1)Kt.children=bt;else if(1<ce){for(var fe=Array(ce),ke=0;ke<ce;ke++)fe[ke]=arguments[ke+2];Kt.children=fe}if(K&&K.defaultProps)for(Ot in ce=K.defaultProps,ce)Kt[Ot]===void 0&&(Kt[Ot]=ce[Ot]);return L(K,It,Kt)},ee.createRef=function(){return{current:null}},ee.forwardRef=function(K){return{$$typeof:z,render:K}},ee.isValidElement=j,ee.lazy=function(K){return{$$typeof:U,_payload:{_status:-1,_result:K},_init:Pt}},ee.memo=function(K,Et){return{$$typeof:N,type:K,compare:Et===void 0?null:Et}},ee.startTransition=function(K){var Et=P.T,bt={};P.T=bt;try{var Ot=K(),Kt=P.S;Kt!==null&&Kt(bt,Ot),typeof Ot=="object"&&Ot!==null&&typeof Ot.then=="function"&&Ot.then(Ft,Jt)}catch(It){Jt(It)}finally{Et!==null&&bt.types!==null&&(Et.types=bt.types),P.T=Et}},ee.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},ee.use=function(K){return P.H.use(K)},ee.useActionState=function(K,Et,bt){return P.H.useActionState(K,Et,bt)},ee.useCallback=function(K,Et){return P.H.useCallback(K,Et)},ee.useContext=function(K){return P.H.useContext(K)},ee.useDebugValue=function(){},ee.useDeferredValue=function(K,Et){return P.H.useDeferredValue(K,Et)},ee.useEffect=function(K,Et){return P.H.useEffect(K,Et)},ee.useEffectEvent=function(K){return P.H.useEffectEvent(K)},ee.useId=function(){return P.H.useId()},ee.useImperativeHandle=function(K,Et,bt){return P.H.useImperativeHandle(K,Et,bt)},ee.useInsertionEffect=function(K,Et){return P.H.useInsertionEffect(K,Et)},ee.useLayoutEffect=function(K,Et){return P.H.useLayoutEffect(K,Et)},ee.useMemo=function(K,Et){return P.H.useMemo(K,Et)},ee.useOptimistic=function(K,Et){return P.H.useOptimistic(K,Et)},ee.useReducer=function(K,Et,bt){return P.H.useReducer(K,Et,bt)},ee.useRef=function(K){return P.H.useRef(K)},ee.useState=function(K){return P.H.useState(K)},ee.useSyncExternalStore=function(K,Et,bt){return P.H.useSyncExternalStore(K,Et,bt)},ee.useTransition=function(){return P.H.useTransition()},ee.version="19.2.3",ee}var vg;function i1(){return vg||(vg=1,Ch.exports=YA()),Ch.exports}var jE=i1();const zn=YE(jE);var Ih={exports:{}},Mo={},bh={exports:{}},Oh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rg;function jA(){return Rg||(Rg=1,(function(o){function s(ct,pt){var Pt=ct.length;ct.push(pt);t:for(;0<Pt;){var Jt=Pt-1>>>1,ie=ct[Jt];if(0<_(ie,pt))ct[Jt]=pt,ct[Pt]=ie,Pt=Jt;else break t}}function f(ct){return ct.length===0?null:ct[0]}function g(ct){if(ct.length===0)return null;var pt=ct[0],Pt=ct.pop();if(Pt!==pt){ct[0]=Pt;t:for(var Jt=0,ie=ct.length,K=ie>>>1;Jt<K;){var Et=2*(Jt+1)-1,bt=ct[Et],Ot=Et+1,Kt=ct[Ot];if(0>_(bt,Pt))Ot<ie&&0>_(Kt,bt)?(ct[Jt]=Kt,ct[Ot]=Pt,Jt=Ot):(ct[Jt]=bt,ct[Et]=Pt,Jt=Et);else if(Ot<ie&&0>_(Kt,Pt))ct[Jt]=Kt,ct[Ot]=Pt,Jt=Ot;else break t}}return pt}function _(ct,pt){var Pt=ct.sortIndex-pt.sortIndex;return Pt!==0?Pt:ct.id-pt.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var T=performance;o.unstable_now=function(){return T.now()}}else{var I=Date,z=I.now();o.unstable_now=function(){return I.now()-z}}var v=[],N=[],U=1,B=null,G=3,$=!1,at=!1,gt=!1,ht=!1,Ut=typeof setTimeout=="function"?setTimeout:null,Mt=typeof clearTimeout=="function"?clearTimeout:null,xt=typeof setImmediate<"u"?setImmediate:null;function Rt(ct){for(var pt=f(N);pt!==null;){if(pt.callback===null)g(N);else if(pt.startTime<=ct)g(N),pt.sortIndex=pt.expirationTime,s(v,pt);else break;pt=f(N)}}function ue(ct){if(gt=!1,Rt(ct),!at)if(f(v)!==null)at=!0,Ft||(Ft=!0,q());else{var pt=f(N);pt!==null&&st(ue,pt.startTime-ct)}}var Ft=!1,P=-1,H=5,L=-1;function Q(){return ht?!0:!(o.unstable_now()-L<H)}function j(){if(ht=!1,Ft){var ct=o.unstable_now();L=ct;var pt=!0;try{t:{at=!1,gt&&(gt=!1,Mt(P),P=-1),$=!0;var Pt=G;try{e:{for(Rt(ct),B=f(v);B!==null&&!(B.expirationTime>ct&&Q());){var Jt=B.callback;if(typeof Jt=="function"){B.callback=null,G=B.priorityLevel;var ie=Jt(B.expirationTime<=ct);if(ct=o.unstable_now(),typeof ie=="function"){B.callback=ie,Rt(ct),pt=!0;break e}B===f(v)&&g(v),Rt(ct)}else g(v);B=f(v)}if(B!==null)pt=!0;else{var K=f(N);K!==null&&st(ue,K.startTime-ct),pt=!1}}break t}finally{B=null,G=Pt,$=!1}pt=void 0}}finally{pt?q():Ft=!1}}}var q;if(typeof xt=="function")q=function(){xt(j)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Xt=V.port2;V.port1.onmessage=j,q=function(){Xt.postMessage(null)}}else q=function(){Ut(j,0)};function st(ct,pt){P=Ut(function(){ct(o.unstable_now())},pt)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(ct){ct.callback=null},o.unstable_forceFrameRate=function(ct){0>ct||125<ct?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<ct?Math.floor(1e3/ct):5},o.unstable_getCurrentPriorityLevel=function(){return G},o.unstable_next=function(ct){switch(G){case 1:case 2:case 3:var pt=3;break;default:pt=G}var Pt=G;G=pt;try{return ct()}finally{G=Pt}},o.unstable_requestPaint=function(){ht=!0},o.unstable_runWithPriority=function(ct,pt){switch(ct){case 1:case 2:case 3:case 4:case 5:break;default:ct=3}var Pt=G;G=ct;try{return pt()}finally{G=Pt}},o.unstable_scheduleCallback=function(ct,pt,Pt){var Jt=o.unstable_now();switch(typeof Pt=="object"&&Pt!==null?(Pt=Pt.delay,Pt=typeof Pt=="number"&&0<Pt?Jt+Pt:Jt):Pt=Jt,ct){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=Pt+ie,ct={id:U++,callback:pt,priorityLevel:ct,startTime:Pt,expirationTime:ie,sortIndex:-1},Pt>Jt?(ct.sortIndex=Pt,s(N,ct),f(v)===null&&ct===f(N)&&(gt?(Mt(P),P=-1):gt=!0,st(ue,Pt-Jt))):(ct.sortIndex=ie,s(v,ct),at||$||(at=!0,Ft||(Ft=!0,q()))),ct},o.unstable_shouldYield=Q,o.unstable_wrapCallback=function(ct){var pt=G;return function(){var Pt=G;G=pt;try{return ct.apply(this,arguments)}finally{G=Pt}}}})(Oh)),Oh}var Dg;function XA(){return Dg||(Dg=1,bh.exports=jA()),bh.exports}var Nh={exports:{}},Ai={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mg;function qA(){if(Mg)return Ai;Mg=1;var o=i1();function s(v){var N="https://react.dev/errors/"+v;if(1<arguments.length){N+="?args[]="+encodeURIComponent(arguments[1]);for(var U=2;U<arguments.length;U++)N+="&args[]="+encodeURIComponent(arguments[U])}return"Minified React error #"+v+"; visit "+N+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f(){}var g={d:{f,r:function(){throw Error(s(522))},D:f,C:f,L:f,m:f,X:f,S:f,M:f},p:0,findDOMNode:null},_=Symbol.for("react.portal");function T(v,N,U){var B=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_,key:B==null?null:""+B,children:v,containerInfo:N,implementation:U}}var I=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function z(v,N){if(v==="font")return"";if(typeof N=="string")return N==="use-credentials"?N:""}return Ai.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=g,Ai.createPortal=function(v,N){var U=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!N||N.nodeType!==1&&N.nodeType!==9&&N.nodeType!==11)throw Error(s(299));return T(v,N,null,U)},Ai.flushSync=function(v){var N=I.T,U=g.p;try{if(I.T=null,g.p=2,v)return v()}finally{I.T=N,g.p=U,g.d.f()}},Ai.preconnect=function(v,N){typeof v=="string"&&(N?(N=N.crossOrigin,N=typeof N=="string"?N==="use-credentials"?N:"":void 0):N=null,g.d.C(v,N))},Ai.prefetchDNS=function(v){typeof v=="string"&&g.d.D(v)},Ai.preinit=function(v,N){if(typeof v=="string"&&N&&typeof N.as=="string"){var U=N.as,B=z(U,N.crossOrigin),G=typeof N.integrity=="string"?N.integrity:void 0,$=typeof N.fetchPriority=="string"?N.fetchPriority:void 0;U==="style"?g.d.S(v,typeof N.precedence=="string"?N.precedence:void 0,{crossOrigin:B,integrity:G,fetchPriority:$}):U==="script"&&g.d.X(v,{crossOrigin:B,integrity:G,fetchPriority:$,nonce:typeof N.nonce=="string"?N.nonce:void 0})}},Ai.preinitModule=function(v,N){if(typeof v=="string")if(typeof N=="object"&&N!==null){if(N.as==null||N.as==="script"){var U=z(N.as,N.crossOrigin);g.d.M(v,{crossOrigin:U,integrity:typeof N.integrity=="string"?N.integrity:void 0,nonce:typeof N.nonce=="string"?N.nonce:void 0})}}else N==null&&g.d.M(v)},Ai.preload=function(v,N){if(typeof v=="string"&&typeof N=="object"&&N!==null&&typeof N.as=="string"){var U=N.as,B=z(U,N.crossOrigin);g.d.L(v,U,{crossOrigin:B,integrity:typeof N.integrity=="string"?N.integrity:void 0,nonce:typeof N.nonce=="string"?N.nonce:void 0,type:typeof N.type=="string"?N.type:void 0,fetchPriority:typeof N.fetchPriority=="string"?N.fetchPriority:void 0,referrerPolicy:typeof N.referrerPolicy=="string"?N.referrerPolicy:void 0,imageSrcSet:typeof N.imageSrcSet=="string"?N.imageSrcSet:void 0,imageSizes:typeof N.imageSizes=="string"?N.imageSizes:void 0,media:typeof N.media=="string"?N.media:void 0})}},Ai.preloadModule=function(v,N){if(typeof v=="string")if(N){var U=z(N.as,N.crossOrigin);g.d.m(v,{as:typeof N.as=="string"&&N.as!=="script"?N.as:void 0,crossOrigin:U,integrity:typeof N.integrity=="string"?N.integrity:void 0})}else g.d.m(v)},Ai.requestFormReset=function(v){g.d.r(v)},Ai.unstable_batchedUpdates=function(v,N){return v(N)},Ai.useFormState=function(v,N,U){return I.H.useFormState(v,N,U)},Ai.useFormStatus=function(){return I.H.useHostTransitionStatus()},Ai.version="19.2.3",Ai}var Lg;function WA(){if(Lg)return Nh.exports;Lg=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(s){console.error(s)}}return o(),Nh.exports=qA(),Nh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bg;function KA(){if(Bg)return Mo;Bg=1;var o=XA(),s=i1(),f=WA();function g(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function _(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function T(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function I(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function z(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(T(t)!==t)throw Error(g(188))}function N(t){var n=t.alternate;if(!n){if(n=T(t),n===null)throw Error(g(188));return n!==t?null:t}for(var a=t,c=n;;){var m=a.return;if(m===null)break;var A=m.alternate;if(A===null){if(c=m.return,c!==null){a=c;continue}break}if(m.child===A.child){for(A=m.child;A;){if(A===a)return v(m),t;if(A===c)return v(m),n;A=A.sibling}throw Error(g(188))}if(a.return!==c.return)a=m,c=A;else{for(var S=!1,D=m.child;D;){if(D===a){S=!0,a=m,c=A;break}if(D===c){S=!0,c=m,a=A;break}D=D.sibling}if(!S){for(D=A.child;D;){if(D===a){S=!0,a=A,c=m;break}if(D===c){S=!0,c=A,a=m;break}D=D.sibling}if(!S)throw Error(g(189))}}if(a.alternate!==c)throw Error(g(190))}if(a.tag!==3)throw Error(g(188));return a.stateNode.current===a?t:n}function U(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=U(t),n!==null)return n;t=t.sibling}return null}var B=Object.assign,G=Symbol.for("react.element"),$=Symbol.for("react.transitional.element"),at=Symbol.for("react.portal"),gt=Symbol.for("react.fragment"),ht=Symbol.for("react.strict_mode"),Ut=Symbol.for("react.profiler"),Mt=Symbol.for("react.consumer"),xt=Symbol.for("react.context"),Rt=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),Ft=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),Q=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function q(t){return t===null||typeof t!="object"?null:(t=j&&t[j]||t["@@iterator"],typeof t=="function"?t:null)}var V=Symbol.for("react.client.reference");function Xt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===V?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case gt:return"Fragment";case Ut:return"Profiler";case ht:return"StrictMode";case ue:return"Suspense";case Ft:return"SuspenseList";case L:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case at:return"Portal";case xt:return t.displayName||"Context";case Mt:return(t._context.displayName||"Context")+".Consumer";case Rt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case P:return n=t.displayName||null,n!==null?n:Xt(t.type)||"Memo";case H:n=t._payload,t=t._init;try{return Xt(t(n))}catch{}}return null}var st=Array.isArray,ct=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt=f.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Pt={pending:!1,data:null,method:null,action:null},Jt=[],ie=-1;function K(t){return{current:t}}function Et(t){0>ie||(t.current=Jt[ie],Jt[ie]=null,ie--)}function bt(t,n){ie++,Jt[ie]=t.current,t.current=n}var Ot=K(null),Kt=K(null),It=K(null),ce=K(null);function fe(t,n){switch(bt(It,n),bt(Kt,t),bt(Ot,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Zd(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Zd(n),t=Qd(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Et(Ot),bt(Ot,t)}function ke(){Et(Ot),Et(Kt),Et(It)}function Fi(t){t.memoizedState!==null&&bt(ce,t);var n=Ot.current,a=Qd(n,t.type);n!==a&&(bt(Kt,t),bt(Ot,a))}function Cn(t){Kt.current===t&&(Et(Ot),Et(Kt)),ce.current===t&&(Et(ce),Oo._currentValue=Pt)}var _r,he;function qn(t){if(_r===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);_r=n&&n[1]||"",he=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_r+t+he}var ci=!1;function Hi(t,n){if(!t||ci)return"";ci=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(n){var _t=function(){throw Error()};if(Object.defineProperty(_t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_t,[])}catch(dt){var lt=dt}Reflect.construct(t,[],_t)}else{try{_t.call()}catch(dt){lt=dt}t.call(_t.prototype)}}else{try{throw Error()}catch(dt){lt=dt}(_t=t())&&typeof _t.catch=="function"&&_t.catch(function(){})}}catch(dt){if(dt&&lt&&typeof dt.stack=="string")return[dt.stack,lt.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var A=c.DetermineComponentFrameRoot(),S=A[0],D=A[1];if(S&&D){var Y=S.split(`
`),rt=D.split(`
`);for(m=c=0;c<Y.length&&!Y[c].includes("DetermineComponentFrameRoot");)c++;for(;m<rt.length&&!rt[m].includes("DetermineComponentFrameRoot");)m++;if(c===Y.length||m===rt.length)for(c=Y.length-1,m=rt.length-1;1<=c&&0<=m&&Y[c]!==rt[m];)m--;for(;1<=c&&0<=m;c--,m--)if(Y[c]!==rt[m]){if(c!==1||m!==1)do if(c--,m--,0>m||Y[c]!==rt[m]){var mt=`
`+Y[c].replace(" at new "," at ");return t.displayName&&mt.includes("<anonymous>")&&(mt=mt.replace("<anonymous>",t.displayName)),mt}while(1<=c&&0<=m);break}}}finally{ci=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?qn(a):""}function gn(t,n){switch(t.tag){case 26:case 27:case 5:return qn(t.type);case 16:return qn("Lazy");case 13:return t.child!==n&&n!==null?qn("Suspense Fallback"):qn("Suspense");case 19:return qn("SuspenseList");case 0:case 15:return Hi(t.type,!1);case 11:return Hi(t.type.render,!1);case 1:return Hi(t.type,!0);case 31:return qn("Activity");default:return""}}function ve(t){try{var n="",a=null;do n+=gn(t,a),a=t,t=t.return;while(t);return n}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Gt=Object.prototype.hasOwnProperty,ln=o.unstable_scheduleCallback,Dt=o.unstable_cancelCallback,vs=o.unstable_shouldYield,ya=o.unstable_requestPaint,en=o.unstable_now,xr=o.unstable_getCurrentPriorityLevel,Wn=o.unstable_ImmediatePriority,Rs=o.unstable_UserBlockingPriority,Kn=o.unstable_NormalPriority,Un=o.unstable_LowPriority,wa=o.unstable_IdlePriority,Zr=o.log,Zl=o.unstable_setDisableYieldValue,Re=null,Tt=null;function De(t){if(typeof Zr=="function"&&Zl(t),Tt&&typeof Tt.setStrictMode=="function")try{Tt.setStrictMode(Re,t)}catch{}}var Zt=Math.clz32?Math.clz32:Ds,Ke=Math.log,yr=Math.LN2;function Ds(t){return t>>>=0,t===0?32:31-(Ke(t)/yr|0)|0}var Vi=256,oe=262144,je=4194304;function zi(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Gi(t,n,a){var c=t.pendingLanes;if(c===0)return 0;var m=0,A=t.suspendedLanes,S=t.pingedLanes;t=t.warmLanes;var D=c&134217727;return D!==0?(c=D&~A,c!==0?m=zi(c):(S&=D,S!==0?m=zi(S):a||(a=D&~t,a!==0&&(m=zi(a))))):(D=c&~A,D!==0?m=zi(D):S!==0?m=zi(S):a||(a=c&~t,a!==0&&(m=zi(a)))),m===0?0:n!==0&&n!==m&&(n&A)===0&&(A=m&-m,a=n&-n,A>=a||A===32&&(a&4194048)!==0)?n:m}function En(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ta(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function In(){var t=je;return je<<=1,(je&62914560)===0&&(je=4194304),t}function Zn(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function ir(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Oi(t,n,a,c,m,A){var S=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var D=t.entanglements,Y=t.expirationTimes,rt=t.hiddenUpdates;for(a=S&~a;0<a;){var mt=31-Zt(a),_t=1<<mt;D[mt]=0,Y[mt]=-1;var lt=rt[mt];if(lt!==null)for(rt[mt]=null,mt=0;mt<lt.length;mt++){var dt=lt[mt];dt!==null&&(dt.lane&=-536870913)}a&=~_t}c!==0&&Ms(t,c,0),A!==0&&m===0&&t.tag!==0&&(t.suspendedLanes|=A&~(S&~n))}function Ms(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var c=31-Zt(n);t.entangledLanes|=n,t.entanglements[c]=t.entanglements[c]|1073741824|a&261930}function rr(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var c=31-Zt(a),m=1<<c;m&n|t[c]&n&&(t[c]|=n),a&=~m}}function Qr(t,n){var a=n&-n;return a=(a&42)!==0?1:xn(a),(a&(t.suspendedLanes|n))!==0?0:a}function xn(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Qn(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Jn(){var t=pt.p;return t!==0?t:(t=window.event,t===void 0?32:xg(t.type))}function vt(t,n){var a=pt.p;try{return pt.p=t,n()}finally{pt.p=a}}var Gn=Math.random().toString(36).slice(2),on="__reactFiber$"+Gn,Oe="__reactProps$"+Gn,$n="__reactContainer$"+Gn,wr="__reactEvents$"+Gn,Ls="__reactListeners$"+Gn,_i="__reactHandles$"+Gn,rl="__reactResources$"+Gn,sr="__reactMarker$"+Gn;function ti(t){delete t[on],delete t[Oe],delete t[wr],delete t[Ls],delete t[_i]}function $e(t){var n=t[on];if(n)return n;for(var a=t.parentNode;a;){if(n=a[$n]||a[on]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=rg(t);t!==null;){if(a=t[on])return a;t=rg(t)}return n}t=a,a=t.parentNode}return null}function ge(t){if(t=t[on]||t[$n]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function fi(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(g(33))}function Pn(t){var n=t[rl];return n||(n=t[rl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function un(t){t[sr]=!0}var yt=new Set,Sa={};function Ne(t,n){ei(t,n),ei(t+"Capture",n)}function ei(t,n){for(Sa[t]=n,t=0;t<n.length;t++)yt.add(n[t])}var Ca=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_e={},Ee={};function ae(t){return Gt.call(Ee,t)?!0:Gt.call(_e,t)?!1:Ca.test(t)?Ee[t]=!0:(_e[t]=!0,!1)}function Lr(t,n,a){if(ae(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var c=n.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function ni(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function cn(t,n,a,c){if(c===null)t.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+c)}}function de(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ii(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ia(t,n,a){var c=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,A=c.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return m.call(this)},set:function(S){a=""+S,A.call(this,S)}}),Object.defineProperty(t,n,{enumerable:c.enumerable}),{getValue:function(){return a},setValue:function(S){a=""+S},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function qt(t){if(!t._valueTracker){var n=ii(t)?"checked":"value";t._valueTracker=Ia(t,n,""+t[n])}}function hi(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),c="";return t&&(c=ii(t)?t.checked?"true":"false":t.value),t=c,t!==a?(n.setValue(t),!0):!1}function ar(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ni=/[\n"\\]/g;function re(t){return t.replace(Ni,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function mn(t,n,a,c,m,A,S,D){t.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.type=S:t.removeAttribute("type"),n!=null?S==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+de(n)):t.value!==""+de(n)&&(t.value=""+de(n)):S!=="submit"&&S!=="reset"||t.removeAttribute("value"),n!=null?k(t,S,de(n)):a!=null?k(t,S,de(a)):c!=null&&t.removeAttribute("value"),m==null&&A!=null&&(t.defaultChecked=!!A),m!=null&&(t.checked=m&&typeof m!="function"&&typeof m!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?t.name=""+de(D):t.removeAttribute("name")}function nt(t,n,a,c,m,A,S,D){if(A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(t.type=A),n!=null||a!=null){if(!(A!=="submit"&&A!=="reset"||n!=null)){qt(t);return}a=a!=null?""+de(a):"",n=n!=null?""+de(n):a,D||n===t.value||(t.value=n),t.defaultValue=n}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,t.checked=D?t.checked:!!c,t.defaultChecked=!!c,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(t.name=S),qt(t)}function k(t,n,a){n==="number"&&ar(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Lt(t,n,a,c){if(t=t.options,n){n={};for(var m=0;m<a.length;m++)n["$"+a[m]]=!0;for(a=0;a<t.length;a++)m=n.hasOwnProperty("$"+t[a].value),t[a].selected!==m&&(t[a].selected=m),m&&c&&(t[a].defaultSelected=!0)}else{for(a=""+de(a),n=null,m=0;m<t.length;m++){if(t[m].value===a){t[m].selected=!0,c&&(t[m].defaultSelected=!0);return}n!==null||t[m].disabled||(n=t[m])}n!==null&&(n.selected=!0)}}function pn(t,n,a){if(n!=null&&(n=""+de(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+de(a):""}function bn(t,n,a,c){if(n==null){if(c!=null){if(a!=null)throw Error(g(92));if(st(c)){if(1<c.length)throw Error(g(93));c=c[0]}a=c}a==null&&(a=""),n=a}a=de(n),t.defaultValue=a,c=t.textContent,c===a&&c!==""&&c!==null&&(t.value=c),qt(t)}function di(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Bs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yn(t,n,a){var c=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":c?t.setProperty(n,a):typeof a!="number"||a===0||Bs.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Ht(t,n,a){if(n!=null&&typeof n!="object")throw Error(g(62));if(t=t.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||n!=null&&n.hasOwnProperty(c)||(c.indexOf("--")===0?t.setProperty(c,""):c==="float"?t.cssFloat="":t[c]="");for(var m in n)c=n[m],n.hasOwnProperty(m)&&a[m]!==c&&Yn(t,m,c)}else for(var A in n)n.hasOwnProperty(A)&&Yn(t,A,n[A])}function Fe(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ba=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Br=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ur(t){return Br.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function gi(){}var Jr=null;function vi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ze=null,Ei=null;function mi(t){var n=ge(t);if(n&&(t=n.stateNode)){var a=t[Oe]||null;t:switch(t=n.stateNode,n.type){case"input":if(mn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+re(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var c=a[n];if(c!==t&&c.form===t.form){var m=c[Oe]||null;if(!m)throw Error(g(90));mn(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(n=0;n<a.length;n++)c=a[n],c.form===t.form&&hi(c)}break t;case"textarea":pn(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Lt(t,!!a.multiple,n,!1)}}}var Vt=!1;function Pr(t,n,a){if(Vt)return t(n,a);Vt=!0;try{var c=t(n);return c}finally{if(Vt=!1,(Ze!==null||Ei!==null)&&(Uu(),Ze&&(n=Ze,t=Ei,Ei=Ze=null,mi(n),t)))for(n=0;n<t.length;n++)mi(t[n])}}function jt(t,n){var a=t.stateNode;if(a===null)return null;var c=a[Oe]||null;if(c===null)return null;a=c[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(g(231,n,typeof a));return a}var He=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$r=!1;if(He)try{var Ue={};Object.defineProperty(Ue,"passive",{get:function(){$r=!0}}),window.addEventListener("test",Ue,Ue),window.removeEventListener("test",Ue,Ue)}catch{$r=!1}var Yi=null,ji=null,ts=null;function Tr(){if(ts)return ts;var t,n=ji,a=n.length,c,m="value"in Yi?Yi.value:Yi.textContent,A=m.length;for(t=0;t<a&&n[t]===m[t];t++);var S=a-t;for(c=1;c<=S&&n[a-c]===m[A-c];c++);return ts=m.slice(t,1<c?1-c:void 0)}function Xi(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function xi(){return!0}function Ri(){return!1}function An(t){function n(a,c,m,A,S){this._reactName=a,this._targetInst=m,this.type=c,this.nativeEvent=A,this.target=S,this.currentTarget=null;for(var D in t)t.hasOwnProperty(D)&&(a=t[D],this[D]=a?a(A):A[D]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?xi:Ri,this.isPropagationStopped=Ri,this}return B(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=xi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=xi)},persist:function(){},isPersistent:xi}),n}var yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=An(yi),Sr=B({},yi,{view:0,detail:0}),Us=An(Sr),Cr,Ps,lr,ks=B({},Sr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vn,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==lr&&(lr&&t.type==="mousemove"?(Cr=t.screenX-lr.screenX,Ps=t.screenY-lr.screenY):Ps=Cr=0,lr=t),Cr)},movementY:function(t){return"movementY"in t?t.movementY:Ps}}),Se=An(ks),kr=B({},ks,{dataTransfer:0}),es=An(kr),qi=B({},Sr,{relatedTarget:0}),ns=An(qi),ut=B({},yi,{animationName:0,elapsedTime:0,pseudoElement:0}),te=An(ut),fn=B({},yi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),is=An(fn),Oa=B({},yi,{data:0}),or=An(Oa),sl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},al={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fs={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hn(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Fs[t])?!!n[t]:!1}function vn(){return hn}var Qe=B({},Sr,{key:function(t){if(t.key){var n=sl[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Xi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?al[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vn,charCode:function(t){return t.type==="keypress"?Xi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),rs=An(Qe),pi=B({},ks,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=An(pi),y=B({},Sr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vn}),C=An(y),M=B({},yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),tt=An(M),ot=B({},ks,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Nt=An(ot),Yt=B({},yi,{newState:0,oldState:0}),rn=An(Yt),Me=[9,13,27,32],tn=He&&"CompositionEvent"in window,kn=null;He&&"documentMode"in document&&(kn=document.documentMode);var ur=He&&"TextEvent"in window&&!kn,Wi=He&&(!tn||kn&&8<kn&&11>=kn),jn=" ",Ir=!1;function Hs(t,n){switch(t){case"keyup":return Me.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vs(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zs=!1;function Fr(t,n){switch(t){case"compositionend":return Vs(n);case"keypress":return n.which!==32?null:(Ir=!0,jn);case"textInput":return t=n.data,t===jn&&Ir?null:t;default:return null}}function ll(t,n){if(zs)return t==="compositionend"||!tn&&Hs(t,n)?(t=Tr(),ts=ji=Yi=null,zs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Wi&&n.locale!=="ko"?null:n.data;default:return null}}var Di={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ql(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Di[t.type]:n==="textarea"}function Ki(t,n,a,c){Ze?Ei?Ei.push(c):Ei=[c]:Ze=c,n=Gu(n,"onChange"),0<n.length&&(a=new nn("onChange","change",null,a,c),t.push({event:a,listeners:n}))}var Na=null,ss=null;function Uc(t){Yd(t,0)}function va(t){var n=fi(t);if(hi(n))return t}function Zi(t,n){if(t==="change")return n}var tu=!1;if(He){var Ra;if(He){var as="oninput"in document;if(!as){var xe=document.createElement("div");xe.setAttribute("oninput","return;"),as=typeof xe.oninput=="function"}Ra=as}else Ra=!1;tu=Ra&&(!document.documentMode||9<document.documentMode)}function Da(){Na&&(Na.detachEvent("onpropertychange",b),ss=Na=null)}function b(t){if(t.propertyName==="value"&&va(ss)){var n=[];Ki(n,ss,t,vi(t)),Pr(Uc,n)}}function e(t,n,a){t==="focusin"?(Da(),Na=n,ss=a,Na.attachEvent("onpropertychange",b)):t==="focusout"&&Da()}function i(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return va(ss)}function r(t,n){if(t==="click")return va(n)}function l(t,n){if(t==="input"||t==="change")return va(n)}function u(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var h=typeof Object.is=="function"?Object.is:u;function d(t,n){if(h(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),c=Object.keys(n);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var m=a[c];if(!Gt.call(n,m)||!h(t[m],n[m]))return!1}return!0}function p(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function x(t,n){var a=p(t);t=0;for(var c;a;){if(a.nodeType===3){if(c=t+a.textContent.length,t<=n&&c>=n)return{node:a,offset:n-t};t=c}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=p(a)}}function w(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?w(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function O(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ar(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=ar(t.document)}return n}function R(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var F=He&&"documentMode"in document&&11>=document.documentMode,X=null,W=null,et=null,ft=!1;function Ct(t,n,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ft||X==null||X!==ar(c)||(c=X,"selectionStart"in c&&R(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),et&&d(et,c)||(et=c,c=Gu(W,"onSelect"),0<c.length&&(n=new nn("onSelect","select",null,n,a),t.push({event:n,listeners:c}),n.target=X)))}function St(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var wt={animationend:St("Animation","AnimationEnd"),animationiteration:St("Animation","AnimationIteration"),animationstart:St("Animation","AnimationStart"),transitionrun:St("Transition","TransitionRun"),transitionstart:St("Transition","TransitionStart"),transitioncancel:St("Transition","TransitionCancel"),transitionend:St("Transition","TransitionEnd")},le={},$t={};He&&($t=document.createElement("div").style,"AnimationEvent"in window||(delete wt.animationend.animation,delete wt.animationiteration.animation,delete wt.animationstart.animation),"TransitionEvent"in window||delete wt.transitionend.transition);function yn(t){if(le[t])return le[t];if(!wt[t])return t;var n=wt[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in $t)return le[t]=n[a];return t}var Mi=yn("animationend"),ri=yn("animationiteration"),Ve=yn("animationstart"),Fn=yn("transitionrun"),wi=yn("transitionstart"),Gs=yn("transitioncancel"),ls=yn("transitionend"),eu=new Map,Jl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jl.push("scrollEnd");function br(t,n){eu.set(t,n),Ne(n,[t])}var nu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},cr=[],ol=0,Pc=0;function iu(){for(var t=ol,n=Pc=ol=0;n<t;){var a=cr[n];cr[n++]=null;var c=cr[n];cr[n++]=null;var m=cr[n];cr[n++]=null;var A=cr[n];if(cr[n++]=null,c!==null&&m!==null){var S=c.pending;S===null?m.next=m:(m.next=S.next,S.next=m),c.pending=m}A!==0&&C1(a,m,A)}}function ru(t,n,a,c){cr[ol++]=t,cr[ol++]=n,cr[ol++]=a,cr[ol++]=c,Pc|=c,t.lanes|=c,t=t.alternate,t!==null&&(t.lanes|=c)}function kc(t,n,a,c){return ru(t,n,a,c),su(t)}function Ma(t,n){return ru(t,null,null,n),su(t)}function C1(t,n,a){t.lanes|=a;var c=t.alternate;c!==null&&(c.lanes|=a);for(var m=!1,A=t.return;A!==null;)A.childLanes|=a,c=A.alternate,c!==null&&(c.childLanes|=a),A.tag===22&&(t=A.stateNode,t===null||t._visibility&1||(m=!0)),t=A,A=A.return;return t.tag===3?(A=t.stateNode,m&&n!==null&&(m=31-Zt(a),t=A.hiddenUpdates,c=t[m],c===null?t[m]=[n]:c.push(n),n.lane=a|536870912),A):null}function su(t){if(50<yo)throw yo=0,Wf=null,Error(g(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ul={};function Cp(t,n,a,c){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qi(t,n,a,c){return new Cp(t,n,a,c)}function Fc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function os(t,n){var a=t.alternate;return a===null?(a=Qi(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function I1(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function au(t,n,a,c,m,A){var S=0;if(c=t,typeof t=="function")Fc(t)&&(S=1);else if(typeof t=="string")S=vA(t,a,Ot.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case L:return t=Qi(31,a,n,m),t.elementType=L,t.lanes=A,t;case gt:return La(a.children,m,A,n);case ht:S=8,m|=24;break;case Ut:return t=Qi(12,a,n,m|2),t.elementType=Ut,t.lanes=A,t;case ue:return t=Qi(13,a,n,m),t.elementType=ue,t.lanes=A,t;case Ft:return t=Qi(19,a,n,m),t.elementType=Ft,t.lanes=A,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case xt:S=10;break t;case Mt:S=9;break t;case Rt:S=11;break t;case P:S=14;break t;case H:S=16,c=null;break t}S=29,a=Error(g(130,t===null?"null":typeof t,"")),c=null}return n=Qi(S,a,n,m),n.elementType=t,n.type=c,n.lanes=A,n}function La(t,n,a,c){return t=Qi(7,t,c,n),t.lanes=a,t}function Hc(t,n,a){return t=Qi(6,t,null,n),t.lanes=a,t}function b1(t){var n=Qi(18,null,null,0);return n.stateNode=t,n}function Vc(t,n,a){return n=Qi(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var O1=new WeakMap;function fr(t,n){if(typeof t=="object"&&t!==null){var a=O1.get(t);return a!==void 0?a:(n={value:t,source:n,stack:ve(n)},O1.set(t,n),n)}return{value:t,source:n,stack:ve(n)}}var cl=[],fl=0,lu=null,$l=0,hr=[],dr=0,Ys=null,Hr=1,Vr="";function us(t,n){cl[fl++]=$l,cl[fl++]=lu,lu=t,$l=n}function N1(t,n,a){hr[dr++]=Hr,hr[dr++]=Vr,hr[dr++]=Ys,Ys=t;var c=Hr;t=Vr;var m=32-Zt(c)-1;c&=~(1<<m),a+=1;var A=32-Zt(n)+m;if(30<A){var S=m-m%5;A=(c&(1<<S)-1).toString(32),c>>=S,m-=S,Hr=1<<32-Zt(n)+m|a<<m|c,Vr=A+t}else Hr=1<<A|a<<m|c,Vr=t}function zc(t){t.return!==null&&(us(t,1),N1(t,1,0))}function Gc(t){for(;t===lu;)lu=cl[--fl],cl[fl]=null,$l=cl[--fl],cl[fl]=null;for(;t===Ys;)Ys=hr[--dr],hr[dr]=null,Vr=hr[--dr],hr[dr]=null,Hr=hr[--dr],hr[dr]=null}function v1(t,n){hr[dr++]=Hr,hr[dr++]=Vr,hr[dr++]=Ys,Hr=n.id,Vr=n.overflow,Ys=t}var si=null,sn=null,Te=!1,js=null,gr=!1,Yc=Error(g(519));function Xs(t){var n=Error(g(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw to(fr(n,t)),Yc}function R1(t){var n=t.stateNode,a=t.type,c=t.memoizedProps;switch(n[on]=t,n[Oe]=c,a){case"dialog":pe("cancel",n),pe("close",n);break;case"iframe":case"object":case"embed":pe("load",n);break;case"video":case"audio":for(a=0;a<To.length;a++)pe(To[a],n);break;case"source":pe("error",n);break;case"img":case"image":case"link":pe("error",n),pe("load",n);break;case"details":pe("toggle",n);break;case"input":pe("invalid",n),nt(n,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":pe("invalid",n);break;case"textarea":pe("invalid",n),bn(n,c.value,c.defaultValue,c.children)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||c.suppressHydrationWarning===!0||Wd(n.textContent,a)?(c.popover!=null&&(pe("beforetoggle",n),pe("toggle",n)),c.onScroll!=null&&pe("scroll",n),c.onScrollEnd!=null&&pe("scrollend",n),c.onClick!=null&&(n.onclick=gi),n=!0):n=!1,n||Xs(t,!0)}function D1(t){for(si=t.return;si;)switch(si.tag){case 5:case 31:case 13:gr=!1;return;case 27:case 3:gr=!0;return;default:si=si.return}}function hl(t){if(t!==si)return!1;if(!Te)return D1(t),Te=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||uh(t.type,t.memoizedProps)),a=!a),a&&sn&&Xs(t),D1(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(g(317));sn=ig(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(g(317));sn=ig(t)}else n===27?(n=sn,aa(t.type)?(t=gh,gh=null,sn=t):sn=n):sn=si?mr(t.stateNode.nextSibling):null;return!0}function Ba(){sn=si=null,Te=!1}function jc(){var t=js;return t!==null&&(Pi===null?Pi=t:Pi.push.apply(Pi,t),js=null),t}function to(t){js===null?js=[t]:js.push(t)}var Xc=K(null),Ua=null,cs=null;function qs(t,n,a){bt(Xc,n._currentValue),n._currentValue=a}function fs(t){t._currentValue=Xc.current,Et(Xc)}function qc(t,n,a){for(;t!==null;){var c=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,c!==null&&(c.childLanes|=n)):c!==null&&(c.childLanes&n)!==n&&(c.childLanes|=n),t===a)break;t=t.return}}function Wc(t,n,a,c){var m=t.child;for(m!==null&&(m.return=t);m!==null;){var A=m.dependencies;if(A!==null){var S=m.child;A=A.firstContext;t:for(;A!==null;){var D=A;A=m;for(var Y=0;Y<n.length;Y++)if(D.context===n[Y]){A.lanes|=a,D=A.alternate,D!==null&&(D.lanes|=a),qc(A.return,a,t),c||(S=null);break t}A=D.next}}else if(m.tag===18){if(S=m.return,S===null)throw Error(g(341));S.lanes|=a,A=S.alternate,A!==null&&(A.lanes|=a),qc(S,a,t),S=null}else S=m.child;if(S!==null)S.return=m;else for(S=m;S!==null;){if(S===t){S=null;break}if(m=S.sibling,m!==null){m.return=S.return,S=m;break}S=S.return}m=S}}function dl(t,n,a,c){t=null;for(var m=n,A=!1;m!==null;){if(!A){if((m.flags&524288)!==0)A=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var S=m.alternate;if(S===null)throw Error(g(387));if(S=S.memoizedProps,S!==null){var D=m.type;h(m.pendingProps.value,S.value)||(t!==null?t.push(D):t=[D])}}else if(m===ce.current){if(S=m.alternate,S===null)throw Error(g(387));S.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(t!==null?t.push(Oo):t=[Oo])}m=m.return}t!==null&&Wc(n,t,a,c),n.flags|=262144}function ou(t){for(t=t.firstContext;t!==null;){if(!h(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Pa(t){Ua=t,cs=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ai(t){return M1(Ua,t)}function uu(t,n){return Ua===null&&Pa(t),M1(t,n)}function M1(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},cs===null){if(t===null)throw Error(g(308));cs=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else cs=cs.next=n;return a}var Ip=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,c){t.push(c)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},bp=o.unstable_scheduleCallback,Op=o.unstable_NormalPriority,Rn={$$typeof:xt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kc(){return{controller:new Ip,data:new Map,refCount:0}}function eo(t){t.refCount--,t.refCount===0&&bp(Op,function(){t.controller.abort()})}var no=null,Zc=0,gl=0,El=null;function Np(t,n){if(no===null){var a=no=[];Zc=0,gl=th(),El={status:"pending",value:void 0,then:function(c){a.push(c)}}}return Zc++,n.then(L1,L1),n}function L1(){if(--Zc===0&&no!==null){El!==null&&(El.status="fulfilled");var t=no;no=null,gl=0,El=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function vp(t,n){var a=[],c={status:"pending",value:null,reason:null,then:function(m){a.push(m)}};return t.then(function(){c.status="fulfilled",c.value=n;for(var m=0;m<a.length;m++)(0,a[m])(n)},function(m){for(c.status="rejected",c.reason=m,m=0;m<a.length;m++)(0,a[m])(void 0)}),c}var B1=ct.S;ct.S=function(t,n){Ad=en(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Np(t,n),B1!==null&&B1(t,n)};var ka=K(null);function Qc(){var t=ka.current;return t!==null?t:Je.pooledCache}function cu(t,n){n===null?bt(ka,ka.current):bt(ka,n.pool)}function U1(){var t=Qc();return t===null?null:{parent:Rn._currentValue,pool:t}}var ml=Error(g(460)),Jc=Error(g(474)),fu=Error(g(542)),hu={then:function(){}};function P1(t){return t=t.status,t==="fulfilled"||t==="rejected"}function k1(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(gi,gi),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,H1(t),t;default:if(typeof n.status=="string")n.then(gi,gi);else{if(t=Je,t!==null&&100<t.shellSuspendCounter)throw Error(g(482));t=n,t.status="pending",t.then(function(c){if(n.status==="pending"){var m=n;m.status="fulfilled",m.value=c}},function(c){if(n.status==="pending"){var m=n;m.status="rejected",m.reason=c}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,H1(t),t}throw Ha=n,ml}}function Fa(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ha=a,ml):a}}var Ha=null;function F1(){if(Ha===null)throw Error(g(459));var t=Ha;return Ha=null,t}function H1(t){if(t===ml||t===fu)throw Error(g(483))}var pl=null,io=0;function du(t){var n=io;return io+=1,pl===null&&(pl=[]),k1(pl,t,n)}function ro(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function gu(t,n){throw n.$$typeof===G?Error(g(525)):(t=Object.prototype.toString.call(n),Error(g(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function V1(t){function n(J,Z){if(t){var it=J.deletions;it===null?(J.deletions=[Z],J.flags|=16):it.push(Z)}}function a(J,Z){if(!t)return null;for(;Z!==null;)n(J,Z),Z=Z.sibling;return null}function c(J){for(var Z=new Map;J!==null;)J.key!==null?Z.set(J.key,J):Z.set(J.index,J),J=J.sibling;return Z}function m(J,Z){return J=os(J,Z),J.index=0,J.sibling=null,J}function A(J,Z,it){return J.index=it,t?(it=J.alternate,it!==null?(it=it.index,it<Z?(J.flags|=67108866,Z):it):(J.flags|=67108866,Z)):(J.flags|=1048576,Z)}function S(J){return t&&J.alternate===null&&(J.flags|=67108866),J}function D(J,Z,it,At){return Z===null||Z.tag!==6?(Z=Hc(it,J.mode,At),Z.return=J,Z):(Z=m(Z,it),Z.return=J,Z)}function Y(J,Z,it,At){var zt=it.type;return zt===gt?mt(J,Z,it.props.children,At,it.key):Z!==null&&(Z.elementType===zt||typeof zt=="object"&&zt!==null&&zt.$$typeof===H&&Fa(zt)===Z.type)?(Z=m(Z,it.props),ro(Z,it),Z.return=J,Z):(Z=au(it.type,it.key,it.props,null,J.mode,At),ro(Z,it),Z.return=J,Z)}function rt(J,Z,it,At){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==it.containerInfo||Z.stateNode.implementation!==it.implementation?(Z=Vc(it,J.mode,At),Z.return=J,Z):(Z=m(Z,it.children||[]),Z.return=J,Z)}function mt(J,Z,it,At,zt){return Z===null||Z.tag!==7?(Z=La(it,J.mode,At,zt),Z.return=J,Z):(Z=m(Z,it),Z.return=J,Z)}function _t(J,Z,it){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Z=Hc(""+Z,J.mode,it),Z.return=J,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case $:return it=au(Z.type,Z.key,Z.props,null,J.mode,it),ro(it,Z),it.return=J,it;case at:return Z=Vc(Z,J.mode,it),Z.return=J,Z;case H:return Z=Fa(Z),_t(J,Z,it)}if(st(Z)||q(Z))return Z=La(Z,J.mode,it,null),Z.return=J,Z;if(typeof Z.then=="function")return _t(J,du(Z),it);if(Z.$$typeof===xt)return _t(J,uu(J,Z),it);gu(J,Z)}return null}function lt(J,Z,it,At){var zt=Z!==null?Z.key:null;if(typeof it=="string"&&it!==""||typeof it=="number"||typeof it=="bigint")return zt!==null?null:D(J,Z,""+it,At);if(typeof it=="object"&&it!==null){switch(it.$$typeof){case $:return it.key===zt?Y(J,Z,it,At):null;case at:return it.key===zt?rt(J,Z,it,At):null;case H:return it=Fa(it),lt(J,Z,it,At)}if(st(it)||q(it))return zt!==null?null:mt(J,Z,it,At,null);if(typeof it.then=="function")return lt(J,Z,du(it),At);if(it.$$typeof===xt)return lt(J,Z,uu(J,it),At);gu(J,it)}return null}function dt(J,Z,it,At,zt){if(typeof At=="string"&&At!==""||typeof At=="number"||typeof At=="bigint")return J=J.get(it)||null,D(Z,J,""+At,zt);if(typeof At=="object"&&At!==null){switch(At.$$typeof){case $:return J=J.get(At.key===null?it:At.key)||null,Y(Z,J,At,zt);case at:return J=J.get(At.key===null?it:At.key)||null,rt(Z,J,At,zt);case H:return At=Fa(At),dt(J,Z,it,At,zt)}if(st(At)||q(At))return J=J.get(it)||null,mt(Z,J,At,zt,null);if(typeof At.then=="function")return dt(J,Z,it,du(At),zt);if(At.$$typeof===xt)return dt(J,Z,it,uu(Z,At),zt);gu(Z,At)}return null}function Bt(J,Z,it,At){for(var zt=null,Le=null,kt=Z,se=Z=0,we=null;kt!==null&&se<it.length;se++){kt.index>se?(we=kt,kt=null):we=kt.sibling;var Be=lt(J,kt,it[se],At);if(Be===null){kt===null&&(kt=we);break}t&&kt&&Be.alternate===null&&n(J,kt),Z=A(Be,Z,se),Le===null?zt=Be:Le.sibling=Be,Le=Be,kt=we}if(se===it.length)return a(J,kt),Te&&us(J,se),zt;if(kt===null){for(;se<it.length;se++)kt=_t(J,it[se],At),kt!==null&&(Z=A(kt,Z,se),Le===null?zt=kt:Le.sibling=kt,Le=kt);return Te&&us(J,se),zt}for(kt=c(kt);se<it.length;se++)we=dt(kt,J,se,it[se],At),we!==null&&(t&&we.alternate!==null&&kt.delete(we.key===null?se:we.key),Z=A(we,Z,se),Le===null?zt=we:Le.sibling=we,Le=we);return t&&kt.forEach(function(fa){return n(J,fa)}),Te&&us(J,se),zt}function Wt(J,Z,it,At){if(it==null)throw Error(g(151));for(var zt=null,Le=null,kt=Z,se=Z=0,we=null,Be=it.next();kt!==null&&!Be.done;se++,Be=it.next()){kt.index>se?(we=kt,kt=null):we=kt.sibling;var fa=lt(J,kt,Be.value,At);if(fa===null){kt===null&&(kt=we);break}t&&kt&&fa.alternate===null&&n(J,kt),Z=A(fa,Z,se),Le===null?zt=fa:Le.sibling=fa,Le=fa,kt=we}if(Be.done)return a(J,kt),Te&&us(J,se),zt;if(kt===null){for(;!Be.done;se++,Be=it.next())Be=_t(J,Be.value,At),Be!==null&&(Z=A(Be,Z,se),Le===null?zt=Be:Le.sibling=Be,Le=Be);return Te&&us(J,se),zt}for(kt=c(kt);!Be.done;se++,Be=it.next())Be=dt(kt,J,se,Be.value,At),Be!==null&&(t&&Be.alternate!==null&&kt.delete(Be.key===null?se:Be.key),Z=A(Be,Z,se),Le===null?zt=Be:Le.sibling=Be,Le=Be);return t&&kt.forEach(function(VA){return n(J,VA)}),Te&&us(J,se),zt}function We(J,Z,it,At){if(typeof it=="object"&&it!==null&&it.type===gt&&it.key===null&&(it=it.props.children),typeof it=="object"&&it!==null){switch(it.$$typeof){case $:t:{for(var zt=it.key;Z!==null;){if(Z.key===zt){if(zt=it.type,zt===gt){if(Z.tag===7){a(J,Z.sibling),At=m(Z,it.props.children),At.return=J,J=At;break t}}else if(Z.elementType===zt||typeof zt=="object"&&zt!==null&&zt.$$typeof===H&&Fa(zt)===Z.type){a(J,Z.sibling),At=m(Z,it.props),ro(At,it),At.return=J,J=At;break t}a(J,Z);break}else n(J,Z);Z=Z.sibling}it.type===gt?(At=La(it.props.children,J.mode,At,it.key),At.return=J,J=At):(At=au(it.type,it.key,it.props,null,J.mode,At),ro(At,it),At.return=J,J=At)}return S(J);case at:t:{for(zt=it.key;Z!==null;){if(Z.key===zt)if(Z.tag===4&&Z.stateNode.containerInfo===it.containerInfo&&Z.stateNode.implementation===it.implementation){a(J,Z.sibling),At=m(Z,it.children||[]),At.return=J,J=At;break t}else{a(J,Z);break}else n(J,Z);Z=Z.sibling}At=Vc(it,J.mode,At),At.return=J,J=At}return S(J);case H:return it=Fa(it),We(J,Z,it,At)}if(st(it))return Bt(J,Z,it,At);if(q(it)){if(zt=q(it),typeof zt!="function")throw Error(g(150));return it=zt.call(it),Wt(J,Z,it,At)}if(typeof it.then=="function")return We(J,Z,du(it),At);if(it.$$typeof===xt)return We(J,Z,uu(J,it),At);gu(J,it)}return typeof it=="string"&&it!==""||typeof it=="number"||typeof it=="bigint"?(it=""+it,Z!==null&&Z.tag===6?(a(J,Z.sibling),At=m(Z,it),At.return=J,J=At):(a(J,Z),At=Hc(it,J.mode,At),At.return=J,J=At),S(J)):a(J,Z)}return function(J,Z,it,At){try{io=0;var zt=We(J,Z,it,At);return pl=null,zt}catch(kt){if(kt===ml||kt===fu)throw kt;var Le=Qi(29,kt,null,J.mode);return Le.lanes=At,Le.return=J,Le}finally{}}}var Va=V1(!0),z1=V1(!1),Ws=!1;function $c(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ks(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Zs(t,n,a){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(Pe&2)!==0){var m=c.pending;return m===null?n.next=n:(n.next=m.next,m.next=n),c.pending=n,n=su(t),C1(t,null,a),n}return ru(t,c,n,a),su(t)}function so(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var c=n.lanes;c&=t.pendingLanes,a|=c,n.lanes=a,rr(t,a)}}function ef(t,n){var a=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var m=null,A=null;if(a=a.firstBaseUpdate,a!==null){do{var S={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};A===null?m=A=S:A=A.next=S,a=a.next}while(a!==null);A===null?m=A=n:A=A.next=n}else m=A=n;a={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:A,shared:c.shared,callbacks:c.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var nf=!1;function ao(){if(nf){var t=El;if(t!==null)throw t}}function lo(t,n,a,c){nf=!1;var m=t.updateQueue;Ws=!1;var A=m.firstBaseUpdate,S=m.lastBaseUpdate,D=m.shared.pending;if(D!==null){m.shared.pending=null;var Y=D,rt=Y.next;Y.next=null,S===null?A=rt:S.next=rt,S=Y;var mt=t.alternate;mt!==null&&(mt=mt.updateQueue,D=mt.lastBaseUpdate,D!==S&&(D===null?mt.firstBaseUpdate=rt:D.next=rt,mt.lastBaseUpdate=Y))}if(A!==null){var _t=m.baseState;S=0,mt=rt=Y=null,D=A;do{var lt=D.lane&-536870913,dt=lt!==D.lane;if(dt?(ye&lt)===lt:(c&lt)===lt){lt!==0&&lt===gl&&(nf=!0),mt!==null&&(mt=mt.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});t:{var Bt=t,Wt=D;lt=n;var We=a;switch(Wt.tag){case 1:if(Bt=Wt.payload,typeof Bt=="function"){_t=Bt.call(We,_t,lt);break t}_t=Bt;break t;case 3:Bt.flags=Bt.flags&-65537|128;case 0:if(Bt=Wt.payload,lt=typeof Bt=="function"?Bt.call(We,_t,lt):Bt,lt==null)break t;_t=B({},_t,lt);break t;case 2:Ws=!0}}lt=D.callback,lt!==null&&(t.flags|=64,dt&&(t.flags|=8192),dt=m.callbacks,dt===null?m.callbacks=[lt]:dt.push(lt))}else dt={lane:lt,tag:D.tag,payload:D.payload,callback:D.callback,next:null},mt===null?(rt=mt=dt,Y=_t):mt=mt.next=dt,S|=lt;if(D=D.next,D===null){if(D=m.shared.pending,D===null)break;dt=D,D=dt.next,dt.next=null,m.lastBaseUpdate=dt,m.shared.pending=null}}while(!0);mt===null&&(Y=_t),m.baseState=Y,m.firstBaseUpdate=rt,m.lastBaseUpdate=mt,A===null&&(m.shared.lanes=0),ea|=S,t.lanes=S,t.memoizedState=_t}}function G1(t,n){if(typeof t!="function")throw Error(g(191,t));t.call(n)}function Y1(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)G1(a[t],n)}var Al=K(null),Eu=K(0);function j1(t,n){t=xs,bt(Eu,t),bt(Al,n),xs=t|n.baseLanes}function rf(){bt(Eu,xs),bt(Al,Al.current)}function sf(){xs=Eu.current,Et(Al),Et(Eu)}var Ji=K(null),Er=null;function Qs(t){var n=t.alternate;bt(On,On.current&1),bt(Ji,t),Er===null&&(n===null||Al.current!==null||n.memoizedState!==null)&&(Er=t)}function af(t){bt(On,On.current),bt(Ji,t),Er===null&&(Er=t)}function X1(t){t.tag===22?(bt(On,On.current),bt(Ji,t),Er===null&&(Er=t)):Js()}function Js(){bt(On,On.current),bt(Ji,Ji.current)}function $i(t){Et(Ji),Er===t&&(Er=null),Et(On)}var On=K(0);function mu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||hh(a)||dh(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var hs=0,ne=null,Xe=null,Dn=null,pu=!1,_l=!1,za=!1,Au=0,oo=0,xl=null,Rp=0;function wn(){throw Error(g(321))}function lf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!h(t[a],n[a]))return!1;return!0}function of(t,n,a,c,m,A){return hs=A,ne=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,ct.H=t===null||t.memoizedState===null?N0:Tf,za=!1,A=a(c,m),za=!1,_l&&(A=W1(n,a,c,m)),q1(t),A}function q1(t){ct.H=fo;var n=Xe!==null&&Xe.next!==null;if(hs=0,Dn=Xe=ne=null,pu=!1,oo=0,xl=null,n)throw Error(g(300));t===null||Mn||(t=t.dependencies,t!==null&&ou(t)&&(Mn=!0))}function W1(t,n,a,c){ne=t;var m=0;do{if(_l&&(xl=null),oo=0,_l=!1,25<=m)throw Error(g(301));if(m+=1,Dn=Xe=null,t.updateQueue!=null){var A=t.updateQueue;A.lastEffect=null,A.events=null,A.stores=null,A.memoCache!=null&&(A.memoCache.index=0)}ct.H=v0,A=n(a,c)}while(_l);return A}function Dp(){var t=ct.H,n=t.useState()[0];return n=typeof n.then=="function"?uo(n):n,t=t.useState()[0],(Xe!==null?Xe.memoizedState:null)!==t&&(ne.flags|=1024),n}function uf(){var t=Au!==0;return Au=0,t}function cf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function ff(t){if(pu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}pu=!1}hs=0,Dn=Xe=ne=null,_l=!1,oo=Au=0,xl=null}function Ti(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dn===null?ne.memoizedState=Dn=t:Dn=Dn.next=t,Dn}function Nn(){if(Xe===null){var t=ne.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var n=Dn===null?ne.memoizedState:Dn.next;if(n!==null)Dn=n,Xe=t;else{if(t===null)throw ne.alternate===null?Error(g(467)):Error(g(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},Dn===null?ne.memoizedState=Dn=t:Dn=Dn.next=t}return Dn}function _u(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function uo(t){var n=oo;return oo+=1,xl===null&&(xl=[]),t=k1(xl,t,n),n=ne,(Dn===null?n.memoizedState:Dn.next)===null&&(n=n.alternate,ct.H=n===null||n.memoizedState===null?N0:Tf),t}function xu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return uo(t);if(t.$$typeof===xt)return ai(t)}throw Error(g(438,String(t)))}function hf(t){var n=null,a=ne.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var c=ne.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(n={data:c.data.map(function(m){return m.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=_u(),ne.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),c=0;c<t;c++)a[c]=Q;return n.index++,a}function ds(t,n){return typeof n=="function"?n(t):n}function yu(t){var n=Nn();return df(n,Xe,t)}function df(t,n,a){var c=t.queue;if(c===null)throw Error(g(311));c.lastRenderedReducer=a;var m=t.baseQueue,A=c.pending;if(A!==null){if(m!==null){var S=m.next;m.next=A.next,A.next=S}n.baseQueue=m=A,c.pending=null}if(A=t.baseState,m===null)t.memoizedState=A;else{n=m.next;var D=S=null,Y=null,rt=n,mt=!1;do{var _t=rt.lane&-536870913;if(_t!==rt.lane?(ye&_t)===_t:(hs&_t)===_t){var lt=rt.revertLane;if(lt===0)Y!==null&&(Y=Y.next={lane:0,revertLane:0,gesture:null,action:rt.action,hasEagerState:rt.hasEagerState,eagerState:rt.eagerState,next:null}),_t===gl&&(mt=!0);else if((hs&lt)===lt){rt=rt.next,lt===gl&&(mt=!0);continue}else _t={lane:0,revertLane:rt.revertLane,gesture:null,action:rt.action,hasEagerState:rt.hasEagerState,eagerState:rt.eagerState,next:null},Y===null?(D=Y=_t,S=A):Y=Y.next=_t,ne.lanes|=lt,ea|=lt;_t=rt.action,za&&a(A,_t),A=rt.hasEagerState?rt.eagerState:a(A,_t)}else lt={lane:_t,revertLane:rt.revertLane,gesture:rt.gesture,action:rt.action,hasEagerState:rt.hasEagerState,eagerState:rt.eagerState,next:null},Y===null?(D=Y=lt,S=A):Y=Y.next=lt,ne.lanes|=_t,ea|=_t;rt=rt.next}while(rt!==null&&rt!==n);if(Y===null?S=A:Y.next=D,!h(A,t.memoizedState)&&(Mn=!0,mt&&(a=El,a!==null)))throw a;t.memoizedState=A,t.baseState=S,t.baseQueue=Y,c.lastRenderedState=A}return m===null&&(c.lanes=0),[t.memoizedState,c.dispatch]}function gf(t){var n=Nn(),a=n.queue;if(a===null)throw Error(g(311));a.lastRenderedReducer=t;var c=a.dispatch,m=a.pending,A=n.memoizedState;if(m!==null){a.pending=null;var S=m=m.next;do A=t(A,S.action),S=S.next;while(S!==m);h(A,n.memoizedState)||(Mn=!0),n.memoizedState=A,n.baseQueue===null&&(n.baseState=A),a.lastRenderedState=A}return[A,c]}function K1(t,n,a){var c=ne,m=Nn(),A=Te;if(A){if(a===void 0)throw Error(g(407));a=a()}else a=n();var S=!h((Xe||m).memoizedState,a);if(S&&(m.memoizedState=a,Mn=!0),m=m.queue,pf(J1.bind(null,c,m,t),[t]),m.getSnapshot!==n||S||Dn!==null&&Dn.memoizedState.tag&1){if(c.flags|=2048,yl(9,{destroy:void 0},Q1.bind(null,c,m,a,n),null),Je===null)throw Error(g(349));A||(hs&127)!==0||Z1(c,n,a)}return a}function Z1(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=ne.updateQueue,n===null?(n=_u(),ne.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Q1(t,n,a,c){n.value=a,n.getSnapshot=c,$1(n)&&t0(t)}function J1(t,n,a){return a(function(){$1(n)&&t0(t)})}function $1(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!h(t,a)}catch{return!0}}function t0(t){var n=Ma(t,2);n!==null&&ki(n,t,2)}function Ef(t){var n=Ti();if(typeof t=="function"){var a=t;if(t=a(),za){De(!0);try{a()}finally{De(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:t},n}function e0(t,n,a,c){return t.baseState=a,df(t,Xe,typeof c=="function"?c:ds)}function Mp(t,n,a,c,m){if(Su(t))throw Error(g(485));if(t=n.action,t!==null){var A={payload:m,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){A.listeners.push(S)}};ct.T!==null?a(!0):A.isTransition=!1,c(A),a=n.pending,a===null?(A.next=n.pending=A,n0(n,A)):(A.next=a.next,n.pending=a.next=A)}}function n0(t,n){var a=n.action,c=n.payload,m=t.state;if(n.isTransition){var A=ct.T,S={};ct.T=S;try{var D=a(m,c),Y=ct.S;Y!==null&&Y(S,D),i0(t,n,D)}catch(rt){mf(t,n,rt)}finally{A!==null&&S.types!==null&&(A.types=S.types),ct.T=A}}else try{A=a(m,c),i0(t,n,A)}catch(rt){mf(t,n,rt)}}function i0(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){r0(t,n,c)},function(c){return mf(t,n,c)}):r0(t,n,a)}function r0(t,n,a){n.status="fulfilled",n.value=a,s0(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,n0(t,a)))}function mf(t,n,a){var c=t.pending;if(t.pending=null,c!==null){c=c.next;do n.status="rejected",n.reason=a,s0(n),n=n.next;while(n!==c)}t.action=null}function s0(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function a0(t,n){return n}function l0(t,n){if(Te){var a=Je.formState;if(a!==null){t:{var c=ne;if(Te){if(sn){e:{for(var m=sn,A=gr;m.nodeType!==8;){if(!A){m=null;break e}if(m=mr(m.nextSibling),m===null){m=null;break e}}A=m.data,m=A==="F!"||A==="F"?m:null}if(m){sn=mr(m.nextSibling),c=m.data==="F!";break t}}Xs(c)}c=!1}c&&(n=a[0])}}return a=Ti(),a.memoizedState=a.baseState=n,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a0,lastRenderedState:n},a.queue=c,a=I0.bind(null,ne,c),c.dispatch=a,c=Ef(!1),A=wf.bind(null,ne,!1,c.queue),c=Ti(),m={state:n,dispatch:null,action:t,pending:null},c.queue=m,a=Mp.bind(null,ne,m,A,a),m.dispatch=a,c.memoizedState=t,[n,a,!1]}function o0(t){var n=Nn();return u0(n,Xe,t)}function u0(t,n,a){if(n=df(t,n,a0)[0],t=yu(ds)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var c=uo(n)}catch(S){throw S===ml?fu:S}else c=n;n=Nn();var m=n.queue,A=m.dispatch;return a!==n.memoizedState&&(ne.flags|=2048,yl(9,{destroy:void 0},Lp.bind(null,m,a),null)),[c,A,t]}function Lp(t,n){t.action=n}function c0(t){var n=Nn(),a=Xe;if(a!==null)return u0(n,a,t);Nn(),n=n.memoizedState,a=Nn();var c=a.queue.dispatch;return a.memoizedState=t,[n,c,!1]}function yl(t,n,a,c){return t={tag:t,create:a,deps:c,inst:n,next:null},n=ne.updateQueue,n===null&&(n=_u(),ne.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(c=a.next,a.next=t,t.next=c,n.lastEffect=t),t}function f0(){return Nn().memoizedState}function wu(t,n,a,c){var m=Ti();ne.flags|=t,m.memoizedState=yl(1|n,{destroy:void 0},a,c===void 0?null:c)}function Tu(t,n,a,c){var m=Nn();c=c===void 0?null:c;var A=m.memoizedState.inst;Xe!==null&&c!==null&&lf(c,Xe.memoizedState.deps)?m.memoizedState=yl(n,A,a,c):(ne.flags|=t,m.memoizedState=yl(1|n,A,a,c))}function h0(t,n){wu(8390656,8,t,n)}function pf(t,n){Tu(2048,8,t,n)}function Bp(t){ne.flags|=4;var n=ne.updateQueue;if(n===null)n=_u(),ne.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function d0(t){var n=Nn().memoizedState;return Bp({ref:n,nextImpl:t}),function(){if((Pe&2)!==0)throw Error(g(440));return n.impl.apply(void 0,arguments)}}function g0(t,n){return Tu(4,2,t,n)}function E0(t,n){return Tu(4,4,t,n)}function m0(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function p0(t,n,a){a=a!=null?a.concat([t]):null,Tu(4,4,m0.bind(null,n,t),a)}function Af(){}function A0(t,n){var a=Nn();n=n===void 0?null:n;var c=a.memoizedState;return n!==null&&lf(n,c[1])?c[0]:(a.memoizedState=[t,n],t)}function _0(t,n){var a=Nn();n=n===void 0?null:n;var c=a.memoizedState;if(n!==null&&lf(n,c[1]))return c[0];if(c=t(),za){De(!0);try{t()}finally{De(!1)}}return a.memoizedState=[c,n],c}function _f(t,n,a){return a===void 0||(hs&1073741824)!==0&&(ye&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=xd(),ne.lanes|=t,ea|=t,a)}function x0(t,n,a,c){return h(a,n)?a:Al.current!==null?(t=_f(t,a,c),h(t,n)||(Mn=!0),t):(hs&42)===0||(hs&1073741824)!==0&&(ye&261930)===0?(Mn=!0,t.memoizedState=a):(t=xd(),ne.lanes|=t,ea|=t,n)}function y0(t,n,a,c,m){var A=pt.p;pt.p=A!==0&&8>A?A:8;var S=ct.T,D={};ct.T=D,wf(t,!1,n,a);try{var Y=m(),rt=ct.S;if(rt!==null&&rt(D,Y),Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var mt=vp(Y,c);co(t,n,mt,nr(t))}else co(t,n,c,nr(t))}catch(_t){co(t,n,{then:function(){},status:"rejected",reason:_t},nr())}finally{pt.p=A,S!==null&&D.types!==null&&(S.types=D.types),ct.T=S}}function Up(){}function xf(t,n,a,c){if(t.tag!==5)throw Error(g(476));var m=w0(t).queue;y0(t,m,n,Pt,a===null?Up:function(){return T0(t),a(c)})}function w0(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:Pt,baseState:Pt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:Pt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function T0(t){var n=w0(t);n.next===null&&(n=t.alternate.memoizedState),co(t,n.next.queue,{},nr())}function yf(){return ai(Oo)}function S0(){return Nn().memoizedState}function C0(){return Nn().memoizedState}function Pp(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=nr();t=Ks(a);var c=Zs(n,t,a);c!==null&&(ki(c,n,a),so(c,n,a)),n={cache:Kc()},t.payload=n;return}n=n.return}}function kp(t,n,a){var c=nr();a={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Su(t)?b0(n,a):(a=kc(t,n,a,c),a!==null&&(ki(a,t,c),O0(a,n,c)))}function I0(t,n,a){var c=nr();co(t,n,a,c)}function co(t,n,a,c){var m={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Su(t))b0(n,m);else{var A=t.alternate;if(t.lanes===0&&(A===null||A.lanes===0)&&(A=n.lastRenderedReducer,A!==null))try{var S=n.lastRenderedState,D=A(S,a);if(m.hasEagerState=!0,m.eagerState=D,h(D,S))return ru(t,n,m,0),Je===null&&iu(),!1}catch{}finally{}if(a=kc(t,n,m,c),a!==null)return ki(a,t,c),O0(a,n,c),!0}return!1}function wf(t,n,a,c){if(c={lane:2,revertLane:th(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Su(t)){if(n)throw Error(g(479))}else n=kc(t,a,c,2),n!==null&&ki(n,t,2)}function Su(t){var n=t.alternate;return t===ne||n!==null&&n===ne}function b0(t,n){_l=pu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function O0(t,n,a){if((a&4194048)!==0){var c=n.lanes;c&=t.pendingLanes,a|=c,n.lanes=a,rr(t,a)}}var fo={readContext:ai,use:xu,useCallback:wn,useContext:wn,useEffect:wn,useImperativeHandle:wn,useLayoutEffect:wn,useInsertionEffect:wn,useMemo:wn,useReducer:wn,useRef:wn,useState:wn,useDebugValue:wn,useDeferredValue:wn,useTransition:wn,useSyncExternalStore:wn,useId:wn,useHostTransitionStatus:wn,useFormState:wn,useActionState:wn,useOptimistic:wn,useMemoCache:wn,useCacheRefresh:wn};fo.useEffectEvent=wn;var N0={readContext:ai,use:xu,useCallback:function(t,n){return Ti().memoizedState=[t,n===void 0?null:n],t},useContext:ai,useEffect:h0,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,wu(4194308,4,m0.bind(null,n,t),a)},useLayoutEffect:function(t,n){return wu(4194308,4,t,n)},useInsertionEffect:function(t,n){wu(4,2,t,n)},useMemo:function(t,n){var a=Ti();n=n===void 0?null:n;var c=t();if(za){De(!0);try{t()}finally{De(!1)}}return a.memoizedState=[c,n],c},useReducer:function(t,n,a){var c=Ti();if(a!==void 0){var m=a(n);if(za){De(!0);try{a(n)}finally{De(!1)}}}else m=n;return c.memoizedState=c.baseState=m,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:m},c.queue=t,t=t.dispatch=kp.bind(null,ne,t),[c.memoizedState,t]},useRef:function(t){var n=Ti();return t={current:t},n.memoizedState=t},useState:function(t){t=Ef(t);var n=t.queue,a=I0.bind(null,ne,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Af,useDeferredValue:function(t,n){var a=Ti();return _f(a,t,n)},useTransition:function(){var t=Ef(!1);return t=y0.bind(null,ne,t.queue,!0,!1),Ti().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var c=ne,m=Ti();if(Te){if(a===void 0)throw Error(g(407));a=a()}else{if(a=n(),Je===null)throw Error(g(349));(ye&127)!==0||Z1(c,n,a)}m.memoizedState=a;var A={value:a,getSnapshot:n};return m.queue=A,h0(J1.bind(null,c,A,t),[t]),c.flags|=2048,yl(9,{destroy:void 0},Q1.bind(null,c,A,a,n),null),a},useId:function(){var t=Ti(),n=Je.identifierPrefix;if(Te){var a=Vr,c=Hr;a=(c&~(1<<32-Zt(c)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Au++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=Rp++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:yf,useFormState:l0,useActionState:l0,useOptimistic:function(t){var n=Ti();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=wf.bind(null,ne,!0,a),a.dispatch=n,[t,n]},useMemoCache:hf,useCacheRefresh:function(){return Ti().memoizedState=Pp.bind(null,ne)},useEffectEvent:function(t){var n=Ti(),a={impl:t};return n.memoizedState=a,function(){if((Pe&2)!==0)throw Error(g(440));return a.impl.apply(void 0,arguments)}}},Tf={readContext:ai,use:xu,useCallback:A0,useContext:ai,useEffect:pf,useImperativeHandle:p0,useInsertionEffect:g0,useLayoutEffect:E0,useMemo:_0,useReducer:yu,useRef:f0,useState:function(){return yu(ds)},useDebugValue:Af,useDeferredValue:function(t,n){var a=Nn();return x0(a,Xe.memoizedState,t,n)},useTransition:function(){var t=yu(ds)[0],n=Nn().memoizedState;return[typeof t=="boolean"?t:uo(t),n]},useSyncExternalStore:K1,useId:S0,useHostTransitionStatus:yf,useFormState:o0,useActionState:o0,useOptimistic:function(t,n){var a=Nn();return e0(a,Xe,t,n)},useMemoCache:hf,useCacheRefresh:C0};Tf.useEffectEvent=d0;var v0={readContext:ai,use:xu,useCallback:A0,useContext:ai,useEffect:pf,useImperativeHandle:p0,useInsertionEffect:g0,useLayoutEffect:E0,useMemo:_0,useReducer:gf,useRef:f0,useState:function(){return gf(ds)},useDebugValue:Af,useDeferredValue:function(t,n){var a=Nn();return Xe===null?_f(a,t,n):x0(a,Xe.memoizedState,t,n)},useTransition:function(){var t=gf(ds)[0],n=Nn().memoizedState;return[typeof t=="boolean"?t:uo(t),n]},useSyncExternalStore:K1,useId:S0,useHostTransitionStatus:yf,useFormState:c0,useActionState:c0,useOptimistic:function(t,n){var a=Nn();return Xe!==null?e0(a,Xe,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:hf,useCacheRefresh:C0};v0.useEffectEvent=d0;function Sf(t,n,a,c){n=t.memoizedState,a=a(c,n),a=a==null?n:B({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Cf={enqueueSetState:function(t,n,a){t=t._reactInternals;var c=nr(),m=Ks(c);m.payload=n,a!=null&&(m.callback=a),n=Zs(t,m,c),n!==null&&(ki(n,t,c),so(n,t,c))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var c=nr(),m=Ks(c);m.tag=1,m.payload=n,a!=null&&(m.callback=a),n=Zs(t,m,c),n!==null&&(ki(n,t,c),so(n,t,c))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=nr(),c=Ks(a);c.tag=2,n!=null&&(c.callback=n),n=Zs(t,c,a),n!==null&&(ki(n,t,a),so(n,t,a))}};function R0(t,n,a,c,m,A,S){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,A,S):n.prototype&&n.prototype.isPureReactComponent?!d(a,c)||!d(m,A):!0}function D0(t,n,a,c){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,c),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,c),n.state!==t&&Cf.enqueueReplaceState(n,n.state,null)}function Ga(t,n){var a=n;if("ref"in n){a={};for(var c in n)c!=="ref"&&(a[c]=n[c])}if(t=t.defaultProps){a===n&&(a=B({},a));for(var m in t)a[m]===void 0&&(a[m]=t[m])}return a}function M0(t){nu(t)}function L0(t){console.error(t)}function B0(t){nu(t)}function Cu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(c){setTimeout(function(){throw c})}}function U0(t,n,a){try{var c=t.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function If(t,n,a){return a=Ks(a),a.tag=3,a.payload={element:null},a.callback=function(){Cu(t,n)},a}function P0(t){return t=Ks(t),t.tag=3,t}function k0(t,n,a,c){var m=a.type.getDerivedStateFromError;if(typeof m=="function"){var A=c.value;t.payload=function(){return m(A)},t.callback=function(){U0(n,a,c)}}var S=a.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(t.callback=function(){U0(n,a,c),typeof m!="function"&&(na===null?na=new Set([this]):na.add(this));var D=c.stack;this.componentDidCatch(c.value,{componentStack:D!==null?D:""})})}function Fp(t,n,a,c,m){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(n=a.alternate,n!==null&&dl(n,a,m,!0),a=Ji.current,a!==null){switch(a.tag){case 31:case 13:return Er===null?Pu():a.alternate===null&&Tn===0&&(Tn=3),a.flags&=-257,a.flags|=65536,a.lanes=m,c===hu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([c]):n.add(c),Qf(t,c,m)),!1;case 22:return a.flags|=65536,c===hu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([c]):a.add(c)),Qf(t,c,m)),!1}throw Error(g(435,a.tag))}return Qf(t,c,m),Pu(),!1}if(Te)return n=Ji.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=m,c!==Yc&&(t=Error(g(422),{cause:c}),to(fr(t,a)))):(c!==Yc&&(n=Error(g(423),{cause:c}),to(fr(n,a))),t=t.current.alternate,t.flags|=65536,m&=-m,t.lanes|=m,c=fr(c,a),m=If(t.stateNode,c,m),ef(t,m),Tn!==4&&(Tn=2)),!1;var A=Error(g(520),{cause:c});if(A=fr(A,a),xo===null?xo=[A]:xo.push(A),Tn!==4&&(Tn=2),n===null)return!0;c=fr(c,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=m&-m,a.lanes|=t,t=If(a.stateNode,c,t),ef(a,t),!1;case 1:if(n=a.type,A=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(na===null||!na.has(A))))return a.flags|=65536,m&=-m,a.lanes|=m,m=P0(m),k0(m,t,a,c),ef(a,m),!1}a=a.return}while(a!==null);return!1}var bf=Error(g(461)),Mn=!1;function li(t,n,a,c){n.child=t===null?z1(n,null,a,c):Va(n,t.child,a,c)}function F0(t,n,a,c,m){a=a.render;var A=n.ref;if("ref"in c){var S={};for(var D in c)D!=="ref"&&(S[D]=c[D])}else S=c;return Pa(n),c=of(t,n,a,S,A,m),D=uf(),t!==null&&!Mn?(cf(t,n,m),gs(t,n,m)):(Te&&D&&zc(n),n.flags|=1,li(t,n,c,m),n.child)}function H0(t,n,a,c,m){if(t===null){var A=a.type;return typeof A=="function"&&!Fc(A)&&A.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=A,V0(t,n,A,c,m)):(t=au(a.type,null,c,n,n.mode,m),t.ref=n.ref,t.return=n,n.child=t)}if(A=t.child,!Bf(t,m)){var S=A.memoizedProps;if(a=a.compare,a=a!==null?a:d,a(S,c)&&t.ref===n.ref)return gs(t,n,m)}return n.flags|=1,t=os(A,c),t.ref=n.ref,t.return=n,n.child=t}function V0(t,n,a,c,m){if(t!==null){var A=t.memoizedProps;if(d(A,c)&&t.ref===n.ref)if(Mn=!1,n.pendingProps=c=A,Bf(t,m))(t.flags&131072)!==0&&(Mn=!0);else return n.lanes=t.lanes,gs(t,n,m)}return Of(t,n,a,c,m)}function z0(t,n,a,c){var m=c.children,A=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((n.flags&128)!==0){if(A=A!==null?A.baseLanes|a:a,t!==null){for(c=n.child=t.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~A}else c=0,n.child=null;return G0(t,n,A,a,c)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&cu(n,A!==null?A.cachePool:null),A!==null?j1(n,A):rf(),X1(n);else return c=n.lanes=536870912,G0(t,n,A!==null?A.baseLanes|a:a,a,c)}else A!==null?(cu(n,A.cachePool),j1(n,A),Js(),n.memoizedState=null):(t!==null&&cu(n,null),rf(),Js());return li(t,n,m,a),n.child}function ho(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function G0(t,n,a,c,m){var A=Qc();return A=A===null?null:{parent:Rn._currentValue,pool:A},n.memoizedState={baseLanes:a,cachePool:A},t!==null&&cu(n,null),rf(),X1(n),t!==null&&dl(t,n,c,!0),n.childLanes=m,null}function Iu(t,n){return n=Ou({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Y0(t,n,a){return Va(n,t.child,null,a),t=Iu(n,n.pendingProps),t.flags|=2,$i(n),n.memoizedState=null,t}function Hp(t,n,a){var c=n.pendingProps,m=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Te){if(c.mode==="hidden")return t=Iu(n,c),n.lanes=536870912,ho(null,t);if(af(n),(t=sn)?(t=ng(t,gr),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ys!==null?{id:Hr,overflow:Vr}:null,retryLane:536870912,hydrationErrors:null},a=b1(t),a.return=n,n.child=a,si=n,sn=null)):t=null,t===null)throw Xs(n);return n.lanes=536870912,null}return Iu(n,c)}var A=t.memoizedState;if(A!==null){var S=A.dehydrated;if(af(n),m)if(n.flags&256)n.flags&=-257,n=Y0(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(g(558));else if(Mn||dl(t,n,a,!1),m=(a&t.childLanes)!==0,Mn||m){if(c=Je,c!==null&&(S=Qr(c,a),S!==0&&S!==A.retryLane))throw A.retryLane=S,Ma(t,S),ki(c,t,S),bf;Pu(),n=Y0(t,n,a)}else t=A.treeContext,sn=mr(S.nextSibling),si=n,Te=!0,js=null,gr=!1,t!==null&&v1(n,t),n=Iu(n,c),n.flags|=4096;return n}return t=os(t.child,{mode:c.mode,children:c.children}),t.ref=n.ref,n.child=t,t.return=n,t}function bu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(g(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Of(t,n,a,c,m){return Pa(n),a=of(t,n,a,c,void 0,m),c=uf(),t!==null&&!Mn?(cf(t,n,m),gs(t,n,m)):(Te&&c&&zc(n),n.flags|=1,li(t,n,a,m),n.child)}function j0(t,n,a,c,m,A){return Pa(n),n.updateQueue=null,a=W1(n,c,a,m),q1(t),c=uf(),t!==null&&!Mn?(cf(t,n,A),gs(t,n,A)):(Te&&c&&zc(n),n.flags|=1,li(t,n,a,A),n.child)}function X0(t,n,a,c,m){if(Pa(n),n.stateNode===null){var A=ul,S=a.contextType;typeof S=="object"&&S!==null&&(A=ai(S)),A=new a(c,A),n.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,A.updater=Cf,n.stateNode=A,A._reactInternals=n,A=n.stateNode,A.props=c,A.state=n.memoizedState,A.refs={},$c(n),S=a.contextType,A.context=typeof S=="object"&&S!==null?ai(S):ul,A.state=n.memoizedState,S=a.getDerivedStateFromProps,typeof S=="function"&&(Sf(n,a,S,c),A.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(S=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),S!==A.state&&Cf.enqueueReplaceState(A,A.state,null),lo(n,c,A,m),ao(),A.state=n.memoizedState),typeof A.componentDidMount=="function"&&(n.flags|=4194308),c=!0}else if(t===null){A=n.stateNode;var D=n.memoizedProps,Y=Ga(a,D);A.props=Y;var rt=A.context,mt=a.contextType;S=ul,typeof mt=="object"&&mt!==null&&(S=ai(mt));var _t=a.getDerivedStateFromProps;mt=typeof _t=="function"||typeof A.getSnapshotBeforeUpdate=="function",D=n.pendingProps!==D,mt||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(D||rt!==S)&&D0(n,A,c,S),Ws=!1;var lt=n.memoizedState;A.state=lt,lo(n,c,A,m),ao(),rt=n.memoizedState,D||lt!==rt||Ws?(typeof _t=="function"&&(Sf(n,a,_t,c),rt=n.memoizedState),(Y=Ws||R0(n,a,Y,c,lt,rt,S))?(mt||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(n.flags|=4194308)):(typeof A.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=c,n.memoizedState=rt),A.props=c,A.state=rt,A.context=S,c=Y):(typeof A.componentDidMount=="function"&&(n.flags|=4194308),c=!1)}else{A=n.stateNode,tf(t,n),S=n.memoizedProps,mt=Ga(a,S),A.props=mt,_t=n.pendingProps,lt=A.context,rt=a.contextType,Y=ul,typeof rt=="object"&&rt!==null&&(Y=ai(rt)),D=a.getDerivedStateFromProps,(rt=typeof D=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(S!==_t||lt!==Y)&&D0(n,A,c,Y),Ws=!1,lt=n.memoizedState,A.state=lt,lo(n,c,A,m),ao();var dt=n.memoizedState;S!==_t||lt!==dt||Ws||t!==null&&t.dependencies!==null&&ou(t.dependencies)?(typeof D=="function"&&(Sf(n,a,D,c),dt=n.memoizedState),(mt=Ws||R0(n,a,mt,c,lt,dt,Y)||t!==null&&t.dependencies!==null&&ou(t.dependencies))?(rt||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(c,dt,Y),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(c,dt,Y)),typeof A.componentDidUpdate=="function"&&(n.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof A.componentDidUpdate!="function"||S===t.memoizedProps&&lt===t.memoizedState||(n.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&lt===t.memoizedState||(n.flags|=1024),n.memoizedProps=c,n.memoizedState=dt),A.props=c,A.state=dt,A.context=Y,c=mt):(typeof A.componentDidUpdate!="function"||S===t.memoizedProps&&lt===t.memoizedState||(n.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&lt===t.memoizedState||(n.flags|=1024),c=!1)}return A=c,bu(t,n),c=(n.flags&128)!==0,A||c?(A=n.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:A.render(),n.flags|=1,t!==null&&c?(n.child=Va(n,t.child,null,m),n.child=Va(n,null,a,m)):li(t,n,a,m),n.memoizedState=A.state,t=n.child):t=gs(t,n,m),t}function q0(t,n,a,c){return Ba(),n.flags|=256,li(t,n,a,c),n.child}var Nf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vf(t){return{baseLanes:t,cachePool:U1()}}function Rf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=er),t}function W0(t,n,a){var c=n.pendingProps,m=!1,A=(n.flags&128)!==0,S;if((S=A)||(S=t!==null&&t.memoizedState===null?!1:(On.current&2)!==0),S&&(m=!0,n.flags&=-129),S=(n.flags&32)!==0,n.flags&=-33,t===null){if(Te){if(m?Qs(n):Js(),(t=sn)?(t=ng(t,gr),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ys!==null?{id:Hr,overflow:Vr}:null,retryLane:536870912,hydrationErrors:null},a=b1(t),a.return=n,n.child=a,si=n,sn=null)):t=null,t===null)throw Xs(n);return dh(t)?n.lanes=32:n.lanes=536870912,null}var D=c.children;return c=c.fallback,m?(Js(),m=n.mode,D=Ou({mode:"hidden",children:D},m),c=La(c,m,a,null),D.return=n,c.return=n,D.sibling=c,n.child=D,c=n.child,c.memoizedState=vf(a),c.childLanes=Rf(t,S,a),n.memoizedState=Nf,ho(null,c)):(Qs(n),Df(n,D))}var Y=t.memoizedState;if(Y!==null&&(D=Y.dehydrated,D!==null)){if(A)n.flags&256?(Qs(n),n.flags&=-257,n=Mf(t,n,a)):n.memoizedState!==null?(Js(),n.child=t.child,n.flags|=128,n=null):(Js(),D=c.fallback,m=n.mode,c=Ou({mode:"visible",children:c.children},m),D=La(D,m,a,null),D.flags|=2,c.return=n,D.return=n,c.sibling=D,n.child=c,Va(n,t.child,null,a),c=n.child,c.memoizedState=vf(a),c.childLanes=Rf(t,S,a),n.memoizedState=Nf,n=ho(null,c));else if(Qs(n),dh(D)){if(S=D.nextSibling&&D.nextSibling.dataset,S)var rt=S.dgst;S=rt,c=Error(g(419)),c.stack="",c.digest=S,to({value:c,source:null,stack:null}),n=Mf(t,n,a)}else if(Mn||dl(t,n,a,!1),S=(a&t.childLanes)!==0,Mn||S){if(S=Je,S!==null&&(c=Qr(S,a),c!==0&&c!==Y.retryLane))throw Y.retryLane=c,Ma(t,c),ki(S,t,c),bf;hh(D)||Pu(),n=Mf(t,n,a)}else hh(D)?(n.flags|=192,n.child=t.child,n=null):(t=Y.treeContext,sn=mr(D.nextSibling),si=n,Te=!0,js=null,gr=!1,t!==null&&v1(n,t),n=Df(n,c.children),n.flags|=4096);return n}return m?(Js(),D=c.fallback,m=n.mode,Y=t.child,rt=Y.sibling,c=os(Y,{mode:"hidden",children:c.children}),c.subtreeFlags=Y.subtreeFlags&65011712,rt!==null?D=os(rt,D):(D=La(D,m,a,null),D.flags|=2),D.return=n,c.return=n,c.sibling=D,n.child=c,ho(null,c),c=n.child,D=t.child.memoizedState,D===null?D=vf(a):(m=D.cachePool,m!==null?(Y=Rn._currentValue,m=m.parent!==Y?{parent:Y,pool:Y}:m):m=U1(),D={baseLanes:D.baseLanes|a,cachePool:m}),c.memoizedState=D,c.childLanes=Rf(t,S,a),n.memoizedState=Nf,ho(t.child,c)):(Qs(n),a=t.child,t=a.sibling,a=os(a,{mode:"visible",children:c.children}),a.return=n,a.sibling=null,t!==null&&(S=n.deletions,S===null?(n.deletions=[t],n.flags|=16):S.push(t)),n.child=a,n.memoizedState=null,a)}function Df(t,n){return n=Ou({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Ou(t,n){return t=Qi(22,t,null,n),t.lanes=0,t}function Mf(t,n,a){return Va(n,t.child,null,a),t=Df(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function K0(t,n,a){t.lanes|=n;var c=t.alternate;c!==null&&(c.lanes|=n),qc(t.return,n,a)}function Lf(t,n,a,c,m,A){var S=t.memoizedState;S===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:m,treeForkCount:A}:(S.isBackwards=n,S.rendering=null,S.renderingStartTime=0,S.last=c,S.tail=a,S.tailMode=m,S.treeForkCount=A)}function Z0(t,n,a){var c=n.pendingProps,m=c.revealOrder,A=c.tail;c=c.children;var S=On.current,D=(S&2)!==0;if(D?(S=S&1|2,n.flags|=128):S&=1,bt(On,S),li(t,n,c,a),c=Te?$l:0,!D&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&K0(t,a,n);else if(t.tag===19)K0(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(m){case"forwards":for(a=n.child,m=null;a!==null;)t=a.alternate,t!==null&&mu(t)===null&&(m=a),a=a.sibling;a=m,a===null?(m=n.child,n.child=null):(m=a.sibling,a.sibling=null),Lf(n,!1,m,a,A,c);break;case"backwards":case"unstable_legacy-backwards":for(a=null,m=n.child,n.child=null;m!==null;){if(t=m.alternate,t!==null&&mu(t)===null){n.child=m;break}t=m.sibling,m.sibling=a,a=m,m=t}Lf(n,!0,a,null,A,c);break;case"together":Lf(n,!1,null,null,void 0,c);break;default:n.memoizedState=null}return n.child}function gs(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),ea|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(dl(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(g(153));if(n.child!==null){for(t=n.child,a=os(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=os(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Bf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&ou(t)))}function Vp(t,n,a){switch(n.tag){case 3:fe(n,n.stateNode.containerInfo),qs(n,Rn,t.memoizedState.cache),Ba();break;case 27:case 5:Fi(n);break;case 4:fe(n,n.stateNode.containerInfo);break;case 10:qs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,af(n),null;break;case 13:var c=n.memoizedState;if(c!==null)return c.dehydrated!==null?(Qs(n),n.flags|=128,null):(a&n.child.childLanes)!==0?W0(t,n,a):(Qs(n),t=gs(t,n,a),t!==null?t.sibling:null);Qs(n);break;case 19:var m=(t.flags&128)!==0;if(c=(a&n.childLanes)!==0,c||(dl(t,n,a,!1),c=(a&n.childLanes)!==0),m){if(c)return Z0(t,n,a);n.flags|=128}if(m=n.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),bt(On,On.current),c)break;return null;case 22:return n.lanes=0,z0(t,n,a,n.pendingProps);case 24:qs(n,Rn,t.memoizedState.cache)}return gs(t,n,a)}function Q0(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Mn=!0;else{if(!Bf(t,a)&&(n.flags&128)===0)return Mn=!1,Vp(t,n,a);Mn=(t.flags&131072)!==0}else Mn=!1,Te&&(n.flags&1048576)!==0&&N1(n,$l,n.index);switch(n.lanes=0,n.tag){case 16:t:{var c=n.pendingProps;if(t=Fa(n.elementType),n.type=t,typeof t=="function")Fc(t)?(c=Ga(t,c),n.tag=1,n=X0(null,n,t,c,a)):(n.tag=0,n=Of(null,n,t,c,a));else{if(t!=null){var m=t.$$typeof;if(m===Rt){n.tag=11,n=F0(null,n,t,c,a);break t}else if(m===P){n.tag=14,n=H0(null,n,t,c,a);break t}}throw n=Xt(t)||t,Error(g(306,n,""))}}return n;case 0:return Of(t,n,n.type,n.pendingProps,a);case 1:return c=n.type,m=Ga(c,n.pendingProps),X0(t,n,c,m,a);case 3:t:{if(fe(n,n.stateNode.containerInfo),t===null)throw Error(g(387));c=n.pendingProps;var A=n.memoizedState;m=A.element,tf(t,n),lo(n,c,null,a);var S=n.memoizedState;if(c=S.cache,qs(n,Rn,c),c!==A.cache&&Wc(n,[Rn],a,!0),ao(),c=S.element,A.isDehydrated)if(A={element:c,isDehydrated:!1,cache:S.cache},n.updateQueue.baseState=A,n.memoizedState=A,n.flags&256){n=q0(t,n,c,a);break t}else if(c!==m){m=fr(Error(g(424)),n),to(m),n=q0(t,n,c,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(sn=mr(t.firstChild),si=n,Te=!0,js=null,gr=!0,a=z1(n,null,c,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ba(),c===m){n=gs(t,n,a);break t}li(t,n,c,a)}n=n.child}return n;case 26:return bu(t,n),t===null?(a=og(n.type,null,n.pendingProps,null))?n.memoizedState=a:Te||(a=n.type,t=n.pendingProps,c=Yu(It.current).createElement(a),c[on]=n,c[Oe]=t,oi(c,a,t),un(c),n.stateNode=c):n.memoizedState=og(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Fi(n),t===null&&Te&&(c=n.stateNode=sg(n.type,n.pendingProps,It.current),si=n,gr=!0,m=sn,aa(n.type)?(gh=m,sn=mr(c.firstChild)):sn=m),li(t,n,n.pendingProps.children,a),bu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Te&&((m=c=sn)&&(c=pA(c,n.type,n.pendingProps,gr),c!==null?(n.stateNode=c,si=n,sn=mr(c.firstChild),gr=!1,m=!0):m=!1),m||Xs(n)),Fi(n),m=n.type,A=n.pendingProps,S=t!==null?t.memoizedProps:null,c=A.children,uh(m,A)?c=null:S!==null&&uh(m,S)&&(n.flags|=32),n.memoizedState!==null&&(m=of(t,n,Dp,null,null,a),Oo._currentValue=m),bu(t,n),li(t,n,c,a),n.child;case 6:return t===null&&Te&&((t=a=sn)&&(a=AA(a,n.pendingProps,gr),a!==null?(n.stateNode=a,si=n,sn=null,t=!0):t=!1),t||Xs(n)),null;case 13:return W0(t,n,a);case 4:return fe(n,n.stateNode.containerInfo),c=n.pendingProps,t===null?n.child=Va(n,null,c,a):li(t,n,c,a),n.child;case 11:return F0(t,n,n.type,n.pendingProps,a);case 7:return li(t,n,n.pendingProps,a),n.child;case 8:return li(t,n,n.pendingProps.children,a),n.child;case 12:return li(t,n,n.pendingProps.children,a),n.child;case 10:return c=n.pendingProps,qs(n,n.type,c.value),li(t,n,c.children,a),n.child;case 9:return m=n.type._context,c=n.pendingProps.children,Pa(n),m=ai(m),c=c(m),n.flags|=1,li(t,n,c,a),n.child;case 14:return H0(t,n,n.type,n.pendingProps,a);case 15:return V0(t,n,n.type,n.pendingProps,a);case 19:return Z0(t,n,a);case 31:return Hp(t,n,a);case 22:return z0(t,n,a,n.pendingProps);case 24:return Pa(n),c=ai(Rn),t===null?(m=Qc(),m===null&&(m=Je,A=Kc(),m.pooledCache=A,A.refCount++,A!==null&&(m.pooledCacheLanes|=a),m=A),n.memoizedState={parent:c,cache:m},$c(n),qs(n,Rn,m)):((t.lanes&a)!==0&&(tf(t,n),lo(n,null,null,a),ao()),m=t.memoizedState,A=n.memoizedState,m.parent!==c?(m={parent:c,cache:c},n.memoizedState=m,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=m),qs(n,Rn,c)):(c=A.cache,qs(n,Rn,c),c!==m.cache&&Wc(n,[Rn],a,!0))),li(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(g(156,n.tag))}function Es(t){t.flags|=4}function Uf(t,n,a,c,m){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(m&335544128)===m)if(t.stateNode.complete)t.flags|=8192;else if(Sd())t.flags|=8192;else throw Ha=hu,Jc}else t.flags&=-16777217}function J0(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!dg(n))if(Sd())t.flags|=8192;else throw Ha=hu,Jc}function Nu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?In():536870912,t.lanes|=n,Cl|=n)}function go(t,n){if(!Te)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function an(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,c=0;if(n)for(var m=t.child;m!==null;)a|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=t,m=m.sibling;else for(m=t.child;m!==null;)a|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=t,m=m.sibling;return t.subtreeFlags|=c,t.childLanes=a,n}function zp(t,n,a){var c=n.pendingProps;switch(Gc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(n),null;case 1:return an(n),null;case 3:return a=n.stateNode,c=null,t!==null&&(c=t.memoizedState.cache),n.memoizedState.cache!==c&&(n.flags|=2048),fs(Rn),ke(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(hl(n)?Es(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,jc())),an(n),null;case 26:var m=n.type,A=n.memoizedState;return t===null?(Es(n),A!==null?(an(n),J0(n,A)):(an(n),Uf(n,m,null,c,a))):A?A!==t.memoizedState?(Es(n),an(n),J0(n,A)):(an(n),n.flags&=-16777217):(t=t.memoizedProps,t!==c&&Es(n),an(n),Uf(n,m,t,c,a)),null;case 27:if(Cn(n),a=It.current,m=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==c&&Es(n);else{if(!c){if(n.stateNode===null)throw Error(g(166));return an(n),null}t=Ot.current,hl(n)?R1(n):(t=sg(m,c,a),n.stateNode=t,Es(n))}return an(n),null;case 5:if(Cn(n),m=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==c&&Es(n);else{if(!c){if(n.stateNode===null)throw Error(g(166));return an(n),null}if(A=Ot.current,hl(n))R1(n);else{var S=Yu(It.current);switch(A){case 1:A=S.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:A=S.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":A=S.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":A=S.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":A=S.createElement("div"),A.innerHTML="<script><\/script>",A=A.removeChild(A.firstChild);break;case"select":A=typeof c.is=="string"?S.createElement("select",{is:c.is}):S.createElement("select"),c.multiple?A.multiple=!0:c.size&&(A.size=c.size);break;default:A=typeof c.is=="string"?S.createElement(m,{is:c.is}):S.createElement(m)}}A[on]=n,A[Oe]=c;t:for(S=n.child;S!==null;){if(S.tag===5||S.tag===6)A.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===n)break t;for(;S.sibling===null;){if(S.return===null||S.return===n)break t;S=S.return}S.sibling.return=S.return,S=S.sibling}n.stateNode=A;t:switch(oi(A,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break t;case"img":c=!0;break t;default:c=!1}c&&Es(n)}}return an(n),Uf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==c&&Es(n);else{if(typeof c!="string"&&n.stateNode===null)throw Error(g(166));if(t=It.current,hl(n)){if(t=n.stateNode,a=n.memoizedProps,c=null,m=si,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}t[on]=n,t=!!(t.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||Wd(t.nodeValue,a)),t||Xs(n,!0)}else t=Yu(t).createTextNode(c),t[on]=n,n.stateNode=t}return an(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(c=hl(n),a!==null){if(t===null){if(!c)throw Error(g(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(g(557));t[on]=n}else Ba(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;an(n),t=!1}else a=jc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?($i(n),n):($i(n),null);if((n.flags&128)!==0)throw Error(g(558))}return an(n),null;case 13:if(c=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(m=hl(n),c!==null&&c.dehydrated!==null){if(t===null){if(!m)throw Error(g(318));if(m=n.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(g(317));m[on]=n}else Ba(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;an(n),m=!1}else m=jc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=m),m=!0;if(!m)return n.flags&256?($i(n),n):($i(n),null)}return $i(n),(n.flags&128)!==0?(n.lanes=a,n):(a=c!==null,t=t!==null&&t.memoizedState!==null,a&&(c=n.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),A=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(A=c.memoizedState.cachePool.pool),A!==m&&(c.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),Nu(n,n.updateQueue),an(n),null);case 4:return ke(),t===null&&rh(n.stateNode.containerInfo),an(n),null;case 10:return fs(n.type),an(n),null;case 19:if(Et(On),c=n.memoizedState,c===null)return an(n),null;if(m=(n.flags&128)!==0,A=c.rendering,A===null)if(m)go(c,!1);else{if(Tn!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(A=mu(t),A!==null){for(n.flags|=128,go(c,!1),t=A.updateQueue,n.updateQueue=t,Nu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)I1(a,t),a=a.sibling;return bt(On,On.current&1|2),Te&&us(n,c.treeForkCount),n.child}t=t.sibling}c.tail!==null&&en()>Lu&&(n.flags|=128,m=!0,go(c,!1),n.lanes=4194304)}else{if(!m)if(t=mu(A),t!==null){if(n.flags|=128,m=!0,t=t.updateQueue,n.updateQueue=t,Nu(n,t),go(c,!0),c.tail===null&&c.tailMode==="hidden"&&!A.alternate&&!Te)return an(n),null}else 2*en()-c.renderingStartTime>Lu&&a!==536870912&&(n.flags|=128,m=!0,go(c,!1),n.lanes=4194304);c.isBackwards?(A.sibling=n.child,n.child=A):(t=c.last,t!==null?t.sibling=A:n.child=A,c.last=A)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=en(),t.sibling=null,a=On.current,bt(On,m?a&1|2:a&1),Te&&us(n,c.treeForkCount),t):(an(n),null);case 22:case 23:return $i(n),sf(),c=n.memoizedState!==null,t!==null?t.memoizedState!==null!==c&&(n.flags|=8192):c&&(n.flags|=8192),c?(a&536870912)!==0&&(n.flags&128)===0&&(an(n),n.subtreeFlags&6&&(n.flags|=8192)):an(n),a=n.updateQueue,a!==null&&Nu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),c=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),c!==a&&(n.flags|=2048),t!==null&&Et(ka),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),fs(Rn),an(n),null;case 25:return null;case 30:return null}throw Error(g(156,n.tag))}function Gp(t,n){switch(Gc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return fs(Rn),ke(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Cn(n),null;case 31:if(n.memoizedState!==null){if($i(n),n.alternate===null)throw Error(g(340));Ba()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if($i(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(g(340));Ba()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Et(On),null;case 4:return ke(),null;case 10:return fs(n.type),null;case 22:case 23:return $i(n),sf(),t!==null&&Et(ka),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return fs(Rn),null;case 25:return null;default:return null}}function $0(t,n){switch(Gc(n),n.tag){case 3:fs(Rn),ke();break;case 26:case 27:case 5:Cn(n);break;case 4:ke();break;case 31:n.memoizedState!==null&&$i(n);break;case 13:$i(n);break;case 19:Et(On);break;case 10:fs(n.type);break;case 22:case 23:$i(n),sf(),t!==null&&Et(ka);break;case 24:fs(Rn)}}function Eo(t,n){try{var a=n.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var m=c.next;a=m;do{if((a.tag&t)===t){c=void 0;var A=a.create,S=a.inst;c=A(),S.destroy=c}a=a.next}while(a!==m)}}catch(D){Ye(n,n.return,D)}}function $s(t,n,a){try{var c=n.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var A=m.next;c=A;do{if((c.tag&t)===t){var S=c.inst,D=S.destroy;if(D!==void 0){S.destroy=void 0,m=n;var Y=a,rt=D;try{rt()}catch(mt){Ye(m,Y,mt)}}}c=c.next}while(c!==A)}}catch(mt){Ye(n,n.return,mt)}}function td(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Y1(n,a)}catch(c){Ye(t,t.return,c)}}}function ed(t,n,a){a.props=Ga(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(c){Ye(t,n,c)}}function mo(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var c=t.stateNode;break;case 30:c=t.stateNode;break;default:c=t.stateNode}typeof a=="function"?t.refCleanup=a(c):a.current=c}}catch(m){Ye(t,n,m)}}function zr(t,n){var a=t.ref,c=t.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(m){Ye(t,n,m)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(m){Ye(t,n,m)}else a.current=null}function nd(t){var n=t.type,a=t.memoizedProps,c=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break t;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(m){Ye(t,t.return,m)}}function Pf(t,n,a){try{var c=t.stateNode;fA(c,t.type,a,n),c[Oe]=n}catch(m){Ye(t,t.return,m)}}function id(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&aa(t.type)||t.tag===4}function kf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||id(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&aa(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ff(t,n,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=gi));else if(c!==4&&(c===27&&aa(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Ff(t,n,a),t=t.sibling;t!==null;)Ff(t,n,a),t=t.sibling}function vu(t,n,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(c!==4&&(c===27&&aa(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(vu(t,n,a),t=t.sibling;t!==null;)vu(t,n,a),t=t.sibling}function rd(t){var n=t.stateNode,a=t.memoizedProps;try{for(var c=t.type,m=n.attributes;m.length;)n.removeAttributeNode(m[0]);oi(n,c,a),n[on]=t,n[Oe]=a}catch(A){Ye(t,t.return,A)}}var ms=!1,Ln=!1,Hf=!1,sd=typeof WeakSet=="function"?WeakSet:Set,Xn=null;function Yp(t,n){if(t=t.containerInfo,lh=Qu,t=O(t),R(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var m=c.anchorOffset,A=c.focusNode;c=c.focusOffset;try{a.nodeType,A.nodeType}catch{a=null;break t}var S=0,D=-1,Y=-1,rt=0,mt=0,_t=t,lt=null;e:for(;;){for(var dt;_t!==a||m!==0&&_t.nodeType!==3||(D=S+m),_t!==A||c!==0&&_t.nodeType!==3||(Y=S+c),_t.nodeType===3&&(S+=_t.nodeValue.length),(dt=_t.firstChild)!==null;)lt=_t,_t=dt;for(;;){if(_t===t)break e;if(lt===a&&++rt===m&&(D=S),lt===A&&++mt===c&&(Y=S),(dt=_t.nextSibling)!==null)break;_t=lt,lt=_t.parentNode}_t=dt}a=D===-1||Y===-1?null:{start:D,end:Y}}else a=null}a=a||{start:0,end:0}}else a=null;for(oh={focusedElem:t,selectionRange:a},Qu=!1,Xn=n;Xn!==null;)if(n=Xn,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Xn=t;else for(;Xn!==null;){switch(n=Xn,A=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)m=t[a],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&A!==null){t=void 0,a=n,m=A.memoizedProps,A=A.memoizedState,c=a.stateNode;try{var Bt=Ga(a.type,m);t=c.getSnapshotBeforeUpdate(Bt,A),c.__reactInternalSnapshotBeforeUpdate=t}catch(Wt){Ye(a,a.return,Wt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)fh(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":fh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(g(163))}if(t=n.sibling,t!==null){t.return=n.return,Xn=t;break}Xn=n.return}}function ad(t,n,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:As(t,a),c&4&&Eo(5,a);break;case 1:if(As(t,a),c&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(S){Ye(a,a.return,S)}else{var m=Ga(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(m,n,t.__reactInternalSnapshotBeforeUpdate)}catch(S){Ye(a,a.return,S)}}c&64&&td(a),c&512&&mo(a,a.return);break;case 3:if(As(t,a),c&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Y1(t,n)}catch(S){Ye(a,a.return,S)}}break;case 27:n===null&&c&4&&rd(a);case 26:case 5:As(t,a),n===null&&c&4&&nd(a),c&512&&mo(a,a.return);break;case 12:As(t,a);break;case 31:As(t,a),c&4&&ud(t,a);break;case 13:As(t,a),c&4&&cd(t,a),c&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=$p.bind(null,a),_A(t,a))));break;case 22:if(c=a.memoizedState!==null||ms,!c){n=n!==null&&n.memoizedState!==null||Ln,m=ms;var A=Ln;ms=c,(Ln=n)&&!A?_s(t,a,(a.subtreeFlags&8772)!==0):As(t,a),ms=m,Ln=A}break;case 30:break;default:As(t,a)}}function ld(t){var n=t.alternate;n!==null&&(t.alternate=null,ld(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ti(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var dn=null,Li=!1;function ps(t,n,a){for(a=a.child;a!==null;)od(t,n,a),a=a.sibling}function od(t,n,a){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(Re,a)}catch{}switch(a.tag){case 26:Ln||zr(a,n),ps(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ln||zr(a,n);var c=dn,m=Li;aa(a.type)&&(dn=a.stateNode,Li=!1),ps(t,n,a),Co(a.stateNode),dn=c,Li=m;break;case 5:Ln||zr(a,n);case 6:if(c=dn,m=Li,dn=null,ps(t,n,a),dn=c,Li=m,dn!==null)if(Li)try{(dn.nodeType===9?dn.body:dn.nodeName==="HTML"?dn.ownerDocument.body:dn).removeChild(a.stateNode)}catch(A){Ye(a,n,A)}else try{dn.removeChild(a.stateNode)}catch(A){Ye(a,n,A)}break;case 18:dn!==null&&(Li?(t=dn,tg(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ml(t)):tg(dn,a.stateNode));break;case 4:c=dn,m=Li,dn=a.stateNode.containerInfo,Li=!0,ps(t,n,a),dn=c,Li=m;break;case 0:case 11:case 14:case 15:$s(2,a,n),Ln||$s(4,a,n),ps(t,n,a);break;case 1:Ln||(zr(a,n),c=a.stateNode,typeof c.componentWillUnmount=="function"&&ed(a,n,c)),ps(t,n,a);break;case 21:ps(t,n,a);break;case 22:Ln=(c=Ln)||a.memoizedState!==null,ps(t,n,a),Ln=c;break;default:ps(t,n,a)}}function ud(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ml(t)}catch(a){Ye(n,n.return,a)}}}function cd(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ml(t)}catch(a){Ye(n,n.return,a)}}function jp(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new sd),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new sd),n;default:throw Error(g(435,t.tag))}}function Ru(t,n){var a=jp(t);n.forEach(function(c){if(!a.has(c)){a.add(c);var m=tA.bind(null,t,c);c.then(m,m)}})}function Bi(t,n){var a=n.deletions;if(a!==null)for(var c=0;c<a.length;c++){var m=a[c],A=t,S=n,D=S;t:for(;D!==null;){switch(D.tag){case 27:if(aa(D.type)){dn=D.stateNode,Li=!1;break t}break;case 5:dn=D.stateNode,Li=!1;break t;case 3:case 4:dn=D.stateNode.containerInfo,Li=!0;break t}D=D.return}if(dn===null)throw Error(g(160));od(A,S,m),dn=null,Li=!1,A=m.alternate,A!==null&&(A.return=null),m.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)fd(n,t),n=n.sibling}var Or=null;function fd(t,n){var a=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Bi(n,t),Ui(t),c&4&&($s(3,t,t.return),Eo(3,t),$s(5,t,t.return));break;case 1:Bi(n,t),Ui(t),c&512&&(Ln||a===null||zr(a,a.return)),c&64&&ms&&(t=t.updateQueue,t!==null&&(c=t.callbacks,c!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var m=Or;if(Bi(n,t),Ui(t),c&512&&(Ln||a===null||zr(a,a.return)),c&4){var A=a!==null?a.memoizedState:null;if(c=t.memoizedState,a===null)if(c===null)if(t.stateNode===null){t:{c=t.type,a=t.memoizedProps,m=m.ownerDocument||m;e:switch(c){case"title":A=m.getElementsByTagName("title")[0],(!A||A[sr]||A[on]||A.namespaceURI==="http://www.w3.org/2000/svg"||A.hasAttribute("itemprop"))&&(A=m.createElement(c),m.head.insertBefore(A,m.querySelector("head > title"))),oi(A,c,a),A[on]=t,un(A),c=A;break t;case"link":var S=fg("link","href",m).get(c+(a.href||""));if(S){for(var D=0;D<S.length;D++)if(A=S[D],A.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&A.getAttribute("rel")===(a.rel==null?null:a.rel)&&A.getAttribute("title")===(a.title==null?null:a.title)&&A.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){S.splice(D,1);break e}}A=m.createElement(c),oi(A,c,a),m.head.appendChild(A);break;case"meta":if(S=fg("meta","content",m).get(c+(a.content||""))){for(D=0;D<S.length;D++)if(A=S[D],A.getAttribute("content")===(a.content==null?null:""+a.content)&&A.getAttribute("name")===(a.name==null?null:a.name)&&A.getAttribute("property")===(a.property==null?null:a.property)&&A.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&A.getAttribute("charset")===(a.charSet==null?null:a.charSet)){S.splice(D,1);break e}}A=m.createElement(c),oi(A,c,a),m.head.appendChild(A);break;default:throw Error(g(468,c))}A[on]=t,un(A),c=A}t.stateNode=c}else hg(m,t.type,t.stateNode);else t.stateNode=cg(m,c,t.memoizedProps);else A!==c?(A===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):A.count--,c===null?hg(m,t.type,t.stateNode):cg(m,c,t.memoizedProps)):c===null&&t.stateNode!==null&&Pf(t,t.memoizedProps,a.memoizedProps)}break;case 27:Bi(n,t),Ui(t),c&512&&(Ln||a===null||zr(a,a.return)),a!==null&&c&4&&Pf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Bi(n,t),Ui(t),c&512&&(Ln||a===null||zr(a,a.return)),t.flags&32){m=t.stateNode;try{di(m,"")}catch(Bt){Ye(t,t.return,Bt)}}c&4&&t.stateNode!=null&&(m=t.memoizedProps,Pf(t,m,a!==null?a.memoizedProps:m)),c&1024&&(Hf=!0);break;case 6:if(Bi(n,t),Ui(t),c&4){if(t.stateNode===null)throw Error(g(162));c=t.memoizedProps,a=t.stateNode;try{a.nodeValue=c}catch(Bt){Ye(t,t.return,Bt)}}break;case 3:if(qu=null,m=Or,Or=ju(n.containerInfo),Bi(n,t),Or=m,Ui(t),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Ml(n.containerInfo)}catch(Bt){Ye(t,t.return,Bt)}Hf&&(Hf=!1,hd(t));break;case 4:c=Or,Or=ju(t.stateNode.containerInfo),Bi(n,t),Ui(t),Or=c;break;case 12:Bi(n,t),Ui(t);break;case 31:Bi(n,t),Ui(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,Ru(t,c)));break;case 13:Bi(n,t),Ui(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Mu=en()),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,Ru(t,c)));break;case 22:m=t.memoizedState!==null;var Y=a!==null&&a.memoizedState!==null,rt=ms,mt=Ln;if(ms=rt||m,Ln=mt||Y,Bi(n,t),Ln=mt,ms=rt,Ui(t),c&8192)t:for(n=t.stateNode,n._visibility=m?n._visibility&-2:n._visibility|1,m&&(a===null||Y||ms||Ln||Ya(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){Y=a=n;try{if(A=Y.stateNode,m)S=A.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{D=Y.stateNode;var _t=Y.memoizedProps.style,lt=_t!=null&&_t.hasOwnProperty("display")?_t.display:null;D.style.display=lt==null||typeof lt=="boolean"?"":(""+lt).trim()}}catch(Bt){Ye(Y,Y.return,Bt)}}}else if(n.tag===6){if(a===null){Y=n;try{Y.stateNode.nodeValue=m?"":Y.memoizedProps}catch(Bt){Ye(Y,Y.return,Bt)}}}else if(n.tag===18){if(a===null){Y=n;try{var dt=Y.stateNode;m?eg(dt,!0):eg(Y.stateNode,!1)}catch(Bt){Ye(Y,Y.return,Bt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}c&4&&(c=t.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,Ru(t,a))));break;case 19:Bi(n,t),Ui(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,Ru(t,c)));break;case 30:break;case 21:break;default:Bi(n,t),Ui(t)}}function Ui(t){var n=t.flags;if(n&2){try{for(var a,c=t.return;c!==null;){if(id(c)){a=c;break}c=c.return}if(a==null)throw Error(g(160));switch(a.tag){case 27:var m=a.stateNode,A=kf(t);vu(t,A,m);break;case 5:var S=a.stateNode;a.flags&32&&(di(S,""),a.flags&=-33);var D=kf(t);vu(t,D,S);break;case 3:case 4:var Y=a.stateNode.containerInfo,rt=kf(t);Ff(t,rt,Y);break;default:throw Error(g(161))}}catch(mt){Ye(t,t.return,mt)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function hd(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;hd(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function As(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ad(t,n.alternate,n),n=n.sibling}function Ya(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:$s(4,n,n.return),Ya(n);break;case 1:zr(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&ed(n,n.return,a),Ya(n);break;case 27:Co(n.stateNode);case 26:case 5:zr(n,n.return),Ya(n);break;case 22:n.memoizedState===null&&Ya(n);break;case 30:Ya(n);break;default:Ya(n)}t=t.sibling}}function _s(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var c=n.alternate,m=t,A=n,S=A.flags;switch(A.tag){case 0:case 11:case 15:_s(m,A,a),Eo(4,A);break;case 1:if(_s(m,A,a),c=A,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(rt){Ye(c,c.return,rt)}if(c=A,m=c.updateQueue,m!==null){var D=c.stateNode;try{var Y=m.shared.hiddenCallbacks;if(Y!==null)for(m.shared.hiddenCallbacks=null,m=0;m<Y.length;m++)G1(Y[m],D)}catch(rt){Ye(c,c.return,rt)}}a&&S&64&&td(A),mo(A,A.return);break;case 27:rd(A);case 26:case 5:_s(m,A,a),a&&c===null&&S&4&&nd(A),mo(A,A.return);break;case 12:_s(m,A,a);break;case 31:_s(m,A,a),a&&S&4&&ud(m,A);break;case 13:_s(m,A,a),a&&S&4&&cd(m,A);break;case 22:A.memoizedState===null&&_s(m,A,a),mo(A,A.return);break;case 30:break;default:_s(m,A,a)}n=n.sibling}}function Vf(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&eo(a))}function zf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&eo(t))}function Nr(t,n,a,c){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)dd(t,n,a,c),n=n.sibling}function dd(t,n,a,c){var m=n.flags;switch(n.tag){case 0:case 11:case 15:Nr(t,n,a,c),m&2048&&Eo(9,n);break;case 1:Nr(t,n,a,c);break;case 3:Nr(t,n,a,c),m&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&eo(t)));break;case 12:if(m&2048){Nr(t,n,a,c),t=n.stateNode;try{var A=n.memoizedProps,S=A.id,D=A.onPostCommit;typeof D=="function"&&D(S,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(Y){Ye(n,n.return,Y)}}else Nr(t,n,a,c);break;case 31:Nr(t,n,a,c);break;case 13:Nr(t,n,a,c);break;case 23:break;case 22:A=n.stateNode,S=n.alternate,n.memoizedState!==null?A._visibility&2?Nr(t,n,a,c):po(t,n):A._visibility&2?Nr(t,n,a,c):(A._visibility|=2,wl(t,n,a,c,(n.subtreeFlags&10256)!==0||!1)),m&2048&&Vf(S,n);break;case 24:Nr(t,n,a,c),m&2048&&zf(n.alternate,n);break;default:Nr(t,n,a,c)}}function wl(t,n,a,c,m){for(m=m&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var A=t,S=n,D=a,Y=c,rt=S.flags;switch(S.tag){case 0:case 11:case 15:wl(A,S,D,Y,m),Eo(8,S);break;case 23:break;case 22:var mt=S.stateNode;S.memoizedState!==null?mt._visibility&2?wl(A,S,D,Y,m):po(A,S):(mt._visibility|=2,wl(A,S,D,Y,m)),m&&rt&2048&&Vf(S.alternate,S);break;case 24:wl(A,S,D,Y,m),m&&rt&2048&&zf(S.alternate,S);break;default:wl(A,S,D,Y,m)}n=n.sibling}}function po(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,c=n,m=c.flags;switch(c.tag){case 22:po(a,c),m&2048&&Vf(c.alternate,c);break;case 24:po(a,c),m&2048&&zf(c.alternate,c);break;default:po(a,c)}n=n.sibling}}var Ao=8192;function Tl(t,n,a){if(t.subtreeFlags&Ao)for(t=t.child;t!==null;)gd(t,n,a),t=t.sibling}function gd(t,n,a){switch(t.tag){case 26:Tl(t,n,a),t.flags&Ao&&t.memoizedState!==null&&RA(a,Or,t.memoizedState,t.memoizedProps);break;case 5:Tl(t,n,a);break;case 3:case 4:var c=Or;Or=ju(t.stateNode.containerInfo),Tl(t,n,a),Or=c;break;case 22:t.memoizedState===null&&(c=t.alternate,c!==null&&c.memoizedState!==null?(c=Ao,Ao=16777216,Tl(t,n,a),Ao=c):Tl(t,n,a));break;default:Tl(t,n,a)}}function Ed(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function _o(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var c=n[a];Xn=c,pd(c,t)}Ed(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)md(t),t=t.sibling}function md(t){switch(t.tag){case 0:case 11:case 15:_o(t),t.flags&2048&&$s(9,t,t.return);break;case 3:_o(t);break;case 12:_o(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Du(t)):_o(t);break;default:_o(t)}}function Du(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var c=n[a];Xn=c,pd(c,t)}Ed(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:$s(8,n,n.return),Du(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Du(n));break;default:Du(n)}t=t.sibling}}function pd(t,n){for(;Xn!==null;){var a=Xn;switch(a.tag){case 0:case 11:case 15:$s(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:eo(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,Xn=c;else t:for(a=t;Xn!==null;){c=Xn;var m=c.sibling,A=c.return;if(ld(c),c===a){Xn=null;break t}if(m!==null){m.return=A,Xn=m;break t}Xn=A}}}var Xp={getCacheForType:function(t){var n=ai(Rn),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return ai(Rn).controller.signal}},qp=typeof WeakMap=="function"?WeakMap:Map,Pe=0,Je=null,me=null,ye=0,Ge=0,tr=null,ta=!1,Sl=!1,Gf=!1,xs=0,Tn=0,ea=0,ja=0,Yf=0,er=0,Cl=0,xo=null,Pi=null,jf=!1,Mu=0,Ad=0,Lu=1/0,Bu=null,na=null,Hn=0,ia=null,Il=null,ys=0,Xf=0,qf=null,_d=null,yo=0,Wf=null;function nr(){return(Pe&2)!==0&&ye!==0?ye&-ye:ct.T!==null?th():Jn()}function xd(){if(er===0)if((ye&536870912)===0||Te){var t=oe;oe<<=1,(oe&3932160)===0&&(oe=262144),er=t}else er=536870912;return t=Ji.current,t!==null&&(t.flags|=32),er}function ki(t,n,a){(t===Je&&(Ge===2||Ge===9)||t.cancelPendingCommit!==null)&&(bl(t,0),ra(t,ye,er,!1)),ir(t,a),((Pe&2)===0||t!==Je)&&(t===Je&&((Pe&2)===0&&(ja|=a),Tn===4&&ra(t,ye,er,!1)),Gr(t))}function yd(t,n,a){if((Pe&6)!==0)throw Error(g(327));var c=!a&&(n&127)===0&&(n&t.expiredLanes)===0||En(t,n),m=c?Zp(t,n):Zf(t,n,!0),A=c;do{if(m===0){Sl&&!c&&ra(t,n,0,!1);break}else{if(a=t.current.alternate,A&&!Wp(a)){m=Zf(t,n,!1),A=!1;continue}if(m===2){if(A=n,t.errorRecoveryDisabledLanes&A)var S=0;else S=t.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){n=S;t:{var D=t;m=xo;var Y=D.current.memoizedState.isDehydrated;if(Y&&(bl(D,S).flags|=256),S=Zf(D,S,!1),S!==2){if(Gf&&!Y){D.errorRecoveryDisabledLanes|=A,ja|=A,m=4;break t}A=Pi,Pi=m,A!==null&&(Pi===null?Pi=A:Pi.push.apply(Pi,A))}m=S}if(A=!1,m!==2)continue}}if(m===1){bl(t,0),ra(t,n,0,!0);break}t:{switch(c=t,A=m,A){case 0:case 1:throw Error(g(345));case 4:if((n&4194048)!==n)break;case 6:ra(c,n,er,!ta);break t;case 2:Pi=null;break;case 3:case 5:break;default:throw Error(g(329))}if((n&62914560)===n&&(m=Mu+300-en(),10<m)){if(ra(c,n,er,!ta),Gi(c,0,!0)!==0)break t;ys=n,c.timeoutHandle=Jd(wd.bind(null,c,a,Pi,Bu,jf,n,er,ja,Cl,ta,A,"Throttled",-0,0),m);break t}wd(c,a,Pi,Bu,jf,n,er,ja,Cl,ta,A,null,-0,0)}}break}while(!0);Gr(t)}function wd(t,n,a,c,m,A,S,D,Y,rt,mt,_t,lt,dt){if(t.timeoutHandle=-1,_t=n.subtreeFlags,_t&8192||(_t&16785408)===16785408){_t={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:gi},gd(n,A,_t);var Bt=(A&62914560)===A?Mu-en():(A&4194048)===A?Ad-en():0;if(Bt=DA(_t,Bt),Bt!==null){ys=A,t.cancelPendingCommit=Bt(vd.bind(null,t,n,A,a,c,m,S,D,Y,mt,_t,null,lt,dt)),ra(t,A,S,!rt);return}}vd(t,n,A,a,c,m,S,D,Y)}function Wp(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var m=a[c],A=m.getSnapshot;m=m.value;try{if(!h(A(),m))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ra(t,n,a,c){n&=~Yf,n&=~ja,t.suspendedLanes|=n,t.pingedLanes&=~n,c&&(t.warmLanes|=n),c=t.expirationTimes;for(var m=n;0<m;){var A=31-Zt(m),S=1<<A;c[A]=-1,m&=~S}a!==0&&Ms(t,a,n)}function Uu(){return(Pe&6)===0?(wo(0),!1):!0}function Kf(){if(me!==null){if(Ge===0)var t=me.return;else t=me,cs=Ua=null,ff(t),pl=null,io=0,t=me;for(;t!==null;)$0(t.alternate,t),t=t.return;me=null}}function bl(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,gA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ys=0,Kf(),Je=t,me=a=os(t.current,null),ye=n,Ge=0,tr=null,ta=!1,Sl=En(t,n),Gf=!1,Cl=er=Yf=ja=ea=Tn=0,Pi=xo=null,jf=!1,(n&8)!==0&&(n|=n&32);var c=t.entangledLanes;if(c!==0)for(t=t.entanglements,c&=n;0<c;){var m=31-Zt(c),A=1<<m;n|=t[m],c&=~A}return xs=n,iu(),a}function Td(t,n){ne=null,ct.H=fo,n===ml||n===fu?(n=F1(),Ge=3):n===Jc?(n=F1(),Ge=4):Ge=n===bf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,tr=n,me===null&&(Tn=1,Cu(t,fr(n,t.current)))}function Sd(){var t=Ji.current;return t===null?!0:(ye&4194048)===ye?Er===null:(ye&62914560)===ye||(ye&536870912)!==0?t===Er:!1}function Cd(){var t=ct.H;return ct.H=fo,t===null?fo:t}function Id(){var t=ct.A;return ct.A=Xp,t}function Pu(){Tn=4,ta||(ye&4194048)!==ye&&Ji.current!==null||(Sl=!0),(ea&134217727)===0&&(ja&134217727)===0||Je===null||ra(Je,ye,er,!1)}function Zf(t,n,a){var c=Pe;Pe|=2;var m=Cd(),A=Id();(Je!==t||ye!==n)&&(Bu=null,bl(t,n)),n=!1;var S=Tn;t:do try{if(Ge!==0&&me!==null){var D=me,Y=tr;switch(Ge){case 8:Kf(),S=6;break t;case 3:case 2:case 9:case 6:Ji.current===null&&(n=!0);var rt=Ge;if(Ge=0,tr=null,Ol(t,D,Y,rt),a&&Sl){S=0;break t}break;default:rt=Ge,Ge=0,tr=null,Ol(t,D,Y,rt)}}Kp(),S=Tn;break}catch(mt){Td(t,mt)}while(!0);return n&&t.shellSuspendCounter++,cs=Ua=null,Pe=c,ct.H=m,ct.A=A,me===null&&(Je=null,ye=0,iu()),S}function Kp(){for(;me!==null;)bd(me)}function Zp(t,n){var a=Pe;Pe|=2;var c=Cd(),m=Id();Je!==t||ye!==n?(Bu=null,Lu=en()+500,bl(t,n)):Sl=En(t,n);t:do try{if(Ge!==0&&me!==null){n=me;var A=tr;e:switch(Ge){case 1:Ge=0,tr=null,Ol(t,n,A,1);break;case 2:case 9:if(P1(A)){Ge=0,tr=null,Od(n);break}n=function(){Ge!==2&&Ge!==9||Je!==t||(Ge=7),Gr(t)},A.then(n,n);break t;case 3:Ge=7;break t;case 4:Ge=5;break t;case 7:P1(A)?(Ge=0,tr=null,Od(n)):(Ge=0,tr=null,Ol(t,n,A,7));break;case 5:var S=null;switch(me.tag){case 26:S=me.memoizedState;case 5:case 27:var D=me;if(S?dg(S):D.stateNode.complete){Ge=0,tr=null;var Y=D.sibling;if(Y!==null)me=Y;else{var rt=D.return;rt!==null?(me=rt,ku(rt)):me=null}break e}}Ge=0,tr=null,Ol(t,n,A,5);break;case 6:Ge=0,tr=null,Ol(t,n,A,6);break;case 8:Kf(),Tn=6;break t;default:throw Error(g(462))}}Qp();break}catch(mt){Td(t,mt)}while(!0);return cs=Ua=null,ct.H=c,ct.A=m,Pe=a,me!==null?0:(Je=null,ye=0,iu(),Tn)}function Qp(){for(;me!==null&&!vs();)bd(me)}function bd(t){var n=Q0(t.alternate,t,xs);t.memoizedProps=t.pendingProps,n===null?ku(t):me=n}function Od(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=j0(a,n,n.pendingProps,n.type,void 0,ye);break;case 11:n=j0(a,n,n.pendingProps,n.type.render,n.ref,ye);break;case 5:ff(n);default:$0(a,n),n=me=I1(n,xs),n=Q0(a,n,xs)}t.memoizedProps=t.pendingProps,n===null?ku(t):me=n}function Ol(t,n,a,c){cs=Ua=null,ff(n),pl=null,io=0;var m=n.return;try{if(Fp(t,m,n,a,ye)){Tn=1,Cu(t,fr(a,t.current)),me=null;return}}catch(A){if(m!==null)throw me=m,A;Tn=1,Cu(t,fr(a,t.current)),me=null;return}n.flags&32768?(Te||c===1?t=!0:Sl||(ye&536870912)!==0?t=!1:(ta=t=!0,(c===2||c===9||c===3||c===6)&&(c=Ji.current,c!==null&&c.tag===13&&(c.flags|=16384))),Nd(n,t)):ku(n)}function ku(t){var n=t;do{if((n.flags&32768)!==0){Nd(n,ta);return}t=n.return;var a=zp(n.alternate,n,xs);if(a!==null){me=a;return}if(n=n.sibling,n!==null){me=n;return}me=n=t}while(n!==null);Tn===0&&(Tn=5)}function Nd(t,n){do{var a=Gp(t.alternate,t);if(a!==null){a.flags&=32767,me=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){me=t;return}me=t=a}while(t!==null);Tn=6,me=null}function vd(t,n,a,c,m,A,S,D,Y){t.cancelPendingCommit=null;do Fu();while(Hn!==0);if((Pe&6)!==0)throw Error(g(327));if(n!==null){if(n===t.current)throw Error(g(177));if(A=n.lanes|n.childLanes,A|=Pc,Oi(t,a,A,S,D,Y),t===Je&&(me=Je=null,ye=0),Il=n,ia=t,ys=a,Xf=A,qf=m,_d=c,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,eA(Kn,function(){return Bd(),null})):(t.callbackNode=null,t.callbackPriority=0),c=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||c){c=ct.T,ct.T=null,m=pt.p,pt.p=2,S=Pe,Pe|=4;try{Yp(t,n,a)}finally{Pe=S,pt.p=m,ct.T=c}}Hn=1,Rd(),Dd(),Md()}}function Rd(){if(Hn===1){Hn=0;var t=ia,n=Il,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=ct.T,ct.T=null;var c=pt.p;pt.p=2;var m=Pe;Pe|=4;try{fd(n,t);var A=oh,S=O(t.containerInfo),D=A.focusedElem,Y=A.selectionRange;if(S!==D&&D&&D.ownerDocument&&w(D.ownerDocument.documentElement,D)){if(Y!==null&&R(D)){var rt=Y.start,mt=Y.end;if(mt===void 0&&(mt=rt),"selectionStart"in D)D.selectionStart=rt,D.selectionEnd=Math.min(mt,D.value.length);else{var _t=D.ownerDocument||document,lt=_t&&_t.defaultView||window;if(lt.getSelection){var dt=lt.getSelection(),Bt=D.textContent.length,Wt=Math.min(Y.start,Bt),We=Y.end===void 0?Wt:Math.min(Y.end,Bt);!dt.extend&&Wt>We&&(S=We,We=Wt,Wt=S);var J=x(D,Wt),Z=x(D,We);if(J&&Z&&(dt.rangeCount!==1||dt.anchorNode!==J.node||dt.anchorOffset!==J.offset||dt.focusNode!==Z.node||dt.focusOffset!==Z.offset)){var it=_t.createRange();it.setStart(J.node,J.offset),dt.removeAllRanges(),Wt>We?(dt.addRange(it),dt.extend(Z.node,Z.offset)):(it.setEnd(Z.node,Z.offset),dt.addRange(it))}}}}for(_t=[],dt=D;dt=dt.parentNode;)dt.nodeType===1&&_t.push({element:dt,left:dt.scrollLeft,top:dt.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<_t.length;D++){var At=_t[D];At.element.scrollLeft=At.left,At.element.scrollTop=At.top}}Qu=!!lh,oh=lh=null}finally{Pe=m,pt.p=c,ct.T=a}}t.current=n,Hn=2}}function Dd(){if(Hn===2){Hn=0;var t=ia,n=Il,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=ct.T,ct.T=null;var c=pt.p;pt.p=2;var m=Pe;Pe|=4;try{ad(t,n.alternate,n)}finally{Pe=m,pt.p=c,ct.T=a}}Hn=3}}function Md(){if(Hn===4||Hn===3){Hn=0,ya();var t=ia,n=Il,a=ys,c=_d;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Hn=5:(Hn=0,Il=ia=null,Ld(t,t.pendingLanes));var m=t.pendingLanes;if(m===0&&(na=null),Qn(a),n=n.stateNode,Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(Re,n,void 0,(n.current.flags&128)===128)}catch{}if(c!==null){n=ct.T,m=pt.p,pt.p=2,ct.T=null;try{for(var A=t.onRecoverableError,S=0;S<c.length;S++){var D=c[S];A(D.value,{componentStack:D.stack})}}finally{ct.T=n,pt.p=m}}(ys&3)!==0&&Fu(),Gr(t),m=t.pendingLanes,(a&261930)!==0&&(m&42)!==0?t===Wf?yo++:(yo=0,Wf=t):yo=0,wo(0)}}function Ld(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,eo(n)))}function Fu(){return Rd(),Dd(),Md(),Bd()}function Bd(){if(Hn!==5)return!1;var t=ia,n=Xf;Xf=0;var a=Qn(ys),c=ct.T,m=pt.p;try{pt.p=32>a?32:a,ct.T=null,a=qf,qf=null;var A=ia,S=ys;if(Hn=0,Il=ia=null,ys=0,(Pe&6)!==0)throw Error(g(331));var D=Pe;if(Pe|=4,md(A.current),dd(A,A.current,S,a),Pe=D,wo(0,!1),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(Re,A)}catch{}return!0}finally{pt.p=m,ct.T=c,Ld(t,n)}}function Ud(t,n,a){n=fr(a,n),n=If(t.stateNode,n,2),t=Zs(t,n,2),t!==null&&(ir(t,2),Gr(t))}function Ye(t,n,a){if(t.tag===3)Ud(t,t,a);else for(;n!==null;){if(n.tag===3){Ud(n,t,a);break}else if(n.tag===1){var c=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(na===null||!na.has(c))){t=fr(a,t),a=P0(2),c=Zs(n,a,2),c!==null&&(k0(a,c,n,t),ir(c,2),Gr(c));break}}n=n.return}}function Qf(t,n,a){var c=t.pingCache;if(c===null){c=t.pingCache=new qp;var m=new Set;c.set(n,m)}else m=c.get(n),m===void 0&&(m=new Set,c.set(n,m));m.has(a)||(Gf=!0,m.add(a),t=Jp.bind(null,t,n,a),n.then(t,t))}function Jp(t,n,a){var c=t.pingCache;c!==null&&c.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Je===t&&(ye&a)===a&&(Tn===4||Tn===3&&(ye&62914560)===ye&&300>en()-Mu?(Pe&2)===0&&bl(t,0):Yf|=a,Cl===ye&&(Cl=0)),Gr(t)}function Pd(t,n){n===0&&(n=In()),t=Ma(t,n),t!==null&&(ir(t,n),Gr(t))}function $p(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Pd(t,a)}function tA(t,n){var a=0;switch(t.tag){case 31:case 13:var c=t.stateNode,m=t.memoizedState;m!==null&&(a=m.retryLane);break;case 19:c=t.stateNode;break;case 22:c=t.stateNode._retryCache;break;default:throw Error(g(314))}c!==null&&c.delete(n),Pd(t,a)}function eA(t,n){return ln(t,n)}var Hu=null,Nl=null,Jf=!1,Vu=!1,$f=!1,sa=0;function Gr(t){t!==Nl&&t.next===null&&(Nl===null?Hu=Nl=t:Nl=Nl.next=t),Vu=!0,Jf||(Jf=!0,iA())}function wo(t,n){if(!$f&&Vu){$f=!0;do for(var a=!1,c=Hu;c!==null;){if(t!==0){var m=c.pendingLanes;if(m===0)var A=0;else{var S=c.suspendedLanes,D=c.pingedLanes;A=(1<<31-Zt(42|t)+1)-1,A&=m&~(S&~D),A=A&201326741?A&201326741|1:A?A|2:0}A!==0&&(a=!0,Vd(c,A))}else A=ye,A=Gi(c,c===Je?A:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(A&3)===0||En(c,A)||(a=!0,Vd(c,A));c=c.next}while(a);$f=!1}}function nA(){kd()}function kd(){Vu=Jf=!1;var t=0;sa!==0&&dA()&&(t=sa);for(var n=en(),a=null,c=Hu;c!==null;){var m=c.next,A=Fd(c,n);A===0?(c.next=null,a===null?Hu=m:a.next=m,m===null&&(Nl=a)):(a=c,(t!==0||(A&3)!==0)&&(Vu=!0)),c=m}Hn!==0&&Hn!==5||wo(t),sa!==0&&(sa=0)}function Fd(t,n){for(var a=t.suspendedLanes,c=t.pingedLanes,m=t.expirationTimes,A=t.pendingLanes&-62914561;0<A;){var S=31-Zt(A),D=1<<S,Y=m[S];Y===-1?((D&a)===0||(D&c)!==0)&&(m[S]=Ta(D,n)):Y<=n&&(t.expiredLanes|=D),A&=~D}if(n=Je,a=ye,a=Gi(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c=t.callbackNode,a===0||t===n&&(Ge===2||Ge===9)||t.cancelPendingCommit!==null)return c!==null&&c!==null&&Dt(c),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||En(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(c!==null&&Dt(c),Qn(a)){case 2:case 8:a=Rs;break;case 32:a=Kn;break;case 268435456:a=wa;break;default:a=Kn}return c=Hd.bind(null,t),a=ln(a,c),t.callbackPriority=n,t.callbackNode=a,n}return c!==null&&c!==null&&Dt(c),t.callbackPriority=2,t.callbackNode=null,2}function Hd(t,n){if(Hn!==0&&Hn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Fu()&&t.callbackNode!==a)return null;var c=ye;return c=Gi(t,t===Je?c:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c===0?null:(yd(t,c,n),Fd(t,en()),t.callbackNode!=null&&t.callbackNode===a?Hd.bind(null,t):null)}function Vd(t,n){if(Fu())return null;yd(t,n,!0)}function iA(){EA(function(){(Pe&6)!==0?ln(Wn,nA):kd()})}function th(){if(sa===0){var t=gl;t===0&&(t=Vi,Vi<<=1,(Vi&261888)===0&&(Vi=256)),sa=t}return sa}function zd(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ur(""+t)}function Gd(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function rA(t,n,a,c,m){if(n==="submit"&&a&&a.stateNode===m){var A=zd((m[Oe]||null).action),S=c.submitter;S&&(n=(n=S[Oe]||null)?zd(n.formAction):S.getAttribute("formAction"),n!==null&&(A=n,S=null));var D=new nn("action","action",null,c,m);t.push({event:D,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(sa!==0){var Y=S?Gd(m,S):new FormData(m);xf(a,{pending:!0,data:Y,method:m.method,action:A},null,Y)}}else typeof A=="function"&&(D.preventDefault(),Y=S?Gd(m,S):new FormData(m),xf(a,{pending:!0,data:Y,method:m.method,action:A},A,Y))},currentTarget:m}]})}}for(var eh=0;eh<Jl.length;eh++){var nh=Jl[eh],sA=nh.toLowerCase(),aA=nh[0].toUpperCase()+nh.slice(1);br(sA,"on"+aA)}br(Mi,"onAnimationEnd"),br(ri,"onAnimationIteration"),br(Ve,"onAnimationStart"),br("dblclick","onDoubleClick"),br("focusin","onFocus"),br("focusout","onBlur"),br(Fn,"onTransitionRun"),br(wi,"onTransitionStart"),br(Gs,"onTransitionCancel"),br(ls,"onTransitionEnd"),ei("onMouseEnter",["mouseout","mouseover"]),ei("onMouseLeave",["mouseout","mouseover"]),ei("onPointerEnter",["pointerout","pointerover"]),ei("onPointerLeave",["pointerout","pointerover"]),Ne("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ne("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ne("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ne("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ne("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ne("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var To="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(To));function Yd(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var c=t[a],m=c.event;c=c.listeners;t:{var A=void 0;if(n)for(var S=c.length-1;0<=S;S--){var D=c[S],Y=D.instance,rt=D.currentTarget;if(D=D.listener,Y!==A&&m.isPropagationStopped())break t;A=D,m.currentTarget=rt;try{A(m)}catch(mt){nu(mt)}m.currentTarget=null,A=Y}else for(S=0;S<c.length;S++){if(D=c[S],Y=D.instance,rt=D.currentTarget,D=D.listener,Y!==A&&m.isPropagationStopped())break t;A=D,m.currentTarget=rt;try{A(m)}catch(mt){nu(mt)}m.currentTarget=null,A=Y}}}}function pe(t,n){var a=n[wr];a===void 0&&(a=n[wr]=new Set);var c=t+"__bubble";a.has(c)||(jd(n,t,2,!1),a.add(c))}function ih(t,n,a){var c=0;n&&(c|=4),jd(a,t,c,n)}var zu="_reactListening"+Math.random().toString(36).slice(2);function rh(t){if(!t[zu]){t[zu]=!0,yt.forEach(function(a){a!=="selectionchange"&&(lA.has(a)||ih(a,!1,t),ih(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[zu]||(n[zu]=!0,ih("selectionchange",!1,n))}}function jd(t,n,a,c){switch(xg(n)){case 2:var m=BA;break;case 8:m=UA;break;default:m=_h}a=m.bind(null,n,a,t),m=void 0,!$r||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(m=!0),c?m!==void 0?t.addEventListener(n,a,{capture:!0,passive:m}):t.addEventListener(n,a,!0):m!==void 0?t.addEventListener(n,a,{passive:m}):t.addEventListener(n,a,!1)}function sh(t,n,a,c,m){var A=c;if((n&1)===0&&(n&2)===0&&c!==null)t:for(;;){if(c===null)return;var S=c.tag;if(S===3||S===4){var D=c.stateNode.containerInfo;if(D===m)break;if(S===4)for(S=c.return;S!==null;){var Y=S.tag;if((Y===3||Y===4)&&S.stateNode.containerInfo===m)return;S=S.return}for(;D!==null;){if(S=$e(D),S===null)return;if(Y=S.tag,Y===5||Y===6||Y===26||Y===27){c=A=S;continue t}D=D.parentNode}}c=c.return}Pr(function(){var rt=A,mt=vi(a),_t=[];t:{var lt=eu.get(t);if(lt!==void 0){var dt=nn,Bt=t;switch(t){case"keypress":if(Xi(a)===0)break t;case"keydown":case"keyup":dt=rs;break;case"focusin":Bt="focus",dt=ns;break;case"focusout":Bt="blur",dt=ns;break;case"beforeblur":case"afterblur":dt=ns;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":dt=Se;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":dt=es;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":dt=C;break;case Mi:case ri:case Ve:dt=te;break;case ls:dt=tt;break;case"scroll":case"scrollend":dt=Us;break;case"wheel":dt=Nt;break;case"copy":case"cut":case"paste":dt=is;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":dt=E;break;case"toggle":case"beforetoggle":dt=rn}var Wt=(n&4)!==0,We=!Wt&&(t==="scroll"||t==="scrollend"),J=Wt?lt!==null?lt+"Capture":null:lt;Wt=[];for(var Z=rt,it;Z!==null;){var At=Z;if(it=At.stateNode,At=At.tag,At!==5&&At!==26&&At!==27||it===null||J===null||(At=jt(Z,J),At!=null&&Wt.push(So(Z,At,it))),We)break;Z=Z.return}0<Wt.length&&(lt=new dt(lt,Bt,null,a,mt),_t.push({event:lt,listeners:Wt}))}}if((n&7)===0){t:{if(lt=t==="mouseover"||t==="pointerover",dt=t==="mouseout"||t==="pointerout",lt&&a!==Jr&&(Bt=a.relatedTarget||a.fromElement)&&($e(Bt)||Bt[$n]))break t;if((dt||lt)&&(lt=mt.window===mt?mt:(lt=mt.ownerDocument)?lt.defaultView||lt.parentWindow:window,dt?(Bt=a.relatedTarget||a.toElement,dt=rt,Bt=Bt?$e(Bt):null,Bt!==null&&(We=T(Bt),Wt=Bt.tag,Bt!==We||Wt!==5&&Wt!==27&&Wt!==6)&&(Bt=null)):(dt=null,Bt=rt),dt!==Bt)){if(Wt=Se,At="onMouseLeave",J="onMouseEnter",Z="mouse",(t==="pointerout"||t==="pointerover")&&(Wt=E,At="onPointerLeave",J="onPointerEnter",Z="pointer"),We=dt==null?lt:fi(dt),it=Bt==null?lt:fi(Bt),lt=new Wt(At,Z+"leave",dt,a,mt),lt.target=We,lt.relatedTarget=it,At=null,$e(mt)===rt&&(Wt=new Wt(J,Z+"enter",Bt,a,mt),Wt.target=it,Wt.relatedTarget=We,At=Wt),We=At,dt&&Bt)e:{for(Wt=oA,J=dt,Z=Bt,it=0,At=J;At;At=Wt(At))it++;At=0;for(var zt=Z;zt;zt=Wt(zt))At++;for(;0<it-At;)J=Wt(J),it--;for(;0<At-it;)Z=Wt(Z),At--;for(;it--;){if(J===Z||Z!==null&&J===Z.alternate){Wt=J;break e}J=Wt(J),Z=Wt(Z)}Wt=null}else Wt=null;dt!==null&&Xd(_t,lt,dt,Wt,!1),Bt!==null&&We!==null&&Xd(_t,We,Bt,Wt,!0)}}t:{if(lt=rt?fi(rt):window,dt=lt.nodeName&&lt.nodeName.toLowerCase(),dt==="select"||dt==="input"&&lt.type==="file")var Le=Zi;else if(Ql(lt))if(tu)Le=l;else{Le=i;var kt=e}else dt=lt.nodeName,!dt||dt.toLowerCase()!=="input"||lt.type!=="checkbox"&&lt.type!=="radio"?rt&&Fe(rt.elementType)&&(Le=Zi):Le=r;if(Le&&(Le=Le(t,rt))){Ki(_t,Le,a,mt);break t}kt&&kt(t,lt,rt),t==="focusout"&&rt&&lt.type==="number"&&rt.memoizedProps.value!=null&&k(lt,"number",lt.value)}switch(kt=rt?fi(rt):window,t){case"focusin":(Ql(kt)||kt.contentEditable==="true")&&(X=kt,W=rt,et=null);break;case"focusout":et=W=X=null;break;case"mousedown":ft=!0;break;case"contextmenu":case"mouseup":case"dragend":ft=!1,Ct(_t,a,mt);break;case"selectionchange":if(F)break;case"keydown":case"keyup":Ct(_t,a,mt)}var se;if(tn)t:{switch(t){case"compositionstart":var we="onCompositionStart";break t;case"compositionend":we="onCompositionEnd";break t;case"compositionupdate":we="onCompositionUpdate";break t}we=void 0}else zs?Hs(t,a)&&(we="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(we="onCompositionStart");we&&(Wi&&a.locale!=="ko"&&(zs||we!=="onCompositionStart"?we==="onCompositionEnd"&&zs&&(se=Tr()):(Yi=mt,ji="value"in Yi?Yi.value:Yi.textContent,zs=!0)),kt=Gu(rt,we),0<kt.length&&(we=new or(we,t,null,a,mt),_t.push({event:we,listeners:kt}),se?we.data=se:(se=Vs(a),se!==null&&(we.data=se)))),(se=ur?Fr(t,a):ll(t,a))&&(we=Gu(rt,"onBeforeInput"),0<we.length&&(kt=new or("onBeforeInput","beforeinput",null,a,mt),_t.push({event:kt,listeners:we}),kt.data=se)),rA(_t,t,rt,a,mt)}Yd(_t,n)})}function So(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Gu(t,n){for(var a=n+"Capture",c=[];t!==null;){var m=t,A=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||A===null||(m=jt(t,a),m!=null&&c.unshift(So(t,m,A)),m=jt(t,n),m!=null&&c.push(So(t,m,A))),t.tag===3)return c;t=t.return}return[]}function oA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Xd(t,n,a,c,m){for(var A=n._reactName,S=[];a!==null&&a!==c;){var D=a,Y=D.alternate,rt=D.stateNode;if(D=D.tag,Y!==null&&Y===c)break;D!==5&&D!==26&&D!==27||rt===null||(Y=rt,m?(rt=jt(a,A),rt!=null&&S.unshift(So(a,rt,Y))):m||(rt=jt(a,A),rt!=null&&S.push(So(a,rt,Y)))),a=a.return}S.length!==0&&t.push({event:n,listeners:S})}var uA=/\r\n?/g,cA=/\u0000|\uFFFD/g;function qd(t){return(typeof t=="string"?t:""+t).replace(uA,`
`).replace(cA,"")}function Wd(t,n){return n=qd(n),qd(t)===n}function qe(t,n,a,c,m,A){switch(a){case"children":typeof c=="string"?n==="body"||n==="textarea"&&c===""||di(t,c):(typeof c=="number"||typeof c=="bigint")&&n!=="body"&&di(t,""+c);break;case"className":ni(t,"class",c);break;case"tabIndex":ni(t,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":ni(t,a,c);break;case"style":Ht(t,c,A);break;case"data":if(n!=="object"){ni(t,"data",c);break}case"src":case"href":if(c===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(a);break}c=Ur(""+c),t.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof A=="function"&&(a==="formAction"?(n!=="input"&&qe(t,n,"name",m.name,m,null),qe(t,n,"formEncType",m.formEncType,m,null),qe(t,n,"formMethod",m.formMethod,m,null),qe(t,n,"formTarget",m.formTarget,m,null)):(qe(t,n,"encType",m.encType,m,null),qe(t,n,"method",m.method,m,null),qe(t,n,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(a);break}c=Ur(""+c),t.setAttribute(a,c);break;case"onClick":c!=null&&(t.onclick=gi);break;case"onScroll":c!=null&&pe("scroll",t);break;case"onScrollEnd":c!=null&&pe("scrollend",t);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(g(61));if(a=c.__html,a!=null){if(m.children!=null)throw Error(g(60));t.innerHTML=a}}break;case"multiple":t.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":t.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){t.removeAttribute("xlink:href");break}a=Ur(""+c),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(a,""+c):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":c===!0?t.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(a,c):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?t.setAttribute(a,c):t.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?t.removeAttribute(a):t.setAttribute(a,c);break;case"popover":pe("beforetoggle",t),pe("toggle",t),Lr(t,"popover",c);break;case"xlinkActuate":cn(t,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":cn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":cn(t,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":cn(t,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":cn(t,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":cn(t,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":cn(t,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":cn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":cn(t,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Lr(t,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ba.get(a)||a,Lr(t,a,c))}}function ah(t,n,a,c,m,A){switch(a){case"style":Ht(t,c,A);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(g(61));if(a=c.__html,a!=null){if(m.children!=null)throw Error(g(60));t.innerHTML=a}}break;case"children":typeof c=="string"?di(t,c):(typeof c=="number"||typeof c=="bigint")&&di(t,""+c);break;case"onScroll":c!=null&&pe("scroll",t);break;case"onScrollEnd":c!=null&&pe("scrollend",t);break;case"onClick":c!=null&&(t.onclick=gi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sa.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(m=a.endsWith("Capture"),n=a.slice(2,m?a.length-7:void 0),A=t[Oe]||null,A=A!=null?A[a]:null,typeof A=="function"&&t.removeEventListener(n,A,m),typeof c=="function")){typeof A!="function"&&A!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,c,m);break t}a in t?t[a]=c:c===!0?t.setAttribute(a,""):Lr(t,a,c)}}}function oi(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pe("error",t),pe("load",t);var c=!1,m=!1,A;for(A in a)if(a.hasOwnProperty(A)){var S=a[A];if(S!=null)switch(A){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(g(137,n));default:qe(t,n,A,S,a,null)}}m&&qe(t,n,"srcSet",a.srcSet,a,null),c&&qe(t,n,"src",a.src,a,null);return;case"input":pe("invalid",t);var D=A=S=m=null,Y=null,rt=null;for(c in a)if(a.hasOwnProperty(c)){var mt=a[c];if(mt!=null)switch(c){case"name":m=mt;break;case"type":S=mt;break;case"checked":Y=mt;break;case"defaultChecked":rt=mt;break;case"value":A=mt;break;case"defaultValue":D=mt;break;case"children":case"dangerouslySetInnerHTML":if(mt!=null)throw Error(g(137,n));break;default:qe(t,n,c,mt,a,null)}}nt(t,A,D,Y,rt,S,m,!1);return;case"select":pe("invalid",t),c=S=A=null;for(m in a)if(a.hasOwnProperty(m)&&(D=a[m],D!=null))switch(m){case"value":A=D;break;case"defaultValue":S=D;break;case"multiple":c=D;default:qe(t,n,m,D,a,null)}n=A,a=S,t.multiple=!!c,n!=null?Lt(t,!!c,n,!1):a!=null&&Lt(t,!!c,a,!0);return;case"textarea":pe("invalid",t),A=m=c=null;for(S in a)if(a.hasOwnProperty(S)&&(D=a[S],D!=null))switch(S){case"value":c=D;break;case"defaultValue":m=D;break;case"children":A=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(g(91));break;default:qe(t,n,S,D,a,null)}bn(t,c,m,A);return;case"option":for(Y in a)if(a.hasOwnProperty(Y)&&(c=a[Y],c!=null))switch(Y){case"selected":t.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:qe(t,n,Y,c,a,null)}return;case"dialog":pe("beforetoggle",t),pe("toggle",t),pe("cancel",t),pe("close",t);break;case"iframe":case"object":pe("load",t);break;case"video":case"audio":for(c=0;c<To.length;c++)pe(To[c],t);break;case"image":pe("error",t),pe("load",t);break;case"details":pe("toggle",t);break;case"embed":case"source":case"link":pe("error",t),pe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(rt in a)if(a.hasOwnProperty(rt)&&(c=a[rt],c!=null))switch(rt){case"children":case"dangerouslySetInnerHTML":throw Error(g(137,n));default:qe(t,n,rt,c,a,null)}return;default:if(Fe(n)){for(mt in a)a.hasOwnProperty(mt)&&(c=a[mt],c!==void 0&&ah(t,n,mt,c,a,void 0));return}}for(D in a)a.hasOwnProperty(D)&&(c=a[D],c!=null&&qe(t,n,D,c,a,null))}function fA(t,n,a,c){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,A=null,S=null,D=null,Y=null,rt=null,mt=null;for(dt in a){var _t=a[dt];if(a.hasOwnProperty(dt)&&_t!=null)switch(dt){case"checked":break;case"value":break;case"defaultValue":Y=_t;default:c.hasOwnProperty(dt)||qe(t,n,dt,null,c,_t)}}for(var lt in c){var dt=c[lt];if(_t=a[lt],c.hasOwnProperty(lt)&&(dt!=null||_t!=null))switch(lt){case"type":A=dt;break;case"name":m=dt;break;case"checked":rt=dt;break;case"defaultChecked":mt=dt;break;case"value":S=dt;break;case"defaultValue":D=dt;break;case"children":case"dangerouslySetInnerHTML":if(dt!=null)throw Error(g(137,n));break;default:dt!==_t&&qe(t,n,lt,dt,c,_t)}}mn(t,S,D,Y,rt,mt,A,m);return;case"select":dt=S=D=lt=null;for(A in a)if(Y=a[A],a.hasOwnProperty(A)&&Y!=null)switch(A){case"value":break;case"multiple":dt=Y;default:c.hasOwnProperty(A)||qe(t,n,A,null,c,Y)}for(m in c)if(A=c[m],Y=a[m],c.hasOwnProperty(m)&&(A!=null||Y!=null))switch(m){case"value":lt=A;break;case"defaultValue":D=A;break;case"multiple":S=A;default:A!==Y&&qe(t,n,m,A,c,Y)}n=D,a=S,c=dt,lt!=null?Lt(t,!!a,lt,!1):!!c!=!!a&&(n!=null?Lt(t,!!a,n,!0):Lt(t,!!a,a?[]:"",!1));return;case"textarea":dt=lt=null;for(D in a)if(m=a[D],a.hasOwnProperty(D)&&m!=null&&!c.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:qe(t,n,D,null,c,m)}for(S in c)if(m=c[S],A=a[S],c.hasOwnProperty(S)&&(m!=null||A!=null))switch(S){case"value":lt=m;break;case"defaultValue":dt=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(g(91));break;default:m!==A&&qe(t,n,S,m,c,A)}pn(t,lt,dt);return;case"option":for(var Bt in a)if(lt=a[Bt],a.hasOwnProperty(Bt)&&lt!=null&&!c.hasOwnProperty(Bt))switch(Bt){case"selected":t.selected=!1;break;default:qe(t,n,Bt,null,c,lt)}for(Y in c)if(lt=c[Y],dt=a[Y],c.hasOwnProperty(Y)&&lt!==dt&&(lt!=null||dt!=null))switch(Y){case"selected":t.selected=lt&&typeof lt!="function"&&typeof lt!="symbol";break;default:qe(t,n,Y,lt,c,dt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Wt in a)lt=a[Wt],a.hasOwnProperty(Wt)&&lt!=null&&!c.hasOwnProperty(Wt)&&qe(t,n,Wt,null,c,lt);for(rt in c)if(lt=c[rt],dt=a[rt],c.hasOwnProperty(rt)&&lt!==dt&&(lt!=null||dt!=null))switch(rt){case"children":case"dangerouslySetInnerHTML":if(lt!=null)throw Error(g(137,n));break;default:qe(t,n,rt,lt,c,dt)}return;default:if(Fe(n)){for(var We in a)lt=a[We],a.hasOwnProperty(We)&&lt!==void 0&&!c.hasOwnProperty(We)&&ah(t,n,We,void 0,c,lt);for(mt in c)lt=c[mt],dt=a[mt],!c.hasOwnProperty(mt)||lt===dt||lt===void 0&&dt===void 0||ah(t,n,mt,lt,c,dt);return}}for(var J in a)lt=a[J],a.hasOwnProperty(J)&&lt!=null&&!c.hasOwnProperty(J)&&qe(t,n,J,null,c,lt);for(_t in c)lt=c[_t],dt=a[_t],!c.hasOwnProperty(_t)||lt===dt||lt==null&&dt==null||qe(t,n,_t,lt,c,dt)}function Kd(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function hA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),c=0;c<a.length;c++){var m=a[c],A=m.transferSize,S=m.initiatorType,D=m.duration;if(A&&D&&Kd(S)){for(S=0,D=m.responseEnd,c+=1;c<a.length;c++){var Y=a[c],rt=Y.startTime;if(rt>D)break;var mt=Y.transferSize,_t=Y.initiatorType;mt&&Kd(_t)&&(Y=Y.responseEnd,S+=mt*(Y<D?1:(D-rt)/(Y-rt)))}if(--c,n+=8*(A+S)/(m.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var lh=null,oh=null;function Yu(t){return t.nodeType===9?t:t.ownerDocument}function Zd(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qd(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function uh(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ch=null;function dA(){var t=window.event;return t&&t.type==="popstate"?t===ch?!1:(ch=t,!0):(ch=null,!1)}var Jd=typeof setTimeout=="function"?setTimeout:void 0,gA=typeof clearTimeout=="function"?clearTimeout:void 0,$d=typeof Promise=="function"?Promise:void 0,EA=typeof queueMicrotask=="function"?queueMicrotask:typeof $d<"u"?function(t){return $d.resolve(null).then(t).catch(mA)}:Jd;function mA(t){setTimeout(function(){throw t})}function aa(t){return t==="head"}function tg(t,n){var a=n,c=0;do{var m=a.nextSibling;if(t.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"||a==="/&"){if(c===0){t.removeChild(m),Ml(n);return}c--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")c++;else if(a==="html")Co(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Co(a);for(var A=a.firstChild;A;){var S=A.nextSibling,D=A.nodeName;A[sr]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&A.rel.toLowerCase()==="stylesheet"||a.removeChild(A),A=S}}else a==="body"&&Co(t.ownerDocument.body);a=m}while(a);Ml(n)}function eg(t,n){var a=t;t=0;do{var c=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),c&&c.nodeType===8)if(a=c.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=c}while(a)}function fh(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":fh(a),ti(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function pA(t,n,a,c){for(;t.nodeType===1;){var m=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!c&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(c){if(!t[sr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(A=t.getAttribute("rel"),A==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(A!==m.rel||t.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||t.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||t.getAttribute("title")!==(m.title==null?null:m.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(A=t.getAttribute("src"),(A!==(m.src==null?null:m.src)||t.getAttribute("type")!==(m.type==null?null:m.type)||t.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&A&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var A=m.name==null?null:""+m.name;if(m.type==="hidden"&&t.getAttribute("name")===A)return t}else return t;if(t=mr(t.nextSibling),t===null)break}return null}function AA(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=mr(t.nextSibling),t===null))return null;return t}function ng(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=mr(t.nextSibling),t===null))return null;return t}function hh(t){return t.data==="$?"||t.data==="$~"}function dh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function _A(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var c=function(){n(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),t._reactRetry=c}}function mr(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var gh=null;function ig(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return mr(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function rg(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function sg(t,n,a){switch(n=Yu(a),t){case"html":if(t=n.documentElement,!t)throw Error(g(452));return t;case"head":if(t=n.head,!t)throw Error(g(453));return t;case"body":if(t=n.body,!t)throw Error(g(454));return t;default:throw Error(g(451))}}function Co(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ti(t)}var pr=new Map,ag=new Set;function ju(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ws=pt.d;pt.d={f:xA,r:yA,D:wA,C:TA,L:SA,m:CA,X:bA,S:IA,M:OA};function xA(){var t=ws.f(),n=Uu();return t||n}function yA(t){var n=ge(t);n!==null&&n.tag===5&&n.type==="form"?T0(n):ws.r(t)}var vl=typeof document>"u"?null:document;function lg(t,n,a){var c=vl;if(c&&typeof n=="string"&&n){var m=re(n);m='link[rel="'+t+'"][href="'+m+'"]',typeof a=="string"&&(m+='[crossorigin="'+a+'"]'),ag.has(m)||(ag.add(m),t={rel:t,crossOrigin:a,href:n},c.querySelector(m)===null&&(n=c.createElement("link"),oi(n,"link",t),un(n),c.head.appendChild(n)))}}function wA(t){ws.D(t),lg("dns-prefetch",t,null)}function TA(t,n){ws.C(t,n),lg("preconnect",t,n)}function SA(t,n,a){ws.L(t,n,a);var c=vl;if(c&&t&&n){var m='link[rel="preload"][as="'+re(n)+'"]';n==="image"&&a&&a.imageSrcSet?(m+='[imagesrcset="'+re(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(m+='[imagesizes="'+re(a.imageSizes)+'"]')):m+='[href="'+re(t)+'"]';var A=m;switch(n){case"style":A=Rl(t);break;case"script":A=Dl(t)}pr.has(A)||(t=B({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),pr.set(A,t),c.querySelector(m)!==null||n==="style"&&c.querySelector(Io(A))||n==="script"&&c.querySelector(bo(A))||(n=c.createElement("link"),oi(n,"link",t),un(n),c.head.appendChild(n)))}}function CA(t,n){ws.m(t,n);var a=vl;if(a&&t){var c=n&&typeof n.as=="string"?n.as:"script",m='link[rel="modulepreload"][as="'+re(c)+'"][href="'+re(t)+'"]',A=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":A=Dl(t)}if(!pr.has(A)&&(t=B({rel:"modulepreload",href:t},n),pr.set(A,t),a.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(bo(A)))return}c=a.createElement("link"),oi(c,"link",t),un(c),a.head.appendChild(c)}}}function IA(t,n,a){ws.S(t,n,a);var c=vl;if(c&&t){var m=Pn(c).hoistableStyles,A=Rl(t);n=n||"default";var S=m.get(A);if(!S){var D={loading:0,preload:null};if(S=c.querySelector(Io(A)))D.loading=5;else{t=B({rel:"stylesheet",href:t,"data-precedence":n},a),(a=pr.get(A))&&Eh(t,a);var Y=S=c.createElement("link");un(Y),oi(Y,"link",t),Y._p=new Promise(function(rt,mt){Y.onload=rt,Y.onerror=mt}),Y.addEventListener("load",function(){D.loading|=1}),Y.addEventListener("error",function(){D.loading|=2}),D.loading|=4,Xu(S,n,c)}S={type:"stylesheet",instance:S,count:1,state:D},m.set(A,S)}}}function bA(t,n){ws.X(t,n);var a=vl;if(a&&t){var c=Pn(a).hoistableScripts,m=Dl(t),A=c.get(m);A||(A=a.querySelector(bo(m)),A||(t=B({src:t,async:!0},n),(n=pr.get(m))&&mh(t,n),A=a.createElement("script"),un(A),oi(A,"link",t),a.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},c.set(m,A))}}function OA(t,n){ws.M(t,n);var a=vl;if(a&&t){var c=Pn(a).hoistableScripts,m=Dl(t),A=c.get(m);A||(A=a.querySelector(bo(m)),A||(t=B({src:t,async:!0,type:"module"},n),(n=pr.get(m))&&mh(t,n),A=a.createElement("script"),un(A),oi(A,"link",t),a.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},c.set(m,A))}}function og(t,n,a,c){var m=(m=It.current)?ju(m):null;if(!m)throw Error(g(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Rl(a.href),a=Pn(m).hoistableStyles,c=a.get(n),c||(c={type:"style",instance:null,count:0,state:null},a.set(n,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Rl(a.href);var A=Pn(m).hoistableStyles,S=A.get(t);if(S||(m=m.ownerDocument||m,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},A.set(t,S),(A=m.querySelector(Io(t)))&&!A._p&&(S.instance=A,S.state.loading=5),pr.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},pr.set(t,a),A||NA(m,t,a,S.state))),n&&c===null)throw Error(g(528,""));return S}if(n&&c!==null)throw Error(g(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Dl(a),a=Pn(m).hoistableScripts,c=a.get(n),c||(c={type:"script",instance:null,count:0,state:null},a.set(n,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(g(444,t))}}function Rl(t){return'href="'+re(t)+'"'}function Io(t){return'link[rel="stylesheet"]['+t+"]"}function ug(t){return B({},t,{"data-precedence":t.precedence,precedence:null})}function NA(t,n,a,c){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?c.loading=1:(n=t.createElement("link"),c.preload=n,n.addEventListener("load",function(){return c.loading|=1}),n.addEventListener("error",function(){return c.loading|=2}),oi(n,"link",a),un(n),t.head.appendChild(n))}function Dl(t){return'[src="'+re(t)+'"]'}function bo(t){return"script[async]"+t}function cg(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var c=t.querySelector('style[data-href~="'+re(a.href)+'"]');if(c)return n.instance=c,un(c),c;var m=B({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(t.ownerDocument||t).createElement("style"),un(c),oi(c,"style",m),Xu(c,a.precedence,t),n.instance=c;case"stylesheet":m=Rl(a.href);var A=t.querySelector(Io(m));if(A)return n.state.loading|=4,n.instance=A,un(A),A;c=ug(a),(m=pr.get(m))&&Eh(c,m),A=(t.ownerDocument||t).createElement("link"),un(A);var S=A;return S._p=new Promise(function(D,Y){S.onload=D,S.onerror=Y}),oi(A,"link",c),n.state.loading|=4,Xu(A,a.precedence,t),n.instance=A;case"script":return A=Dl(a.src),(m=t.querySelector(bo(A)))?(n.instance=m,un(m),m):(c=a,(m=pr.get(A))&&(c=B({},a),mh(c,m)),t=t.ownerDocument||t,m=t.createElement("script"),un(m),oi(m,"link",c),t.head.appendChild(m),n.instance=m);case"void":return null;default:throw Error(g(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(c=n.instance,n.state.loading|=4,Xu(c,a.precedence,t));return n.instance}function Xu(t,n,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,A=m,S=0;S<c.length;S++){var D=c[S];if(D.dataset.precedence===n)A=D;else if(A!==m)break}A?A.parentNode.insertBefore(t,A.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Eh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function mh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var qu=null;function fg(t,n,a){if(qu===null){var c=new Map,m=qu=new Map;m.set(a,c)}else m=qu,c=m.get(a),c||(c=new Map,m.set(a,c));if(c.has(t))return c;for(c.set(t,null),a=a.getElementsByTagName(t),m=0;m<a.length;m++){var A=a[m];if(!(A[sr]||A[on]||t==="link"&&A.getAttribute("rel")==="stylesheet")&&A.namespaceURI!=="http://www.w3.org/2000/svg"){var S=A.getAttribute(n)||"";S=t+S;var D=c.get(S);D?D.push(A):c.set(S,[A])}}return c}function hg(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function vA(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function dg(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function RA(t,n,a,c){if(a.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var m=Rl(c.href),A=n.querySelector(Io(m));if(A){n=A._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Wu.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=A,un(A);return}A=n.ownerDocument||n,c=ug(c),(m=pr.get(m))&&Eh(c,m),A=A.createElement("link"),un(A);var S=A;S._p=new Promise(function(D,Y){S.onload=D,S.onerror=Y}),oi(A,"link",c),a.instance=A}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Wu.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var ph=0;function DA(t,n){return t.stylesheets&&t.count===0&&Zu(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var c=setTimeout(function(){if(t.stylesheets&&Zu(t,t.stylesheets),t.unsuspend){var A=t.unsuspend;t.unsuspend=null,A()}},6e4+n);0<t.imgBytes&&ph===0&&(ph=62500*hA());var m=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Zu(t,t.stylesheets),t.unsuspend)){var A=t.unsuspend;t.unsuspend=null,A()}},(t.imgBytes>ph?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function Wu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ku=null;function Zu(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ku=new Map,n.forEach(MA,t),Ku=null,Wu.call(t))}function MA(t,n){if(!(n.state.loading&4)){var a=Ku.get(t);if(a)var c=a.get(null);else{a=new Map,Ku.set(t,a);for(var m=t.querySelectorAll("link[data-precedence],style[data-precedence]"),A=0;A<m.length;A++){var S=m[A];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(a.set(S.dataset.precedence,S),c=S)}c&&a.set(null,c)}m=n.instance,S=m.getAttribute("data-precedence"),A=a.get(S)||c,A===c&&a.set(null,m),a.set(S,m),this.count++,c=Wu.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),A?A.parentNode.insertBefore(m,A.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(m,t.firstChild)),n.state.loading|=4}}var Oo={$$typeof:xt,Provider:null,Consumer:null,_currentValue:Pt,_currentValue2:Pt,_threadCount:0};function LA(t,n,a,c,m,A,S,D,Y){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zn(0),this.hiddenUpdates=Zn(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=A,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Y,this.incompleteTransitions=new Map}function gg(t,n,a,c,m,A,S,D,Y,rt,mt,_t){return t=new LA(t,n,a,S,Y,rt,mt,_t,D),n=1,A===!0&&(n|=24),A=Qi(3,null,null,n),t.current=A,A.stateNode=t,n=Kc(),n.refCount++,t.pooledCache=n,n.refCount++,A.memoizedState={element:c,isDehydrated:a,cache:n},$c(A),t}function Eg(t){return t?(t=ul,t):ul}function mg(t,n,a,c,m,A){m=Eg(m),c.context===null?c.context=m:c.pendingContext=m,c=Ks(n),c.payload={element:a},A=A===void 0?null:A,A!==null&&(c.callback=A),a=Zs(t,c,n),a!==null&&(ki(a,t,n),so(a,t,n))}function pg(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Ah(t,n){pg(t,n),(t=t.alternate)&&pg(t,n)}function Ag(t){if(t.tag===13||t.tag===31){var n=Ma(t,67108864);n!==null&&ki(n,t,67108864),Ah(t,67108864)}}function _g(t){if(t.tag===13||t.tag===31){var n=nr();n=xn(n);var a=Ma(t,n);a!==null&&ki(a,t,n),Ah(t,n)}}var Qu=!0;function BA(t,n,a,c){var m=ct.T;ct.T=null;var A=pt.p;try{pt.p=2,_h(t,n,a,c)}finally{pt.p=A,ct.T=m}}function UA(t,n,a,c){var m=ct.T;ct.T=null;var A=pt.p;try{pt.p=8,_h(t,n,a,c)}finally{pt.p=A,ct.T=m}}function _h(t,n,a,c){if(Qu){var m=xh(c);if(m===null)sh(t,n,c,Ju,a),yg(t,c);else if(kA(m,t,n,a,c))c.stopPropagation();else if(yg(t,c),n&4&&-1<PA.indexOf(t)){for(;m!==null;){var A=ge(m);if(A!==null)switch(A.tag){case 3:if(A=A.stateNode,A.current.memoizedState.isDehydrated){var S=zi(A.pendingLanes);if(S!==0){var D=A;for(D.pendingLanes|=2,D.entangledLanes|=2;S;){var Y=1<<31-Zt(S);D.entanglements[1]|=Y,S&=~Y}Gr(A),(Pe&6)===0&&(Lu=en()+500,wo(0))}}break;case 31:case 13:D=Ma(A,2),D!==null&&ki(D,A,2),Uu(),Ah(A,2)}if(A=xh(c),A===null&&sh(t,n,c,Ju,a),A===m)break;m=A}m!==null&&c.stopPropagation()}else sh(t,n,c,null,a)}}function xh(t){return t=vi(t),yh(t)}var Ju=null;function yh(t){if(Ju=null,t=$e(t),t!==null){var n=T(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=I(n),t!==null)return t;t=null}else if(a===31){if(t=z(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Ju=t,null}function xg(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xr()){case Wn:return 2;case Rs:return 8;case Kn:case Un:return 32;case wa:return 268435456;default:return 32}default:return 32}}var wh=!1,la=null,oa=null,ua=null,No=new Map,vo=new Map,ca=[],PA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yg(t,n){switch(t){case"focusin":case"focusout":la=null;break;case"dragenter":case"dragleave":oa=null;break;case"mouseover":case"mouseout":ua=null;break;case"pointerover":case"pointerout":No.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":vo.delete(n.pointerId)}}function Ro(t,n,a,c,m,A){return t===null||t.nativeEvent!==A?(t={blockedOn:n,domEventName:a,eventSystemFlags:c,nativeEvent:A,targetContainers:[m]},n!==null&&(n=ge(n),n!==null&&Ag(n)),t):(t.eventSystemFlags|=c,n=t.targetContainers,m!==null&&n.indexOf(m)===-1&&n.push(m),t)}function kA(t,n,a,c,m){switch(n){case"focusin":return la=Ro(la,t,n,a,c,m),!0;case"dragenter":return oa=Ro(oa,t,n,a,c,m),!0;case"mouseover":return ua=Ro(ua,t,n,a,c,m),!0;case"pointerover":var A=m.pointerId;return No.set(A,Ro(No.get(A)||null,t,n,a,c,m)),!0;case"gotpointercapture":return A=m.pointerId,vo.set(A,Ro(vo.get(A)||null,t,n,a,c,m)),!0}return!1}function wg(t){var n=$e(t.target);if(n!==null){var a=T(n);if(a!==null){if(n=a.tag,n===13){if(n=I(a),n!==null){t.blockedOn=n,vt(t.priority,function(){_g(a)});return}}else if(n===31){if(n=z(a),n!==null){t.blockedOn=n,vt(t.priority,function(){_g(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $u(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=xh(t.nativeEvent);if(a===null){a=t.nativeEvent;var c=new a.constructor(a.type,a);Jr=c,a.target.dispatchEvent(c),Jr=null}else return n=ge(a),n!==null&&Ag(n),t.blockedOn=a,!1;n.shift()}return!0}function Tg(t,n,a){$u(t)&&a.delete(n)}function FA(){wh=!1,la!==null&&$u(la)&&(la=null),oa!==null&&$u(oa)&&(oa=null),ua!==null&&$u(ua)&&(ua=null),No.forEach(Tg),vo.forEach(Tg)}function tc(t,n){t.blockedOn===n&&(t.blockedOn=null,wh||(wh=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,FA)))}var ec=null;function Sg(t){ec!==t&&(ec=t,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){ec===t&&(ec=null);for(var n=0;n<t.length;n+=3){var a=t[n],c=t[n+1],m=t[n+2];if(typeof c!="function"){if(yh(c||a)===null)continue;break}var A=ge(a);A!==null&&(t.splice(n,3),n-=3,xf(A,{pending:!0,data:m,method:a.method,action:c},c,m))}}))}function Ml(t){function n(Y){return tc(Y,t)}la!==null&&tc(la,t),oa!==null&&tc(oa,t),ua!==null&&tc(ua,t),No.forEach(n),vo.forEach(n);for(var a=0;a<ca.length;a++){var c=ca[a];c.blockedOn===t&&(c.blockedOn=null)}for(;0<ca.length&&(a=ca[0],a.blockedOn===null);)wg(a),a.blockedOn===null&&ca.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var m=a[c],A=a[c+1],S=m[Oe]||null;if(typeof A=="function")S||Sg(a);else if(S){var D=null;if(A&&A.hasAttribute("formAction")){if(m=A,S=A[Oe]||null)D=S.formAction;else if(yh(m)!==null)continue}else D=S.action;typeof D=="function"?a[c+1]=D:(a.splice(c,3),c-=3),Sg(a)}}}function Cg(){function t(A){A.canIntercept&&A.info==="react-transition"&&A.intercept({handler:function(){return new Promise(function(S){return m=S})},focusReset:"manual",scroll:"manual"})}function n(){m!==null&&(m(),m=null),c||setTimeout(a,20)}function a(){if(!c&&!navigation.transition){var A=navigation.currentEntry;A&&A.url!=null&&navigation.navigate(A.url,{state:A.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){c=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),m!==null&&(m(),m=null)}}}function Th(t){this._internalRoot=t}nc.prototype.render=Th.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(g(409));var a=n.current,c=nr();mg(a,c,t,n,null,null)},nc.prototype.unmount=Th.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;mg(t.current,2,null,t,null,null),Uu(),n[$n]=null}};function nc(t){this._internalRoot=t}nc.prototype.unstable_scheduleHydration=function(t){if(t){var n=Jn();t={blockedOn:null,target:t,priority:n};for(var a=0;a<ca.length&&n!==0&&n<ca[a].priority;a++);ca.splice(a,0,t),a===0&&wg(t)}};var Ig=s.version;if(Ig!=="19.2.3")throw Error(g(527,Ig,"19.2.3"));pt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(g(188)):(t=Object.keys(t).join(","),Error(g(268,t)));return t=N(n),t=t!==null?U(t):null,t=t===null?null:t.stateNode,t};var HA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:ct,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{Re=ic.inject(HA),Tt=ic}catch{}}return Mo.createRoot=function(t,n){if(!_(t))throw Error(g(299));var a=!1,c="",m=M0,A=L0,S=B0;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(m=n.onUncaughtError),n.onCaughtError!==void 0&&(A=n.onCaughtError),n.onRecoverableError!==void 0&&(S=n.onRecoverableError)),n=gg(t,1,!1,null,null,a,c,null,m,A,S,Cg),t[$n]=n.current,rh(t),new Th(n)},Mo.hydrateRoot=function(t,n,a){if(!_(t))throw Error(g(299));var c=!1,m="",A=M0,S=L0,D=B0,Y=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onUncaughtError!==void 0&&(A=a.onUncaughtError),a.onCaughtError!==void 0&&(S=a.onCaughtError),a.onRecoverableError!==void 0&&(D=a.onRecoverableError),a.formState!==void 0&&(Y=a.formState)),n=gg(t,1,!0,n,a??null,c,m,Y,A,S,D,Cg),n.context=Eg(null),a=n.current,c=nr(),c=xn(c),m=Ks(c),m.callback=null,Zs(a,m,c),a=c,n.current.lanes=a,ir(n,a),Gr(n),t[$n]=n.current,rh(t),new nc(n)},Mo.version="19.2.3",Mo}var Ug;function ZA(){if(Ug)return Ih.exports;Ug=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(s){console.error(s)}}return o(),Ih.exports=KA(),Ih.exports}var QA=ZA();const JA=YE(QA);jE.createContext(void 0);const $A=()=>{};var Pg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE=function(o){const s=[];let f=0;for(let g=0;g<o.length;g++){let _=o.charCodeAt(g);_<128?s[f++]=_:_<2048?(s[f++]=_>>6|192,s[f++]=_&63|128):(_&64512)===55296&&g+1<o.length&&(o.charCodeAt(g+1)&64512)===56320?(_=65536+((_&1023)<<10)+(o.charCodeAt(++g)&1023),s[f++]=_>>18|240,s[f++]=_>>12&63|128,s[f++]=_>>6&63|128,s[f++]=_&63|128):(s[f++]=_>>12|224,s[f++]=_>>6&63|128,s[f++]=_&63|128)}return s},t3=function(o){const s=[];let f=0,g=0;for(;f<o.length;){const _=o[f++];if(_<128)s[g++]=String.fromCharCode(_);else if(_>191&&_<224){const T=o[f++];s[g++]=String.fromCharCode((_&31)<<6|T&63)}else if(_>239&&_<365){const T=o[f++],I=o[f++],z=o[f++],v=((_&7)<<18|(T&63)<<12|(I&63)<<6|z&63)-65536;s[g++]=String.fromCharCode(55296+(v>>10)),s[g++]=String.fromCharCode(56320+(v&1023))}else{const T=o[f++],I=o[f++];s[g++]=String.fromCharCode((_&15)<<12|(T&63)<<6|I&63)}}return s.join("")},qE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(o,s){if(!Array.isArray(o))throw Error("encodeByteArray takes an array as a parameter");this.init_();const f=s?this.byteToCharMapWebSafe_:this.byteToCharMap_,g=[];for(let _=0;_<o.length;_+=3){const T=o[_],I=_+1<o.length,z=I?o[_+1]:0,v=_+2<o.length,N=v?o[_+2]:0,U=T>>2,B=(T&3)<<4|z>>4;let G=(z&15)<<2|N>>6,$=N&63;v||($=64,I||(G=64)),g.push(f[U],f[B],f[G],f[$])}return g.join("")},encodeString(o,s){return this.HAS_NATIVE_SUPPORT&&!s?btoa(o):this.encodeByteArray(XE(o),s)},decodeString(o,s){return this.HAS_NATIVE_SUPPORT&&!s?atob(o):t3(this.decodeStringToByteArray(o,s))},decodeStringToByteArray(o,s){this.init_();const f=s?this.charToByteMapWebSafe_:this.charToByteMap_,g=[];for(let _=0;_<o.length;){const T=f[o.charAt(_++)],z=_<o.length?f[o.charAt(_)]:0;++_;const N=_<o.length?f[o.charAt(_)]:64;++_;const B=_<o.length?f[o.charAt(_)]:64;if(++_,T==null||z==null||N==null||B==null)throw new e3;const G=T<<2|z>>4;if(g.push(G),N!==64){const $=z<<4&240|N>>2;if(g.push($),B!==64){const at=N<<6&192|B;g.push(at)}}}return g},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let o=0;o<this.ENCODED_VALS.length;o++)this.byteToCharMap_[o]=this.ENCODED_VALS.charAt(o),this.charToByteMap_[this.byteToCharMap_[o]]=o,this.byteToCharMapWebSafe_[o]=this.ENCODED_VALS_WEBSAFE.charAt(o),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[o]]=o,o>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(o)]=o,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(o)]=o)}}};class e3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const n3=function(o){const s=XE(o);return qE.encodeByteArray(s,!0)},Ac=function(o){return n3(o).replace(/\./g,"")},WE=function(o){try{return qE.decodeString(o,!0)}catch(s){console.error("base64Decode failed: ",s)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3=()=>i3().__FIREBASE_DEFAULTS__,s3=()=>{if(typeof process>"u"||typeof Pg>"u")return;const o=Pg.__FIREBASE_DEFAULTS__;if(o)return JSON.parse(o)},a3=()=>{if(typeof document>"u")return;let o;try{o=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const s=o&&WE(o[1]);return s&&JSON.parse(s)},r1=()=>{try{return $A()||r3()||s3()||a3()}catch(o){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${o}`);return}},KE=o=>{var s,f;return(f=(s=r1())==null?void 0:s.emulatorHosts)==null?void 0:f[o]},l3=o=>{const s=KE(o);if(!s)return;const f=s.lastIndexOf(":");if(f<=0||f+1===s.length)throw new Error(`Invalid host ${s} with no separate hostname and port!`);const g=parseInt(s.substring(f+1),10);return s[0]==="["?[s.substring(1,f-1),g]:[s.substring(0,f),g]},ZE=()=>{var o;return(o=r1())==null?void 0:o.config},QE=o=>{var s;return(s=r1())==null?void 0:s[`_${o}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((s,f)=>{this.resolve=s,this.reject=f})}wrapCallback(s){return(f,g)=>{f?this.reject(f):this.resolve(g),typeof s=="function"&&(this.promise.catch(()=>{}),s.length===1?s(f):s(f,g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xo(o){try{return(o.startsWith("http://")||o.startsWith("https://")?new URL(o).hostname:o).endsWith(".cloudworkstations.dev")}catch{return!1}}async function JE(o){return(await fetch(o,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u3(o,s){if(o.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const f={alg:"none",type:"JWT"},g=s||"demo-project",_=o.iat||0,T=o.sub||o.user_id;if(!T)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const I={iss:`https://securetoken.google.com/${g}`,aud:g,iat:_,exp:_+3600,auth_time:_,sub:T,user_id:T,firebase:{sign_in_provider:"custom",identities:{}},...o};return[Ac(JSON.stringify(f)),Ac(JSON.stringify(I)),""].join(".")}const Po={};function c3(){const o={prod:[],emulator:[]};for(const s of Object.keys(Po))Po[s]?o.emulator.push(s):o.prod.push(s);return o}function f3(o){let s=document.getElementById(o),f=!1;return s||(s=document.createElement("div"),s.setAttribute("id",o),f=!0),{created:f,element:s}}let kg=!1;function $E(o,s){if(typeof window>"u"||typeof document>"u"||!Xo(window.location.host)||Po[o]===s||Po[o]||kg)return;Po[o]=s;function f(G){return`__firebase__banner__${G}`}const g="__firebase__banner",T=c3().prod.length>0;function I(){const G=document.getElementById(g);G&&G.remove()}function z(G){G.style.display="flex",G.style.background="#7faaf0",G.style.position="fixed",G.style.bottom="5px",G.style.left="5px",G.style.padding=".5em",G.style.borderRadius="5px",G.style.alignItems="center"}function v(G,$){G.setAttribute("width","24"),G.setAttribute("id",$),G.setAttribute("height","24"),G.setAttribute("viewBox","0 0 24 24"),G.setAttribute("fill","none"),G.style.marginLeft="-6px"}function N(){const G=document.createElement("span");return G.style.cursor="pointer",G.style.marginLeft="16px",G.style.fontSize="24px",G.innerHTML=" &times;",G.onclick=()=>{kg=!0,I()},G}function U(G,$){G.setAttribute("id",$),G.innerText="Learn more",G.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",G.setAttribute("target","__blank"),G.style.paddingLeft="5px",G.style.textDecoration="underline"}function B(){const G=f3(g),$=f("text"),at=document.getElementById($)||document.createElement("span"),gt=f("learnmore"),ht=document.getElementById(gt)||document.createElement("a"),Ut=f("preprendIcon"),Mt=document.getElementById(Ut)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(G.created){const xt=G.element;z(xt),U(ht,gt);const Rt=N();v(Mt,Ut),xt.append(Mt,at,ht,Rt),document.body.appendChild(xt)}T?(at.innerText="Preview backend disconnected.",Mt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Mt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,at.innerText="Preview backend running in this workspace."),at.setAttribute("id",$)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",B):B()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function h3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ii())}function d3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function g3(){const o=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof o=="object"&&o.id!==void 0}function E3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function m3(){const o=Ii();return o.indexOf("MSIE ")>=0||o.indexOf("Trident/")>=0}function p3(){try{return typeof indexedDB=="object"}catch{return!1}}function A3(){return new Promise((o,s)=>{try{let f=!0;const g="validate-browser-context-for-indexeddb-analytics-module",_=self.indexedDB.open(g);_.onsuccess=()=>{_.result.close(),f||self.indexedDB.deleteDatabase(g),o(!0)},_.onupgradeneeded=()=>{f=!1},_.onerror=()=>{var T;s(((T=_.error)==null?void 0:T.message)||"")}}catch(f){s(f)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3="FirebaseError";class Ns extends Error{constructor(s,f,g){super(f),this.code=s,this.customData=g,this.name=_3,Object.setPrototypeOf(this,Ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qo.prototype.create)}}class qo{constructor(s,f,g){this.service=s,this.serviceName=f,this.errors=g}create(s,...f){const g=f[0]||{},_=`${this.service}/${s}`,T=this.errors[s],I=T?x3(T,g):"Error",z=`${this.serviceName}: ${I} (${_}).`;return new Ns(_,z,g)}}function x3(o,s){return o.replace(y3,(f,g)=>{const _=s[g];return _!=null?String(_):`<${g}?>`})}const y3=/\{\$([^}]+)}/g;function w3(o){for(const s in o)if(Object.prototype.hasOwnProperty.call(o,s))return!1;return!0}function $a(o,s){if(o===s)return!0;const f=Object.keys(o),g=Object.keys(s);for(const _ of f){if(!g.includes(_))return!1;const T=o[_],I=s[_];if(Fg(T)&&Fg(I)){if(!$a(T,I))return!1}else if(T!==I)return!1}for(const _ of g)if(!f.includes(_))return!1;return!0}function Fg(o){return o!==null&&typeof o=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wo(o){const s=[];for(const[f,g]of Object.entries(o))Array.isArray(g)?g.forEach(_=>{s.push(encodeURIComponent(f)+"="+encodeURIComponent(_))}):s.push(encodeURIComponent(f)+"="+encodeURIComponent(g));return s.length?"&"+s.join("&"):""}function T3(o,s){const f=new S3(o,s);return f.subscribe.bind(f)}class S3{constructor(s,f){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=f,this.task.then(()=>{s(this)}).catch(g=>{this.error(g)})}next(s){this.forEachObserver(f=>{f.next(s)})}error(s){this.forEachObserver(f=>{f.error(s)}),this.close(s)}complete(){this.forEachObserver(s=>{s.complete()}),this.close()}subscribe(s,f,g){let _;if(s===void 0&&f===void 0&&g===void 0)throw new Error("Missing Observer.");C3(s,["next","error","complete"])?_=s:_={next:s,error:f,complete:g},_.next===void 0&&(_.next=vh),_.error===void 0&&(_.error=vh),_.complete===void 0&&(_.complete=vh);const T=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?_.error(this.finalError):_.complete()}catch{}}),this.observers.push(_),T}unsubscribeOne(s){this.observers===void 0||this.observers[s]===void 0||(delete this.observers[s],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(s){if(!this.finalized)for(let f=0;f<this.observers.length;f++)this.sendOne(f,s)}sendOne(s,f){this.task.then(()=>{if(this.observers!==void 0&&this.observers[s]!==void 0)try{f(this.observers[s])}catch(g){typeof console<"u"&&console.error&&console.error(g)}})}close(s){this.finalized||(this.finalized=!0,s!==void 0&&(this.finalError=s),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function C3(o,s){if(typeof o!="object"||o===null)return!1;for(const f of s)if(f in o&&typeof o[f]=="function")return!0;return!1}function vh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ql(o){return o&&o._delegate?o._delegate:o}class tl{constructor(s,f,g){this.name=s,this.instanceFactory=f,this.type=g,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(s){return this.instantiationMode=s,this}setMultipleInstances(s){return this.multipleInstances=s,this}setServiceProps(s){return this.serviceProps=s,this}setInstanceCreatedCallback(s){return this.onInstanceCreated=s,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(s,f){this.name=s,this.container=f,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(s){const f=this.normalizeInstanceIdentifier(s);if(!this.instancesDeferred.has(f)){const g=new o3;if(this.instancesDeferred.set(f,g),this.isInitialized(f)||this.shouldAutoInitialize())try{const _=this.getOrInitializeService({instanceIdentifier:f});_&&g.resolve(_)}catch{}}return this.instancesDeferred.get(f).promise}getImmediate(s){const f=this.normalizeInstanceIdentifier(s==null?void 0:s.identifier),g=(s==null?void 0:s.optional)??!1;if(this.isInitialized(f)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:f})}catch(_){if(g)return null;throw _}else{if(g)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(s){if(s.name!==this.name)throw Error(`Mismatching Component ${s.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=s,!!this.shouldAutoInitialize()){if(O3(s))try{this.getOrInitializeService({instanceIdentifier:Xa})}catch{}for(const[f,g]of this.instancesDeferred.entries()){const _=this.normalizeInstanceIdentifier(f);try{const T=this.getOrInitializeService({instanceIdentifier:_});g.resolve(T)}catch{}}}}clearInstance(s=Xa){this.instancesDeferred.delete(s),this.instancesOptions.delete(s),this.instances.delete(s)}async delete(){const s=Array.from(this.instances.values());await Promise.all([...s.filter(f=>"INTERNAL"in f).map(f=>f.INTERNAL.delete()),...s.filter(f=>"_delete"in f).map(f=>f._delete())])}isComponentSet(){return this.component!=null}isInitialized(s=Xa){return this.instances.has(s)}getOptions(s=Xa){return this.instancesOptions.get(s)||{}}initialize(s={}){const{options:f={}}=s,g=this.normalizeInstanceIdentifier(s.instanceIdentifier);if(this.isInitialized(g))throw Error(`${this.name}(${g}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const _=this.getOrInitializeService({instanceIdentifier:g,options:f});for(const[T,I]of this.instancesDeferred.entries()){const z=this.normalizeInstanceIdentifier(T);g===z&&I.resolve(_)}return _}onInit(s,f){const g=this.normalizeInstanceIdentifier(f),_=this.onInitCallbacks.get(g)??new Set;_.add(s),this.onInitCallbacks.set(g,_);const T=this.instances.get(g);return T&&s(T,g),()=>{_.delete(s)}}invokeOnInitCallbacks(s,f){const g=this.onInitCallbacks.get(f);if(g)for(const _ of g)try{_(s,f)}catch{}}getOrInitializeService({instanceIdentifier:s,options:f={}}){let g=this.instances.get(s);if(!g&&this.component&&(g=this.component.instanceFactory(this.container,{instanceIdentifier:b3(s),options:f}),this.instances.set(s,g),this.instancesOptions.set(s,f),this.invokeOnInitCallbacks(g,s),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,s,g)}catch{}return g||null}normalizeInstanceIdentifier(s=Xa){return this.component?this.component.multipleInstances?s:Xa:s}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function b3(o){return o===Xa?void 0:o}function O3(o){return o.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(s){this.name=s,this.providers=new Map}addComponent(s){const f=this.getProvider(s.name);if(f.isComponentSet())throw new Error(`Component ${s.name} has already been registered with ${this.name}`);f.setComponent(s)}addOrOverwriteComponent(s){this.getProvider(s.name).isComponentSet()&&this.providers.delete(s.name),this.addComponent(s)}getProvider(s){if(this.providers.has(s))return this.providers.get(s);const f=new I3(s,this);return this.providers.set(s,f),f}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(o){o[o.DEBUG=0]="DEBUG",o[o.VERBOSE=1]="VERBOSE",o[o.INFO=2]="INFO",o[o.WARN=3]="WARN",o[o.ERROR=4]="ERROR",o[o.SILENT=5]="SILENT"})(ze||(ze={}));const v3={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},R3=ze.INFO,D3={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},M3=(o,s,...f)=>{if(s<o.logLevel)return;const g=new Date().toISOString(),_=D3[s];if(_)console[_](`[${g}]  ${o.name}:`,...f);else throw new Error(`Attempted to log a message with an invalid logType (value: ${s})`)};class s1{constructor(s){this.name=s,this._logLevel=R3,this._logHandler=M3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(s){if(!(s in ze))throw new TypeError(`Invalid value "${s}" assigned to \`logLevel\``);this._logLevel=s}setLogLevel(s){this._logLevel=typeof s=="string"?v3[s]:s}get logHandler(){return this._logHandler}set logHandler(s){if(typeof s!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=s}get userLogHandler(){return this._userLogHandler}set userLogHandler(s){this._userLogHandler=s}debug(...s){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...s),this._logHandler(this,ze.DEBUG,...s)}log(...s){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...s),this._logHandler(this,ze.VERBOSE,...s)}info(...s){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...s),this._logHandler(this,ze.INFO,...s)}warn(...s){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...s),this._logHandler(this,ze.WARN,...s)}error(...s){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...s),this._logHandler(this,ze.ERROR,...s)}}const L3=(o,s)=>s.some(f=>o instanceof f);let Hg,Vg;function B3(){return Hg||(Hg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function U3(){return Vg||(Vg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tm=new WeakMap,Vh=new WeakMap,em=new WeakMap,Rh=new WeakMap,a1=new WeakMap;function P3(o){const s=new Promise((f,g)=>{const _=()=>{o.removeEventListener("success",T),o.removeEventListener("error",I)},T=()=>{f(pa(o.result)),_()},I=()=>{g(o.error),_()};o.addEventListener("success",T),o.addEventListener("error",I)});return s.then(f=>{f instanceof IDBCursor&&tm.set(f,o)}).catch(()=>{}),a1.set(s,o),s}function k3(o){if(Vh.has(o))return;const s=new Promise((f,g)=>{const _=()=>{o.removeEventListener("complete",T),o.removeEventListener("error",I),o.removeEventListener("abort",I)},T=()=>{f(),_()},I=()=>{g(o.error||new DOMException("AbortError","AbortError")),_()};o.addEventListener("complete",T),o.addEventListener("error",I),o.addEventListener("abort",I)});Vh.set(o,s)}let zh={get(o,s,f){if(o instanceof IDBTransaction){if(s==="done")return Vh.get(o);if(s==="objectStoreNames")return o.objectStoreNames||em.get(o);if(s==="store")return f.objectStoreNames[1]?void 0:f.objectStore(f.objectStoreNames[0])}return pa(o[s])},set(o,s,f){return o[s]=f,!0},has(o,s){return o instanceof IDBTransaction&&(s==="done"||s==="store")?!0:s in o}};function F3(o){zh=o(zh)}function H3(o){return o===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(s,...f){const g=o.call(Dh(this),s,...f);return em.set(g,s.sort?s.sort():[s]),pa(g)}:U3().includes(o)?function(...s){return o.apply(Dh(this),s),pa(tm.get(this))}:function(...s){return pa(o.apply(Dh(this),s))}}function V3(o){return typeof o=="function"?H3(o):(o instanceof IDBTransaction&&k3(o),L3(o,B3())?new Proxy(o,zh):o)}function pa(o){if(o instanceof IDBRequest)return P3(o);if(Rh.has(o))return Rh.get(o);const s=V3(o);return s!==o&&(Rh.set(o,s),a1.set(s,o)),s}const Dh=o=>a1.get(o);function z3(o,s,{blocked:f,upgrade:g,blocking:_,terminated:T}={}){const I=indexedDB.open(o,s),z=pa(I);return g&&I.addEventListener("upgradeneeded",v=>{g(pa(I.result),v.oldVersion,v.newVersion,pa(I.transaction),v)}),f&&I.addEventListener("blocked",v=>f(v.oldVersion,v.newVersion,v)),z.then(v=>{T&&v.addEventListener("close",()=>T()),_&&v.addEventListener("versionchange",N=>_(N.oldVersion,N.newVersion,N))}).catch(()=>{}),z}const G3=["get","getKey","getAll","getAllKeys","count"],Y3=["put","add","delete","clear"],Mh=new Map;function zg(o,s){if(!(o instanceof IDBDatabase&&!(s in o)&&typeof s=="string"))return;if(Mh.get(s))return Mh.get(s);const f=s.replace(/FromIndex$/,""),g=s!==f,_=Y3.includes(f);if(!(f in(g?IDBIndex:IDBObjectStore).prototype)||!(_||G3.includes(f)))return;const T=async function(I,...z){const v=this.transaction(I,_?"readwrite":"readonly");let N=v.store;return g&&(N=N.index(z.shift())),(await Promise.all([N[f](...z),_&&v.done]))[0]};return Mh.set(s,T),T}F3(o=>({...o,get:(s,f,g)=>zg(s,f)||o.get(s,f,g),has:(s,f)=>!!zg(s,f)||o.has(s,f)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(s){this.container=s}getPlatformInfoString(){return this.container.getProviders().map(f=>{if(X3(f)){const g=f.getImmediate();return`${g.library}/${g.version}`}else return null}).filter(f=>f).join(" ")}}function X3(o){const s=o.getComponent();return(s==null?void 0:s.type)==="VERSION"}const Gh="@firebase/app",Gg="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is=new s1("@firebase/app"),q3="@firebase/app-compat",W3="@firebase/analytics-compat",K3="@firebase/analytics",Z3="@firebase/app-check-compat",Q3="@firebase/app-check",J3="@firebase/auth",$3="@firebase/auth-compat",t_="@firebase/database",e_="@firebase/data-connect",n_="@firebase/database-compat",i_="@firebase/functions",r_="@firebase/functions-compat",s_="@firebase/installations",a_="@firebase/installations-compat",l_="@firebase/messaging",o_="@firebase/messaging-compat",u_="@firebase/performance",c_="@firebase/performance-compat",f_="@firebase/remote-config",h_="@firebase/remote-config-compat",d_="@firebase/storage",g_="@firebase/storage-compat",E_="@firebase/firestore",m_="@firebase/ai",p_="@firebase/firestore-compat",A_="firebase",__="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh="[DEFAULT]",x_={[Gh]:"fire-core",[q3]:"fire-core-compat",[K3]:"fire-analytics",[W3]:"fire-analytics-compat",[Q3]:"fire-app-check",[Z3]:"fire-app-check-compat",[J3]:"fire-auth",[$3]:"fire-auth-compat",[t_]:"fire-rtdb",[e_]:"fire-data-connect",[n_]:"fire-rtdb-compat",[i_]:"fire-fn",[r_]:"fire-fn-compat",[s_]:"fire-iid",[a_]:"fire-iid-compat",[l_]:"fire-fcm",[o_]:"fire-fcm-compat",[u_]:"fire-perf",[c_]:"fire-perf-compat",[f_]:"fire-rc",[h_]:"fire-rc-compat",[d_]:"fire-gcs",[g_]:"fire-gcs-compat",[E_]:"fire-fst",[p_]:"fire-fst-compat",[m_]:"fire-vertex","fire-js":"fire-js",[A_]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c=new Map,y_=new Map,jh=new Map;function Yg(o,s){try{o.container.addComponent(s)}catch(f){Is.debug(`Component ${s.name} failed to register with FirebaseApp ${o.name}`,f)}}function Yl(o){const s=o.name;if(jh.has(s))return Is.debug(`There were multiple attempts to register component ${s}.`),!1;jh.set(s,o);for(const f of _c.values())Yg(f,o);for(const f of y_.values())Yg(f,o);return!0}function l1(o,s){const f=o.container.getProvider("heartbeat").getImmediate({optional:!0});return f&&f.triggerHeartbeat(),o.container.getProvider(s)}function Xr(o){return o==null?!1:o.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Aa=new qo("app","Firebase",w_);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(s,f,g){this._isDeleted=!1,this._options={...s},this._config={...f},this._name=f.name,this._automaticDataCollectionEnabled=f.automaticDataCollectionEnabled,this._container=g,this.container.addComponent(new tl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(s){this.checkDestroyed(),this._automaticDataCollectionEnabled=s}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(s){this._isDeleted=s}checkDestroyed(){if(this.isDeleted)throw Aa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wl=__;function nm(o,s={}){let f=o;typeof s!="object"&&(s={name:s});const g={name:Yh,automaticDataCollectionEnabled:!0,...s},_=g.name;if(typeof _!="string"||!_)throw Aa.create("bad-app-name",{appName:String(_)});if(f||(f=ZE()),!f)throw Aa.create("no-options");const T=_c.get(_);if(T){if($a(f,T.options)&&$a(g,T.config))return T;throw Aa.create("duplicate-app",{appName:_})}const I=new N3(_);for(const v of jh.values())I.addComponent(v);const z=new T_(f,g,I);return _c.set(_,z),z}function im(o=Yh){const s=_c.get(o);if(!s&&o===Yh&&ZE())return nm();if(!s)throw Aa.create("no-app",{appName:o});return s}function _a(o,s,f){let g=x_[o]??o;f&&(g+=`-${f}`);const _=g.match(/\s|\//),T=s.match(/\s|\//);if(_||T){const I=[`Unable to register library "${g}" with version "${s}":`];_&&I.push(`library name "${g}" contains illegal characters (whitespace or "/")`),_&&T&&I.push("and"),T&&I.push(`version name "${s}" contains illegal characters (whitespace or "/")`),Is.warn(I.join(" "));return}Yl(new tl(`${g}-version`,()=>({library:g,version:s}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_="firebase-heartbeat-database",C_=1,Go="firebase-heartbeat-store";let Lh=null;function rm(){return Lh||(Lh=z3(S_,C_,{upgrade:(o,s)=>{switch(s){case 0:try{o.createObjectStore(Go)}catch(f){console.warn(f)}}}}).catch(o=>{throw Aa.create("idb-open",{originalErrorMessage:o.message})})),Lh}async function I_(o){try{const f=(await rm()).transaction(Go),g=await f.objectStore(Go).get(sm(o));return await f.done,g}catch(s){if(s instanceof Ns)Is.warn(s.message);else{const f=Aa.create("idb-get",{originalErrorMessage:s==null?void 0:s.message});Is.warn(f.message)}}}async function jg(o,s){try{const g=(await rm()).transaction(Go,"readwrite");await g.objectStore(Go).put(s,sm(o)),await g.done}catch(f){if(f instanceof Ns)Is.warn(f.message);else{const g=Aa.create("idb-set",{originalErrorMessage:f==null?void 0:f.message});Is.warn(g.message)}}}function sm(o){return`${o.name}!${o.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_=1024,O_=30;class N_{constructor(s){this.container=s,this._heartbeatsCache=null;const f=this.container.getProvider("app").getImmediate();this._storage=new R_(f),this._heartbeatsCachePromise=this._storage.read().then(g=>(this._heartbeatsCache=g,g))}async triggerHeartbeat(){var s,f;try{const _=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),T=Xg();if(((s=this._heartbeatsCache)==null?void 0:s.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((f=this._heartbeatsCache)==null?void 0:f.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===T||this._heartbeatsCache.heartbeats.some(I=>I.date===T))return;if(this._heartbeatsCache.heartbeats.push({date:T,agent:_}),this._heartbeatsCache.heartbeats.length>O_){const I=D_(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(I,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(g){Is.warn(g)}}async getHeartbeatsHeader(){var s;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((s=this._heartbeatsCache)==null?void 0:s.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const f=Xg(),{heartbeatsToSend:g,unsentEntries:_}=v_(this._heartbeatsCache.heartbeats),T=Ac(JSON.stringify({version:2,heartbeats:g}));return this._heartbeatsCache.lastSentHeartbeatDate=f,_.length>0?(this._heartbeatsCache.heartbeats=_,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),T}catch(f){return Is.warn(f),""}}}function Xg(){return new Date().toISOString().substring(0,10)}function v_(o,s=b_){const f=[];let g=o.slice();for(const _ of o){const T=f.find(I=>I.agent===_.agent);if(T){if(T.dates.push(_.date),qg(f)>s){T.dates.pop();break}}else if(f.push({agent:_.agent,dates:[_.date]}),qg(f)>s){f.pop();break}g=g.slice(1)}return{heartbeatsToSend:f,unsentEntries:g}}class R_{constructor(s){this.app=s,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return p3()?A3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const f=await I_(this.app);return f!=null&&f.heartbeats?f:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(s){if(await this._canUseIndexedDBPromise){const g=await this.read();return jg(this.app,{lastSentHeartbeatDate:s.lastSentHeartbeatDate??g.lastSentHeartbeatDate,heartbeats:s.heartbeats})}else return}async add(s){if(await this._canUseIndexedDBPromise){const g=await this.read();return jg(this.app,{lastSentHeartbeatDate:s.lastSentHeartbeatDate??g.lastSentHeartbeatDate,heartbeats:[...g.heartbeats,...s.heartbeats]})}else return}}function qg(o){return Ac(JSON.stringify({version:2,heartbeats:o})).length}function D_(o){if(o.length===0)return-1;let s=0,f=o[0].date;for(let g=1;g<o.length;g++)o[g].date<f&&(f=o[g].date,s=g);return s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(o){Yl(new tl("platform-logger",s=>new j3(s),"PRIVATE")),Yl(new tl("heartbeat",s=>new N_(s),"PRIVATE")),_a(Gh,Gg,o),_a(Gh,Gg,"esm2020"),_a("fire-js","")}M_("");var Wg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var o1;(function(){var o;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function s(P,H){function L(){}L.prototype=H.prototype,P.F=H.prototype,P.prototype=new L,P.prototype.constructor=P,P.D=function(Q,j,q){for(var V=Array(arguments.length-2),Xt=2;Xt<arguments.length;Xt++)V[Xt-2]=arguments[Xt];return H.prototype[j].apply(Q,V)}}function f(){this.blockSize=-1}function g(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}s(g,f),g.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function _(P,H,L){L||(L=0);const Q=Array(16);if(typeof H=="string")for(var j=0;j<16;++j)Q[j]=H.charCodeAt(L++)|H.charCodeAt(L++)<<8|H.charCodeAt(L++)<<16|H.charCodeAt(L++)<<24;else for(j=0;j<16;++j)Q[j]=H[L++]|H[L++]<<8|H[L++]<<16|H[L++]<<24;H=P.g[0],L=P.g[1],j=P.g[2];let q=P.g[3],V;V=H+(q^L&(j^q))+Q[0]+3614090360&4294967295,H=L+(V<<7&4294967295|V>>>25),V=q+(j^H&(L^j))+Q[1]+3905402710&4294967295,q=H+(V<<12&4294967295|V>>>20),V=j+(L^q&(H^L))+Q[2]+606105819&4294967295,j=q+(V<<17&4294967295|V>>>15),V=L+(H^j&(q^H))+Q[3]+3250441966&4294967295,L=j+(V<<22&4294967295|V>>>10),V=H+(q^L&(j^q))+Q[4]+4118548399&4294967295,H=L+(V<<7&4294967295|V>>>25),V=q+(j^H&(L^j))+Q[5]+1200080426&4294967295,q=H+(V<<12&4294967295|V>>>20),V=j+(L^q&(H^L))+Q[6]+2821735955&4294967295,j=q+(V<<17&4294967295|V>>>15),V=L+(H^j&(q^H))+Q[7]+4249261313&4294967295,L=j+(V<<22&4294967295|V>>>10),V=H+(q^L&(j^q))+Q[8]+1770035416&4294967295,H=L+(V<<7&4294967295|V>>>25),V=q+(j^H&(L^j))+Q[9]+2336552879&4294967295,q=H+(V<<12&4294967295|V>>>20),V=j+(L^q&(H^L))+Q[10]+4294925233&4294967295,j=q+(V<<17&4294967295|V>>>15),V=L+(H^j&(q^H))+Q[11]+2304563134&4294967295,L=j+(V<<22&4294967295|V>>>10),V=H+(q^L&(j^q))+Q[12]+1804603682&4294967295,H=L+(V<<7&4294967295|V>>>25),V=q+(j^H&(L^j))+Q[13]+4254626195&4294967295,q=H+(V<<12&4294967295|V>>>20),V=j+(L^q&(H^L))+Q[14]+2792965006&4294967295,j=q+(V<<17&4294967295|V>>>15),V=L+(H^j&(q^H))+Q[15]+1236535329&4294967295,L=j+(V<<22&4294967295|V>>>10),V=H+(j^q&(L^j))+Q[1]+4129170786&4294967295,H=L+(V<<5&4294967295|V>>>27),V=q+(L^j&(H^L))+Q[6]+3225465664&4294967295,q=H+(V<<9&4294967295|V>>>23),V=j+(H^L&(q^H))+Q[11]+643717713&4294967295,j=q+(V<<14&4294967295|V>>>18),V=L+(q^H&(j^q))+Q[0]+3921069994&4294967295,L=j+(V<<20&4294967295|V>>>12),V=H+(j^q&(L^j))+Q[5]+3593408605&4294967295,H=L+(V<<5&4294967295|V>>>27),V=q+(L^j&(H^L))+Q[10]+38016083&4294967295,q=H+(V<<9&4294967295|V>>>23),V=j+(H^L&(q^H))+Q[15]+3634488961&4294967295,j=q+(V<<14&4294967295|V>>>18),V=L+(q^H&(j^q))+Q[4]+3889429448&4294967295,L=j+(V<<20&4294967295|V>>>12),V=H+(j^q&(L^j))+Q[9]+568446438&4294967295,H=L+(V<<5&4294967295|V>>>27),V=q+(L^j&(H^L))+Q[14]+3275163606&4294967295,q=H+(V<<9&4294967295|V>>>23),V=j+(H^L&(q^H))+Q[3]+4107603335&4294967295,j=q+(V<<14&4294967295|V>>>18),V=L+(q^H&(j^q))+Q[8]+1163531501&4294967295,L=j+(V<<20&4294967295|V>>>12),V=H+(j^q&(L^j))+Q[13]+2850285829&4294967295,H=L+(V<<5&4294967295|V>>>27),V=q+(L^j&(H^L))+Q[2]+4243563512&4294967295,q=H+(V<<9&4294967295|V>>>23),V=j+(H^L&(q^H))+Q[7]+1735328473&4294967295,j=q+(V<<14&4294967295|V>>>18),V=L+(q^H&(j^q))+Q[12]+2368359562&4294967295,L=j+(V<<20&4294967295|V>>>12),V=H+(L^j^q)+Q[5]+4294588738&4294967295,H=L+(V<<4&4294967295|V>>>28),V=q+(H^L^j)+Q[8]+2272392833&4294967295,q=H+(V<<11&4294967295|V>>>21),V=j+(q^H^L)+Q[11]+1839030562&4294967295,j=q+(V<<16&4294967295|V>>>16),V=L+(j^q^H)+Q[14]+4259657740&4294967295,L=j+(V<<23&4294967295|V>>>9),V=H+(L^j^q)+Q[1]+2763975236&4294967295,H=L+(V<<4&4294967295|V>>>28),V=q+(H^L^j)+Q[4]+1272893353&4294967295,q=H+(V<<11&4294967295|V>>>21),V=j+(q^H^L)+Q[7]+4139469664&4294967295,j=q+(V<<16&4294967295|V>>>16),V=L+(j^q^H)+Q[10]+3200236656&4294967295,L=j+(V<<23&4294967295|V>>>9),V=H+(L^j^q)+Q[13]+681279174&4294967295,H=L+(V<<4&4294967295|V>>>28),V=q+(H^L^j)+Q[0]+3936430074&4294967295,q=H+(V<<11&4294967295|V>>>21),V=j+(q^H^L)+Q[3]+3572445317&4294967295,j=q+(V<<16&4294967295|V>>>16),V=L+(j^q^H)+Q[6]+76029189&4294967295,L=j+(V<<23&4294967295|V>>>9),V=H+(L^j^q)+Q[9]+3654602809&4294967295,H=L+(V<<4&4294967295|V>>>28),V=q+(H^L^j)+Q[12]+3873151461&4294967295,q=H+(V<<11&4294967295|V>>>21),V=j+(q^H^L)+Q[15]+530742520&4294967295,j=q+(V<<16&4294967295|V>>>16),V=L+(j^q^H)+Q[2]+3299628645&4294967295,L=j+(V<<23&4294967295|V>>>9),V=H+(j^(L|~q))+Q[0]+4096336452&4294967295,H=L+(V<<6&4294967295|V>>>26),V=q+(L^(H|~j))+Q[7]+1126891415&4294967295,q=H+(V<<10&4294967295|V>>>22),V=j+(H^(q|~L))+Q[14]+2878612391&4294967295,j=q+(V<<15&4294967295|V>>>17),V=L+(q^(j|~H))+Q[5]+4237533241&4294967295,L=j+(V<<21&4294967295|V>>>11),V=H+(j^(L|~q))+Q[12]+1700485571&4294967295,H=L+(V<<6&4294967295|V>>>26),V=q+(L^(H|~j))+Q[3]+2399980690&4294967295,q=H+(V<<10&4294967295|V>>>22),V=j+(H^(q|~L))+Q[10]+4293915773&4294967295,j=q+(V<<15&4294967295|V>>>17),V=L+(q^(j|~H))+Q[1]+2240044497&4294967295,L=j+(V<<21&4294967295|V>>>11),V=H+(j^(L|~q))+Q[8]+1873313359&4294967295,H=L+(V<<6&4294967295|V>>>26),V=q+(L^(H|~j))+Q[15]+4264355552&4294967295,q=H+(V<<10&4294967295|V>>>22),V=j+(H^(q|~L))+Q[6]+2734768916&4294967295,j=q+(V<<15&4294967295|V>>>17),V=L+(q^(j|~H))+Q[13]+1309151649&4294967295,L=j+(V<<21&4294967295|V>>>11),V=H+(j^(L|~q))+Q[4]+4149444226&4294967295,H=L+(V<<6&4294967295|V>>>26),V=q+(L^(H|~j))+Q[11]+3174756917&4294967295,q=H+(V<<10&4294967295|V>>>22),V=j+(H^(q|~L))+Q[2]+718787259&4294967295,j=q+(V<<15&4294967295|V>>>17),V=L+(q^(j|~H))+Q[9]+3951481745&4294967295,P.g[0]=P.g[0]+H&4294967295,P.g[1]=P.g[1]+(j+(V<<21&4294967295|V>>>11))&4294967295,P.g[2]=P.g[2]+j&4294967295,P.g[3]=P.g[3]+q&4294967295}g.prototype.v=function(P,H){H===void 0&&(H=P.length);const L=H-this.blockSize,Q=this.C;let j=this.h,q=0;for(;q<H;){if(j==0)for(;q<=L;)_(this,P,q),q+=this.blockSize;if(typeof P=="string"){for(;q<H;)if(Q[j++]=P.charCodeAt(q++),j==this.blockSize){_(this,Q),j=0;break}}else for(;q<H;)if(Q[j++]=P[q++],j==this.blockSize){_(this,Q),j=0;break}}this.h=j,this.o+=H},g.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var H=1;H<P.length-8;++H)P[H]=0;H=this.o*8;for(var L=P.length-8;L<P.length;++L)P[L]=H&255,H/=256;for(this.v(P),P=Array(16),H=0,L=0;L<4;++L)for(let Q=0;Q<32;Q+=8)P[H++]=this.g[L]>>>Q&255;return P};function T(P,H){var L=z;return Object.prototype.hasOwnProperty.call(L,P)?L[P]:L[P]=H(P)}function I(P,H){this.h=H;const L=[];let Q=!0;for(let j=P.length-1;j>=0;j--){const q=P[j]|0;Q&&q==H||(L[j]=q,Q=!1)}this.g=L}var z={};function v(P){return-128<=P&&P<128?T(P,function(H){return new I([H|0],H<0?-1:0)}):new I([P|0],P<0?-1:0)}function N(P){if(isNaN(P)||!isFinite(P))return B;if(P<0)return ht(N(-P));const H=[];let L=1;for(let Q=0;P>=L;Q++)H[Q]=P/L|0,L*=4294967296;return new I(H,0)}function U(P,H){if(P.length==0)throw Error("number format error: empty string");if(H=H||10,H<2||36<H)throw Error("radix out of range: "+H);if(P.charAt(0)=="-")return ht(U(P.substring(1),H));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');const L=N(Math.pow(H,8));let Q=B;for(let q=0;q<P.length;q+=8){var j=Math.min(8,P.length-q);const V=parseInt(P.substring(q,q+j),H);j<8?(j=N(Math.pow(H,j)),Q=Q.j(j).add(N(V))):(Q=Q.j(L),Q=Q.add(N(V)))}return Q}var B=v(0),G=v(1),$=v(16777216);o=I.prototype,o.m=function(){if(gt(this))return-ht(this).m();let P=0,H=1;for(let L=0;L<this.g.length;L++){const Q=this.i(L);P+=(Q>=0?Q:4294967296+Q)*H,H*=4294967296}return P},o.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(at(this))return"0";if(gt(this))return"-"+ht(this).toString(P);const H=N(Math.pow(P,6));var L=this;let Q="";for(;;){const j=Rt(L,H).g;L=Ut(L,j.j(H));let q=((L.g.length>0?L.g[0]:L.h)>>>0).toString(P);if(L=j,at(L))return q+Q;for(;q.length<6;)q="0"+q;Q=q+Q}},o.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function at(P){if(P.h!=0)return!1;for(let H=0;H<P.g.length;H++)if(P.g[H]!=0)return!1;return!0}function gt(P){return P.h==-1}o.l=function(P){return P=Ut(this,P),gt(P)?-1:at(P)?0:1};function ht(P){const H=P.g.length,L=[];for(let Q=0;Q<H;Q++)L[Q]=~P.g[Q];return new I(L,~P.h).add(G)}o.abs=function(){return gt(this)?ht(this):this},o.add=function(P){const H=Math.max(this.g.length,P.g.length),L=[];let Q=0;for(let j=0;j<=H;j++){let q=Q+(this.i(j)&65535)+(P.i(j)&65535),V=(q>>>16)+(this.i(j)>>>16)+(P.i(j)>>>16);Q=V>>>16,q&=65535,V&=65535,L[j]=V<<16|q}return new I(L,L[L.length-1]&-2147483648?-1:0)};function Ut(P,H){return P.add(ht(H))}o.j=function(P){if(at(this)||at(P))return B;if(gt(this))return gt(P)?ht(this).j(ht(P)):ht(ht(this).j(P));if(gt(P))return ht(this.j(ht(P)));if(this.l($)<0&&P.l($)<0)return N(this.m()*P.m());const H=this.g.length+P.g.length,L=[];for(var Q=0;Q<2*H;Q++)L[Q]=0;for(Q=0;Q<this.g.length;Q++)for(let j=0;j<P.g.length;j++){const q=this.i(Q)>>>16,V=this.i(Q)&65535,Xt=P.i(j)>>>16,st=P.i(j)&65535;L[2*Q+2*j]+=V*st,Mt(L,2*Q+2*j),L[2*Q+2*j+1]+=q*st,Mt(L,2*Q+2*j+1),L[2*Q+2*j+1]+=V*Xt,Mt(L,2*Q+2*j+1),L[2*Q+2*j+2]+=q*Xt,Mt(L,2*Q+2*j+2)}for(P=0;P<H;P++)L[P]=L[2*P+1]<<16|L[2*P];for(P=H;P<2*H;P++)L[P]=0;return new I(L,0)};function Mt(P,H){for(;(P[H]&65535)!=P[H];)P[H+1]+=P[H]>>>16,P[H]&=65535,H++}function xt(P,H){this.g=P,this.h=H}function Rt(P,H){if(at(H))throw Error("division by zero");if(at(P))return new xt(B,B);if(gt(P))return H=Rt(ht(P),H),new xt(ht(H.g),ht(H.h));if(gt(H))return H=Rt(P,ht(H)),new xt(ht(H.g),H.h);if(P.g.length>30){if(gt(P)||gt(H))throw Error("slowDivide_ only works with positive integers.");for(var L=G,Q=H;Q.l(P)<=0;)L=ue(L),Q=ue(Q);var j=Ft(L,1),q=Ft(Q,1);for(Q=Ft(Q,2),L=Ft(L,2);!at(Q);){var V=q.add(Q);V.l(P)<=0&&(j=j.add(L),q=V),Q=Ft(Q,1),L=Ft(L,1)}return H=Ut(P,j.j(H)),new xt(j,H)}for(j=B;P.l(H)>=0;){for(L=Math.max(1,Math.floor(P.m()/H.m())),Q=Math.ceil(Math.log(L)/Math.LN2),Q=Q<=48?1:Math.pow(2,Q-48),q=N(L),V=q.j(H);gt(V)||V.l(P)>0;)L-=Q,q=N(L),V=q.j(H);at(q)&&(q=G),j=j.add(q),P=Ut(P,V)}return new xt(j,P)}o.B=function(P){return Rt(this,P).h},o.and=function(P){const H=Math.max(this.g.length,P.g.length),L=[];for(let Q=0;Q<H;Q++)L[Q]=this.i(Q)&P.i(Q);return new I(L,this.h&P.h)},o.or=function(P){const H=Math.max(this.g.length,P.g.length),L=[];for(let Q=0;Q<H;Q++)L[Q]=this.i(Q)|P.i(Q);return new I(L,this.h|P.h)},o.xor=function(P){const H=Math.max(this.g.length,P.g.length),L=[];for(let Q=0;Q<H;Q++)L[Q]=this.i(Q)^P.i(Q);return new I(L,this.h^P.h)};function ue(P){const H=P.g.length+1,L=[];for(let Q=0;Q<H;Q++)L[Q]=P.i(Q)<<1|P.i(Q-1)>>>31;return new I(L,P.h)}function Ft(P,H){const L=H>>5;H%=32;const Q=P.g.length-L,j=[];for(let q=0;q<Q;q++)j[q]=H>0?P.i(q+L)>>>H|P.i(q+L+1)<<32-H:P.i(q+L);return new I(j,P.h)}g.prototype.digest=g.prototype.A,g.prototype.reset=g.prototype.u,g.prototype.update=g.prototype.v,I.prototype.add=I.prototype.add,I.prototype.multiply=I.prototype.j,I.prototype.modulo=I.prototype.B,I.prototype.compare=I.prototype.l,I.prototype.toNumber=I.prototype.m,I.prototype.toString=I.prototype.toString,I.prototype.getBits=I.prototype.i,I.fromNumber=N,I.fromString=U,o1=I}).apply(typeof Wg<"u"?Wg:typeof self<"u"?self:typeof window<"u"?window:{});var sc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var o,s=Object.defineProperty;function f(E){E=[typeof globalThis=="object"&&globalThis,E,typeof window=="object"&&window,typeof self=="object"&&self,typeof sc=="object"&&sc];for(var y=0;y<E.length;++y){var C=E[y];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var g=f(this);function _(E,y){if(y)t:{var C=g;E=E.split(".");for(var M=0;M<E.length-1;M++){var tt=E[M];if(!(tt in C))break t;C=C[tt]}E=E[E.length-1],M=C[E],y=y(M),y!=M&&y!=null&&s(C,E,{configurable:!0,writable:!0,value:y})}}_("Symbol.dispose",function(E){return E||Symbol("Symbol.dispose")}),_("Array.prototype.values",function(E){return E||function(){return this[Symbol.iterator]()}}),_("Object.entries",function(E){return E||function(y){var C=[],M;for(M in y)Object.prototype.hasOwnProperty.call(y,M)&&C.push([M,y[M]]);return C}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var T=T||{},I=this||self;function z(E){var y=typeof E;return y=="object"&&E!=null||y=="function"}function v(E,y,C){return E.call.apply(E.bind,arguments)}function N(E,y,C){return N=v,N.apply(null,arguments)}function U(E,y){var C=Array.prototype.slice.call(arguments,1);return function(){var M=C.slice();return M.push.apply(M,arguments),E.apply(this,M)}}function B(E,y){function C(){}C.prototype=y.prototype,E.Z=y.prototype,E.prototype=new C,E.prototype.constructor=E,E.Ob=function(M,tt,ot){for(var Nt=Array(arguments.length-2),Yt=2;Yt<arguments.length;Yt++)Nt[Yt-2]=arguments[Yt];return y.prototype[tt].apply(M,Nt)}}var G=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?E=>E&&AsyncContext.Snapshot.wrap(E):E=>E;function $(E){const y=E.length;if(y>0){const C=Array(y);for(let M=0;M<y;M++)C[M]=E[M];return C}return[]}function at(E,y){for(let M=1;M<arguments.length;M++){const tt=arguments[M];var C=typeof tt;if(C=C!="object"?C:tt?Array.isArray(tt)?"array":C:"null",C=="array"||C=="object"&&typeof tt.length=="number"){C=E.length||0;const ot=tt.length||0;E.length=C+ot;for(let Nt=0;Nt<ot;Nt++)E[C+Nt]=tt[Nt]}else E.push(tt)}}class gt{constructor(y,C){this.i=y,this.j=C,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function ht(E){I.setTimeout(()=>{throw E},0)}function Ut(){var E=P;let y=null;return E.g&&(y=E.g,E.g=E.g.next,E.g||(E.h=null),y.next=null),y}class Mt{constructor(){this.h=this.g=null}add(y,C){const M=xt.get();M.set(y,C),this.h?this.h.next=M:this.g=M,this.h=M}}var xt=new gt(()=>new Rt,E=>E.reset());class Rt{constructor(){this.next=this.g=this.h=null}set(y,C){this.h=y,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,Ft=!1,P=new Mt,H=()=>{const E=Promise.resolve(void 0);ue=()=>{E.then(L)}};function L(){for(var E;E=Ut();){try{E.h.call(E.g)}catch(C){ht(C)}var y=xt;y.j(E),y.h<100&&(y.h++,E.next=y.g,y.g=E)}Ft=!1}function Q(){this.u=this.u,this.C=this.C}Q.prototype.u=!1,Q.prototype.dispose=function(){this.u||(this.u=!0,this.N())},Q.prototype[Symbol.dispose]=function(){this.dispose()},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(E,y){this.type=E,this.g=this.target=y,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var q=(function(){if(!I.addEventListener||!Object.defineProperty)return!1;var E=!1,y=Object.defineProperty({},"passive",{get:function(){E=!0}});try{const C=()=>{};I.addEventListener("test",C,y),I.removeEventListener("test",C,y)}catch{}return E})();function V(E){return/^[\s\xa0]*$/.test(E)}function Xt(E,y){j.call(this,E?E.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,E&&this.init(E,y)}B(Xt,j),Xt.prototype.init=function(E,y){const C=this.type=E.type,M=E.changedTouches&&E.changedTouches.length?E.changedTouches[0]:null;this.target=E.target||E.srcElement,this.g=y,y=E.relatedTarget,y||(C=="mouseover"?y=E.fromElement:C=="mouseout"&&(y=E.toElement)),this.relatedTarget=y,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0),this.button=E.button,this.key=E.key||"",this.ctrlKey=E.ctrlKey,this.altKey=E.altKey,this.shiftKey=E.shiftKey,this.metaKey=E.metaKey,this.pointerId=E.pointerId||0,this.pointerType=E.pointerType,this.state=E.state,this.i=E,E.defaultPrevented&&Xt.Z.h.call(this)},Xt.prototype.h=function(){Xt.Z.h.call(this);const E=this.i;E.preventDefault?E.preventDefault():E.returnValue=!1};var st="closure_listenable_"+(Math.random()*1e6|0),ct=0;function pt(E,y,C,M,tt){this.listener=E,this.proxy=null,this.src=y,this.type=C,this.capture=!!M,this.ha=tt,this.key=++ct,this.da=this.fa=!1}function Pt(E){E.da=!0,E.listener=null,E.proxy=null,E.src=null,E.ha=null}function Jt(E,y,C){for(const M in E)y.call(C,E[M],M,E)}function ie(E,y){for(const C in E)y.call(void 0,E[C],C,E)}function K(E){const y={};for(const C in E)y[C]=E[C];return y}const Et="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function bt(E,y){let C,M;for(let tt=1;tt<arguments.length;tt++){M=arguments[tt];for(C in M)E[C]=M[C];for(let ot=0;ot<Et.length;ot++)C=Et[ot],Object.prototype.hasOwnProperty.call(M,C)&&(E[C]=M[C])}}function Ot(E){this.src=E,this.g={},this.h=0}Ot.prototype.add=function(E,y,C,M,tt){const ot=E.toString();E=this.g[ot],E||(E=this.g[ot]=[],this.h++);const Nt=It(E,y,M,tt);return Nt>-1?(y=E[Nt],C||(y.fa=!1)):(y=new pt(y,this.src,ot,!!M,tt),y.fa=C,E.push(y)),y};function Kt(E,y){const C=y.type;if(C in E.g){var M=E.g[C],tt=Array.prototype.indexOf.call(M,y,void 0),ot;(ot=tt>=0)&&Array.prototype.splice.call(M,tt,1),ot&&(Pt(y),E.g[C].length==0&&(delete E.g[C],E.h--))}}function It(E,y,C,M){for(let tt=0;tt<E.length;++tt){const ot=E[tt];if(!ot.da&&ot.listener==y&&ot.capture==!!C&&ot.ha==M)return tt}return-1}var ce="closure_lm_"+(Math.random()*1e6|0),fe={};function ke(E,y,C,M,tt){if(Array.isArray(y)){for(let ot=0;ot<y.length;ot++)ke(E,y[ot],C,M,tt);return null}return C=ve(C),E&&E[st]?E.J(y,C,z(M)?!!M.capture:!1,tt):Fi(E,y,C,!1,M,tt)}function Fi(E,y,C,M,tt,ot){if(!y)throw Error("Invalid event type");const Nt=z(tt)?!!tt.capture:!!tt;let Yt=Hi(E);if(Yt||(E[ce]=Yt=new Ot(E)),C=Yt.add(y,C,M,Nt,ot),C.proxy)return C;if(M=Cn(),C.proxy=M,M.src=E,M.listener=C,E.addEventListener)q||(tt=Nt),tt===void 0&&(tt=!1),E.addEventListener(y.toString(),M,tt);else if(E.attachEvent)E.attachEvent(qn(y.toString()),M);else if(E.addListener&&E.removeListener)E.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return C}function Cn(){function E(C){return y.call(E.src,E.listener,C)}const y=ci;return E}function _r(E,y,C,M,tt){if(Array.isArray(y))for(var ot=0;ot<y.length;ot++)_r(E,y[ot],C,M,tt);else M=z(M)?!!M.capture:!!M,C=ve(C),E&&E[st]?(E=E.i,ot=String(y).toString(),ot in E.g&&(y=E.g[ot],C=It(y,C,M,tt),C>-1&&(Pt(y[C]),Array.prototype.splice.call(y,C,1),y.length==0&&(delete E.g[ot],E.h--)))):E&&(E=Hi(E))&&(y=E.g[y.toString()],E=-1,y&&(E=It(y,C,M,tt)),(C=E>-1?y[E]:null)&&he(C))}function he(E){if(typeof E!="number"&&E&&!E.da){var y=E.src;if(y&&y[st])Kt(y.i,E);else{var C=E.type,M=E.proxy;y.removeEventListener?y.removeEventListener(C,M,E.capture):y.detachEvent?y.detachEvent(qn(C),M):y.addListener&&y.removeListener&&y.removeListener(M),(C=Hi(y))?(Kt(C,E),C.h==0&&(C.src=null,y[ce]=null)):Pt(E)}}}function qn(E){return E in fe?fe[E]:fe[E]="on"+E}function ci(E,y){if(E.da)E=!0;else{y=new Xt(y,this);const C=E.listener,M=E.ha||E.src;E.fa&&he(E),E=C.call(M,y)}return E}function Hi(E){return E=E[ce],E instanceof Ot?E:null}var gn="__closure_events_fn_"+(Math.random()*1e9>>>0);function ve(E){return typeof E=="function"?E:(E[gn]||(E[gn]=function(y){return E.handleEvent(y)}),E[gn])}function Gt(){Q.call(this),this.i=new Ot(this),this.M=this,this.G=null}B(Gt,Q),Gt.prototype[st]=!0,Gt.prototype.removeEventListener=function(E,y,C,M){_r(this,E,y,C,M)};function ln(E,y){var C,M=E.G;if(M)for(C=[];M;M=M.G)C.push(M);if(E=E.M,M=y.type||y,typeof y=="string")y=new j(y,E);else if(y instanceof j)y.target=y.target||E;else{var tt=y;y=new j(M,E),bt(y,tt)}tt=!0;let ot,Nt;if(C)for(Nt=C.length-1;Nt>=0;Nt--)ot=y.g=C[Nt],tt=Dt(ot,M,!0,y)&&tt;if(ot=y.g=E,tt=Dt(ot,M,!0,y)&&tt,tt=Dt(ot,M,!1,y)&&tt,C)for(Nt=0;Nt<C.length;Nt++)ot=y.g=C[Nt],tt=Dt(ot,M,!1,y)&&tt}Gt.prototype.N=function(){if(Gt.Z.N.call(this),this.i){var E=this.i;for(const y in E.g){const C=E.g[y];for(let M=0;M<C.length;M++)Pt(C[M]);delete E.g[y],E.h--}}this.G=null},Gt.prototype.J=function(E,y,C,M){return this.i.add(String(E),y,!1,C,M)},Gt.prototype.K=function(E,y,C,M){return this.i.add(String(E),y,!0,C,M)};function Dt(E,y,C,M){if(y=E.i.g[String(y)],!y)return!0;y=y.concat();let tt=!0;for(let ot=0;ot<y.length;++ot){const Nt=y[ot];if(Nt&&!Nt.da&&Nt.capture==C){const Yt=Nt.listener,rn=Nt.ha||Nt.src;Nt.fa&&Kt(E.i,Nt),tt=Yt.call(rn,M)!==!1&&tt}}return tt&&!M.defaultPrevented}function vs(E,y){if(typeof E!="function")if(E&&typeof E.handleEvent=="function")E=N(E.handleEvent,E);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:I.setTimeout(E,y||0)}function ya(E){E.g=vs(()=>{E.g=null,E.i&&(E.i=!1,ya(E))},E.l);const y=E.h;E.h=null,E.m.apply(null,y)}class en extends Q{constructor(y,C){super(),this.m=y,this.l=C,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:ya(this)}N(){super.N(),this.g&&(I.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xr(E){Q.call(this),this.h=E,this.g={}}B(xr,Q);var Wn=[];function Rs(E){Jt(E.g,function(y,C){this.g.hasOwnProperty(C)&&he(y)},E),E.g={}}xr.prototype.N=function(){xr.Z.N.call(this),Rs(this)},xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Kn=I.JSON.stringify,Un=I.JSON.parse,wa=class{stringify(E){return I.JSON.stringify(E,void 0)}parse(E){return I.JSON.parse(E,void 0)}};function Zr(){}function Zl(){}var Re={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Tt(){j.call(this,"d")}B(Tt,j);function De(){j.call(this,"c")}B(De,j);var Zt={},Ke=null;function yr(){return Ke=Ke||new Gt}Zt.Ia="serverreachability";function Ds(E){j.call(this,Zt.Ia,E)}B(Ds,j);function Vi(E){const y=yr();ln(y,new Ds(y))}Zt.STAT_EVENT="statevent";function oe(E,y){j.call(this,Zt.STAT_EVENT,E),this.stat=y}B(oe,j);function je(E){const y=yr();ln(y,new oe(y,E))}Zt.Ja="timingevent";function zi(E,y){j.call(this,Zt.Ja,E),this.size=y}B(zi,j);function Gi(E,y){if(typeof E!="function")throw Error("Fn must not be null and must be a function");return I.setTimeout(function(){E()},y)}function En(){this.g=!0}En.prototype.ua=function(){this.g=!1};function Ta(E,y,C,M,tt,ot){E.info(function(){if(E.g)if(ot){var Nt="",Yt=ot.split("&");for(let Me=0;Me<Yt.length;Me++){var rn=Yt[Me].split("=");if(rn.length>1){const tn=rn[0];rn=rn[1];const kn=tn.split("_");Nt=kn.length>=2&&kn[1]=="type"?Nt+(tn+"="+rn+"&"):Nt+(tn+"=redacted&")}}}else Nt=null;else Nt=ot;return"XMLHTTP REQ ("+M+") [attempt "+tt+"]: "+y+`
`+C+`
`+Nt})}function In(E,y,C,M,tt,ot,Nt){E.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+tt+"]: "+y+`
`+C+`
`+ot+" "+Nt})}function Zn(E,y,C,M){E.info(function(){return"XMLHTTP TEXT ("+y+"): "+Oi(E,C)+(M?" "+M:"")})}function ir(E,y){E.info(function(){return"TIMEOUT: "+y})}En.prototype.info=function(){};function Oi(E,y){if(!E.g)return y;if(!y)return null;try{const ot=JSON.parse(y);if(ot){for(E=0;E<ot.length;E++)if(Array.isArray(ot[E])){var C=ot[E];if(!(C.length<2)){var M=C[1];if(Array.isArray(M)&&!(M.length<1)){var tt=M[0];if(tt!="noop"&&tt!="stop"&&tt!="close")for(let Nt=1;Nt<M.length;Nt++)M[Nt]=""}}}}return Kn(ot)}catch{return y}}var Ms={NO_ERROR:0,TIMEOUT:8},rr={},Qr;function xn(){}B(xn,Zr),xn.prototype.g=function(){return new XMLHttpRequest},Qr=new xn;function Qn(E){return encodeURIComponent(String(E))}function Jn(E){var y=1;E=E.split(":");const C=[];for(;y>0&&E.length;)C.push(E.shift()),y--;return E.length&&C.push(E.join(":")),C}function vt(E,y,C,M){this.j=E,this.i=y,this.l=C,this.S=M||1,this.V=new xr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gn}function Gn(){this.i=null,this.g="",this.h=!1}var on={},Oe={};function $n(E,y,C){E.M=1,E.A=hi(cn(y)),E.u=C,E.R=!0,wr(E,null)}function wr(E,y){E.F=Date.now(),sr(E),E.B=cn(E.A);var C=E.B,M=E.S;Array.isArray(M)||(M=[String(M)]),Fe(C.i,"t",M),E.C=0,C=E.j.L,E.h=new Gn,E.g=Fs(E.j,C?y:null,!E.u),E.P>0&&(E.O=new en(N(E.Y,E,E.g),E.P)),y=E.V,C=E.g,M=E.ba;var tt="readystatechange";Array.isArray(tt)||(tt&&(Wn[0]=tt.toString()),tt=Wn);for(let ot=0;ot<tt.length;ot++){const Nt=ke(C,tt[ot],M||y.handleEvent,!1,y.h||y);if(!Nt)break;y.g[Nt.key]=Nt}y=E.J?K(E.J):{},E.u?(E.v||(E.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",E.g.ea(E.B,E.v,E.u,y)):(E.v="GET",E.g.ea(E.B,E.v,null,y)),Vi(),Ta(E.i,E.v,E.B,E.l,E.S,E.u)}vt.prototype.ba=function(E){E=E.target;const y=this.O;y&&Ri(E)==3?y.j():this.Y(E)},vt.prototype.Y=function(E){try{if(E==this.g)t:{const Yt=Ri(this.g),rn=this.g.ya(),Me=this.g.ca();if(!(Yt<3)&&(Yt!=3||this.g&&(this.h.h||this.g.la()||An(this.g)))){this.K||Yt!=4||rn==7||(rn==8||Me<=0?Vi(3):Vi(2)),$e(this);var y=this.g.ca();this.X=y;var C=Ls(this);if(this.o=y==200,In(this.i,this.v,this.B,this.l,this.S,Yt,y),this.o){if(this.U&&!this.L){e:{if(this.g){var M,tt=this.g;if((M=tt.g?tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(M)){var ot=M;break e}}ot=null}if(E=ot)Zn(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Pn(this,E);else{this.o=!1,this.m=3,je(12),fi(this),ge(this);break t}}if(this.R){E=!0;let tn;for(;!this.K&&this.C<C.length;)if(tn=rl(this,C),tn==Oe){Yt==4&&(this.m=4,je(14),E=!1),Zn(this.i,this.l,null,"[Incomplete Response]");break}else if(tn==on){this.m=4,je(15),Zn(this.i,this.l,C,"[Invalid Chunk]"),E=!1;break}else Zn(this.i,this.l,tn,null),Pn(this,tn);if(_i(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Yt!=4||C.length!=0||this.h.h||(this.m=1,je(16),E=!1),this.o=this.o&&E,!E)Zn(this.i,this.l,C,"[Invalid Chunked Response]"),fi(this),ge(this);else if(C.length>0&&!this.W){this.W=!0;var Nt=this.j;Nt.g==this&&Nt.aa&&!Nt.P&&(Nt.j.info("Great, no buffering proxy detected. Bytes received: "+C.length),ut(Nt),Nt.P=!0,je(11))}}else Zn(this.i,this.l,C,null),Pn(this,C);Yt==4&&fi(this),this.o&&!this.K&&(Yt==4?is(this.j,this):(this.o=!1,sr(this)))}else yi(this.g),y==400&&C.indexOf("Unknown SID")>0?(this.m=3,je(12)):(this.m=0,je(13)),fi(this),ge(this)}}}catch{}finally{}};function Ls(E){if(!_i(E))return E.g.la();const y=An(E.g);if(y==="")return"";let C="";const M=y.length,tt=Ri(E.g)==4;if(!E.h.i){if(typeof TextDecoder>"u")return fi(E),ge(E),"";E.h.i=new I.TextDecoder}for(let ot=0;ot<M;ot++)E.h.h=!0,C+=E.h.i.decode(y[ot],{stream:!(tt&&ot==M-1)});return y.length=0,E.h.g+=C,E.C=0,E.h.g}function _i(E){return E.g?E.v=="GET"&&E.M!=2&&E.j.Aa:!1}function rl(E,y){var C=E.C,M=y.indexOf(`
`,C);return M==-1?Oe:(C=Number(y.substring(C,M)),isNaN(C)?on:(M+=1,M+C>y.length?Oe:(y=y.slice(M,M+C),E.C=M+C,y)))}vt.prototype.cancel=function(){this.K=!0,fi(this)};function sr(E){E.T=Date.now()+E.H,ti(E,E.H)}function ti(E,y){if(E.D!=null)throw Error("WatchDog timer not null");E.D=Gi(N(E.aa,E),y)}function $e(E){E.D&&(I.clearTimeout(E.D),E.D=null)}vt.prototype.aa=function(){this.D=null;const E=Date.now();E-this.T>=0?(ir(this.i,this.B),this.M!=2&&(Vi(),je(17)),fi(this),this.m=2,ge(this)):ti(this,this.T-E)};function ge(E){E.j.I==0||E.K||is(E.j,E)}function fi(E){$e(E);var y=E.O;y&&typeof y.dispose=="function"&&y.dispose(),E.O=null,Rs(E.V),E.g&&(y=E.g,E.g=null,y.abort(),y.dispose())}function Pn(E,y){try{var C=E.j;if(C.I!=0&&(C.g==E||ei(C.h,E))){if(!E.L&&ei(C.h,E)&&C.I==3){try{var M=C.Ba.g.parse(y)}catch{M=null}if(Array.isArray(M)&&M.length==3){var tt=M;if(tt[0]==0){t:if(!C.v){if(C.g)if(C.g.F+3e3<E.F)fn(C),Cr(C);else break t;ns(C),je(18)}}else C.xa=tt[1],0<C.xa-C.K&&tt[2]<37500&&C.F&&C.A==0&&!C.C&&(C.C=Gi(N(C.Va,C),6e3));Ne(C.h)<=1&&C.ta&&(C.ta=void 0)}else or(C,11)}else if((E.L||C.g==E)&&fn(C),!V(y))for(tt=C.Ba.g.parse(y),y=0;y<tt.length;y++){let Me=tt[y];const tn=Me[0];if(!(tn<=C.K))if(C.K=tn,Me=Me[1],C.I==2)if(Me[0]=="c"){C.M=Me[1],C.ba=Me[2];const kn=Me[3];kn!=null&&(C.ka=kn,C.j.info("VER="+C.ka));const ur=Me[4];ur!=null&&(C.za=ur,C.j.info("SVER="+C.za));const Wi=Me[5];Wi!=null&&typeof Wi=="number"&&Wi>0&&(M=1.5*Wi,C.O=M,C.j.info("backChannelRequestTimeoutMs_="+M)),M=C;const jn=E.g;if(jn){const Ir=jn.g?jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ir){var ot=M.h;ot.g||Ir.indexOf("spdy")==-1&&Ir.indexOf("quic")==-1&&Ir.indexOf("h2")==-1||(ot.j=ot.l,ot.g=new Set,ot.h&&(Ca(ot,ot.h),ot.h=null))}if(M.G){const Hs=jn.g?jn.g.getResponseHeader("X-HTTP-Session-Id"):null;Hs&&(M.wa=Hs,qt(M.J,M.G,Hs))}}C.I=3,C.l&&C.l.ra(),C.aa&&(C.T=Date.now()-E.F,C.j.info("Handshake RTT: "+C.T+"ms")),M=C;var Nt=E;if(M.na=al(M,M.L?M.ba:null,M.W),Nt.L){_e(M.h,Nt);var Yt=Nt,rn=M.O;rn&&(Yt.H=rn),Yt.D&&($e(Yt),sr(Yt)),M.g=Nt}else qi(M);C.i.length>0&&lr(C)}else Me[0]!="stop"&&Me[0]!="close"||or(C,7);else C.I==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?or(C,7):Us(C):Me[0]!="noop"&&C.l&&C.l.qa(Me),C.A=0)}}Vi(4)}catch{}}var un=class{constructor(E,y){this.g=E,this.map=y}};function yt(E){this.l=E||10,I.PerformanceNavigationTiming?(E=I.performance.getEntriesByType("navigation"),E=E.length>0&&(E[0].nextHopProtocol=="hq"||E[0].nextHopProtocol=="h2")):E=!!(I.chrome&&I.chrome.loadTimes&&I.chrome.loadTimes()&&I.chrome.loadTimes().wasFetchedViaSpdy),this.j=E?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Sa(E){return E.h?!0:E.g?E.g.size>=E.j:!1}function Ne(E){return E.h?1:E.g?E.g.size:0}function ei(E,y){return E.h?E.h==y:E.g?E.g.has(y):!1}function Ca(E,y){E.g?E.g.add(y):E.h=y}function _e(E,y){E.h&&E.h==y?E.h=null:E.g&&E.g.has(y)&&E.g.delete(y)}yt.prototype.cancel=function(){if(this.i=Ee(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const E of this.g.values())E.cancel();this.g.clear()}};function Ee(E){if(E.h!=null)return E.i.concat(E.h.G);if(E.g!=null&&E.g.size!==0){let y=E.i;for(const C of E.g.values())y=y.concat(C.G);return y}return $(E.i)}var ae=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Lr(E,y){if(E){E=E.split("&");for(let C=0;C<E.length;C++){const M=E[C].indexOf("=");let tt,ot=null;M>=0?(tt=E[C].substring(0,M),ot=E[C].substring(M+1)):tt=E[C],y(tt,ot?decodeURIComponent(ot.replace(/\+/g," ")):"")}}}function ni(E){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;E instanceof ni?(this.l=E.l,de(this,E.j),this.o=E.o,this.g=E.g,ii(this,E.u),this.h=E.h,Ia(this,ba(E.i)),this.m=E.m):E&&(y=String(E).match(ae))?(this.l=!1,de(this,y[1]||"",!0),this.o=ar(y[2]||""),this.g=ar(y[3]||"",!0),ii(this,y[4]),this.h=ar(y[5]||"",!0),Ia(this,y[6]||"",!0),this.m=ar(y[7]||"")):(this.l=!1,this.i=new bn(null,this.l))}ni.prototype.toString=function(){const E=[];var y=this.j;y&&E.push(Ni(y,mn,!0),":");var C=this.g;return(C||y=="file")&&(E.push("//"),(y=this.o)&&E.push(Ni(y,mn,!0),"@"),E.push(Qn(C).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.u,C!=null&&E.push(":",String(C))),(C=this.h)&&(this.g&&C.charAt(0)!="/"&&E.push("/"),E.push(Ni(C,C.charAt(0)=="/"?k:nt,!0))),(C=this.i.toString())&&E.push("?",C),(C=this.m)&&E.push("#",Ni(C,pn)),E.join("")},ni.prototype.resolve=function(E){const y=cn(this);let C=!!E.j;C?de(y,E.j):C=!!E.o,C?y.o=E.o:C=!!E.g,C?y.g=E.g:C=E.u!=null;var M=E.h;if(C)ii(y,E.u);else if(C=!!E.h){if(M.charAt(0)!="/")if(this.g&&!this.h)M="/"+M;else{var tt=y.h.lastIndexOf("/");tt!=-1&&(M=y.h.slice(0,tt+1)+M)}if(tt=M,tt==".."||tt==".")M="";else if(tt.indexOf("./")!=-1||tt.indexOf("/.")!=-1){M=tt.lastIndexOf("/",0)==0,tt=tt.split("/");const ot=[];for(let Nt=0;Nt<tt.length;){const Yt=tt[Nt++];Yt=="."?M&&Nt==tt.length&&ot.push(""):Yt==".."?((ot.length>1||ot.length==1&&ot[0]!="")&&ot.pop(),M&&Nt==tt.length&&ot.push("")):(ot.push(Yt),M=!0)}M=ot.join("/")}else M=tt}return C?y.h=M:C=E.i.toString()!=="",C?Ia(y,ba(E.i)):C=!!E.m,C&&(y.m=E.m),y};function cn(E){return new ni(E)}function de(E,y,C){E.j=C?ar(y,!0):y,E.j&&(E.j=E.j.replace(/:$/,""))}function ii(E,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);E.u=y}else E.u=null}function Ia(E,y,C){y instanceof bn?(E.i=y,Ur(E.i,E.l)):(C||(y=Ni(y,Lt)),E.i=new bn(y,E.l))}function qt(E,y,C){E.i.set(y,C)}function hi(E){return qt(E,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),E}function ar(E,y){return E?y?decodeURI(E.replace(/%25/g,"%2525")):decodeURIComponent(E):""}function Ni(E,y,C){return typeof E=="string"?(E=encodeURI(E).replace(y,re),C&&(E=E.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E):null}function re(E){return E=E.charCodeAt(0),"%"+(E>>4&15).toString(16)+(E&15).toString(16)}var mn=/[#\/\?@]/g,nt=/[#\?:]/g,k=/[#\?]/g,Lt=/[#\?@]/g,pn=/#/g;function bn(E,y){this.h=this.g=null,this.i=E||null,this.j=!!y}function di(E){E.g||(E.g=new Map,E.h=0,E.i&&Lr(E.i,function(y,C){E.add(decodeURIComponent(y.replace(/\+/g," ")),C)}))}o=bn.prototype,o.add=function(E,y){di(this),this.i=null,E=Br(this,E);let C=this.g.get(E);return C||this.g.set(E,C=[]),C.push(y),this.h+=1,this};function Bs(E,y){di(E),y=Br(E,y),E.g.has(y)&&(E.i=null,E.h-=E.g.get(y).length,E.g.delete(y))}function Yn(E,y){return di(E),y=Br(E,y),E.g.has(y)}o.forEach=function(E,y){di(this),this.g.forEach(function(C,M){C.forEach(function(tt){E.call(y,tt,M,this)},this)},this)};function Ht(E,y){di(E);let C=[];if(typeof y=="string")Yn(E,y)&&(C=C.concat(E.g.get(Br(E,y))));else for(E=Array.from(E.g.values()),y=0;y<E.length;y++)C=C.concat(E[y]);return C}o.set=function(E,y){return di(this),this.i=null,E=Br(this,E),Yn(this,E)&&(this.h-=this.g.get(E).length),this.g.set(E,[y]),this.h+=1,this},o.get=function(E,y){return E?(E=Ht(this,E),E.length>0?String(E[0]):y):y};function Fe(E,y,C){Bs(E,y),C.length>0&&(E.i=null,E.g.set(Br(E,y),$(C)),E.h+=C.length)}o.toString=function(){if(this.i)return this.i;if(!this.g)return"";const E=[],y=Array.from(this.g.keys());for(let M=0;M<y.length;M++){var C=y[M];const tt=Qn(C);C=Ht(this,C);for(let ot=0;ot<C.length;ot++){let Nt=tt;C[ot]!==""&&(Nt+="="+Qn(C[ot])),E.push(Nt)}}return this.i=E.join("&")};function ba(E){const y=new bn;return y.i=E.i,E.g&&(y.g=new Map(E.g),y.h=E.h),y}function Br(E,y){return y=String(y),E.j&&(y=y.toLowerCase()),y}function Ur(E,y){y&&!E.j&&(di(E),E.i=null,E.g.forEach(function(C,M){const tt=M.toLowerCase();M!=tt&&(Bs(this,M),Fe(this,tt,C))},E)),E.j=y}function gi(E,y){const C=new En;if(I.Image){const M=new Image;M.onload=U(vi,C,"TestLoadImage: loaded",!0,y,M),M.onerror=U(vi,C,"TestLoadImage: error",!1,y,M),M.onabort=U(vi,C,"TestLoadImage: abort",!1,y,M),M.ontimeout=U(vi,C,"TestLoadImage: timeout",!1,y,M),I.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=E}else y(!1)}function Jr(E,y){const C=new En,M=new AbortController,tt=setTimeout(()=>{M.abort(),vi(C,"TestPingServer: timeout",!1,y)},1e4);fetch(E,{signal:M.signal}).then(ot=>{clearTimeout(tt),ot.ok?vi(C,"TestPingServer: ok",!0,y):vi(C,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(tt),vi(C,"TestPingServer: error",!1,y)})}function vi(E,y,C,M,tt){try{tt&&(tt.onload=null,tt.onerror=null,tt.onabort=null,tt.ontimeout=null),M(C)}catch{}}function Ze(){this.g=new wa}function Ei(E){this.i=E.Sb||null,this.h=E.ab||!1}B(Ei,Zr),Ei.prototype.g=function(){return new mi(this.i,this.h)};function mi(E,y){Gt.call(this),this.H=E,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}B(mi,Gt),o=mi.prototype,o.open=function(E,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=E,this.D=y,this.readyState=1,jt(this)},o.send=function(E){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};E&&(y.body=E),(this.H||I).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},o.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Pr(this)),this.readyState=0},o.Pa=function(E){if(this.g&&(this.l=E,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=E.headers,this.readyState=2,jt(this)),this.g&&(this.readyState=3,jt(this),this.g)))if(this.responseType==="arraybuffer")E.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof I.ReadableStream<"u"&&"body"in E){if(this.j=E.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Vt(this)}else E.text().then(this.Oa.bind(this),this.ga.bind(this))};function Vt(E){E.j.read().then(E.Ma.bind(E)).catch(E.ga.bind(E))}o.Ma=function(E){if(this.g){if(this.o&&E.value)this.response.push(E.value);else if(!this.o){var y=E.value?E.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!E.done}))&&(this.response=this.responseText+=y)}E.done?Pr(this):jt(this),this.readyState==3&&Vt(this)}},o.Oa=function(E){this.g&&(this.response=this.responseText=E,Pr(this))},o.Na=function(E){this.g&&(this.response=E,Pr(this))},o.ga=function(){this.g&&Pr(this)};function Pr(E){E.readyState=4,E.l=null,E.j=null,E.B=null,jt(E)}o.setRequestHeader=function(E,y){this.A.append(E,y)},o.getResponseHeader=function(E){return this.h&&this.h.get(E.toLowerCase())||""},o.getAllResponseHeaders=function(){if(!this.h)return"";const E=[],y=this.h.entries();for(var C=y.next();!C.done;)C=C.value,E.push(C[0]+": "+C[1]),C=y.next();return E.join(`\r
`)};function jt(E){E.onreadystatechange&&E.onreadystatechange.call(E)}Object.defineProperty(mi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(E){this.m=E?"include":"same-origin"}});function He(E){let y="";return Jt(E,function(C,M){y+=M,y+=":",y+=C,y+=`\r
`}),y}function $r(E,y,C){t:{for(M in C){var M=!1;break t}M=!0}M||(C=He(C),typeof E=="string"?C!=null&&Qn(C):qt(E,y,C))}function Ue(E){Gt.call(this),this.headers=new Map,this.L=E||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}B(Ue,Gt);var Yi=/^https?$/i,ji=["POST","PUT"];o=Ue.prototype,o.Fa=function(E){this.H=E},o.ea=function(E,y,C,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+E);y=y?y.toUpperCase():"GET",this.D=E,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Qr.g(),this.g.onreadystatechange=G(N(this.Ca,this));try{this.B=!0,this.g.open(y,String(E),!0),this.B=!1}catch(ot){ts(this,ot);return}if(E=C||"",C=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var tt in M)C.set(tt,M[tt]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const ot of M.keys())C.set(ot,M.get(ot));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(C.keys()).find(ot=>ot.toLowerCase()=="content-type"),tt=I.FormData&&E instanceof I.FormData,!(Array.prototype.indexOf.call(ji,y,void 0)>=0)||M||tt||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ot,Nt]of C)this.g.setRequestHeader(ot,Nt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(E),this.v=!1}catch(ot){ts(this,ot)}};function ts(E,y){E.h=!1,E.g&&(E.j=!0,E.g.abort(),E.j=!1),E.l=y,E.o=5,Tr(E),xi(E)}function Tr(E){E.A||(E.A=!0,ln(E,"complete"),ln(E,"error"))}o.abort=function(E){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=E||7,ln(this,"complete"),ln(this,"abort"),xi(this))},o.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xi(this,!0)),Ue.Z.N.call(this)},o.Ca=function(){this.u||(this.B||this.v||this.j?Xi(this):this.Xa())},o.Xa=function(){Xi(this)};function Xi(E){if(E.h&&typeof T<"u"){if(E.v&&Ri(E)==4)setTimeout(E.Ca.bind(E),0);else if(ln(E,"readystatechange"),Ri(E)==4){E.h=!1;try{const ot=E.ca();t:switch(ot){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var C;if(!(C=y)){var M;if(M=ot===0){let Nt=String(E.D).match(ae)[1]||null;!Nt&&I.self&&I.self.location&&(Nt=I.self.location.protocol.slice(0,-1)),M=!Yi.test(Nt?Nt.toLowerCase():"")}C=M}if(C)ln(E,"complete"),ln(E,"success");else{E.o=6;try{var tt=Ri(E)>2?E.g.statusText:""}catch{tt=""}E.l=tt+" ["+E.ca()+"]",Tr(E)}}finally{xi(E)}}}}function xi(E,y){if(E.g){E.m&&(clearTimeout(E.m),E.m=null);const C=E.g;E.g=null,y||ln(E,"ready");try{C.onreadystatechange=null}catch{}}}o.isActive=function(){return!!this.g};function Ri(E){return E.g?E.g.readyState:0}o.ca=function(){try{return Ri(this)>2?this.g.status:-1}catch{return-1}},o.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},o.La=function(E){if(this.g){var y=this.g.responseText;return E&&y.indexOf(E)==0&&(y=y.substring(E.length)),Un(y)}};function An(E){try{if(!E.g)return null;if("response"in E.g)return E.g.response;switch(E.F){case"":case"text":return E.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in E.g)return E.g.mozResponseArrayBuffer}return null}catch{return null}}function yi(E){const y={};E=(E.g&&Ri(E)>=2&&E.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<E.length;M++){if(V(E[M]))continue;var C=Jn(E[M]);const tt=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const ot=y[tt]||[];y[tt]=ot,ot.push(C)}ie(y,function(M){return M.join(", ")})}o.ya=function(){return this.o},o.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function nn(E,y,C){return C&&C.internalChannelParams&&C.internalChannelParams[E]||y}function Sr(E){this.za=0,this.i=[],this.j=new En,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=nn("failFast",!1,E),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=nn("baseRetryDelayMs",5e3,E),this.Za=nn("retryDelaySeedMs",1e4,E),this.Ta=nn("forwardChannelMaxRetries",2,E),this.va=nn("forwardChannelRequestTimeoutMs",2e4,E),this.ma=E&&E.xmlHttpFactory||void 0,this.Ua=E&&E.Rb||void 0,this.Aa=E&&E.useFetchStreams||!1,this.O=void 0,this.L=E&&E.supportsCrossDomainXhr||!1,this.M="",this.h=new yt(E&&E.concurrentRequestLimit),this.Ba=new Ze,this.S=E&&E.fastHandshake||!1,this.R=E&&E.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=E&&E.Pb||!1,E&&E.ua&&this.j.ua(),E&&E.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&E&&E.detectBufferingProxy||!1,this.ia=void 0,E&&E.longPollingTimeout&&E.longPollingTimeout>0&&(this.ia=E.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}o=Sr.prototype,o.ka=8,o.I=1,o.connect=function(E,y,C,M){je(0),this.W=E,this.H=y||{},C&&M!==void 0&&(this.H.OSID=C,this.H.OAID=M),this.F=this.X,this.J=al(this,null,this.W),lr(this)};function Us(E){if(Ps(E),E.I==3){var y=E.V++,C=cn(E.J);if(qt(C,"SID",E.M),qt(C,"RID",y),qt(C,"TYPE","terminate"),kr(E,C),y=new vt(E,E.j,y),y.M=2,y.A=hi(cn(C)),C=!1,I.navigator&&I.navigator.sendBeacon)try{C=I.navigator.sendBeacon(y.A.toString(),"")}catch{}!C&&I.Image&&(new Image().src=y.A,C=!0),C||(y.g=Fs(y.j,null),y.g.ea(y.A)),y.F=Date.now(),sr(y)}sl(E)}function Cr(E){E.g&&(ut(E),E.g.cancel(),E.g=null)}function Ps(E){Cr(E),E.v&&(I.clearTimeout(E.v),E.v=null),fn(E),E.h.cancel(),E.m&&(typeof E.m=="number"&&I.clearTimeout(E.m),E.m=null)}function lr(E){if(!Sa(E.h)&&!E.m){E.m=!0;var y=E.Ea;ue||H(),Ft||(ue(),Ft=!0),P.add(y,E),E.D=0}}function ks(E,y){return Ne(E.h)>=E.h.j-(E.m?1:0)?!1:E.m?(E.i=y.G.concat(E.i),!0):E.I==1||E.I==2||E.D>=(E.Sa?0:E.Ta)?!1:(E.m=Gi(N(E.Ea,E,y),Oa(E,E.D)),E.D++,!0)}o.Ea=function(E){if(this.m)if(this.m=null,this.I==1){if(!E){this.V=Math.floor(Math.random()*1e5),E=this.V++;const tt=new vt(this,this.j,E);let ot=this.o;if(this.U&&(ot?(ot=K(ot),bt(ot,this.U)):ot=this.U),this.u!==null||this.R||(tt.J=ot,ot=null),this.S)t:{for(var y=0,C=0;C<this.i.length;C++){e:{var M=this.i[C];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break e}M=void 0}if(M===void 0)break;if(y+=M,y>4096){y=C;break t}if(y===4096||C===this.i.length-1){y=C+1;break t}}y=1e3}else y=1e3;y=es(this,tt,y),C=cn(this.J),qt(C,"RID",E),qt(C,"CVER",22),this.G&&qt(C,"X-HTTP-Session-Id",this.G),kr(this,C),ot&&(this.R?y="headers="+Qn(He(ot))+"&"+y:this.u&&$r(C,this.u,ot)),Ca(this.h,tt),this.Ra&&qt(C,"TYPE","init"),this.S?(qt(C,"$req",y),qt(C,"SID","null"),tt.U=!0,$n(tt,C,null)):$n(tt,C,y),this.I=2}}else this.I==3&&(E?Se(this,E):this.i.length==0||Sa(this.h)||Se(this))};function Se(E,y){var C;y?C=y.l:C=E.V++;const M=cn(E.J);qt(M,"SID",E.M),qt(M,"RID",C),qt(M,"AID",E.K),kr(E,M),E.u&&E.o&&$r(M,E.u,E.o),C=new vt(E,E.j,C,E.D+1),E.u===null&&(C.J=E.o),y&&(E.i=y.G.concat(E.i)),y=es(E,C,1e3),C.H=Math.round(E.va*.5)+Math.round(E.va*.5*Math.random()),Ca(E.h,C),$n(C,M,y)}function kr(E,y){E.H&&Jt(E.H,function(C,M){qt(y,M,C)}),E.l&&Jt({},function(C,M){qt(y,M,C)})}function es(E,y,C){C=Math.min(E.i.length,C);const M=E.l?N(E.l.Ka,E.l,E):null;t:{var tt=E.i;let Yt=-1;for(;;){const rn=["count="+C];Yt==-1?C>0?(Yt=tt[0].g,rn.push("ofs="+Yt)):Yt=0:rn.push("ofs="+Yt);let Me=!0;for(let tn=0;tn<C;tn++){var ot=tt[tn].g;const kn=tt[tn].map;if(ot-=Yt,ot<0)Yt=Math.max(0,tt[tn].g-100),Me=!1;else try{ot="req"+ot+"_"||"";try{var Nt=kn instanceof Map?kn:Object.entries(kn);for(const[ur,Wi]of Nt){let jn=Wi;z(Wi)&&(jn=Kn(Wi)),rn.push(ot+ur+"="+encodeURIComponent(jn))}}catch(ur){throw rn.push(ot+"type="+encodeURIComponent("_badmap")),ur}}catch{M&&M(kn)}}if(Me){Nt=rn.join("&");break t}}Nt=void 0}return E=E.i.splice(0,C),y.G=E,Nt}function qi(E){if(!E.g&&!E.v){E.Y=1;var y=E.Da;ue||H(),Ft||(ue(),Ft=!0),P.add(y,E),E.A=0}}function ns(E){return E.g||E.v||E.A>=3?!1:(E.Y++,E.v=Gi(N(E.Da,E),Oa(E,E.A)),E.A++,!0)}o.Da=function(){if(this.v=null,te(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var E=4*this.T;this.j.info("BP detection timer enabled: "+E),this.B=Gi(N(this.Wa,this),E)}},o.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,je(10),Cr(this),te(this))};function ut(E){E.B!=null&&(I.clearTimeout(E.B),E.B=null)}function te(E){E.g=new vt(E,E.j,"rpc",E.Y),E.u===null&&(E.g.J=E.o),E.g.P=0;var y=cn(E.na);qt(y,"RID","rpc"),qt(y,"SID",E.M),qt(y,"AID",E.K),qt(y,"CI",E.F?"0":"1"),!E.F&&E.ia&&qt(y,"TO",E.ia),qt(y,"TYPE","xmlhttp"),kr(E,y),E.u&&E.o&&$r(y,E.u,E.o),E.O&&(E.g.H=E.O);var C=E.g;E=E.ba,C.M=1,C.A=hi(cn(y)),C.u=null,C.R=!0,wr(C,E)}o.Va=function(){this.C!=null&&(this.C=null,Cr(this),ns(this),je(19))};function fn(E){E.C!=null&&(I.clearTimeout(E.C),E.C=null)}function is(E,y){var C=null;if(E.g==y){fn(E),ut(E),E.g=null;var M=2}else if(ei(E.h,y))C=y.G,_e(E.h,y),M=1;else return;if(E.I!=0){if(y.o)if(M==1){C=y.u?y.u.length:0,y=Date.now()-y.F;var tt=E.D;M=yr(),ln(M,new zi(M,C)),lr(E)}else qi(E);else if(tt=y.m,tt==3||tt==0&&y.X>0||!(M==1&&ks(E,y)||M==2&&ns(E)))switch(C&&C.length>0&&(y=E.h,y.i=y.i.concat(C)),tt){case 1:or(E,5);break;case 4:or(E,10);break;case 3:or(E,6);break;default:or(E,2)}}}function Oa(E,y){let C=E.Qa+Math.floor(Math.random()*E.Za);return E.isActive()||(C*=2),C*y}function or(E,y){if(E.j.info("Error code "+y),y==2){var C=N(E.bb,E),M=E.Ua;const tt=!M;M=new ni(M||"//www.google.com/images/cleardot.gif"),I.location&&I.location.protocol=="http"||de(M,"https"),hi(M),tt?gi(M.toString(),C):Jr(M.toString(),C)}else je(2);E.I=0,E.l&&E.l.pa(y),sl(E),Ps(E)}o.bb=function(E){E?(this.j.info("Successfully pinged google.com"),je(2)):(this.j.info("Failed to ping google.com"),je(1))};function sl(E){if(E.I=0,E.ja=[],E.l){const y=Ee(E.h);(y.length!=0||E.i.length!=0)&&(at(E.ja,y),at(E.ja,E.i),E.h.i.length=0,$(E.i),E.i.length=0),E.l.oa()}}function al(E,y,C){var M=C instanceof ni?cn(C):new ni(C);if(M.g!="")y&&(M.g=y+"."+M.g),ii(M,M.u);else{var tt=I.location;M=tt.protocol,y=y?y+"."+tt.hostname:tt.hostname,tt=+tt.port;const ot=new ni(null);M&&de(ot,M),y&&(ot.g=y),tt&&ii(ot,tt),C&&(ot.h=C),M=ot}return C=E.G,y=E.wa,C&&y&&qt(M,C,y),qt(M,"VER",E.ka),kr(E,M),M}function Fs(E,y,C){if(y&&!E.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=E.Aa&&!E.ma?new Ue(new Ei({ab:C})):new Ue(E.ma),y.Fa(E.L),y}o.isActive=function(){return!!this.l&&this.l.isActive(this)};function hn(){}o=hn.prototype,o.ra=function(){},o.qa=function(){},o.pa=function(){},o.oa=function(){},o.isActive=function(){return!0},o.Ka=function(){};function vn(E,y){Gt.call(this),this.g=new Sr(y),this.l=E,this.h=y&&y.messageUrlParams||null,E=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(E?E["X-Client-Protocol"]="webchannel":E={"X-Client-Protocol":"webchannel"}),this.g.o=E,E=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(E?E["X-WebChannel-Content-Type"]=y.messageContentType:E={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(E?E["X-WebChannel-Client-Profile"]=y.sa:E={"X-WebChannel-Client-Profile":y.sa}),this.g.U=E,(E=y&&y.Qb)&&!V(E)&&(this.g.u=E),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!V(y)&&(this.g.G=y,E=this.h,E!==null&&y in E&&(E=this.h,y in E&&delete E[y])),this.j=new pi(this)}B(vn,Gt),vn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){Us(this.g)},vn.prototype.o=function(E){var y=this.g;if(typeof E=="string"){var C={};C.__data__=E,E=C}else this.v&&(C={},C.__data__=Kn(E),E=C);y.i.push(new un(y.Ya++,E)),y.I==3&&lr(y)},vn.prototype.N=function(){this.g.l=null,delete this.j,Us(this.g),delete this.g,vn.Z.N.call(this)};function Qe(E){Tt.call(this),E.__headers__&&(this.headers=E.__headers__,this.statusCode=E.__status__,delete E.__headers__,delete E.__status__);var y=E.__sm__;if(y){t:{for(const C in y){E=C;break t}E=void 0}(this.i=E)&&(E=this.i,y=y!==null&&E in y?y[E]:void 0),this.data=y}else this.data=E}B(Qe,Tt);function rs(){De.call(this),this.status=1}B(rs,De);function pi(E){this.g=E}B(pi,hn),pi.prototype.ra=function(){ln(this.g,"a")},pi.prototype.qa=function(E){ln(this.g,new Qe(E))},pi.prototype.pa=function(E){ln(this.g,new rs)},pi.prototype.oa=function(){ln(this.g,"b")},vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,Ms.NO_ERROR=0,Ms.TIMEOUT=8,Ms.HTTP_ERROR=6,rr.COMPLETE="complete",Zl.EventType=Re,Re.OPEN="a",Re.CLOSE="b",Re.ERROR="c",Re.MESSAGE="d",Gt.prototype.listen=Gt.prototype.J,Ue.prototype.listenOnce=Ue.prototype.K,Ue.prototype.getLastError=Ue.prototype.Ha,Ue.prototype.getLastErrorCode=Ue.prototype.ya,Ue.prototype.getStatus=Ue.prototype.ca,Ue.prototype.getResponseJson=Ue.prototype.La,Ue.prototype.getResponseText=Ue.prototype.la,Ue.prototype.send=Ue.prototype.ea,Ue.prototype.setWithCredentials=Ue.prototype.Fa}).apply(typeof sc<"u"?sc:typeof self<"u"?self:typeof window<"u"?window:{});const Kg="@firebase/firestore",Zg="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(s){this.uid=s}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(s){return s.uid===this.uid}}Ci.UNAUTHENTICATED=new Ci(null),Ci.GOOGLE_CREDENTIALS=new Ci("google-credentials-uid"),Ci.FIRST_PARTY=new Ci("first-party-uid"),Ci.MOCK_USER=new Ci("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ko="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl=new s1("@firebase/firestore");function Dr(o,...s){if(jl.logLevel<=ze.DEBUG){const f=s.map(u1);jl.debug(`Firestore (${Ko}): ${o}`,...f)}}function am(o,...s){if(jl.logLevel<=ze.ERROR){const f=s.map(u1);jl.error(`Firestore (${Ko}): ${o}`,...f)}}function L_(o,...s){if(jl.logLevel<=ze.WARN){const f=s.map(u1);jl.warn(`Firestore (${Ko}): ${o}`,...f)}}function u1(o){if(typeof o=="string")return o;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(f){return JSON.stringify(f)})(o)}catch{return o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yo(o,s,f){let g="Unexpected state";typeof s=="string"?g=s:f=s,lm(o,g,f)}function lm(o,s,f){let g=`FIRESTORE (${Ko}) INTERNAL ASSERTION FAILED: ${s} (ID: ${o.toString(16)})`;if(f!==void 0)try{g+=" CONTEXT: "+JSON.stringify(f)}catch{g+=" CONTEXT: "+f}throw am(g),new Error(g)}function ko(o,s,f,g){let _="Unexpected state";typeof f=="string"?_=f:g=f,o||lm(s,_,g)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ie={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class be extends Ns{constructor(s,f){super(s,f),this.code=s,this.message=f,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(){this.promise=new Promise(((s,f)=>{this.resolve=s,this.reject=f}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(s,f){this.user=f,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${s}`)}}class B_{getToken(){return Promise.resolve(null)}invalidateToken(){}start(s,f){s.enqueueRetryable((()=>f(Ci.UNAUTHENTICATED)))}shutdown(){}}class U_{constructor(s){this.token=s,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(s,f){this.changeListener=f,s.enqueueRetryable((()=>f(this.token.user)))}shutdown(){this.changeListener=null}}class P_{constructor(s){this.t=s,this.currentUser=Ci.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(s,f){ko(this.o===void 0,42304);let g=this.i;const _=v=>this.i!==g?(g=this.i,f(v)):Promise.resolve();let T=new Fo;this.o=()=>{this.i++,this.currentUser=this.u(),T.resolve(),T=new Fo,s.enqueueRetryable((()=>_(this.currentUser)))};const I=()=>{const v=T;s.enqueueRetryable((async()=>{await v.promise,await _(this.currentUser)}))},z=v=>{Dr("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),I())};this.t.onInit((v=>z(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?z(v):(Dr("FirebaseAuthCredentialsProvider","Auth not yet detected"),T.resolve(),T=new Fo)}}),0),I()}getToken(){const s=this.i,f=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(f).then((g=>this.i!==s?(Dr("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):g?(ko(typeof g.accessToken=="string",31837,{l:g}),new om(g.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const s=this.auth&&this.auth.getUid();return ko(s===null||typeof s=="string",2055,{h:s}),new Ci(s)}}class k_{constructor(s,f,g){this.P=s,this.T=f,this.I=g,this.type="FirstParty",this.user=Ci.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const s=this.R();return s&&this.A.set("Authorization",s),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class F_{constructor(s,f,g){this.P=s,this.T=f,this.I=g}getToken(){return Promise.resolve(new k_(this.P,this.T,this.I))}start(s,f){s.enqueueRetryable((()=>f(Ci.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Qg{constructor(s){this.value=s,this.type="AppCheck",this.headers=new Map,s&&s.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class H_{constructor(s,f){this.V=f,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xr(s)&&s.settings.appCheckToken&&(this.p=s.settings.appCheckToken)}start(s,f){ko(this.o===void 0,3512);const g=T=>{T.error!=null&&Dr("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${T.error.message}`);const I=T.token!==this.m;return this.m=T.token,Dr("FirebaseAppCheckTokenProvider",`Received ${I?"new":"existing"} token.`),I?f(T.token):Promise.resolve()};this.o=T=>{s.enqueueRetryable((()=>g(T)))};const _=T=>{Dr("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=T,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((T=>_(T))),setTimeout((()=>{if(!this.appCheck){const T=this.V.getImmediate({optional:!0});T?_(T):Dr("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Qg(this.p));const s=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(s).then((f=>f?(ko(typeof f.token=="string",44558,{tokenResult:f}),this.m=f.token,new Qg(f.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V_(o){const s=typeof self<"u"&&(self.crypto||self.msCrypto),f=new Uint8Array(o);if(s&&typeof s.getRandomValues=="function")s.getRandomValues(f);else for(let g=0;g<o;g++)f[g]=Math.floor(256*Math.random());return f}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{static newId(){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",f=62*Math.floor(4.129032258064516);let g="";for(;g.length<20;){const _=V_(40);for(let T=0;T<_.length;++T)g.length<20&&_[T]<f&&(g+=s.charAt(_[T]%62))}return g}}function xa(o,s){return o<s?-1:o>s?1:0}function G_(o,s){const f=Math.min(o.length,s.length);for(let g=0;g<f;g++){const _=o.charAt(g),T=s.charAt(g);if(_!==T)return Bh(_)===Bh(T)?xa(_,T):Bh(_)?1:-1}return xa(o.length,s.length)}const Y_=55296,j_=57343;function Bh(o){const s=o.charCodeAt(0);return s>=Y_&&s<=j_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jg="__name__";class Yr{constructor(s,f,g){f===void 0?f=0:f>s.length&&Yo(637,{offset:f,range:s.length}),g===void 0?g=s.length-f:g>s.length-f&&Yo(1746,{length:g,range:s.length-f}),this.segments=s,this.offset=f,this.len=g}get length(){return this.len}isEqual(s){return Yr.comparator(this,s)===0}child(s){const f=this.segments.slice(this.offset,this.limit());return s instanceof Yr?s.forEach((g=>{f.push(g)})):f.push(s),this.construct(f)}limit(){return this.offset+this.length}popFirst(s){return s=s===void 0?1:s,this.construct(this.segments,this.offset+s,this.length-s)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(s){return this.segments[this.offset+s]}isEmpty(){return this.length===0}isPrefixOf(s){if(s.length<this.length)return!1;for(let f=0;f<this.length;f++)if(this.get(f)!==s.get(f))return!1;return!0}isImmediateParentOf(s){if(this.length+1!==s.length)return!1;for(let f=0;f<this.length;f++)if(this.get(f)!==s.get(f))return!1;return!0}forEach(s){for(let f=this.offset,g=this.limit();f<g;f++)s(this.segments[f])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(s,f){const g=Math.min(s.length,f.length);for(let _=0;_<g;_++){const T=Yr.compareSegments(s.get(_),f.get(_));if(T!==0)return T}return xa(s.length,f.length)}static compareSegments(s,f){const g=Yr.isNumericId(s),_=Yr.isNumericId(f);return g&&!_?-1:!g&&_?1:g&&_?Yr.extractNumericId(s).compare(Yr.extractNumericId(f)):G_(s,f)}static isNumericId(s){return s.startsWith("__id")&&s.endsWith("__")}static extractNumericId(s){return o1.fromString(s.substring(4,s.length-2))}}class Rr extends Yr{construct(s,f,g){return new Rr(s,f,g)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...s){const f=[];for(const g of s){if(g.indexOf("//")>=0)throw new be(Ie.INVALID_ARGUMENT,`Invalid segment (${g}). Paths must not contain // in them.`);f.push(...g.split("/").filter((_=>_.length>0)))}return new Rr(f)}static emptyPath(){return new Rr([])}}const X_=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wa extends Yr{construct(s,f,g){return new Wa(s,f,g)}static isValidIdentifier(s){return X_.test(s)}canonicalString(){return this.toArray().map((s=>(s=s.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wa.isValidIdentifier(s)||(s="`"+s+"`"),s))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Jg}static keyField(){return new Wa([Jg])}static fromServerFormat(s){const f=[];let g="",_=0;const T=()=>{if(g.length===0)throw new be(Ie.INVALID_ARGUMENT,`Invalid field path (${s}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);f.push(g),g=""};let I=!1;for(;_<s.length;){const z=s[_];if(z==="\\"){if(_+1===s.length)throw new be(Ie.INVALID_ARGUMENT,"Path has trailing escape character: "+s);const v=s[_+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new be(Ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+s);g+=v,_+=2}else z==="`"?(I=!I,_++):z!=="."||I?(g+=z,_++):(T(),_++)}if(T(),I)throw new be(Ie.INVALID_ARGUMENT,"Unterminated ` in path: "+s);return new Wa(f)}static emptyPath(){return new Wa([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(s){this.path=s}static fromPath(s){return new Ka(Rr.fromString(s))}static fromName(s){return new Ka(Rr.fromString(s).popFirst(5))}static empty(){return new Ka(Rr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(s){return this.path.length>=2&&this.path.get(this.path.length-2)===s}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(s){return s!==null&&Rr.comparator(this.path,s.path)===0}toString(){return this.path.toString()}static comparator(s,f){return Rr.comparator(s.path,f.path)}static isDocumentKey(s){return s.length%2==0}static fromSegments(s){return new Ka(new Rr(s.slice()))}}function q_(o,s,f,g){if(s===!0&&g===!0)throw new be(Ie.INVALID_ARGUMENT,`${o} and ${f} cannot be used together.`)}function W_(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}function K_(o){if(o===void 0)return"undefined";if(o===null)return"null";if(typeof o=="string")return o.length>20&&(o=`${o.substring(0,20)}...`),JSON.stringify(o);if(typeof o=="number"||typeof o=="boolean")return""+o;if(typeof o=="object"){if(o instanceof Array)return"an array";{const s=(function(g){return g.constructor?g.constructor.name:null})(o);return s?`a custom ${s} object`:"an object"}}return typeof o=="function"?"a function":Yo(12329,{type:typeof o})}function Z_(o,s){if("_delegate"in o&&(o=o._delegate),!(o instanceof s)){if(s.name===o.constructor.name)throw new be(Ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const f=K_(o);throw new be(Ie.INVALID_ARGUMENT,`Expected type '${s.name}', but it was: ${f}`)}}return o}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(o,s){const f={typeString:o};return s&&(f.value=s),f}function Zo(o,s){if(!W_(o))throw new be(Ie.INVALID_ARGUMENT,"JSON must be an object");let f;for(const g in s)if(s[g]){const _=s[g].typeString,T="value"in s[g]?{value:s[g].value}:void 0;if(!(g in o)){f=`JSON missing required field: '${g}'`;break}const I=o[g];if(_&&typeof I!==_){f=`JSON field '${g}' must be a ${_}.`;break}if(T!==void 0&&I!==T.value){f=`Expected '${g}' field to equal '${T.value}'`;break}}if(f)throw new be(Ie.INVALID_ARGUMENT,f);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $g=-62135596800,t2=1e6;class jr{static now(){return jr.fromMillis(Date.now())}static fromDate(s){return jr.fromMillis(s.getTime())}static fromMillis(s){const f=Math.floor(s/1e3),g=Math.floor((s-1e3*f)*t2);return new jr(f,g)}constructor(s,f){if(this.seconds=s,this.nanoseconds=f,f<0)throw new be(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+f);if(f>=1e9)throw new be(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+f);if(s<$g)throw new be(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+s);if(s>=253402300800)throw new be(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/t2}_compareTo(s){return this.seconds===s.seconds?xa(this.nanoseconds,s.nanoseconds):xa(this.seconds,s.seconds)}isEqual(s){return s.seconds===this.seconds&&s.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:jr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(s){if(Zo(s,jr._jsonSchema))return new jr(s.seconds,s.nanoseconds)}valueOf(){const s=this.seconds-$g;return String(s).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}jr._jsonSchemaVersion="firestore/timestamp/1.0",jr._jsonSchema={type:Bn("string",jr._jsonSchemaVersion),seconds:Bn("number"),nanoseconds:Bn("number")};function Q_(o){return o.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(s){this.binaryString=s}static fromBase64String(s){const f=(function(_){try{return atob(_)}catch(T){throw typeof DOMException<"u"&&T instanceof DOMException?new J_("Invalid base64 string: "+T):T}})(s);return new el(f)}static fromUint8Array(s){const f=(function(_){let T="";for(let I=0;I<_.length;++I)T+=String.fromCharCode(_[I]);return T})(s);return new el(f)}[Symbol.iterator](){let s=0;return{next:()=>s<this.binaryString.length?{value:this.binaryString.charCodeAt(s++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(f){return btoa(f)})(this.binaryString)}toUint8Array(){return(function(f){const g=new Uint8Array(f.length);for(let _=0;_<f.length;_++)g[_]=f.charCodeAt(_);return g})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(s){return xa(this.binaryString,s.binaryString)}isEqual(s){return this.binaryString===s.binaryString}}el.EMPTY_BYTE_STRING=new el("");const Xh="(default)";class xc{constructor(s,f){this.projectId=s,this.database=f||Xh}static empty(){return new xc("","")}get isDefaultDatabase(){return this.database===Xh}isEqual(s){return s instanceof xc&&s.projectId===this.projectId&&s.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(s,f=null,g=[],_=[],T=null,I="F",z=null,v=null){this.path=s,this.collectionGroup=f,this.explicitOrderBy=g,this.filters=_,this.limit=T,this.limitType=I,this.startAt=z,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function tx(o){return new $_(o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var e2,Ce;(Ce=e2||(e2={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new o1([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx=1048576;function Uh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(s,f,g=1e3,_=1.5,T=6e4){this.Mi=s,this.timerId=f,this.d_=g,this.A_=_,this.R_=T,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(s){this.cancel();const f=Math.floor(this.V_+this.y_()),g=Math.max(0,Date.now()-this.f_),_=Math.max(0,f-g);_>0&&Dr("ExponentialBackoff",`Backing off for ${_} ms (base delay: ${this.V_} ms, delay with jitter: ${f} ms, last attempt: ${g} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,_,(()=>(this.f_=Date.now(),s()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(s,f,g,_,T){this.asyncQueue=s,this.timerId=f,this.targetTimeMs=g,this.op=_,this.removalCallback=T,this.deferred=new Fo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((I=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(s,f,g,_,T){const I=Date.now()+g,z=new c1(s,f,I,_,T);return z.start(g),z}start(s){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),s)}skipDelay(){return this.handleDelayElapsed()}cancel(s){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(Ie.CANCELLED,"Operation cancelled"+(s?": "+s:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((s=>this.deferred.resolve(s)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var n2,i2;(i2=n2||(n2={})).Ma="default",i2.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx(o){const s={};return o.timeoutSeconds!==void 0&&(s.timeoutSeconds=o.timeoutSeconds),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um="firestore.googleapis.com",s2=!0;class a2{constructor(s){if(s.host===void 0){if(s.ssl!==void 0)throw new be(Ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=um,this.ssl=s2}else this.host=s.host,this.ssl=s.ssl??s2;if(this.isUsingEmulator=s.emulatorOptions!==void 0,this.credentials=s.credentials,this.ignoreUndefinedProperties=!!s.ignoreUndefinedProperties,this.localCache=s.localCache,s.cacheSizeBytes===void 0)this.cacheSizeBytes=ex;else{if(s.cacheSizeBytes!==-1&&s.cacheSizeBytes<nx)throw new be(Ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=s.cacheSizeBytes}q_("experimentalForceLongPolling",s.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",s.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!s.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:s.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!s.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rx(s.experimentalLongPollingOptions??{}),(function(g){if(g.timeoutSeconds!==void 0){if(isNaN(g.timeoutSeconds))throw new be(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${g.timeoutSeconds} (must not be NaN)`);if(g.timeoutSeconds<5)throw new be(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${g.timeoutSeconds} (minimum allowed value is 5)`);if(g.timeoutSeconds>30)throw new be(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${g.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!s.useFetchStreams}isEqual(s){return this.host===s.host&&this.ssl===s.ssl&&this.credentials===s.credentials&&this.cacheSizeBytes===s.cacheSizeBytes&&this.experimentalForceLongPolling===s.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===s.experimentalAutoDetectLongPolling&&(function(g,_){return g.timeoutSeconds===_.timeoutSeconds})(this.experimentalLongPollingOptions,s.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===s.ignoreUndefinedProperties&&this.useFetchStreams===s.useFetchStreams}}class cm{constructor(s,f,g,_){this._authCredentials=s,this._appCheckCredentials=f,this._databaseId=g,this._app=_,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new a2({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(Ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(s){if(this._settingsFrozen)throw new be(Ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new a2(s),this._emulatorOptions=s.emulatorOptions||{},s.credentials!==void 0&&(this._authCredentials=(function(g){if(!g)return new B_;switch(g.type){case"firstParty":return new F_(g.sessionIndex||"0",g.iamToken||null,g.authTokenFactory||null);case"provider":return g.client;default:throw new be(Ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(s.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(f){const g=r2.get(f);g&&(Dr("ComponentProvider","Removing Datastore"),r2.delete(f),g.terminate())})(this),Promise.resolve()}}function sx(o,s,f,g={}){var N;o=Z_(o,cm);const _=Xo(s),T=o._getSettings(),I={...T,emulatorOptions:o._getEmulatorOptions()},z=`${s}:${f}`;_&&(JE(`https://${z}`),$E("Firestore",!0)),T.host!==um&&T.host!==z&&L_("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...T,host:z,ssl:_,emulatorOptions:g};if(!$a(v,I)&&(o._setSettings(v),g.mockUserToken)){let U,B;if(typeof g.mockUserToken=="string")U=g.mockUserToken,B=Ci.MOCK_USER;else{U=u3(g.mockUserToken,(N=o._app)==null?void 0:N.options.projectId);const G=g.mockUserToken.sub||g.mockUserToken.user_id;if(!G)throw new be(Ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");B=new Ci(G)}o._authCredentials=new U_(new om(U,B))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(s,f,g){this.converter=f,this._query=g,this.type="query",this.firestore=s}withConverter(s){return new f1(this.firestore,s,this._query)}}class qr{constructor(s,f,g){this.converter=f,this._key=g,this.type="document",this.firestore=s}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new h1(this.firestore,this.converter,this._key.path.popLast())}withConverter(s){return new qr(this.firestore,s,this._key)}toJSON(){return{type:qr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(s,f,g){if(Zo(f,qr._jsonSchema))return new qr(s,g||null,new Ka(Rr.fromString(f.referencePath)))}}qr._jsonSchemaVersion="firestore/documentReference/1.0",qr._jsonSchema={type:Bn("string",qr._jsonSchemaVersion),referencePath:Bn("string")};class h1 extends f1{constructor(s,f,g){super(s,f,tx(g)),this._path=g,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const s=this._path.popLast();return s.isEmpty()?null:new qr(this.firestore,null,new Ka(s))}withConverter(s){return new h1(this.firestore,s,this._path)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2="AsyncQueue";class o2{constructor(s=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ix(this,"async_queue_retry"),this._c=()=>{const g=Uh();g&&Dr(l2,"Visibility state changed to "+g.visibilityState),this.M_.w_()},this.ac=s;const f=Uh();f&&typeof f.addEventListener=="function"&&f.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(s){this.enqueue(s)}enqueueAndForgetEvenWhileRestricted(s){this.uc(),this.cc(s)}enterRestrictedMode(s){if(!this.ec){this.ec=!0,this.sc=s||!1;const f=Uh();f&&typeof f.removeEventListener=="function"&&f.removeEventListener("visibilitychange",this._c)}}enqueue(s){if(this.uc(),this.ec)return new Promise((()=>{}));const f=new Fo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(s().then(f.resolve,f.reject),f.promise))).then((()=>f.promise))}enqueueRetryable(s){this.enqueueAndForget((()=>(this.Xu.push(s),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(s){if(!Q_(s))throw s;Dr(l2,"Operation failed with retryable error: "+s)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(s){const f=this.ac.then((()=>(this.rc=!0,s().catch((g=>{throw this.nc=g,this.rc=!1,am("INTERNAL UNHANDLED ERROR: ",u2(g)),g})).then((g=>(this.rc=!1,g))))));return this.ac=f,f}enqueueAfterDelay(s,f,g){this.uc(),this.oc.indexOf(s)>-1&&(f=0);const _=c1.createAndSchedule(this,s,f,g,(T=>this.hc(T)));return this.tc.push(_),_}uc(){this.nc&&Yo(47125,{Pc:u2(this.nc)})}verifyOperationInProgress(){}async Tc(){let s;do s=this.ac,await s;while(s!==this.ac)}Ic(s){for(const f of this.tc)if(f.timerId===s)return!0;return!1}Ec(s){return this.Tc().then((()=>{this.tc.sort(((f,g)=>f.targetTimeMs-g.targetTimeMs));for(const f of this.tc)if(f.skipDelay(),s!=="all"&&f.timerId===s)break;return this.Tc()}))}dc(s){this.oc.push(s)}hc(s){const f=this.tc.indexOf(s);this.tc.splice(f,1)}}function u2(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),s}class ax extends cm{constructor(s,f,g,_){super(s,f,g,_),this.type="firestore",this._queue=new o2,this._persistenceKey=(_==null?void 0:_.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const s=this._firestoreClient.terminate();this._queue=new o2(s),this._firestoreClient=void 0,await s}}}function lx(o,s){const f=typeof o=="object"?o:im(),g=typeof o=="string"?o:Xh,_=l1(f,"firestore").getImmediate({identifier:g});if(!_._initialized){const T=l3("firestore");T&&sx(_,...T)}return _}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(s){this._byteString=s}static fromBase64String(s){try{return new Ts(el.fromBase64String(s))}catch(f){throw new be(Ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+f)}}static fromUint8Array(s){return new Ts(el.fromUint8Array(s))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(s){return this._byteString.isEqual(s._byteString)}toJSON(){return{type:Ts._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(s){if(Zo(s,Ts._jsonSchema))return Ts.fromBase64String(s.bytes)}}Ts._jsonSchemaVersion="firestore/bytes/1.0",Ts._jsonSchema={type:Bn("string",Ts._jsonSchemaVersion),bytes:Bn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(...s){for(let f=0;f<s.length;++f)if(s[f].length===0)throw new be(Ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wa(s)}isEqual(s){return this._internalPath.isEqual(s._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(s,f){if(!isFinite(s)||s<-90||s>90)throw new be(Ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+s);if(!isFinite(f)||f<-180||f>180)throw new be(Ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+f);this._lat=s,this._long=f}get latitude(){return this._lat}get longitude(){return this._long}isEqual(s){return this._lat===s._lat&&this._long===s._long}_compareTo(s){return xa(this._lat,s._lat)||xa(this._long,s._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Za._jsonSchemaVersion}}static fromJSON(s){if(Zo(s,Za._jsonSchema))return new Za(s.latitude,s.longitude)}}Za._jsonSchemaVersion="firestore/geoPoint/1.0",Za._jsonSchema={type:Bn("string",Za._jsonSchemaVersion),latitude:Bn("number"),longitude:Bn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(s){this._values=(s||[]).map((f=>f))}toArray(){return this._values.map((s=>s))}isEqual(s){return(function(g,_){if(g.length!==_.length)return!1;for(let T=0;T<g.length;++T)if(g[T]!==_[T])return!1;return!0})(this._values,s._values)}toJSON(){return{type:Qa._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(s){if(Zo(s,Qa._jsonSchema)){if(Array.isArray(s.vectorValues)&&s.vectorValues.every((f=>typeof f=="number")))return new Qa(s.vectorValues);throw new be(Ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Qa._jsonSchemaVersion="firestore/vectorValue/1.0",Qa._jsonSchema={type:Bn("string",Qa._jsonSchemaVersion),vectorValues:Bn("object")};const ox=new RegExp("[~\\*/\\[\\]]");function ux(o,s,f){if(s.search(ox)>=0)throw c2(`Invalid field path (${s}). Paths must not contain '~', '*', '/', '[', or ']'`,o);try{return new fm(...s.split("."))._internalPath}catch{throw c2(`Invalid field path (${s}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,o)}}function c2(o,s,f,g,_){let T=`Function ${s}() called with invalid data`;T+=". ";let I="";return new be(Ie.INVALID_ARGUMENT,T+o+I)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(s,f,g,_,T){this._firestore=s,this._userDataWriter=f,this._key=g,this._document=_,this._converter=T}get id(){return this._key.path.lastSegment()}get ref(){return new qr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const s=new cx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(s)}return this._userDataWriter.convertValue(this._document.data.value)}}get(s){if(this._document){const f=this._document.data.field(dm("DocumentSnapshot.get",s));if(f!==null)return this._userDataWriter.convertValue(f)}}}class cx extends hm{data(){return super.data()}}function dm(o,s){return typeof s=="string"?ux(o,s):s instanceof fm?s._internalPath:s._delegate._internalPath}class ac{constructor(s,f){this.hasPendingWrites=s,this.fromCache=f}isEqual(s){return this.hasPendingWrites===s.hasPendingWrites&&this.fromCache===s.fromCache}}class kl extends hm{constructor(s,f,g,_,T,I){super(s,f,g,_,I),this._firestore=s,this._firestoreImpl=s,this.metadata=T}exists(){return super.exists()}data(s={}){if(this._document){if(this._converter){const f=new dc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(f,s)}return this._userDataWriter.convertValue(this._document.data.value,s.serverTimestamps)}}get(s,f={}){if(this._document){const g=this._document.data.field(dm("DocumentSnapshot.get",s));if(g!==null)return this._userDataWriter.convertValue(g,f.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new be(Ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const s=this._document,f={};return f.type=kl._jsonSchemaVersion,f.bundle="",f.bundleSource="DocumentSnapshot",f.bundleName=this._key.toString(),!s||!s.isValidDocument()||!s.isFoundDocument()?f:(this._userDataWriter.convertObjectMap(s.data.value.mapValue.fields,"previous"),f.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),f)}}kl._jsonSchemaVersion="firestore/documentSnapshot/1.0",kl._jsonSchema={type:Bn("string",kl._jsonSchemaVersion),bundleSource:Bn("string","DocumentSnapshot"),bundleName:Bn("string"),bundle:Bn("string")};class dc extends kl{data(s={}){return super.data(s)}}class Ho{constructor(s,f,g,_){this._firestore=s,this._userDataWriter=f,this._snapshot=_,this.metadata=new ac(_.hasPendingWrites,_.fromCache),this.query=g}get docs(){const s=[];return this.forEach((f=>s.push(f))),s}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(s,f){this._snapshot.docs.forEach((g=>{s.call(f,new dc(this._firestore,this._userDataWriter,g.key,g,new ac(this._snapshot.mutatedKeys.has(g.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(s={}){const f=!!s.includeMetadataChanges;if(f&&this._snapshot.excludesMetadataChanges)throw new be(Ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===f||(this._cachedChanges=(function(_,T){if(_._snapshot.oldDocs.isEmpty()){let I=0;return _._snapshot.docChanges.map((z=>{const v=new dc(_._firestore,_._userDataWriter,z.doc.key,z.doc,new ac(_._snapshot.mutatedKeys.has(z.doc.key),_._snapshot.fromCache),_.query.converter);return z.doc,{type:"added",doc:v,oldIndex:-1,newIndex:I++}}))}{let I=_._snapshot.oldDocs;return _._snapshot.docChanges.filter((z=>T||z.type!==3)).map((z=>{const v=new dc(_._firestore,_._userDataWriter,z.doc.key,z.doc,new ac(_._snapshot.mutatedKeys.has(z.doc.key),_._snapshot.fromCache),_.query.converter);let N=-1,U=-1;return z.type!==0&&(N=I.indexOf(z.doc.key),I=I.delete(z.doc.key)),z.type!==1&&(I=I.add(z.doc),U=I.indexOf(z.doc.key)),{type:fx(z.type),doc:v,oldIndex:N,newIndex:U}}))}})(this,f),this._cachedChangesIncludeMetadataChanges=f),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new be(Ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const s={};s.type=Ho._jsonSchemaVersion,s.bundleSource="QuerySnapshot",s.bundleName=z_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const f=[],g=[],_=[];return this.docs.forEach((T=>{T._document!==null&&(f.push(T._document),g.push(this._userDataWriter.convertObjectMap(T._document.data.value.mapValue.fields,"previous")),_.push(T.ref.path))})),s.bundle=(this._firestore,this.query._query,s.bundleName,"NOT SUPPORTED"),s}}function fx(o){switch(o){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Yo(61501,{type:o})}}Ho._jsonSchemaVersion="firestore/querySnapshot/1.0",Ho._jsonSchema={type:Bn("string",Ho._jsonSchemaVersion),bundleSource:Bn("string","QuerySnapshot"),bundleName:Bn("string"),bundle:Bn("string")};(function(s,f=!0){(function(_){Ko=_})(Wl),Yl(new tl("firestore",((g,{instanceIdentifier:_,options:T})=>{const I=g.getProvider("app").getImmediate(),z=new ax(new P_(g.getProvider("auth-internal")),new H_(I,g.getProvider("app-check-internal")),(function(N,U){if(!Object.prototype.hasOwnProperty.apply(N.options,["projectId"]))throw new be(Ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xc(N.options.projectId,U)})(I,_),I);return T={useFetchStreams:f,...T},z._setSettings(T),z}),"PUBLIC").setMultipleInstances(!0)),_a(Kg,Zg,s),_a(Kg,Zg,"esm2020")})();var hx="firebase",dx="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_a(hx,dx,"app");function gm(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gx=gm,Em=new qo("auth","Firebase",gm());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yc=new s1("@firebase/auth");function Ex(o,...s){yc.logLevel<=ze.WARN&&yc.warn(`Auth (${Wl}): ${o}`,...s)}function gc(o,...s){yc.logLevel<=ze.ERROR&&yc.error(`Auth (${Wl}): ${o}`,...s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bs(o,...s){throw d1(o,...s)}function Wr(o,...s){return d1(o,...s)}function mm(o,s,f){const g={...gx(),[s]:f};return new qo("auth","Firebase",g).create(s,{appName:o.name})}function Ja(o){return mm(o,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function d1(o,...s){if(typeof o!="string"){const f=s[0],g=[...s.slice(1)];return g[0]&&(g[0].appName=o.name),o._errorFactory.create(f,...g)}return Em.create(o,...s)}function Qt(o,s,...f){if(!o)throw d1(s,...f)}function Ss(o){const s="INTERNAL ASSERTION FAILED: "+o;throw gc(s),new Error(s)}function Os(o,s){o||Ss(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(){var o;return typeof self<"u"&&((o=self.location)==null?void 0:o.href)||""}function mx(){return f2()==="http:"||f2()==="https:"}function f2(){var o;return typeof self<"u"&&((o=self.location)==null?void 0:o.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mx()||g3()||"connection"in navigator)?navigator.onLine:!0}function Ax(){if(typeof navigator>"u")return null;const o=navigator;return o.languages&&o.languages[0]||o.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(s,f){this.shortDelay=s,this.longDelay=f,Os(f>s,"Short delay should be less than long delay!"),this.isMobile=h3()||E3()}get(){return px()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(o,s){Os(o.emulator,"Emulator should always be set here");const{url:f}=o.emulator;return s?`${f}${s.startsWith("/")?s.slice(1):s}`:f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{static initialize(s,f,g){this.fetchImpl=s,f&&(this.headersImpl=f),g&&(this.responseImpl=g)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ss("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ss("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ss("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],yx=new Qo(3e4,6e4);function E1(o,s){return o.tenantId&&!s.tenantId?{...s,tenantId:o.tenantId}:s}async function Kl(o,s,f,g,_={}){return Am(o,_,async()=>{let T={},I={};g&&(s==="GET"?I=g:T={body:JSON.stringify(g)});const z=Wo({key:o.config.apiKey,...I}).slice(1),v=await o._getAdditionalHeaders();v["Content-Type"]="application/json",o.languageCode&&(v["X-Firebase-Locale"]=o.languageCode);const N={method:s,headers:v,...T};return d3()||(N.referrerPolicy="no-referrer"),o.emulatorConfig&&Xo(o.emulatorConfig.host)&&(N.credentials="include"),pm.fetch()(await _m(o,o.config.apiHost,f,z),N)})}async function Am(o,s,f){o._canInitEmulator=!1;const g={..._x,...s};try{const _=new Tx(o),T=await Promise.race([f(),_.promise]);_.clearNetworkTimeout();const I=await T.json();if("needConfirmation"in I)throw lc(o,"account-exists-with-different-credential",I);if(T.ok&&!("errorMessage"in I))return I;{const z=T.ok?I.errorMessage:I.error.message,[v,N]=z.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw lc(o,"credential-already-in-use",I);if(v==="EMAIL_EXISTS")throw lc(o,"email-already-in-use",I);if(v==="USER_DISABLED")throw lc(o,"user-disabled",I);const U=g[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(N)throw mm(o,U,N);bs(o,U)}}catch(_){if(_ instanceof Ns)throw _;bs(o,"network-request-failed",{message:String(_)})}}async function wx(o,s,f,g,_={}){const T=await Kl(o,s,f,g,_);return"mfaPendingCredential"in T&&bs(o,"multi-factor-auth-required",{_serverResponse:T}),T}async function _m(o,s,f,g){const _=`${s}${f}?${g}`,T=o,I=T.config.emulator?g1(o.config,_):`${o.config.apiScheme}://${_}`;return xx.includes(f)&&(await T._persistenceManagerAvailable,T._getPersistenceType()==="COOKIE")?T._getPersistence()._getFinalTarget(I).toString():I}class Tx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(s){this.auth=s,this.timer=null,this.promise=new Promise((f,g)=>{this.timer=setTimeout(()=>g(Wr(this.auth,"network-request-failed")),yx.get())})}}function lc(o,s,f){const g={appName:o.name};f.email&&(g.email=f.email),f.phoneNumber&&(g.phoneNumber=f.phoneNumber);const _=Wr(o,s,g);return _.customData._tokenResponse=f,_}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sx(o,s){return Kl(o,"POST","/v1/accounts:delete",s)}async function wc(o,s){return Kl(o,"POST","/v1/accounts:lookup",s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vo(o){if(o)try{const s=new Date(Number(o));if(!isNaN(s.getTime()))return s.toUTCString()}catch{}}async function Cx(o,s=!1){const f=ql(o),g=await f.getIdToken(s),_=m1(g);Qt(_&&_.exp&&_.auth_time&&_.iat,f.auth,"internal-error");const T=typeof _.firebase=="object"?_.firebase:void 0,I=T==null?void 0:T.sign_in_provider;return{claims:_,token:g,authTime:Vo(Ph(_.auth_time)),issuedAtTime:Vo(Ph(_.iat)),expirationTime:Vo(Ph(_.exp)),signInProvider:I||null,signInSecondFactor:(T==null?void 0:T.sign_in_second_factor)||null}}function Ph(o){return Number(o)*1e3}function m1(o){const[s,f,g]=o.split(".");if(s===void 0||f===void 0||g===void 0)return gc("JWT malformed, contained fewer than 3 sections"),null;try{const _=WE(f);return _?JSON.parse(_):(gc("Failed to decode base64 JWT payload"),null)}catch(_){return gc("Caught error parsing JWT payload as JSON",_==null?void 0:_.toString()),null}}function h2(o){const s=m1(o);return Qt(s,"internal-error"),Qt(typeof s.exp<"u","internal-error"),Qt(typeof s.iat<"u","internal-error"),Number(s.exp)-Number(s.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jo(o,s,f=!1){if(f)return s;try{return await s}catch(g){throw g instanceof Ns&&Ix(g)&&o.auth.currentUser===o&&await o.auth.signOut(),g}}function Ix({code:o}){return o==="auth/user-disabled"||o==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(s){this.user=s,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(s){if(s){const f=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),f}else{this.errorBackoff=3e4;const g=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,g)}}schedule(s=!1){if(!this.isRunning)return;const f=this.getInterval(s);this.timerId=setTimeout(async()=>{await this.iteration()},f)}async iteration(){try{await this.user.getIdToken(!0)}catch(s){(s==null?void 0:s.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(s,f){this.createdAt=s,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vo(this.lastLoginAt),this.creationTime=Vo(this.createdAt)}_copy(s){this.createdAt=s.createdAt,this.lastLoginAt=s.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tc(o){var B;const s=o.auth,f=await o.getIdToken(),g=await jo(o,wc(s,{idToken:f}));Qt(g==null?void 0:g.users.length,s,"internal-error");const _=g.users[0];o._notifyReloadListener(_);const T=(B=_.providerUserInfo)!=null&&B.length?xm(_.providerUserInfo):[],I=Nx(o.providerData,T),z=o.isAnonymous,v=!(o.email&&_.passwordHash)&&!(I!=null&&I.length),N=z?v:!1,U={uid:_.localId,displayName:_.displayName||null,photoURL:_.photoUrl||null,email:_.email||null,emailVerified:_.emailVerified||!1,phoneNumber:_.phoneNumber||null,tenantId:_.tenantId||null,providerData:I,metadata:new Wh(_.createdAt,_.lastLoginAt),isAnonymous:N};Object.assign(o,U)}async function Ox(o){const s=ql(o);await Tc(s),await s.auth._persistUserIfCurrent(s),s.auth._notifyListenersIfCurrent(s)}function Nx(o,s){return[...o.filter(g=>!s.some(_=>_.providerId===g.providerId)),...s]}function xm(o){return o.map(({providerId:s,...f})=>({providerId:s,uid:f.rawId||"",displayName:f.displayName||null,email:f.email||null,phoneNumber:f.phoneNumber||null,photoURL:f.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vx(o,s){const f=await Am(o,{},async()=>{const g=Wo({grant_type:"refresh_token",refresh_token:s}).slice(1),{tokenApiHost:_,apiKey:T}=o.config,I=await _m(o,_,"/v1/token",`key=${T}`),z=await o._getAdditionalHeaders();z["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:z,body:g};return o.emulatorConfig&&Xo(o.emulatorConfig.host)&&(v.credentials="include"),pm.fetch()(I,v)});return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}}async function Rx(o,s){return Kl(o,"POST","/v2/accounts:revokeToken",E1(o,s))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(s){Qt(s.idToken,"internal-error"),Qt(typeof s.idToken<"u","internal-error"),Qt(typeof s.refreshToken<"u","internal-error");const f="expiresIn"in s&&typeof s.expiresIn<"u"?Number(s.expiresIn):h2(s.idToken);this.updateTokensAndExpiration(s.idToken,s.refreshToken,f)}updateFromIdToken(s){Qt(s.length!==0,"internal-error");const f=h2(s);this.updateTokensAndExpiration(s,null,f)}async getToken(s,f=!1){return!f&&this.accessToken&&!this.isExpired?this.accessToken:(Qt(this.refreshToken,s,"user-token-expired"),this.refreshToken?(await this.refresh(s,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(s,f){const{accessToken:g,refreshToken:_,expiresIn:T}=await vx(s,f);this.updateTokensAndExpiration(g,_,Number(T))}updateTokensAndExpiration(s,f,g){this.refreshToken=f||null,this.accessToken=s||null,this.expirationTime=Date.now()+g*1e3}static fromJSON(s,f){const{refreshToken:g,accessToken:_,expirationTime:T}=f,I=new Fl;return g&&(Qt(typeof g=="string","internal-error",{appName:s}),I.refreshToken=g),_&&(Qt(typeof _=="string","internal-error",{appName:s}),I.accessToken=_),T&&(Qt(typeof T=="number","internal-error",{appName:s}),I.expirationTime=T),I}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(s){this.accessToken=s.accessToken,this.refreshToken=s.refreshToken,this.expirationTime=s.expirationTime}_clone(){return Object.assign(new Fl,this.toJSON())}_performRefresh(){return Ss("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ha(o,s){Qt(typeof o=="string"||typeof o>"u","internal-error",{appName:s})}class Mr{constructor({uid:s,auth:f,stsTokenManager:g,..._}){this.providerId="firebase",this.proactiveRefresh=new bx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=s,this.auth=f,this.stsTokenManager=g,this.accessToken=g.accessToken,this.displayName=_.displayName||null,this.email=_.email||null,this.emailVerified=_.emailVerified||!1,this.phoneNumber=_.phoneNumber||null,this.photoURL=_.photoURL||null,this.isAnonymous=_.isAnonymous||!1,this.tenantId=_.tenantId||null,this.providerData=_.providerData?[..._.providerData]:[],this.metadata=new Wh(_.createdAt||void 0,_.lastLoginAt||void 0)}async getIdToken(s){const f=await jo(this,this.stsTokenManager.getToken(this.auth,s));return Qt(f,this.auth,"internal-error"),this.accessToken!==f&&(this.accessToken=f,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),f}getIdTokenResult(s){return Cx(this,s)}reload(){return Ox(this)}_assign(s){this!==s&&(Qt(this.uid===s.uid,this.auth,"internal-error"),this.displayName=s.displayName,this.photoURL=s.photoURL,this.email=s.email,this.emailVerified=s.emailVerified,this.phoneNumber=s.phoneNumber,this.isAnonymous=s.isAnonymous,this.tenantId=s.tenantId,this.providerData=s.providerData.map(f=>({...f})),this.metadata._copy(s.metadata),this.stsTokenManager._assign(s.stsTokenManager))}_clone(s){const f=new Mr({...this,auth:s,stsTokenManager:this.stsTokenManager._clone()});return f.metadata._copy(this.metadata),f}_onReload(s){Qt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=s,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(s){this.reloadListener?this.reloadListener(s):this.reloadUserInfo=s}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(s,f=!1){let g=!1;s.idToken&&s.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(s),g=!0),f&&await Tc(this),await this.auth._persistUserIfCurrent(this),g&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xr(this.auth.app))return Promise.reject(Ja(this.auth));const s=await this.getIdToken();return await jo(this,Sx(this.auth,{idToken:s})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(s=>({...s})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(s,f){const g=f.displayName??void 0,_=f.email??void 0,T=f.phoneNumber??void 0,I=f.photoURL??void 0,z=f.tenantId??void 0,v=f._redirectEventId??void 0,N=f.createdAt??void 0,U=f.lastLoginAt??void 0,{uid:B,emailVerified:G,isAnonymous:$,providerData:at,stsTokenManager:gt}=f;Qt(B&&gt,s,"internal-error");const ht=Fl.fromJSON(this.name,gt);Qt(typeof B=="string",s,"internal-error"),ha(g,s.name),ha(_,s.name),Qt(typeof G=="boolean",s,"internal-error"),Qt(typeof $=="boolean",s,"internal-error"),ha(T,s.name),ha(I,s.name),ha(z,s.name),ha(v,s.name),ha(N,s.name),ha(U,s.name);const Ut=new Mr({uid:B,auth:s,email:_,emailVerified:G,displayName:g,isAnonymous:$,photoURL:I,phoneNumber:T,tenantId:z,stsTokenManager:ht,createdAt:N,lastLoginAt:U});return at&&Array.isArray(at)&&(Ut.providerData=at.map(Mt=>({...Mt}))),v&&(Ut._redirectEventId=v),Ut}static async _fromIdTokenResponse(s,f,g=!1){const _=new Fl;_.updateFromServerResponse(f);const T=new Mr({uid:f.localId,auth:s,stsTokenManager:_,isAnonymous:g});return await Tc(T),T}static async _fromGetAccountInfoResponse(s,f,g){const _=f.users[0];Qt(_.localId!==void 0,"internal-error");const T=_.providerUserInfo!==void 0?xm(_.providerUserInfo):[],I=!(_.email&&_.passwordHash)&&!(T!=null&&T.length),z=new Fl;z.updateFromIdToken(g);const v=new Mr({uid:_.localId,auth:s,stsTokenManager:z,isAnonymous:I}),N={uid:_.localId,displayName:_.displayName||null,photoURL:_.photoUrl||null,email:_.email||null,emailVerified:_.emailVerified||!1,phoneNumber:_.phoneNumber||null,tenantId:_.tenantId||null,providerData:T,metadata:new Wh(_.createdAt,_.lastLoginAt),isAnonymous:!(_.email&&_.passwordHash)&&!(T!=null&&T.length)};return Object.assign(v,N),v}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2=new Map;function Cs(o){Os(o instanceof Function,"Expected a class definition");let s=d2.get(o);return s?(Os(s instanceof o,"Instance stored in cache mismatched with class"),s):(s=new o,d2.set(o,s),s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(s,f){this.storage[s]=f}async _get(s){const f=this.storage[s];return f===void 0?null:f}async _remove(s){delete this.storage[s]}_addListener(s,f){}_removeListener(s,f){}}ym.type="NONE";const g2=ym;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(o,s,f){return`firebase:${o}:${s}:${f}`}class Hl{constructor(s,f,g){this.persistence=s,this.auth=f,this.userKey=g;const{config:_,name:T}=this.auth;this.fullUserKey=Ec(this.userKey,_.apiKey,T),this.fullPersistenceKey=Ec("persistence",_.apiKey,T),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(s){return this.persistence._set(this.fullUserKey,s.toJSON())}async getCurrentUser(){const s=await this.persistence._get(this.fullUserKey);if(!s)return null;if(typeof s=="string"){const f=await wc(this.auth,{idToken:s}).catch(()=>{});return f?Mr._fromGetAccountInfoResponse(this.auth,f,s):null}return Mr._fromJSON(this.auth,s)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(s){if(this.persistence===s)return;const f=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=s,f)return this.setCurrentUser(f)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(s,f,g="authUser"){if(!f.length)return new Hl(Cs(g2),s,g);const _=(await Promise.all(f.map(async N=>{if(await N._isAvailable())return N}))).filter(N=>N);let T=_[0]||Cs(g2);const I=Ec(g,s.config.apiKey,s.name);let z=null;for(const N of f)try{const U=await N._get(I);if(U){let B;if(typeof U=="string"){const G=await wc(s,{idToken:U}).catch(()=>{});if(!G)break;B=await Mr._fromGetAccountInfoResponse(s,G,U)}else B=Mr._fromJSON(s,U);N!==T&&(z=B),T=N;break}}catch{}const v=_.filter(N=>N._shouldAllowMigration);return!T._shouldAllowMigration||!v.length?new Hl(T,s,g):(T=v[0],z&&await T._set(I,z.toJSON()),await Promise.all(f.map(async N=>{if(N!==T)try{await N._remove(I)}catch{}})),new Hl(T,s,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(o){const s=o.toLowerCase();if(s.includes("opera/")||s.includes("opr/")||s.includes("opios/"))return"Opera";if(Cm(s))return"IEMobile";if(s.includes("msie")||s.includes("trident/"))return"IE";if(s.includes("edge/"))return"Edge";if(wm(s))return"Firefox";if(s.includes("silk/"))return"Silk";if(bm(s))return"Blackberry";if(Om(s))return"Webos";if(Tm(s))return"Safari";if((s.includes("chrome/")||Sm(s))&&!s.includes("edge/"))return"Chrome";if(Im(s))return"Android";{const f=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,g=o.match(f);if((g==null?void 0:g.length)===2)return g[1]}return"Other"}function wm(o=Ii()){return/firefox\//i.test(o)}function Tm(o=Ii()){const s=o.toLowerCase();return s.includes("safari/")&&!s.includes("chrome/")&&!s.includes("crios/")&&!s.includes("android")}function Sm(o=Ii()){return/crios\//i.test(o)}function Cm(o=Ii()){return/iemobile/i.test(o)}function Im(o=Ii()){return/android/i.test(o)}function bm(o=Ii()){return/blackberry/i.test(o)}function Om(o=Ii()){return/webos/i.test(o)}function p1(o=Ii()){return/iphone|ipad|ipod/i.test(o)||/macintosh/i.test(o)&&/mobile/i.test(o)}function Dx(o=Ii()){var s;return p1(o)&&!!((s=window.navigator)!=null&&s.standalone)}function Mx(){return m3()&&document.documentMode===10}function Nm(o=Ii()){return p1(o)||Im(o)||Om(o)||bm(o)||/windows phone/i.test(o)||Cm(o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(o,s=[]){let f;switch(o){case"Browser":f=E2(Ii());break;case"Worker":f=`${E2(Ii())}-${o}`;break;default:f=o}const g=s.length?s.join(","):"FirebaseCore-web";return`${f}/JsCore/${Wl}/${g}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(s){this.auth=s,this.queue=[]}pushCallback(s,f){const g=T=>new Promise((I,z)=>{try{const v=s(T);I(v)}catch(v){z(v)}});g.onAbort=f,this.queue.push(g);const _=this.queue.length-1;return()=>{this.queue[_]=()=>Promise.resolve()}}async runMiddleware(s){if(this.auth.currentUser===s)return;const f=[];try{for(const g of this.queue)await g(s),g.onAbort&&f.push(g.onAbort)}catch(g){f.reverse();for(const _ of f)try{_()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:g==null?void 0:g.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bx(o,s={}){return Kl(o,"GET","/v2/passwordPolicy",E1(o,s))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux=6;class Px{constructor(s){var g;const f=s.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=f.minPasswordLength??Ux,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=s.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((g=s.allowedNonAlphanumericCharacters)==null?void 0:g.join(""))??"",this.forceUpgradeOnSignin=s.forceUpgradeOnSignin??!1,this.schemaVersion=s.schemaVersion}validatePassword(s){const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(s,f),this.validatePasswordCharacterOptions(s,f),f.isValid&&(f.isValid=f.meetsMinPasswordLength??!0),f.isValid&&(f.isValid=f.meetsMaxPasswordLength??!0),f.isValid&&(f.isValid=f.containsLowercaseLetter??!0),f.isValid&&(f.isValid=f.containsUppercaseLetter??!0),f.isValid&&(f.isValid=f.containsNumericCharacter??!0),f.isValid&&(f.isValid=f.containsNonAlphanumericCharacter??!0),f}validatePasswordLengthOptions(s,f){const g=this.customStrengthOptions.minPasswordLength,_=this.customStrengthOptions.maxPasswordLength;g&&(f.meetsMinPasswordLength=s.length>=g),_&&(f.meetsMaxPasswordLength=s.length<=_)}validatePasswordCharacterOptions(s,f){this.updatePasswordCharacterOptionsStatuses(f,!1,!1,!1,!1);let g;for(let _=0;_<s.length;_++)g=s.charAt(_),this.updatePasswordCharacterOptionsStatuses(f,g>="a"&&g<="z",g>="A"&&g<="Z",g>="0"&&g<="9",this.allowedNonAlphanumericCharacters.includes(g))}updatePasswordCharacterOptionsStatuses(s,f,g,_,T){this.customStrengthOptions.containsLowercaseLetter&&(s.containsLowercaseLetter||(s.containsLowercaseLetter=f)),this.customStrengthOptions.containsUppercaseLetter&&(s.containsUppercaseLetter||(s.containsUppercaseLetter=g)),this.customStrengthOptions.containsNumericCharacter&&(s.containsNumericCharacter||(s.containsNumericCharacter=_)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(s.containsNonAlphanumericCharacter||(s.containsNonAlphanumericCharacter=T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(s,f,g,_){this.app=s,this.heartbeatServiceProvider=f,this.appCheckServiceProvider=g,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new m2(this),this.idTokenSubscription=new m2(this),this.beforeStateQueue=new Lx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Em,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=s.name,this.clientVersion=_.sdkClientVersion,this._persistenceManagerAvailable=new Promise(T=>this._resolvePersistenceManagerAvailable=T)}_initializeWithPersistence(s,f){return f&&(this._popupRedirectResolver=Cs(f)),this._initializationPromise=this.queue(async()=>{var g,_,T;if(!this._deleted&&(this.persistenceManager=await Hl.create(this,s),(g=this._resolvePersistenceManagerAvailable)==null||g.call(this),!this._deleted)){if((_=this._popupRedirectResolver)!=null&&_._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(f),this.lastNotifiedUid=((T=this.currentUser)==null?void 0:T.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const s=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!s)){if(this.currentUser&&s&&this.currentUser.uid===s.uid){this._currentUser._assign(s),await this.currentUser.getIdToken();return}await this._updateCurrentUser(s,!0)}}async initializeCurrentUserFromIdToken(s){try{const f=await wc(this,{idToken:s}),g=await Mr._fromGetAccountInfoResponse(this,f,s);await this.directlySetCurrentUser(g)}catch(f){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",f),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(s){var T;if(Xr(this.app)){const I=this.app.settings.authIdToken;return I?new Promise(z=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(I).then(z,z))}):this.directlySetCurrentUser(null)}const f=await this.assertedPersistence.getCurrentUser();let g=f,_=!1;if(s&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const I=(T=this.redirectUser)==null?void 0:T._redirectEventId,z=g==null?void 0:g._redirectEventId,v=await this.tryRedirectSignIn(s);(!I||I===z)&&(v!=null&&v.user)&&(g=v.user,_=!0)}if(!g)return this.directlySetCurrentUser(null);if(!g._redirectEventId){if(_)try{await this.beforeStateQueue.runMiddleware(g)}catch(I){g=f,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(I))}return g?this.reloadAndSetCurrentUserOrClear(g):this.directlySetCurrentUser(null)}return Qt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===g._redirectEventId?this.directlySetCurrentUser(g):this.reloadAndSetCurrentUserOrClear(g)}async tryRedirectSignIn(s){let f=null;try{f=await this._popupRedirectResolver._completeRedirectFn(this,s,!0)}catch{await this._setRedirectUser(null)}return f}async reloadAndSetCurrentUserOrClear(s){try{await Tc(s)}catch(f){if((f==null?void 0:f.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(s)}useDeviceLanguage(){this.languageCode=Ax()}async _delete(){this._deleted=!0}async updateCurrentUser(s){if(Xr(this.app))return Promise.reject(Ja(this));const f=s?ql(s):null;return f&&Qt(f.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(f&&f._clone(this))}async _updateCurrentUser(s,f=!1){if(!this._deleted)return s&&Qt(this.tenantId===s.tenantId,this,"tenant-id-mismatch"),f||await this.beforeStateQueue.runMiddleware(s),this.queue(async()=>{await this.directlySetCurrentUser(s),this.notifyAuthListeners()})}async signOut(){return Xr(this.app)?Promise.reject(Ja(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(s){return Xr(this.app)?Promise.reject(Ja(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Cs(s))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(s){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const f=this._getPasswordPolicyInternal();return f.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):f.validatePassword(s)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const s=await Bx(this),f=new Px(s);this.tenantId===null?this._projectPasswordPolicy=f:this._tenantPasswordPolicies[this.tenantId]=f}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(s){this._errorFactory=new qo("auth","Firebase",s())}onAuthStateChanged(s,f,g){return this.registerStateListener(this.authStateSubscription,s,f,g)}beforeAuthStateChanged(s,f){return this.beforeStateQueue.pushCallback(s,f)}onIdTokenChanged(s,f,g){return this.registerStateListener(this.idTokenSubscription,s,f,g)}authStateReady(){return new Promise((s,f)=>{if(this.currentUser)s();else{const g=this.onAuthStateChanged(()=>{g(),s()},f)}})}async revokeAccessToken(s){if(this.currentUser){const f=await this.currentUser.getIdToken(),g={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:s,idToken:f};this.tenantId!=null&&(g.tenantId=this.tenantId),await Rx(this,g)}}toJSON(){var s;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(s=this._currentUser)==null?void 0:s.toJSON()}}async _setRedirectUser(s,f){const g=await this.getOrInitRedirectPersistenceManager(f);return s===null?g.removeCurrentUser():g.setCurrentUser(s)}async getOrInitRedirectPersistenceManager(s){if(!this.redirectPersistenceManager){const f=s&&Cs(s)||this._popupRedirectResolver;Qt(f,this,"argument-error"),this.redirectPersistenceManager=await Hl.create(this,[Cs(f._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(s){var f,g;return this._isInitialized&&await this.queue(async()=>{}),((f=this._currentUser)==null?void 0:f._redirectEventId)===s?this._currentUser:((g=this.redirectUser)==null?void 0:g._redirectEventId)===s?this.redirectUser:null}async _persistUserIfCurrent(s){if(s===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(s))}_notifyListenersIfCurrent(s){s===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=((f=this.currentUser)==null?void 0:f.uid)??null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(s,f,g,_){if(this._deleted)return()=>{};const T=typeof f=="function"?f:f.next.bind(f);let I=!1;const z=this._isInitialized?Promise.resolve():this._initializationPromise;if(Qt(z,this,"internal-error"),z.then(()=>{I||T(this.currentUser)}),typeof f=="function"){const v=s.addObserver(f,g,_);return()=>{I=!0,v()}}else{const v=s.addObserver(f);return()=>{I=!0,v()}}}async directlySetCurrentUser(s){this.currentUser&&this.currentUser!==s&&this._currentUser._stopProactiveRefresh(),s&&this.isProactiveRefreshEnabled&&s._startProactiveRefresh(),this.currentUser=s,s?await this.assertedPersistence.setCurrentUser(s):await this.assertedPersistence.removeCurrentUser()}queue(s){return this.operations=this.operations.then(s,s),this.operations}get assertedPersistence(){return Qt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(s){!s||this.frameworks.includes(s)||(this.frameworks.push(s),this.frameworks.sort(),this.clientVersion=vm(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var _;const s={"X-Client-Version":this.clientVersion};this.app.options.appId&&(s["X-Firebase-gmpid"]=this.app.options.appId);const f=await((_=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:_.getHeartbeatsHeader());f&&(s["X-Firebase-Client"]=f);const g=await this._getAppCheckToken();return g&&(s["X-Firebase-AppCheck"]=g),s}async _getAppCheckToken(){var f;if(Xr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const s=await((f=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:f.getToken());return s!=null&&s.error&&Ex(`Error while retrieving App Check token: ${s.error}`),s==null?void 0:s.token}}function A1(o){return ql(o)}class m2{constructor(s){this.auth=s,this.observer=null,this.addObserver=T3(f=>this.observer=f)}get next(){return Qt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _1={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Fx(o){_1=o}function Hx(o){return _1.loadJS(o)}function Vx(){return _1.gapiScript}function zx(o){return`__${o}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gx(o,s){const f=l1(o,"auth");if(f.isInitialized()){const _=f.getImmediate(),T=f.getOptions();if($a(T,s??{}))return _;bs(_,"already-initialized")}return f.initialize({options:s})}function Yx(o,s){const f=(s==null?void 0:s.persistence)||[],g=(Array.isArray(f)?f:[f]).map(Cs);s!=null&&s.errorMap&&o._updateErrorMap(s.errorMap),o._initializeWithPersistence(g,s==null?void 0:s.popupRedirectResolver)}function jx(o,s,f){const g=A1(o);Qt(/^https?:\/\//.test(s),g,"invalid-emulator-scheme");const _=!1,T=Rm(s),{host:I,port:z}=Xx(s),v=z===null?"":`:${z}`,N={url:`${T}//${I}${v}/`},U=Object.freeze({host:I,port:z,protocol:T.replace(":",""),options:Object.freeze({disableWarnings:_})});if(!g._canInitEmulator){Qt(g.config.emulator&&g.emulatorConfig,g,"emulator-config-failed"),Qt($a(N,g.config.emulator)&&$a(U,g.emulatorConfig),g,"emulator-config-failed");return}g.config.emulator=N,g.emulatorConfig=U,g.settings.appVerificationDisabledForTesting=!0,Xo(I)?(JE(`${T}//${I}${v}`),$E("Auth",!0)):qx()}function Rm(o){const s=o.indexOf(":");return s<0?"":o.substr(0,s+1)}function Xx(o){const s=Rm(o),f=/(\/\/)?([^?#/]+)/.exec(o.substr(s.length));if(!f)return{host:"",port:null};const g=f[2].split("@").pop()||"",_=/^(\[[^\]]+\])(:|$)/.exec(g);if(_){const T=_[1];return{host:T,port:p2(g.substr(T.length+1))}}else{const[T,I]=g.split(":");return{host:T,port:p2(I)}}}function p2(o){if(!o)return null;const s=Number(o);return isNaN(s)?null:s}function qx(){function o(){const s=document.createElement("p"),f=s.style;s.innerText="Running in emulator mode. Do not use with production credentials.",f.position="fixed",f.width="100%",f.backgroundColor="#ffffff",f.border=".1em solid #000000",f.color="#b50000",f.bottom="0px",f.left="0px",f.margin="0px",f.zIndex="10000",f.textAlign="center",s.classList.add("firebase-emulator-warning"),document.body.appendChild(s)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",o):o())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(s,f){this.providerId=s,this.signInMethod=f}toJSON(){return Ss("not implemented")}_getIdTokenResponse(s){return Ss("not implemented")}_linkToIdToken(s,f){return Ss("not implemented")}_getReauthenticationResolver(s){return Ss("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vl(o,s){return wx(o,"POST","/v1/accounts:signInWithIdp",E1(o,s))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx="http://localhost";class nl extends Dm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(s){const f=new nl(s.providerId,s.signInMethod);return s.idToken||s.accessToken?(s.idToken&&(f.idToken=s.idToken),s.accessToken&&(f.accessToken=s.accessToken),s.nonce&&!s.pendingToken&&(f.nonce=s.nonce),s.pendingToken&&(f.pendingToken=s.pendingToken)):s.oauthToken&&s.oauthTokenSecret?(f.accessToken=s.oauthToken,f.secret=s.oauthTokenSecret):bs("argument-error"),f}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(s){const f=typeof s=="string"?JSON.parse(s):s,{providerId:g,signInMethod:_,...T}=f;if(!g||!_)return null;const I=new nl(g,_);return I.idToken=T.idToken||void 0,I.accessToken=T.accessToken||void 0,I.secret=T.secret,I.nonce=T.nonce,I.pendingToken=T.pendingToken||null,I}_getIdTokenResponse(s){const f=this.buildRequest();return Vl(s,f)}_linkToIdToken(s,f){const g=this.buildRequest();return g.idToken=f,Vl(s,g)}_getReauthenticationResolver(s){const f=this.buildRequest();return f.autoCreate=!1,Vl(s,f)}buildRequest(){const s={requestUri:Wx,returnSecureToken:!0};if(this.pendingToken)s.pendingToken=this.pendingToken;else{const f={};this.idToken&&(f.id_token=this.idToken),this.accessToken&&(f.access_token=this.accessToken),this.secret&&(f.oauth_token_secret=this.secret),f.providerId=this.providerId,this.nonce&&!this.pendingToken&&(f.nonce=this.nonce),s.postBody=Wo(f)}return s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(s){this.providerId=s,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(s){this.defaultLanguageCode=s}setCustomParameters(s){return this.customParameters=s,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo extends Mm{constructor(){super(...arguments),this.scopes=[]}addScope(s){return this.scopes.includes(s)||this.scopes.push(s),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da extends Jo{constructor(){super("facebook.com")}static credential(s){return nl._fromParams({providerId:da.PROVIDER_ID,signInMethod:da.FACEBOOK_SIGN_IN_METHOD,accessToken:s})}static credentialFromResult(s){return da.credentialFromTaggedObject(s)}static credentialFromError(s){return da.credentialFromTaggedObject(s.customData||{})}static credentialFromTaggedObject({_tokenResponse:s}){if(!s||!("oauthAccessToken"in s)||!s.oauthAccessToken)return null;try{return da.credential(s.oauthAccessToken)}catch{return null}}}da.FACEBOOK_SIGN_IN_METHOD="facebook.com";da.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga extends Jo{constructor(){super("google.com"),this.addScope("profile")}static credential(s,f){return nl._fromParams({providerId:ga.PROVIDER_ID,signInMethod:ga.GOOGLE_SIGN_IN_METHOD,idToken:s,accessToken:f})}static credentialFromResult(s){return ga.credentialFromTaggedObject(s)}static credentialFromError(s){return ga.credentialFromTaggedObject(s.customData||{})}static credentialFromTaggedObject({_tokenResponse:s}){if(!s)return null;const{oauthIdToken:f,oauthAccessToken:g}=s;if(!f&&!g)return null;try{return ga.credential(f,g)}catch{return null}}}ga.GOOGLE_SIGN_IN_METHOD="google.com";ga.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea extends Jo{constructor(){super("github.com")}static credential(s){return nl._fromParams({providerId:Ea.PROVIDER_ID,signInMethod:Ea.GITHUB_SIGN_IN_METHOD,accessToken:s})}static credentialFromResult(s){return Ea.credentialFromTaggedObject(s)}static credentialFromError(s){return Ea.credentialFromTaggedObject(s.customData||{})}static credentialFromTaggedObject({_tokenResponse:s}){if(!s||!("oauthAccessToken"in s)||!s.oauthAccessToken)return null;try{return Ea.credential(s.oauthAccessToken)}catch{return null}}}Ea.GITHUB_SIGN_IN_METHOD="github.com";Ea.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma extends Jo{constructor(){super("twitter.com")}static credential(s,f){return nl._fromParams({providerId:ma.PROVIDER_ID,signInMethod:ma.TWITTER_SIGN_IN_METHOD,oauthToken:s,oauthTokenSecret:f})}static credentialFromResult(s){return ma.credentialFromTaggedObject(s)}static credentialFromError(s){return ma.credentialFromTaggedObject(s.customData||{})}static credentialFromTaggedObject({_tokenResponse:s}){if(!s)return null;const{oauthAccessToken:f,oauthTokenSecret:g}=s;if(!f||!g)return null;try{return ma.credential(f,g)}catch{return null}}}ma.TWITTER_SIGN_IN_METHOD="twitter.com";ma.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(s){this.user=s.user,this.providerId=s.providerId,this._tokenResponse=s._tokenResponse,this.operationType=s.operationType}static async _fromIdTokenResponse(s,f,g,_=!1){const T=await Mr._fromIdTokenResponse(s,g,_),I=A2(g);return new Xl({user:T,providerId:I,_tokenResponse:g,operationType:f})}static async _forOperation(s,f,g){await s._updateTokensIfNecessary(g,!0);const _=A2(g);return new Xl({user:s,providerId:_,_tokenResponse:g,operationType:f})}}function A2(o){return o.providerId?o.providerId:"phoneNumber"in o?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc extends Ns{constructor(s,f,g,_){super(f.code,f.message),this.operationType=g,this.user=_,Object.setPrototypeOf(this,Sc.prototype),this.customData={appName:s.name,tenantId:s.tenantId??void 0,_serverResponse:f.customData._serverResponse,operationType:g}}static _fromErrorAndOperation(s,f,g,_){return new Sc(s,f,g,_)}}function Lm(o,s,f,g){return(s==="reauthenticate"?f._getReauthenticationResolver(o):f._getIdTokenResponse(o)).catch(T=>{throw T.code==="auth/multi-factor-auth-required"?Sc._fromErrorAndOperation(o,T,s,g):T})}async function Kx(o,s,f=!1){const g=await jo(o,s._linkToIdToken(o.auth,await o.getIdToken()),f);return Xl._forOperation(o,"link",g)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zx(o,s,f=!1){const{auth:g}=o;if(Xr(g.app))return Promise.reject(Ja(g));const _="reauthenticate";try{const T=await jo(o,Lm(g,_,s,o),f);Qt(T.idToken,g,"internal-error");const I=m1(T.idToken);Qt(I,g,"internal-error");const{sub:z}=I;return Qt(o.uid===z,g,"user-mismatch"),Xl._forOperation(o,_,T)}catch(T){throw(T==null?void 0:T.code)==="auth/user-not-found"&&bs(g,"user-mismatch"),T}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qx(o,s,f=!1){if(Xr(o.app))return Promise.reject(Ja(o));const g="signIn",_=await Lm(o,g,s),T=await Xl._fromIdTokenResponse(o,g,_);return f||await o._updateCurrentUser(T.user),T}function Jx(o,s,f,g){return ql(o).onIdTokenChanged(s,f,g)}function $x(o,s,f){return ql(o).beforeAuthStateChanged(s,f)}const Cc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(s,f){this.storageRetriever=s,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem(Cc,"1"),this.storage.removeItem(Cc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(s,f){return this.storage.setItem(s,JSON.stringify(f)),Promise.resolve()}_get(s){const f=this.storage.getItem(s);return Promise.resolve(f?JSON.parse(f):null)}_remove(s){return this.storage.removeItem(s),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty=1e3,ey=10;class Um extends Bm{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(s,f)=>this.onStorageEvent(s,f),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Nm(),this._shouldAllowMigration=!0}forAllChangedKeys(s){for(const f of Object.keys(this.listeners)){const g=this.storage.getItem(f),_=this.localCache[f];g!==_&&s(f,_,g)}}onStorageEvent(s,f=!1){if(!s.key){this.forAllChangedKeys((I,z,v)=>{this.notifyListeners(I,v)});return}const g=s.key;f?this.detachListener():this.stopPolling();const _=()=>{const I=this.storage.getItem(g);!f&&this.localCache[g]===I||this.notifyListeners(g,I)},T=this.storage.getItem(g);Mx()&&T!==s.newValue&&s.newValue!==s.oldValue?setTimeout(_,ey):_()}notifyListeners(s,f){this.localCache[s]=f;const g=this.listeners[s];if(g)for(const _ of Array.from(g))_(f&&JSON.parse(f))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((s,f,g)=>{this.onStorageEvent(new StorageEvent("storage",{key:s,oldValue:f,newValue:g}),!0)})},ty)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(s,f){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[s]||(this.listeners[s]=new Set,this.localCache[s]=this.storage.getItem(s)),this.listeners[s].add(f)}_removeListener(s,f){this.listeners[s]&&(this.listeners[s].delete(f),this.listeners[s].size===0&&delete this.listeners[s]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(s,f){await super._set(s,f),this.localCache[s]=JSON.stringify(f)}async _get(s){const f=await super._get(s);return this.localCache[s]=JSON.stringify(f),f}async _remove(s){await super._remove(s),delete this.localCache[s]}}Um.type="LOCAL";const ny=Um;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm extends Bm{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(s,f){}_removeListener(s,f){}}Pm.type="SESSION";const km=Pm;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iy(o){return Promise.all(o.map(async s=>{try{return{fulfilled:!0,value:await s}}catch(f){return{fulfilled:!1,reason:f}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(s){this.eventTarget=s,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(s){const f=this.receivers.find(_=>_.isListeningto(s));if(f)return f;const g=new Rc(s);return this.receivers.push(g),g}isListeningto(s){return this.eventTarget===s}async handleEvent(s){const f=s,{eventId:g,eventType:_,data:T}=f.data,I=this.handlersMap[_];if(!(I!=null&&I.size))return;f.ports[0].postMessage({status:"ack",eventId:g,eventType:_});const z=Array.from(I).map(async N=>N(f.origin,T)),v=await iy(z);f.ports[0].postMessage({status:"done",eventId:g,eventType:_,response:v})}_subscribe(s,f){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[s]||(this.handlersMap[s]=new Set),this.handlersMap[s].add(f)}_unsubscribe(s,f){this.handlersMap[s]&&f&&this.handlersMap[s].delete(f),(!f||this.handlersMap[s].size===0)&&delete this.handlersMap[s],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(o="",s=10){let f="";for(let g=0;g<s;g++)f+=Math.floor(Math.random()*10);return o+f}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(s){this.target=s,this.handlers=new Set}removeMessageHandler(s){s.messageChannel&&(s.messageChannel.port1.removeEventListener("message",s.onMessage),s.messageChannel.port1.close()),this.handlers.delete(s)}async _send(s,f,g=50){const _=typeof MessageChannel<"u"?new MessageChannel:null;if(!_)throw new Error("connection_unavailable");let T,I;return new Promise((z,v)=>{const N=x1("",20);_.port1.start();const U=setTimeout(()=>{v(new Error("unsupported_event"))},g);I={messageChannel:_,onMessage(B){const G=B;if(G.data.eventId===N)switch(G.data.status){case"ack":clearTimeout(U),T=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(T),z(G.data.response);break;default:clearTimeout(U),clearTimeout(T),v(new Error("invalid_response"));break}}},this.handlers.add(I),_.port1.addEventListener("message",I.onMessage),this.target.postMessage({eventType:s,eventId:N,data:f},[_.port2])}).finally(()=>{I&&this.removeMessageHandler(I)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(){return window}function sy(o){Kr().location.href=o}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(){return typeof Kr().WorkerGlobalScope<"u"&&typeof Kr().importScripts=="function"}async function ay(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ly(){var o;return((o=navigator==null?void 0:navigator.serviceWorker)==null?void 0:o.controller)||null}function oy(){return Fm()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm="firebaseLocalStorageDb",uy=1,Ic="firebaseLocalStorage",Vm="fbase_key";class $o{constructor(s){this.request=s}toPromise(){return new Promise((s,f)=>{this.request.addEventListener("success",()=>{s(this.request.result)}),this.request.addEventListener("error",()=>{f(this.request.error)})})}}function Dc(o,s){return o.transaction([Ic],s?"readwrite":"readonly").objectStore(Ic)}function cy(){const o=indexedDB.deleteDatabase(Hm);return new $o(o).toPromise()}function Kh(){const o=indexedDB.open(Hm,uy);return new Promise((s,f)=>{o.addEventListener("error",()=>{f(o.error)}),o.addEventListener("upgradeneeded",()=>{const g=o.result;try{g.createObjectStore(Ic,{keyPath:Vm})}catch(_){f(_)}}),o.addEventListener("success",async()=>{const g=o.result;g.objectStoreNames.contains(Ic)?s(g):(g.close(),await cy(),s(await Kh()))})})}async function _2(o,s,f){const g=Dc(o,!0).put({[Vm]:s,value:f});return new $o(g).toPromise()}async function fy(o,s){const f=Dc(o,!1).get(s),g=await new $o(f).toPromise();return g===void 0?null:g.value}function x2(o,s){const f=Dc(o,!0).delete(s);return new $o(f).toPromise()}const hy=800,dy=3;class zm{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Kh(),this.db)}async _withRetries(s){let f=0;for(;;)try{const g=await this._openDb();return await s(g)}catch(g){if(f++>dy)throw g;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Fm()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rc._getInstance(oy()),this.receiver._subscribe("keyChanged",async(s,f)=>({keyProcessed:(await this._poll()).includes(f.key)})),this.receiver._subscribe("ping",async(s,f)=>["keyChanged"])}async initializeSender(){var f,g;if(this.activeServiceWorker=await ay(),!this.activeServiceWorker)return;this.sender=new ry(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&(f=s[0])!=null&&f.fulfilled&&(g=s[0])!=null&&g.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(s){if(!(!this.sender||!this.activeServiceWorker||ly()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:s},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const s=await Kh();return await _2(s,Cc,"1"),await x2(s,Cc),!0}catch{}return!1}async _withPendingWrite(s){this.pendingWrites++;try{await s()}finally{this.pendingWrites--}}async _set(s,f){return this._withPendingWrite(async()=>(await this._withRetries(g=>_2(g,s,f)),this.localCache[s]=f,this.notifyServiceWorker(s)))}async _get(s){const f=await this._withRetries(g=>fy(g,s));return this.localCache[s]=f,f}async _remove(s){return this._withPendingWrite(async()=>(await this._withRetries(f=>x2(f,s)),delete this.localCache[s],this.notifyServiceWorker(s)))}async _poll(){const s=await this._withRetries(_=>{const T=Dc(_,!1).getAll();return new $o(T).toPromise()});if(!s)return[];if(this.pendingWrites!==0)return[];const f=[],g=new Set;if(s.length!==0)for(const{fbase_key:_,value:T}of s)g.add(_),JSON.stringify(this.localCache[_])!==JSON.stringify(T)&&(this.notifyListeners(_,T),f.push(_));for(const _ of Object.keys(this.localCache))this.localCache[_]&&!g.has(_)&&(this.notifyListeners(_,null),f.push(_));return f}notifyListeners(s,f){this.localCache[s]=f;const g=this.listeners[s];if(g)for(const _ of Array.from(g))_(f)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hy)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(s,f){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[s]||(this.listeners[s]=new Set,this._get(s)),this.listeners[s].add(f)}_removeListener(s,f){this.listeners[s]&&(this.listeners[s].delete(f),this.listeners[s].size===0&&delete this.listeners[s]),Object.keys(this.listeners).length===0&&this.stopPolling()}}zm.type="LOCAL";const gy=zm;new Qo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(o,s){return s?Cs(s):(Qt(o._popupRedirectResolver,o,"argument-error"),o._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1 extends Dm{constructor(s){super("custom","custom"),this.params=s}_getIdTokenResponse(s){return Vl(s,this._buildIdpRequest())}_linkToIdToken(s,f){return Vl(s,this._buildIdpRequest(f))}_getReauthenticationResolver(s){return Vl(s,this._buildIdpRequest())}_buildIdpRequest(s){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return s&&(f.idToken=s),f}}function my(o){return Qx(o.auth,new y1(o),o.bypassAuthState)}function py(o){const{auth:s,user:f}=o;return Qt(f,s,"internal-error"),Zx(f,new y1(o),o.bypassAuthState)}async function Ay(o){const{auth:s,user:f}=o;return Qt(f,s,"internal-error"),Kx(f,new y1(o),o.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(s,f,g,_,T=!1){this.auth=s,this.resolver=g,this.user=_,this.bypassAuthState=T,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){return new Promise(async(s,f)=>{this.pendingPromise={resolve:s,reject:f};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(g){this.reject(g)}})}async onAuthEvent(s){const{urlResponse:f,sessionId:g,postBody:_,tenantId:T,error:I,type:z}=s;if(I){this.reject(I);return}const v={auth:this.auth,requestUri:f,sessionId:g,tenantId:T||void 0,postBody:_||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(z)(v))}catch(N){this.reject(N)}}onError(s){this.reject(s)}getIdpTask(s){switch(s){case"signInViaPopup":case"signInViaRedirect":return my;case"linkViaPopup":case"linkViaRedirect":return Ay;case"reauthViaPopup":case"reauthViaRedirect":return py;default:bs(this.auth,"internal-error")}}resolve(s){Os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(s),this.unregisterAndCleanUp()}reject(s){Os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(s),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y=new Qo(2e3,1e4);class Bl extends Gm{constructor(s,f,g,_,T){super(s,f,_,T),this.provider=g,this.authWindow=null,this.pollId=null,Bl.currentPopupAction&&Bl.currentPopupAction.cancel(),Bl.currentPopupAction=this}async executeNotNull(){const s=await this.execute();return Qt(s,this.auth,"internal-error"),s}async onExecution(){Os(this.filter.length===1,"Popup operations only handle one event");const s=x1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],s),this.authWindow.associatedEvent=s,this.resolver._originValidation(this.auth).catch(f=>{this.reject(f)}),this.resolver._isIframeWebStorageSupported(this.auth,f=>{f||this.reject(Wr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var s;return((s=this.authWindow)==null?void 0:s.associatedEvent)||null}cancel(){this.reject(Wr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bl.currentPopupAction=null}pollUserCancellation(){const s=()=>{var f,g;if((g=(f=this.authWindow)==null?void 0:f.window)!=null&&g.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(s,_y.get())};s()}}Bl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy="pendingRedirect",mc=new Map;class yy extends Gm{constructor(s,f,g=!1){super(s,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,g),this.eventId=null}async execute(){let s=mc.get(this.auth._key());if(!s){try{const g=await wy(this.resolver,this.auth)?await super.execute():null;s=()=>Promise.resolve(g)}catch(f){s=()=>Promise.reject(f)}mc.set(this.auth._key(),s)}return this.bypassAuthState||mc.set(this.auth._key(),()=>Promise.resolve(null)),s()}async onAuthEvent(s){if(s.type==="signInViaRedirect")return super.onAuthEvent(s);if(s.type==="unknown"){this.resolve(null);return}if(s.eventId){const f=await this.auth._redirectUserForId(s.eventId);if(f)return this.user=f,super.onAuthEvent(s);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wy(o,s){const f=Cy(s),g=Sy(o);if(!await g._isAvailable())return!1;const _=await g._get(f)==="true";return await g._remove(f),_}function Ty(o,s){mc.set(o._key(),s)}function Sy(o){return Cs(o._redirectPersistence)}function Cy(o){return Ec(xy,o.config.apiKey,o.name)}async function Iy(o,s,f=!1){if(Xr(o.app))return Promise.reject(Ja(o));const g=A1(o),_=Ey(g,s),I=await new yy(g,_,f).execute();return I&&!f&&(delete I.user._redirectEventId,await g._persistUserIfCurrent(I.user),await g._setRedirectUser(null,s)),I}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by=600*1e3;class Oy{constructor(s){this.auth=s,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(s){this.consumers.add(s),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,s)&&(this.sendToConsumer(this.queuedRedirectEvent,s),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(s){this.consumers.delete(s)}onEvent(s){if(this.hasEventBeenHandled(s))return!1;let f=!1;return this.consumers.forEach(g=>{this.isEventForConsumer(s,g)&&(f=!0,this.sendToConsumer(s,g),this.saveEventToCache(s))}),this.hasHandledPotentialRedirect||!Ny(s)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=s,f=!0)),f}sendToConsumer(s,f){var g;if(s.error&&!Ym(s)){const _=((g=s.error.code)==null?void 0:g.split("auth/")[1])||"internal-error";f.onError(Wr(this.auth,_))}else f.onAuthEvent(s)}isEventForConsumer(s,f){const g=f.eventId===null||!!s.eventId&&s.eventId===f.eventId;return f.filter.includes(s.type)&&g}hasEventBeenHandled(s){return Date.now()-this.lastProcessedEventTime>=by&&this.cachedEventUids.clear(),this.cachedEventUids.has(y2(s))}saveEventToCache(s){this.cachedEventUids.add(y2(s)),this.lastProcessedEventTime=Date.now()}}function y2(o){return[o.type,o.eventId,o.sessionId,o.tenantId].filter(s=>s).join("-")}function Ym({type:o,error:s}){return o==="unknown"&&(s==null?void 0:s.code)==="auth/no-auth-event"}function Ny(o){switch(o.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ym(o);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vy(o,s={}){return Kl(o,"GET","/v1/projects",s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Dy=/^https?/;async function My(o){if(o.config.emulator)return;const{authorizedDomains:s}=await vy(o);for(const f of s)try{if(Ly(f))return}catch{}bs(o,"unauthorized-domain")}function Ly(o){const s=qh(),{protocol:f,hostname:g}=new URL(s);if(o.startsWith("chrome-extension://")){const I=new URL(o);return I.hostname===""&&g===""?f==="chrome-extension:"&&o.replace("chrome-extension://","")===s.replace("chrome-extension://",""):f==="chrome-extension:"&&I.hostname===g}if(!Dy.test(f))return!1;if(Ry.test(o))return g===o;const _=o.replace(/\./g,"\\.");return new RegExp("^(.+\\."+_+"|"+_+")$","i").test(g)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By=new Qo(3e4,6e4);function w2(){const o=Kr().___jsl;if(o!=null&&o.H){for(const s of Object.keys(o.H))if(o.H[s].r=o.H[s].r||[],o.H[s].L=o.H[s].L||[],o.H[s].r=[...o.H[s].L],o.CP)for(let f=0;f<o.CP.length;f++)o.CP[f]=null}}function Uy(o){return new Promise((s,f)=>{var _,T,I;function g(){w2(),gapi.load("gapi.iframes",{callback:()=>{s(gapi.iframes.getContext())},ontimeout:()=>{w2(),f(Wr(o,"network-request-failed"))},timeout:By.get()})}if((T=(_=Kr().gapi)==null?void 0:_.iframes)!=null&&T.Iframe)s(gapi.iframes.getContext());else if((I=Kr().gapi)!=null&&I.load)g();else{const z=zx("iframefcb");return Kr()[z]=()=>{gapi.load?g():f(Wr(o,"network-request-failed"))},Hx(`${Vx()}?onload=${z}`).catch(v=>f(v))}}).catch(s=>{throw pc=null,s})}let pc=null;function Py(o){return pc=pc||Uy(o),pc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky=new Qo(5e3,15e3),Fy="__/auth/iframe",Hy="emulator/auth/iframe",Vy={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zy=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gy(o){const s=o.config;Qt(s.authDomain,o,"auth-domain-config-required");const f=s.emulator?g1(s,Hy):`https://${o.config.authDomain}/${Fy}`,g={apiKey:s.apiKey,appName:o.name,v:Wl},_=zy.get(o.config.apiHost);_&&(g.eid=_);const T=o._getFrameworks();return T.length&&(g.fw=T.join(",")),`${f}?${Wo(g).slice(1)}`}async function Yy(o){const s=await Py(o),f=Kr().gapi;return Qt(f,o,"internal-error"),s.open({where:document.body,url:Gy(o),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Vy,dontclear:!0},g=>new Promise(async(_,T)=>{await g.restyle({setHideOnLeave:!1});const I=Wr(o,"network-request-failed"),z=Kr().setTimeout(()=>{T(I)},ky.get());function v(){Kr().clearTimeout(z),_(g)}g.ping(v).then(v,()=>{T(I)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Xy=500,qy=600,Wy="_blank",Ky="http://localhost";class T2{constructor(s){this.window=s,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Zy(o,s,f,g=Xy,_=qy){const T=Math.max((window.screen.availHeight-_)/2,0).toString(),I=Math.max((window.screen.availWidth-g)/2,0).toString();let z="";const v={...jy,width:g.toString(),height:_.toString(),top:T,left:I},N=Ii().toLowerCase();f&&(z=Sm(N)?Wy:f),wm(N)&&(s=s||Ky,v.scrollbars="yes");const U=Object.entries(v).reduce((G,[$,at])=>`${G}${$}=${at},`,"");if(Dx(N)&&z!=="_self")return Qy(s||"",z),new T2(null);const B=window.open(s||"",z,U);Qt(B,o,"popup-blocked");try{B.focus()}catch{}return new T2(B)}function Qy(o,s){const f=document.createElement("a");f.href=o,f.target=s;const g=document.createEvent("MouseEvent");g.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(g)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy="__/auth/handler",$y="emulator/auth/handler",tw=encodeURIComponent("fac");async function S2(o,s,f,g,_,T){Qt(o.config.authDomain,o,"auth-domain-config-required"),Qt(o.config.apiKey,o,"invalid-api-key");const I={apiKey:o.config.apiKey,appName:o.name,authType:f,redirectUrl:g,v:Wl,eventId:_};if(s instanceof Mm){s.setDefaultLanguage(o.languageCode),I.providerId=s.providerId||"",w3(s.getCustomParameters())||(I.customParameters=JSON.stringify(s.getCustomParameters()));for(const[U,B]of Object.entries({}))I[U]=B}if(s instanceof Jo){const U=s.getScopes().filter(B=>B!=="");U.length>0&&(I.scopes=U.join(","))}o.tenantId&&(I.tid=o.tenantId);const z=I;for(const U of Object.keys(z))z[U]===void 0&&delete z[U];const v=await o._getAppCheckToken(),N=v?`#${tw}=${encodeURIComponent(v)}`:"";return`${ew(o)}?${Wo(z).slice(1)}${N}`}function ew({config:o}){return o.emulator?g1(o,$y):`https://${o.authDomain}/${Jy}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh="webStorageSupport";class nw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=km,this._completeRedirectFn=Iy,this._overrideRedirectResult=Ty}async _openPopup(s,f,g,_){var I;Os((I=this.eventManagers[s._key()])==null?void 0:I.manager,"_initialize() not called before _openPopup()");const T=await S2(s,f,g,qh(),_);return Zy(s,T,x1())}async _openRedirect(s,f,g,_){await this._originValidation(s);const T=await S2(s,f,g,qh(),_);return sy(T),new Promise(()=>{})}_initialize(s){const f=s._key();if(this.eventManagers[f]){const{manager:_,promise:T}=this.eventManagers[f];return _?Promise.resolve(_):(Os(T,"If manager is not set, promise should be"),T)}const g=this.initAndGetManager(s);return this.eventManagers[f]={promise:g},g.catch(()=>{delete this.eventManagers[f]}),g}async initAndGetManager(s){const f=await Yy(s),g=new Oy(s);return f.register("authEvent",_=>(Qt(_==null?void 0:_.authEvent,s,"invalid-auth-event"),{status:g.onEvent(_.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[s._key()]={manager:g},this.iframes[s._key()]=f,g}_isIframeWebStorageSupported(s,f){this.iframes[s._key()].send(kh,{type:kh},_=>{var I;const T=(I=_==null?void 0:_[0])==null?void 0:I[kh];T!==void 0&&f(!!T),bs(s,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(s){const f=s._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=My(s)),this.originValidationPromises[f]}get _shouldInitProactively(){return Nm()||Tm()||p1()}}const iw=nw;var C2="@firebase/auth",I2="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(s){this.auth=s,this.internalListeners=new Map}getUid(){var s;return this.assertAuthConfigured(),((s=this.auth.currentUser)==null?void 0:s.uid)||null}async getToken(s){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(s)}:null}addAuthTokenListener(s){if(this.assertAuthConfigured(),this.internalListeners.has(s))return;const f=this.auth.onIdTokenChanged(g=>{s((g==null?void 0:g.stsTokenManager.accessToken)||null)});this.internalListeners.set(s,f),this.updateProactiveRefresh()}removeAuthTokenListener(s){this.assertAuthConfigured();const f=this.internalListeners.get(s);f&&(this.internalListeners.delete(s),f(),this.updateProactiveRefresh())}assertAuthConfigured(){Qt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(o){switch(o){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function aw(o){Yl(new tl("auth",(s,{options:f})=>{const g=s.getProvider("app").getImmediate(),_=s.getProvider("heartbeat"),T=s.getProvider("app-check-internal"),{apiKey:I,authDomain:z}=g.options;Qt(I&&!I.includes(":"),"invalid-api-key",{appName:g.name});const v={apiKey:I,authDomain:z,clientPlatform:o,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vm(o)},N=new kx(g,_,T,v);return Yx(N,f),N},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((s,f,g)=>{s.getProvider("auth-internal").initialize()})),Yl(new tl("auth-internal",s=>{const f=A1(s.getProvider("auth").getImmediate());return(g=>new rw(g))(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),_a(C2,I2,sw(o)),_a(C2,I2,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw=300,ow=QE("authIdTokenMaxAge")||lw;let b2=null;const uw=o=>async s=>{const f=s&&await s.getIdTokenResult(),g=f&&(new Date().getTime()-Date.parse(f.issuedAtTime))/1e3;if(g&&g>ow)return;const _=f==null?void 0:f.token;b2!==_&&(b2=_,await fetch(o,{method:_?"POST":"DELETE",headers:_?{Authorization:`Bearer ${_}`}:{}}))};function cw(o=im()){const s=l1(o,"auth");if(s.isInitialized())return s.getImmediate();const f=Gx(o,{popupRedirectResolver:iw,persistence:[gy,ny,km]}),g=QE("authTokenSyncURL");if(g&&typeof isSecureContext=="boolean"&&isSecureContext){const T=new URL(g,location.origin);if(location.origin===T.origin){const I=uw(T.toString());$x(f,I,()=>I(f.currentUser)),Jx(f,z=>I(z))}}const _=KE("auth");return _&&jx(f,`http://${_}`),f}function fw(){var o;return((o=document.getElementsByTagName("head"))==null?void 0:o[0])??document}Fx({loadJS(o){return new Promise((s,f)=>{const g=document.createElement("script");g.setAttribute("src",o),g.onload=s,g.onerror=_=>{const T=Wr("internal-error");T.customData=_,f(T)},g.type="text/javascript",g.charset="UTF-8",fw().appendChild(g)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});aw("Browser");const hw={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0},jm=nm(hw);lx(jm);cw(jm);var zl=(o=>(o.STUDENT="STUDENT",o.ADMIN="ADMIN",o.GUEST="GUEST",o))(zl||{});zl.STUDENT,zl.STUDENT,zl.STUDENT;zl.ADMIN;zl.GUEST;var dw={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var O2;(function(o){o.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",o.OUTCOME_OK="OUTCOME_OK",o.OUTCOME_FAILED="OUTCOME_FAILED",o.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(O2||(O2={}));var N2;(function(o){o.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",o.PYTHON="PYTHON"})(N2||(N2={}));var v2;(function(o){o.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",o.SILENT="SILENT",o.WHEN_IDLE="WHEN_IDLE",o.INTERRUPT="INTERRUPT"})(v2||(v2={}));var R2;(function(o){o.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",o.STRING="STRING",o.NUMBER="NUMBER",o.INTEGER="INTEGER",o.BOOLEAN="BOOLEAN",o.ARRAY="ARRAY",o.OBJECT="OBJECT",o.NULL="NULL"})(R2||(R2={}));var D2;(function(o){o.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",o.SIMPLE_SEARCH="SIMPLE_SEARCH",o.ELASTIC_SEARCH="ELASTIC_SEARCH"})(D2||(D2={}));var M2;(function(o){o.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",o.NO_AUTH="NO_AUTH",o.API_KEY_AUTH="API_KEY_AUTH",o.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",o.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",o.OAUTH="OAUTH",o.OIDC_AUTH="OIDC_AUTH"})(M2||(M2={}));var L2;(function(o){o.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",o.HTTP_IN_QUERY="HTTP_IN_QUERY",o.HTTP_IN_HEADER="HTTP_IN_HEADER",o.HTTP_IN_PATH="HTTP_IN_PATH",o.HTTP_IN_BODY="HTTP_IN_BODY",o.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(L2||(L2={}));var B2;(function(o){o.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",o.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",o.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",o.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",o.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",o.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",o.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(B2||(B2={}));var U2;(function(o){o.UNSPECIFIED="UNSPECIFIED",o.BLOCKING="BLOCKING",o.NON_BLOCKING="NON_BLOCKING"})(U2||(U2={}));var P2;(function(o){o.MODE_UNSPECIFIED="MODE_UNSPECIFIED",o.MODE_DYNAMIC="MODE_DYNAMIC"})(P2||(P2={}));var k2;(function(o){o.MODE_UNSPECIFIED="MODE_UNSPECIFIED",o.AUTO="AUTO",o.ANY="ANY",o.NONE="NONE",o.VALIDATED="VALIDATED"})(k2||(k2={}));var F2;(function(o){o.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",o.LOW="LOW",o.MEDIUM="MEDIUM",o.HIGH="HIGH",o.MINIMAL="MINIMAL"})(F2||(F2={}));var H2;(function(o){o.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",o.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",o.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",o.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",o.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",o.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",o.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",o.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",o.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",o.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",o.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(H2||(H2={}));var V2;(function(o){o.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",o.SEVERITY="SEVERITY",o.PROBABILITY="PROBABILITY"})(V2||(V2={}));var z2;(function(o){o.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",o.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",o.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",o.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",o.BLOCK_NONE="BLOCK_NONE",o.OFF="OFF"})(z2||(z2={}));var G2;(function(o){o.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",o.STOP="STOP",o.MAX_TOKENS="MAX_TOKENS",o.SAFETY="SAFETY",o.RECITATION="RECITATION",o.LANGUAGE="LANGUAGE",o.OTHER="OTHER",o.BLOCKLIST="BLOCKLIST",o.PROHIBITED_CONTENT="PROHIBITED_CONTENT",o.SPII="SPII",o.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",o.IMAGE_SAFETY="IMAGE_SAFETY",o.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",o.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",o.NO_IMAGE="NO_IMAGE",o.IMAGE_RECITATION="IMAGE_RECITATION",o.IMAGE_OTHER="IMAGE_OTHER"})(G2||(G2={}));var Y2;(function(o){o.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",o.NEGLIGIBLE="NEGLIGIBLE",o.LOW="LOW",o.MEDIUM="MEDIUM",o.HIGH="HIGH"})(Y2||(Y2={}));var j2;(function(o){o.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",o.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",o.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",o.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",o.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(j2||(j2={}));var X2;(function(o){o.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",o.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",o.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",o.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",o.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(X2||(X2={}));var q2;(function(o){o.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",o.SAFETY="SAFETY",o.OTHER="OTHER",o.BLOCKLIST="BLOCKLIST",o.PROHIBITED_CONTENT="PROHIBITED_CONTENT",o.IMAGE_SAFETY="IMAGE_SAFETY",o.MODEL_ARMOR="MODEL_ARMOR",o.JAILBREAK="JAILBREAK"})(q2||(q2={}));var W2;(function(o){o.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",o.ON_DEMAND="ON_DEMAND",o.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(W2||(W2={}));var K2;(function(o){o.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",o.TEXT="TEXT",o.IMAGE="IMAGE",o.AUDIO="AUDIO"})(K2||(K2={}));var Z2;(function(o){o.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",o.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",o.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",o.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Z2||(Z2={}));var Q2;(function(o){o.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",o.TUNING_MODE_FULL="TUNING_MODE_FULL",o.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Q2||(Q2={}));var J2;(function(o){o.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",o.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",o.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",o.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",o.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",o.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",o.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(J2||(J2={}));var $2;(function(o){o.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",o.JOB_STATE_QUEUED="JOB_STATE_QUEUED",o.JOB_STATE_PENDING="JOB_STATE_PENDING",o.JOB_STATE_RUNNING="JOB_STATE_RUNNING",o.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",o.JOB_STATE_FAILED="JOB_STATE_FAILED",o.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",o.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",o.JOB_STATE_PAUSED="JOB_STATE_PAUSED",o.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",o.JOB_STATE_UPDATING="JOB_STATE_UPDATING",o.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})($2||($2={}));var tE;(function(o){o.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",o.TUNING_TASK_I2V="TUNING_TASK_I2V",o.TUNING_TASK_T2V="TUNING_TASK_T2V",o.TUNING_TASK_R2V="TUNING_TASK_R2V"})(tE||(tE={}));var eE;(function(o){o.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",o.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",o.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",o.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",o.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(eE||(eE={}));var nE;(function(o){o.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",o.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",o.BALANCED="BALANCED",o.PRIORITIZE_COST="PRIORITIZE_COST"})(nE||(nE={}));var iE;(function(o){o.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",o.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(iE||(iE={}));var rE;(function(o){o.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",o.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",o.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",o.BLOCK_NONE="BLOCK_NONE"})(rE||(rE={}));var sE;(function(o){o.DONT_ALLOW="DONT_ALLOW",o.ALLOW_ADULT="ALLOW_ADULT",o.ALLOW_ALL="ALLOW_ALL"})(sE||(sE={}));var aE;(function(o){o.auto="auto",o.en="en",o.ja="ja",o.ko="ko",o.hi="hi",o.zh="zh",o.pt="pt",o.es="es"})(aE||(aE={}));var lE;(function(o){o.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",o.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",o.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",o.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",o.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(lE||(lE={}));var oE;(function(o){o.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",o.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",o.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",o.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(oE||(oE={}));var uE;(function(o){o.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",o.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",o.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",o.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(uE||(uE={}));var cE;(function(o){o.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",o.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",o.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",o.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",o.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",o.EDIT_MODE_STYLE="EDIT_MODE_STYLE",o.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",o.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(cE||(cE={}));var fE;(function(o){o.FOREGROUND="FOREGROUND",o.BACKGROUND="BACKGROUND",o.PROMPT="PROMPT",o.SEMANTIC="SEMANTIC",o.INTERACTIVE="INTERACTIVE"})(fE||(fE={}));var hE;(function(o){o.ASSET="ASSET",o.STYLE="STYLE"})(hE||(hE={}));var dE;(function(o){o.INSERT="INSERT",o.REMOVE="REMOVE",o.REMOVE_STATIC="REMOVE_STATIC",o.OUTPAINT="OUTPAINT"})(dE||(dE={}));var gE;(function(o){o.OPTIMIZED="OPTIMIZED",o.LOSSLESS="LOSSLESS"})(gE||(gE={}));var EE;(function(o){o.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",o.PREFERENCE_TUNING="PREFERENCE_TUNING"})(EE||(EE={}));var mE;(function(o){o.STATE_UNSPECIFIED="STATE_UNSPECIFIED",o.STATE_PENDING="STATE_PENDING",o.STATE_ACTIVE="STATE_ACTIVE",o.STATE_FAILED="STATE_FAILED"})(mE||(mE={}));var pE;(function(o){o.STATE_UNSPECIFIED="STATE_UNSPECIFIED",o.PROCESSING="PROCESSING",o.ACTIVE="ACTIVE",o.FAILED="FAILED"})(pE||(pE={}));var AE;(function(o){o.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",o.UPLOADED="UPLOADED",o.GENERATED="GENERATED",o.REGISTERED="REGISTERED"})(AE||(AE={}));var _E;(function(o){o.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",o.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",o.RESPONSE_REJECTED="RESPONSE_REJECTED",o.NEED_MORE_INPUT="NEED_MORE_INPUT"})(_E||(_E={}));var xE;(function(o){o.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",o.TEXT="TEXT",o.IMAGE="IMAGE",o.VIDEO="VIDEO",o.AUDIO="AUDIO",o.DOCUMENT="DOCUMENT"})(xE||(xE={}));var yE;(function(o){o.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",o.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",o.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(yE||(yE={}));var wE;(function(o){o.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",o.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",o.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(wE||(wE={}));var TE;(function(o){o.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",o.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",o.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(TE||(TE={}));var SE;(function(o){o.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",o.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",o.NO_INTERRUPTION="NO_INTERRUPTION"})(SE||(SE={}));var CE;(function(o){o.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",o.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",o.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(CE||(CE={}));var IE;(function(o){o.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",o.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",o.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",o.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",o.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",o.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",o.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",o.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",o.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",o.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",o.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",o.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",o.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(IE||(IE={}));var bE;(function(o){o.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",o.QUALITY="QUALITY",o.DIVERSITY="DIVERSITY",o.VOCALIZATION="VOCALIZATION"})(bE||(bE={}));var OE;(function(o){o.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",o.PLAY="PLAY",o.PAUSE="PAUSE",o.STOP="STOP",o.RESET_CONTEXT="RESET_CONTEXT"})(OE||(OE={}));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var NE;(function(o){o.PAGED_ITEM_BATCH_JOBS="batchJobs",o.PAGED_ITEM_MODELS="models",o.PAGED_ITEM_TUNING_JOBS="tuningJobs",o.PAGED_ITEM_FILES="files",o.PAGED_ITEM_CACHED_CONTENTS="cachedContents",o.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",o.PAGED_ITEM_DOCUMENTS="documents"})(NE||(NE={}));function bc(o,s){var f={};for(var g in o)Object.prototype.hasOwnProperty.call(o,g)&&s.indexOf(g)<0&&(f[g]=o[g]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var _=0,g=Object.getOwnPropertySymbols(o);_<g.length;_++)s.indexOf(g[_])<0&&Object.prototype.propertyIsEnumerable.call(o,g[_])&&(f[g[_]]=o[g[_]]);return f}function vE(o){var s=typeof Symbol=="function"&&Symbol.iterator,f=s&&o[s],g=0;if(f)return f.call(o);if(o&&typeof o.length=="number")return{next:function(){return o&&g>=o.length&&(o=void 0),{value:o&&o[g++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}function _n(o){return this instanceof _n?(this.v=o,this):new _n(o)}function zo(o,s,f){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var g=f.apply(o,s||[]),_,T=[];return _=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),z("next"),z("throw"),z("return",I),_[Symbol.asyncIterator]=function(){return this},_;function I($){return function(at){return Promise.resolve(at).then($,B)}}function z($,at){g[$]&&(_[$]=function(gt){return new Promise(function(ht,Ut){T.push([$,gt,ht,Ut])>1||v($,gt)})},at&&(_[$]=at(_[$])))}function v($,at){try{N(g[$](at))}catch(gt){G(T[0][3],gt)}}function N($){$.value instanceof _n?Promise.resolve($.value.v).then(U,B):G(T[0][2],$)}function U($){v("next",$)}function B($){v("throw",$)}function G($,at){$(at),T.shift(),T.length&&v(T[0][0],T[0][1])}}function Gl(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=o[Symbol.asyncIterator],f;return s?s.call(o):(o=typeof vE=="function"?vE(o):o[Symbol.iterator](),f={},g("next"),g("throw"),g("return"),f[Symbol.asyncIterator]=function(){return this},f);function g(T){f[T]=o[T]&&function(I){return new Promise(function(z,v){I=o[T](I),_(z,v,I.done,I.value)})}}function _(T,I,z,v){Promise.resolve(v).then(function(N){T({value:N,done:z})},I)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Xm=function(){const{crypto:o}=globalThis;if(o!=null&&o.randomUUID)return Xm=o.randomUUID.bind(o),o.randomUUID();const s=new Uint8Array(1),f=o?()=>o.getRandomValues(s)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,g=>(+g^f()&15>>+g/4).toString(16))};const gw=()=>Xm();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zh(o){return typeof o=="object"&&o!==null&&("name"in o&&o.name==="AbortError"||"message"in o&&String(o.message).includes("FetchRequestCanceledException"))}const Qh=o=>{if(o instanceof Error)return o;if(typeof o=="object"&&o!==null){try{if(Object.prototype.toString.call(o)==="[object Error]"){const s=new Error(o.message,o.cause?{cause:o.cause}:{});return o.stack&&(s.stack=o.stack),o.cause&&!s.cause&&(s.cause=o.cause),o.name&&(s.name=o.name),s}}catch{}try{return new Error(JSON.stringify(o))}catch{}}return new Error(o)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ar extends Error{}class bi extends Ar{constructor(s,f,g,_){super(`${bi.makeMessage(s,f,g)}`),this.status=s,this.headers=_,this.error=f}static makeMessage(s,f,g){const _=f!=null&&f.message?typeof f.message=="string"?f.message:JSON.stringify(f.message):f?JSON.stringify(f):g;return s&&_?`${s} ${_}`:s?`${s} status code (no body)`:_||"(no status code or body)"}static generate(s,f,g,_){if(!s||!_)return new Mc({message:g,cause:Qh(f)});const T=f;return s===400?new Wm(s,T,g,_):s===401?new Km(s,T,g,_):s===403?new Zm(s,T,g,_):s===404?new Qm(s,T,g,_):s===409?new Jm(s,T,g,_):s===422?new $m(s,T,g,_):s===429?new tp(s,T,g,_):s>=500?new ep(s,T,g,_):new bi(s,T,g,_)}}class Jh extends bi{constructor({message:s}={}){super(void 0,void 0,s||"Request was aborted.",void 0)}}class Mc extends bi{constructor({message:s,cause:f}){super(void 0,void 0,s||"Connection error.",void 0),f&&(this.cause=f)}}class qm extends Mc{constructor({message:s}={}){super({message:s??"Request timed out."})}}class Wm extends bi{}class Km extends bi{}class Zm extends bi{}class Qm extends bi{}class Jm extends bi{}class $m extends bi{}class tp extends bi{}class ep extends bi{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ew=/^[a-z][a-z0-9+.-]*:/i,mw=o=>Ew.test(o);let $h=o=>($h=Array.isArray,$h(o));const pw=$h;let Aw=pw;const RE=Aw;function _w(o){if(!o)return!0;for(const s in o)return!1;return!0}function xw(o,s){return Object.prototype.hasOwnProperty.call(o,s)}const yw=(o,s)=>{if(typeof s!="number"||!Number.isInteger(s))throw new Ar(`${o} must be an integer`);if(s<0)throw new Ar(`${o} must be a positive integer`);return s},ww=o=>{try{return JSON.parse(o)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Tw=o=>new Promise(s=>setTimeout(s,o));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ll="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Sw(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const Cw=()=>{var o,s,f,g,_;const T=Sw();if(T==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ll,"X-Stainless-OS":ME(Deno.build.os),"X-Stainless-Arch":DE(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(s=(o=Deno.version)===null||o===void 0?void 0:o.deno)!==null&&s!==void 0?s:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ll,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(T==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ll,"X-Stainless-OS":ME((f=globalThis.process.platform)!==null&&f!==void 0?f:"unknown"),"X-Stainless-Arch":DE((g=globalThis.process.arch)!==null&&g!==void 0?g:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(_=globalThis.process.version)!==null&&_!==void 0?_:"unknown"};const I=Iw();return I?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ll,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${I.browser}`,"X-Stainless-Runtime-Version":I.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ll,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Iw(){if(typeof navigator>"u"||!navigator)return null;const o=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:s,pattern:f}of o){const g=f.exec(navigator.userAgent);if(g){const _=g[1]||0,T=g[2]||0,I=g[3]||0;return{browser:s,version:`${_}.${T}.${I}`}}}return null}const DE=o=>o==="x32"?"x32":o==="x86_64"||o==="x64"?"x64":o==="arm"?"arm":o==="aarch64"||o==="arm64"?"arm64":o?`other:${o}`:"unknown",ME=o=>(o=o.toLowerCase(),o.includes("ios")?"iOS":o==="android"?"Android":o==="darwin"?"MacOS":o==="win32"?"Windows":o==="freebsd"?"FreeBSD":o==="openbsd"?"OpenBSD":o==="linux"?"Linux":o?`Other:${o}`:"Unknown");let oc;const bw=()=>oc??(oc=Cw());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ow(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function np(...o){const s=globalThis.ReadableStream;if(typeof s>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new s(...o)}function Nw(o){let s=Symbol.asyncIterator in o?o[Symbol.asyncIterator]():o[Symbol.iterator]();return np({start(){},async pull(f){const{done:g,value:_}=await s.next();g?f.close():f.enqueue(_)},async cancel(){var f;await((f=s.return)===null||f===void 0?void 0:f.call(s))}})}function ip(o){if(o[Symbol.asyncIterator])return o;const s=o.getReader();return{async next(){try{const f=await s.read();return f!=null&&f.done&&s.releaseLock(),f}catch(f){throw s.releaseLock(),f}},async return(){const f=s.cancel();return s.releaseLock(),await f,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function vw(o){var s,f;if(o===null||typeof o!="object")return;if(o[Symbol.asyncIterator]){await((f=(s=o[Symbol.asyncIterator]()).return)===null||f===void 0?void 0:f.call(s));return}const g=o.getReader(),_=g.cancel();g.releaseLock(),await _}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Rw=({headers:o,body:s})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(s)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rp=()=>{var o;if(typeof File>"u"){const{process:s}=globalThis,f=typeof((o=s==null?void 0:s.versions)===null||o===void 0?void 0:o.node)=="string"&&parseInt(s.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(f?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Fh(o,s,f){return rp(),new File(o,s??"unknown_file",f)}function Dw(o){return(typeof o=="object"&&o!==null&&("name"in o&&o.name&&String(o.name)||"url"in o&&o.url&&String(o.url)||"filename"in o&&o.filename&&String(o.filename)||"path"in o&&o.path&&String(o.path))||"").split(/[\\/]/).pop()||void 0}const Mw=o=>o!=null&&typeof o=="object"&&typeof o[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sp=o=>o!=null&&typeof o=="object"&&typeof o.size=="number"&&typeof o.type=="string"&&typeof o.text=="function"&&typeof o.slice=="function"&&typeof o.arrayBuffer=="function",Lw=o=>o!=null&&typeof o=="object"&&typeof o.name=="string"&&typeof o.lastModified=="number"&&sp(o),Bw=o=>o!=null&&typeof o=="object"&&typeof o.url=="string"&&typeof o.blob=="function";async function Uw(o,s,f){if(rp(),o=await o,Lw(o))return o instanceof File?o:Fh([await o.arrayBuffer()],o.name);if(Bw(o)){const _=await o.blob();return s||(s=new URL(o.url).pathname.split(/[\\/]/).pop()),Fh(await t1(_),s,f)}const g=await t1(o);if(s||(s=Dw(o)),!(f!=null&&f.type)){const _=g.find(T=>typeof T=="object"&&"type"in T&&T.type);typeof _=="string"&&(f=Object.assign(Object.assign({},f),{type:_}))}return Fh(g,s,f)}async function t1(o){var s,f,g,_,T;let I=[];if(typeof o=="string"||ArrayBuffer.isView(o)||o instanceof ArrayBuffer)I.push(o);else if(sp(o))I.push(o instanceof Blob?o:await o.arrayBuffer());else if(Mw(o))try{for(var z=!0,v=Gl(o),N;N=await v.next(),s=N.done,!s;z=!0){_=N.value,z=!1;const U=_;I.push(...await t1(U))}}catch(U){f={error:U}}finally{try{!z&&!s&&(g=v.return)&&await g.call(v)}finally{if(f)throw f.error}}else{const U=(T=o==null?void 0:o.constructor)===null||T===void 0?void 0:T.name;throw new Error(`Unexpected data type: ${typeof o}${U?`; constructor: ${U}`:""}${Pw(o)}`)}return I}function Pw(o){return typeof o!="object"||o===null?"":`; props: [${Object.getOwnPropertyNames(o).map(f=>`"${f}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ap{constructor(s){this._client=s}}ap._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lp(o){return o.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const LE=Object.freeze(Object.create(null)),kw=(o=lp)=>(function(f,...g){if(f.length===1)return f[0];let _=!1;const T=[],I=f.reduce((U,B,G)=>{var $,at,gt;/[?#]/.test(B)&&(_=!0);const ht=g[G];let Ut=(_?encodeURIComponent:o)(""+ht);return G!==g.length&&(ht==null||typeof ht=="object"&&ht.toString===((gt=Object.getPrototypeOf((at=Object.getPrototypeOf(($=ht.hasOwnProperty)!==null&&$!==void 0?$:LE))!==null&&at!==void 0?at:LE))===null||gt===void 0?void 0:gt.toString))&&(Ut=ht+"",T.push({start:U.length+B.length,length:Ut.length,error:`Value of type ${Object.prototype.toString.call(ht).slice(8,-1)} is not a valid path parameter`})),U+B+(G===g.length?"":Ut)},""),z=I.split(/[?#]/,1)[0],v=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let N;for(;(N=v.exec(z))!==null;)T.push({start:N.index,length:N[0].length,error:`Value "${N[0]}" can't be safely passed as a path parameter`});if(T.sort((U,B)=>U.start-B.start),T.length>0){let U=0;const B=T.reduce((G,$)=>{const at=" ".repeat($.start-U),gt="^".repeat($.length);return U=$.start+$.length,G+at+gt},"");throw new Ar(`Path parameters result in path with invalid segments:
${T.map(G=>G.error).join(`
`)}
${I}
${B}`)}return I}),uc=kw(lp);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class op extends ap{create(s,f){var g;const{api_version:_=this._client.apiVersion}=s,T=bc(s,["api_version"]);if("model"in T&&"agent_config"in T)throw new Ar("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in T&&"generation_config"in T)throw new Ar("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(uc`/${_}/interactions`,Object.assign(Object.assign({body:T},f),{stream:(g=s.stream)!==null&&g!==void 0?g:!1}))}delete(s,f={},g){const{api_version:_=this._client.apiVersion}=f??{};return this._client.delete(uc`/${_}/interactions/${s}`,g)}cancel(s,f={},g){const{api_version:_=this._client.apiVersion}=f??{};return this._client.post(uc`/${_}/interactions/${s}/cancel`,g)}get(s,f={},g){var _;const T=f??{},{api_version:I=this._client.apiVersion}=T,z=bc(T,["api_version"]);return this._client.get(uc`/${I}/interactions/${s}`,Object.assign(Object.assign({query:z},g),{stream:(_=f==null?void 0:f.stream)!==null&&_!==void 0?_:!1}))}}op._key=Object.freeze(["interactions"]);class up extends op{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fw(o){let s=0;for(const _ of o)s+=_.length;const f=new Uint8Array(s);let g=0;for(const _ of o)f.set(_,g),g+=_.length;return f}let cc;function w1(o){let s;return(cc??(s=new globalThis.TextEncoder,cc=s.encode.bind(s)))(o)}let fc;function BE(o){let s;return(fc??(s=new globalThis.TextDecoder,fc=s.decode.bind(s)))(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Lc{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(s){if(s==null)return[];const f=s instanceof ArrayBuffer?new Uint8Array(s):typeof s=="string"?w1(s):s;this.buffer=Fw([this.buffer,f]);const g=[];let _;for(;(_=Hw(this.buffer,this.carriageReturnIndex))!=null;){if(_.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=_.index;continue}if(this.carriageReturnIndex!=null&&(_.index!==this.carriageReturnIndex+1||_.carriage)){g.push(BE(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const T=this.carriageReturnIndex!==null?_.preceding-1:_.preceding,I=BE(this.buffer.subarray(0,T));g.push(I),this.buffer=this.buffer.subarray(_.index),this.carriageReturnIndex=null}return g}flush(){return this.buffer.length?this.decode(`
`):[]}}Lc.NEWLINE_CHARS=new Set([`
`,"\r"]);Lc.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Hw(o,s){for(let _=s??0;_<o.length;_++){if(o[_]===10)return{preceding:_,index:_+1,carriage:!1};if(o[_]===13)return{preceding:_,index:_+1,carriage:!0}}return null}function Vw(o){for(let g=0;g<o.length-1;g++){if(o[g]===10&&o[g+1]===10||o[g]===13&&o[g+1]===13)return g+2;if(o[g]===13&&o[g+1]===10&&g+3<o.length&&o[g+2]===13&&o[g+3]===10)return g+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Oc={off:0,error:200,warn:300,info:400,debug:500},UE=(o,s,f)=>{if(o){if(xw(Oc,o))return o;Si(f).warn(`${s} was set to ${JSON.stringify(o)}, expected one of ${JSON.stringify(Object.keys(Oc))}`)}};function Bo(){}function hc(o,s,f){return!s||Oc[o]>Oc[f]?Bo:s[o].bind(s)}const zw={error:Bo,warn:Bo,info:Bo,debug:Bo};let PE=new WeakMap;function Si(o){var s;const f=o.logger,g=(s=o.logLevel)!==null&&s!==void 0?s:"off";if(!f)return zw;const _=PE.get(f);if(_&&_[0]===g)return _[1];const T={error:hc("error",f,g),warn:hc("warn",f,g),info:hc("info",f,g),debug:hc("debug",f,g)};return PE.set(f,[g,T]),T}const qa=o=>(o.options&&(o.options=Object.assign({},o.options),delete o.options.headers),o.headers&&(o.headers=Object.fromEntries((o.headers instanceof Headers?[...o.headers]:Object.entries(o.headers)).map(([s,f])=>[s,s.toLowerCase()==="x-goog-api-key"||s.toLowerCase()==="authorization"||s.toLowerCase()==="cookie"||s.toLowerCase()==="set-cookie"?"***":f]))),"retryOfRequestLogID"in o&&(o.retryOfRequestLogID&&(o.retryOf=o.retryOfRequestLogID),delete o.retryOfRequestLogID),o);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ul{constructor(s,f,g){this.iterator=s,this.controller=f,this.client=g}static fromSSEResponse(s,f,g){let _=!1;const T=g?Si(g):console;function I(){return zo(this,arguments,function*(){var v,N,U,B;if(_)throw new Ar("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");_=!0;let G=!1;try{try{for(var $=!0,at=Gl(Gw(s,f)),gt;gt=yield _n(at.next()),v=gt.done,!v;$=!0){B=gt.value,$=!1;const ht=B;if(!G)if(ht.data.startsWith("[DONE]")){G=!0;continue}else try{yield yield _n(JSON.parse(ht.data))}catch(Ut){throw T.error("Could not parse message into JSON:",ht.data),T.error("From chunk:",ht.raw),Ut}}}catch(ht){N={error:ht}}finally{try{!$&&!v&&(U=at.return)&&(yield _n(U.call(at)))}finally{if(N)throw N.error}}G=!0}catch(ht){if(Zh(ht))return yield _n(void 0);throw ht}finally{G||f.abort()}})}return new Ul(I,f,g)}static fromReadableStream(s,f,g){let _=!1;function T(){return zo(this,arguments,function*(){var v,N,U,B;const G=new Lc,$=ip(s);try{for(var at=!0,gt=Gl($),ht;ht=yield _n(gt.next()),v=ht.done,!v;at=!0){B=ht.value,at=!1;const Ut=B;for(const Mt of G.decode(Ut))yield yield _n(Mt)}}catch(Ut){N={error:Ut}}finally{try{!at&&!v&&(U=gt.return)&&(yield _n(U.call(gt)))}finally{if(N)throw N.error}}for(const Ut of G.flush())yield yield _n(Ut)})}function I(){return zo(this,arguments,function*(){var v,N,U,B;if(_)throw new Ar("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");_=!0;let G=!1;try{try{for(var $=!0,at=Gl(T()),gt;gt=yield _n(at.next()),v=gt.done,!v;$=!0){B=gt.value,$=!1;const ht=B;G||ht&&(yield yield _n(JSON.parse(ht)))}}catch(ht){N={error:ht}}finally{try{!$&&!v&&(U=at.return)&&(yield _n(U.call(at)))}finally{if(N)throw N.error}}G=!0}catch(ht){if(Zh(ht))return yield _n(void 0);throw ht}finally{G||f.abort()}})}return new Ul(I,f,g)}[Symbol.asyncIterator](){return this.iterator()}tee(){const s=[],f=[],g=this.iterator(),_=T=>({next:()=>{if(T.length===0){const I=g.next();s.push(I),f.push(I)}return T.shift()}});return[new Ul(()=>_(s),this.controller,this.client),new Ul(()=>_(f),this.controller,this.client)]}toReadableStream(){const s=this;let f;return np({async start(){f=s[Symbol.asyncIterator]()},async pull(g){try{const{value:_,done:T}=await f.next();if(T)return g.close();const I=w1(JSON.stringify(_)+`
`);g.enqueue(I)}catch(_){g.error(_)}},async cancel(){var g;await((g=f.return)===null||g===void 0?void 0:g.call(f))}})}}function Gw(o,s){return zo(this,arguments,function*(){var g,_,T,I;if(!o.body)throw s.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Ar("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Ar("Attempted to iterate over a response with no body");const z=new jw,v=new Lc,N=ip(o.body);try{for(var U=!0,B=Gl(Yw(N)),G;G=yield _n(B.next()),g=G.done,!g;U=!0){I=G.value,U=!1;const $=I;for(const at of v.decode($)){const gt=z.decode(at);gt&&(yield yield _n(gt))}}}catch($){_={error:$}}finally{try{!U&&!g&&(T=B.return)&&(yield _n(T.call(B)))}finally{if(_)throw _.error}}for(const $ of v.flush()){const at=z.decode($);at&&(yield yield _n(at))}})}function Yw(o){return zo(this,arguments,function*(){var f,g,_,T;let I=new Uint8Array;try{for(var z=!0,v=Gl(o),N;N=yield _n(v.next()),f=N.done,!f;z=!0){T=N.value,z=!1;const U=T;if(U==null)continue;const B=U instanceof ArrayBuffer?new Uint8Array(U):typeof U=="string"?w1(U):U;let G=new Uint8Array(I.length+B.length);G.set(I),G.set(B,I.length),I=G;let $;for(;($=Vw(I))!==-1;)yield yield _n(I.slice(0,$)),I=I.slice($)}}catch(U){g={error:U}}finally{try{!z&&!f&&(_=v.return)&&(yield _n(_.call(v)))}finally{if(g)throw g.error}}I.length>0&&(yield yield _n(I))})}class jw{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(s){if(s.endsWith("\r")&&(s=s.substring(0,s.length-1)),!s){if(!this.event&&!this.data.length)return null;const T={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],T}if(this.chunks.push(s),s.startsWith(":"))return null;let[f,g,_]=Xw(s,":");return _.startsWith(" ")&&(_=_.substring(1)),f==="event"?this.event=_:f==="data"&&this.data.push(_),null}}function Xw(o,s){const f=o.indexOf(s);return f!==-1?[o.substring(0,f),s,o.substring(f+s.length)]:[o,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function qw(o,s){const{response:f,requestLogID:g,retryOfRequestLogID:_,startTime:T}=s,I=await(async()=>{var z;if(s.options.stream)return Si(o).debug("response",f.status,f.url,f.headers,f.body),s.options.__streamClass?s.options.__streamClass.fromSSEResponse(f,s.controller,o):Ul.fromSSEResponse(f,s.controller,o);if(f.status===204)return null;if(s.options.__binaryResponse)return f;const v=f.headers.get("content-type"),N=(z=v==null?void 0:v.split(";")[0])===null||z===void 0?void 0:z.trim();return(N==null?void 0:N.includes("application/json"))||(N==null?void 0:N.endsWith("+json"))?await f.json():await f.text()})();return Si(o).debug(`[${g}] response parsed`,qa({retryOfRequestLogID:_,url:f.url,status:f.status,body:I,durationMs:Date.now()-T})),I}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class T1 extends Promise{constructor(s,f,g=qw){super(_=>{_(null)}),this.responsePromise=f,this.parseResponse=g,this.client=s}_thenUnwrap(s){return new T1(this.client,this.responsePromise,async(f,g)=>s(await this.parseResponse(f,g),g))}asResponse(){return this.responsePromise.then(s=>s.response)}async withResponse(){const[s,f]=await Promise.all([this.parse(),this.asResponse()]);return{data:s,response:f}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(s=>this.parseResponse(this.client,s))),this.parsedPromise}then(s,f){return this.parse().then(s,f)}catch(s){return this.parse().catch(s)}finally(s){return this.parse().finally(s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cp=Symbol("brand.privateNullableHeaders");function*Ww(o){if(!o)return;if(cp in o){const{values:g,nulls:_}=o;yield*g.entries();for(const T of _)yield[T,null];return}let s=!1,f;o instanceof Headers?f=o.entries():RE(o)?f=o:(s=!0,f=Object.entries(o??{}));for(let g of f){const _=g[0];if(typeof _!="string")throw new TypeError("expected header name to be a string");const T=RE(g[1])?g[1]:[g[1]];let I=!1;for(const z of T)z!==void 0&&(s&&!I&&(I=!0,yield[_,null]),yield[_,z])}}const Lo=o=>{const s=new Headers,f=new Set;for(const g of o){const _=new Set;for(const[T,I]of Ww(g)){const z=T.toLowerCase();_.has(z)||(s.delete(T),_.add(z)),I===null?(s.delete(T),f.add(z)):(s.append(T,I),f.delete(z))}}return{[cp]:!0,values:s,nulls:f}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Hh=o=>{var s,f,g,_,T,I;if(typeof globalThis.process<"u")return(g=(f=(s=dw)===null||s===void 0?void 0:s[o])===null||f===void 0?void 0:f.trim())!==null&&g!==void 0?g:void 0;if(typeof globalThis.Deno<"u")return(I=(T=(_=globalThis.Deno.env)===null||_===void 0?void 0:_.get)===null||T===void 0?void 0:T.call(_,o))===null||I===void 0?void 0:I.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var fp;class Bc{constructor(s){var f,g,_,T,I,z,v,{baseURL:N=Hh("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:U=(f=Hh("GEMINI_API_KEY"))!==null&&f!==void 0?f:null,apiVersion:B="v1beta"}=s,G=bc(s,["baseURL","apiKey","apiVersion"]);const $=Object.assign(Object.assign({apiKey:U,apiVersion:B},G),{baseURL:N||"https://generativelanguage.googleapis.com"});this.baseURL=$.baseURL,this.timeout=(g=$.timeout)!==null&&g!==void 0?g:Bc.DEFAULT_TIMEOUT,this.logger=(_=$.logger)!==null&&_!==void 0?_:console;const at="warn";this.logLevel=at,this.logLevel=(I=(T=UE($.logLevel,"ClientOptions.logLevel",this))!==null&&T!==void 0?T:UE(Hh("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&I!==void 0?I:at,this.fetchOptions=$.fetchOptions,this.maxRetries=(z=$.maxRetries)!==null&&z!==void 0?z:2,this.fetch=(v=$.fetch)!==null&&v!==void 0?v:Ow(),this.encoder=Rw,this._options=$,this.apiKey=U,this.apiVersion=B,this.clientAdapter=$.clientAdapter}withOptions(s){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),s))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:s,nulls:f}){if(!(s.has("authorization")||s.has("x-goog-api-key"))&&!(this.apiKey&&s.get("x-goog-api-key"))&&!f.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(s){const f=Lo([s.headers]);if(!(f.values.has("authorization")||f.values.has("x-goog-api-key"))){if(this.apiKey)return Lo([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Lo([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(s){return Object.entries(s).filter(([f,g])=>typeof g<"u").map(([f,g])=>{if(typeof g=="string"||typeof g=="number"||typeof g=="boolean")return`${encodeURIComponent(f)}=${encodeURIComponent(g)}`;if(g===null)return`${encodeURIComponent(f)}=`;throw new Ar(`Cannot stringify type ${typeof g}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Ll}`}defaultIdempotencyKey(){return`stainless-node-retry-${gw()}`}makeStatusError(s,f,g,_){return bi.generate(s,f,g,_)}buildURL(s,f,g){const _=!this.baseURLOverridden()&&g||this.baseURL,T=mw(s)?new URL(s):new URL(_+(_.endsWith("/")&&s.startsWith("/")?s.slice(1):s)),I=this.defaultQuery();return _w(I)||(f=Object.assign(Object.assign({},I),f)),typeof f=="object"&&f&&!Array.isArray(f)&&(T.search=this.stringifyQuery(f)),T.toString()}async prepareOptions(s){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!s.path.startsWith(`/${this.apiVersion}/projects/`)){const f=s.path.slice(this.apiVersion.length+1);s.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${f}`}}async prepareRequest(s,{url:f,options:g}){}get(s,f){return this.methodRequest("get",s,f)}post(s,f){return this.methodRequest("post",s,f)}patch(s,f){return this.methodRequest("patch",s,f)}put(s,f){return this.methodRequest("put",s,f)}delete(s,f){return this.methodRequest("delete",s,f)}methodRequest(s,f,g){return this.request(Promise.resolve(g).then(_=>Object.assign({method:s,path:f},_)))}request(s,f=null){return new T1(this,this.makeRequest(s,f,void 0))}async makeRequest(s,f,g){var _,T,I;const z=await s,v=(_=z.maxRetries)!==null&&_!==void 0?_:this.maxRetries;f==null&&(f=v),await this.prepareOptions(z);const{req:N,url:U,timeout:B}=await this.buildRequest(z,{retryCount:v-f});await this.prepareRequest(N,{url:U,options:z});const G="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),$=g===void 0?"":`, retryOf: ${g}`,at=Date.now();if(Si(this).debug(`[${G}] sending request`,qa({retryOfRequestLogID:g,method:z.method,url:U,options:z,headers:N.headers})),!((T=z.signal)===null||T===void 0)&&T.aborted)throw new Jh;const gt=new AbortController,ht=await this.fetchWithTimeout(U,N,B,gt).catch(Qh),Ut=Date.now();if(ht instanceof globalThis.Error){const xt=`retrying, ${f} attempts remaining`;if(!((I=z.signal)===null||I===void 0)&&I.aborted)throw new Jh;const Rt=Zh(ht)||/timed? ?out/i.test(String(ht)+("cause"in ht?String(ht.cause):""));if(f)return Si(this).info(`[${G}] connection ${Rt?"timed out":"failed"} - ${xt}`),Si(this).debug(`[${G}] connection ${Rt?"timed out":"failed"} (${xt})`,qa({retryOfRequestLogID:g,url:U,durationMs:Ut-at,message:ht.message})),this.retryRequest(z,f,g??G);throw Si(this).info(`[${G}] connection ${Rt?"timed out":"failed"} - error; no more retries left`),Si(this).debug(`[${G}] connection ${Rt?"timed out":"failed"} (error; no more retries left)`,qa({retryOfRequestLogID:g,url:U,durationMs:Ut-at,message:ht.message})),Rt?new qm:new Mc({cause:ht})}const Mt=`[${G}${$}] ${N.method} ${U} ${ht.ok?"succeeded":"failed"} with status ${ht.status} in ${Ut-at}ms`;if(!ht.ok){const xt=await this.shouldRetry(ht);if(f&&xt){const L=`retrying, ${f} attempts remaining`;return await vw(ht.body),Si(this).info(`${Mt} - ${L}`),Si(this).debug(`[${G}] response error (${L})`,qa({retryOfRequestLogID:g,url:ht.url,status:ht.status,headers:ht.headers,durationMs:Ut-at})),this.retryRequest(z,f,g??G,ht.headers)}const Rt=xt?"error; no more retries left":"error; not retryable";Si(this).info(`${Mt} - ${Rt}`);const ue=await ht.text().catch(L=>Qh(L).message),Ft=ww(ue),P=Ft?void 0:ue;throw Si(this).debug(`[${G}] response error (${Rt})`,qa({retryOfRequestLogID:g,url:ht.url,status:ht.status,headers:ht.headers,message:P,durationMs:Date.now()-at})),this.makeStatusError(ht.status,Ft,P,ht.headers)}return Si(this).info(Mt),Si(this).debug(`[${G}] response start`,qa({retryOfRequestLogID:g,url:ht.url,status:ht.status,headers:ht.headers,durationMs:Ut-at})),{response:ht,options:z,controller:gt,requestLogID:G,retryOfRequestLogID:g,startTime:at}}async fetchWithTimeout(s,f,g,_){const T=f||{},{signal:I,method:z}=T,v=bc(T,["signal","method"]);I&&I.addEventListener("abort",()=>_.abort());const N=setTimeout(()=>_.abort(),g),U=globalThis.ReadableStream&&v.body instanceof globalThis.ReadableStream||typeof v.body=="object"&&v.body!==null&&Symbol.asyncIterator in v.body,B=Object.assign(Object.assign(Object.assign({signal:_.signal},U?{duplex:"half"}:{}),{method:"GET"}),v);z&&(B.method=z.toUpperCase());try{return await this.fetch.call(void 0,s,B)}finally{clearTimeout(N)}}async shouldRetry(s){const f=s.headers.get("x-should-retry");return f==="true"?!0:f==="false"?!1:s.status===408||s.status===409||s.status===429||s.status>=500}async retryRequest(s,f,g,_){var T;let I;const z=_==null?void 0:_.get("retry-after-ms");if(z){const N=parseFloat(z);Number.isNaN(N)||(I=N)}const v=_==null?void 0:_.get("retry-after");if(v&&!I){const N=parseFloat(v);Number.isNaN(N)?I=Date.parse(v)-Date.now():I=N*1e3}if(!(I&&0<=I&&I<60*1e3)){const N=(T=s.maxRetries)!==null&&T!==void 0?T:this.maxRetries;I=this.calculateDefaultRetryTimeoutMillis(f,N)}return await Tw(I),this.makeRequest(s,f-1,g)}calculateDefaultRetryTimeoutMillis(s,f){const T=f-s,I=Math.min(.5*Math.pow(2,T),8),z=1-Math.random()*.25;return I*z*1e3}async buildRequest(s,{retryCount:f=0}={}){var g,_,T;const I=Object.assign({},s),{method:z,path:v,query:N,defaultBaseURL:U}=I,B=this.buildURL(v,N,U);"timeout"in I&&yw("timeout",I.timeout),I.timeout=(g=I.timeout)!==null&&g!==void 0?g:this.timeout;const{bodyHeaders:G,body:$}=this.buildBody({options:I}),at=await this.buildHeaders({options:s,method:z,bodyHeaders:G,retryCount:f});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:z,headers:at},I.signal&&{signal:I.signal}),globalThis.ReadableStream&&$ instanceof globalThis.ReadableStream&&{duplex:"half"}),$&&{body:$}),(_=this.fetchOptions)!==null&&_!==void 0?_:{}),(T=I.fetchOptions)!==null&&T!==void 0?T:{}),url:B,timeout:I.timeout}}async buildHeaders({options:s,method:f,bodyHeaders:g,retryCount:_}){let T={};this.idempotencyHeader&&f!=="get"&&(s.idempotencyKey||(s.idempotencyKey=this.defaultIdempotencyKey()),T[this.idempotencyHeader]=s.idempotencyKey);const I=await this.authHeaders(s);let z=Lo([T,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(_)},s.timeout?{"X-Stainless-Timeout":String(Math.trunc(s.timeout/1e3))}:{}),bw()),this._options.defaultHeaders,g,s.headers,I]);return this.validateHeaders(z),z.values}buildBody({options:{body:s,headers:f}}){if(!s)return{bodyHeaders:void 0,body:void 0};const g=Lo([f]);return ArrayBuffer.isView(s)||s instanceof ArrayBuffer||s instanceof DataView||typeof s=="string"&&g.values.has("content-type")||globalThis.Blob&&s instanceof globalThis.Blob||s instanceof FormData||s instanceof URLSearchParams||globalThis.ReadableStream&&s instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:s}:typeof s=="object"&&(Symbol.asyncIterator in s||Symbol.iterator in s&&"next"in s&&typeof s.next=="function")?{bodyHeaders:void 0,body:Nw(s)}:this.encoder({body:s,headers:g})}}Bc.DEFAULT_TIMEOUT=6e4;class ui extends Bc{constructor(){super(...arguments),this.interactions=new up(this)}}fp=ui;ui.GeminiNextGenAPIClient=fp;ui.GeminiNextGenAPIClientError=Ar;ui.APIError=bi;ui.APIConnectionError=Mc;ui.APIConnectionTimeoutError=qm;ui.APIUserAbortError=Jh;ui.NotFoundError=Qm;ui.ConflictError=Jm;ui.RateLimitError=tp;ui.BadRequestError=Wm;ui.AuthenticationError=Km;ui.InternalServerError=ep;ui.PermissionDeniedError=Zm;ui.UnprocessableEntityError=$m;ui.toFile=Uw;ui.Interactions=up;var Kw=Object.defineProperty,Nc=Object.getOwnPropertySymbols,hp=Object.prototype.hasOwnProperty,dp=Object.prototype.propertyIsEnumerable,kE=(o,s,f)=>s in o?Kw(o,s,{enumerable:!0,configurable:!0,writable:!0,value:f}):o[s]=f,e1=(o,s)=>{for(var f in s||(s={}))hp.call(s,f)&&kE(o,f,s[f]);if(Nc)for(var f of Nc(s))dp.call(s,f)&&kE(o,f,s[f]);return o},n1=(o,s)=>{var f={};for(var g in o)hp.call(o,g)&&s.indexOf(g)<0&&(f[g]=o[g]);if(o!=null&&Nc)for(var g of Nc(o))s.indexOf(g)<0&&dp.call(o,g)&&(f[g]=o[g]);return f};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var il;(o=>{const s=class Ae{constructor(v,N,U,B){if(this.version=v,this.errorCorrectionLevel=N,this.modules=[],this.isFunction=[],v<Ae.MIN_VERSION||v>Ae.MAX_VERSION)throw new RangeError("Version value out of range");if(B<-1||B>7)throw new RangeError("Mask value out of range");this.size=v*4+17;let G=[];for(let at=0;at<this.size;at++)G.push(!1);for(let at=0;at<this.size;at++)this.modules.push(G.slice()),this.isFunction.push(G.slice());this.drawFunctionPatterns();const $=this.addEccAndInterleave(U);if(this.drawCodewords($),B==-1){let at=1e9;for(let gt=0;gt<8;gt++){this.applyMask(gt),this.drawFormatBits(gt);const ht=this.getPenaltyScore();ht<at&&(B=gt,at=ht),this.applyMask(gt)}}_(0<=B&&B<=7),this.mask=B,this.applyMask(B),this.drawFormatBits(B),this.isFunction=[]}static encodeText(v,N){const U=o.QrSegment.makeSegments(v);return Ae.encodeSegments(U,N)}static encodeBinary(v,N){const U=o.QrSegment.makeBytes(v);return Ae.encodeSegments([U],N)}static encodeSegments(v,N,U=1,B=40,G=-1,$=!0){if(!(Ae.MIN_VERSION<=U&&U<=B&&B<=Ae.MAX_VERSION)||G<-1||G>7)throw new RangeError("Invalid value");let at,gt;for(at=U;;at++){const xt=Ae.getNumDataCodewords(at,N)*8,Rt=I.getTotalBits(v,at);if(Rt<=xt){gt=Rt;break}if(at>=B)throw new RangeError("Data too long")}for(const xt of[Ae.Ecc.MEDIUM,Ae.Ecc.QUARTILE,Ae.Ecc.HIGH])$&&gt<=Ae.getNumDataCodewords(at,xt)*8&&(N=xt);let ht=[];for(const xt of v){f(xt.mode.modeBits,4,ht),f(xt.numChars,xt.mode.numCharCountBits(at),ht);for(const Rt of xt.getData())ht.push(Rt)}_(ht.length==gt);const Ut=Ae.getNumDataCodewords(at,N)*8;_(ht.length<=Ut),f(0,Math.min(4,Ut-ht.length),ht),f(0,(8-ht.length%8)%8,ht),_(ht.length%8==0);for(let xt=236;ht.length<Ut;xt^=253)f(xt,8,ht);let Mt=[];for(;Mt.length*8<ht.length;)Mt.push(0);return ht.forEach((xt,Rt)=>Mt[Rt>>>3]|=xt<<7-(Rt&7)),new Ae(at,N,Mt,G)}getModule(v,N){return 0<=v&&v<this.size&&0<=N&&N<this.size&&this.modules[N][v]}getModules(){return this.modules}drawFunctionPatterns(){for(let U=0;U<this.size;U++)this.setFunctionModule(6,U,U%2==0),this.setFunctionModule(U,6,U%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const v=this.getAlignmentPatternPositions(),N=v.length;for(let U=0;U<N;U++)for(let B=0;B<N;B++)U==0&&B==0||U==0&&B==N-1||U==N-1&&B==0||this.drawAlignmentPattern(v[U],v[B]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(v){const N=this.errorCorrectionLevel.formatBits<<3|v;let U=N;for(let G=0;G<10;G++)U=U<<1^(U>>>9)*1335;const B=(N<<10|U)^21522;_(B>>>15==0);for(let G=0;G<=5;G++)this.setFunctionModule(8,G,g(B,G));this.setFunctionModule(8,7,g(B,6)),this.setFunctionModule(8,8,g(B,7)),this.setFunctionModule(7,8,g(B,8));for(let G=9;G<15;G++)this.setFunctionModule(14-G,8,g(B,G));for(let G=0;G<8;G++)this.setFunctionModule(this.size-1-G,8,g(B,G));for(let G=8;G<15;G++)this.setFunctionModule(8,this.size-15+G,g(B,G));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let v=this.version;for(let U=0;U<12;U++)v=v<<1^(v>>>11)*7973;const N=this.version<<12|v;_(N>>>18==0);for(let U=0;U<18;U++){const B=g(N,U),G=this.size-11+U%3,$=Math.floor(U/3);this.setFunctionModule(G,$,B),this.setFunctionModule($,G,B)}}drawFinderPattern(v,N){for(let U=-4;U<=4;U++)for(let B=-4;B<=4;B++){const G=Math.max(Math.abs(B),Math.abs(U)),$=v+B,at=N+U;0<=$&&$<this.size&&0<=at&&at<this.size&&this.setFunctionModule($,at,G!=2&&G!=4)}}drawAlignmentPattern(v,N){for(let U=-2;U<=2;U++)for(let B=-2;B<=2;B++)this.setFunctionModule(v+B,N+U,Math.max(Math.abs(B),Math.abs(U))!=1)}setFunctionModule(v,N,U){this.modules[N][v]=U,this.isFunction[N][v]=!0}addEccAndInterleave(v){const N=this.version,U=this.errorCorrectionLevel;if(v.length!=Ae.getNumDataCodewords(N,U))throw new RangeError("Invalid argument");const B=Ae.NUM_ERROR_CORRECTION_BLOCKS[U.ordinal][N],G=Ae.ECC_CODEWORDS_PER_BLOCK[U.ordinal][N],$=Math.floor(Ae.getNumRawDataModules(N)/8),at=B-$%B,gt=Math.floor($/B);let ht=[];const Ut=Ae.reedSolomonComputeDivisor(G);for(let xt=0,Rt=0;xt<B;xt++){let ue=v.slice(Rt,Rt+gt-G+(xt<at?0:1));Rt+=ue.length;const Ft=Ae.reedSolomonComputeRemainder(ue,Ut);xt<at&&ue.push(0),ht.push(ue.concat(Ft))}let Mt=[];for(let xt=0;xt<ht[0].length;xt++)ht.forEach((Rt,ue)=>{(xt!=gt-G||ue>=at)&&Mt.push(Rt[xt])});return _(Mt.length==$),Mt}drawCodewords(v){if(v.length!=Math.floor(Ae.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let N=0;for(let U=this.size-1;U>=1;U-=2){U==6&&(U=5);for(let B=0;B<this.size;B++)for(let G=0;G<2;G++){const $=U-G,gt=(U+1&2)==0?this.size-1-B:B;!this.isFunction[gt][$]&&N<v.length*8&&(this.modules[gt][$]=g(v[N>>>3],7-(N&7)),N++)}}_(N==v.length*8)}applyMask(v){if(v<0||v>7)throw new RangeError("Mask value out of range");for(let N=0;N<this.size;N++)for(let U=0;U<this.size;U++){let B;switch(v){case 0:B=(U+N)%2==0;break;case 1:B=N%2==0;break;case 2:B=U%3==0;break;case 3:B=(U+N)%3==0;break;case 4:B=(Math.floor(U/3)+Math.floor(N/2))%2==0;break;case 5:B=U*N%2+U*N%3==0;break;case 6:B=(U*N%2+U*N%3)%2==0;break;case 7:B=((U+N)%2+U*N%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[N][U]&&B&&(this.modules[N][U]=!this.modules[N][U])}}getPenaltyScore(){let v=0;for(let G=0;G<this.size;G++){let $=!1,at=0,gt=[0,0,0,0,0,0,0];for(let ht=0;ht<this.size;ht++)this.modules[G][ht]==$?(at++,at==5?v+=Ae.PENALTY_N1:at>5&&v++):(this.finderPenaltyAddHistory(at,gt),$||(v+=this.finderPenaltyCountPatterns(gt)*Ae.PENALTY_N3),$=this.modules[G][ht],at=1);v+=this.finderPenaltyTerminateAndCount($,at,gt)*Ae.PENALTY_N3}for(let G=0;G<this.size;G++){let $=!1,at=0,gt=[0,0,0,0,0,0,0];for(let ht=0;ht<this.size;ht++)this.modules[ht][G]==$?(at++,at==5?v+=Ae.PENALTY_N1:at>5&&v++):(this.finderPenaltyAddHistory(at,gt),$||(v+=this.finderPenaltyCountPatterns(gt)*Ae.PENALTY_N3),$=this.modules[ht][G],at=1);v+=this.finderPenaltyTerminateAndCount($,at,gt)*Ae.PENALTY_N3}for(let G=0;G<this.size-1;G++)for(let $=0;$<this.size-1;$++){const at=this.modules[G][$];at==this.modules[G][$+1]&&at==this.modules[G+1][$]&&at==this.modules[G+1][$+1]&&(v+=Ae.PENALTY_N2)}let N=0;for(const G of this.modules)N=G.reduce(($,at)=>$+(at?1:0),N);const U=this.size*this.size,B=Math.ceil(Math.abs(N*20-U*10)/U)-1;return _(0<=B&&B<=9),v+=B*Ae.PENALTY_N4,_(0<=v&&v<=2568888),v}getAlignmentPatternPositions(){if(this.version==1)return[];{const v=Math.floor(this.version/7)+2,N=this.version==32?26:Math.ceil((this.version*4+4)/(v*2-2))*2;let U=[6];for(let B=this.size-7;U.length<v;B-=N)U.splice(1,0,B);return U}}static getNumRawDataModules(v){if(v<Ae.MIN_VERSION||v>Ae.MAX_VERSION)throw new RangeError("Version number out of range");let N=(16*v+128)*v+64;if(v>=2){const U=Math.floor(v/7)+2;N-=(25*U-10)*U-55,v>=7&&(N-=36)}return _(208<=N&&N<=29648),N}static getNumDataCodewords(v,N){return Math.floor(Ae.getNumRawDataModules(v)/8)-Ae.ECC_CODEWORDS_PER_BLOCK[N.ordinal][v]*Ae.NUM_ERROR_CORRECTION_BLOCKS[N.ordinal][v]}static reedSolomonComputeDivisor(v){if(v<1||v>255)throw new RangeError("Degree out of range");let N=[];for(let B=0;B<v-1;B++)N.push(0);N.push(1);let U=1;for(let B=0;B<v;B++){for(let G=0;G<N.length;G++)N[G]=Ae.reedSolomonMultiply(N[G],U),G+1<N.length&&(N[G]^=N[G+1]);U=Ae.reedSolomonMultiply(U,2)}return N}static reedSolomonComputeRemainder(v,N){let U=N.map(B=>0);for(const B of v){const G=B^U.shift();U.push(0),N.forEach(($,at)=>U[at]^=Ae.reedSolomonMultiply($,G))}return U}static reedSolomonMultiply(v,N){if(v>>>8||N>>>8)throw new RangeError("Byte out of range");let U=0;for(let B=7;B>=0;B--)U=U<<1^(U>>>7)*285,U^=(N>>>B&1)*v;return _(U>>>8==0),U}finderPenaltyCountPatterns(v){const N=v[1];_(N<=this.size*3);const U=N>0&&v[2]==N&&v[3]==N*3&&v[4]==N&&v[5]==N;return(U&&v[0]>=N*4&&v[6]>=N?1:0)+(U&&v[6]>=N*4&&v[0]>=N?1:0)}finderPenaltyTerminateAndCount(v,N,U){return v&&(this.finderPenaltyAddHistory(N,U),N=0),N+=this.size,this.finderPenaltyAddHistory(N,U),this.finderPenaltyCountPatterns(U)}finderPenaltyAddHistory(v,N){N[0]==0&&(v+=this.size),N.pop(),N.unshift(v)}};s.MIN_VERSION=1,s.MAX_VERSION=40,s.PENALTY_N1=3,s.PENALTY_N2=3,s.PENALTY_N3=40,s.PENALTY_N4=10,s.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],s.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],o.QrCode=s;function f(z,v,N){if(v<0||v>31||z>>>v)throw new RangeError("Value out of range");for(let U=v-1;U>=0;U--)N.push(z>>>U&1)}function g(z,v){return(z>>>v&1)!=0}function _(z){if(!z)throw new Error("Assertion error")}const T=class Sn{constructor(v,N,U){if(this.mode=v,this.numChars=N,this.bitData=U,N<0)throw new RangeError("Invalid argument");this.bitData=U.slice()}static makeBytes(v){let N=[];for(const U of v)f(U,8,N);return new Sn(Sn.Mode.BYTE,v.length,N)}static makeNumeric(v){if(!Sn.isNumeric(v))throw new RangeError("String contains non-numeric characters");let N=[];for(let U=0;U<v.length;){const B=Math.min(v.length-U,3);f(parseInt(v.substring(U,U+B),10),B*3+1,N),U+=B}return new Sn(Sn.Mode.NUMERIC,v.length,N)}static makeAlphanumeric(v){if(!Sn.isAlphanumeric(v))throw new RangeError("String contains unencodable characters in alphanumeric mode");let N=[],U;for(U=0;U+2<=v.length;U+=2){let B=Sn.ALPHANUMERIC_CHARSET.indexOf(v.charAt(U))*45;B+=Sn.ALPHANUMERIC_CHARSET.indexOf(v.charAt(U+1)),f(B,11,N)}return U<v.length&&f(Sn.ALPHANUMERIC_CHARSET.indexOf(v.charAt(U)),6,N),new Sn(Sn.Mode.ALPHANUMERIC,v.length,N)}static makeSegments(v){return v==""?[]:Sn.isNumeric(v)?[Sn.makeNumeric(v)]:Sn.isAlphanumeric(v)?[Sn.makeAlphanumeric(v)]:[Sn.makeBytes(Sn.toUtf8ByteArray(v))]}static makeEci(v){let N=[];if(v<0)throw new RangeError("ECI assignment value out of range");if(v<128)f(v,8,N);else if(v<16384)f(2,2,N),f(v,14,N);else if(v<1e6)f(6,3,N),f(v,21,N);else throw new RangeError("ECI assignment value out of range");return new Sn(Sn.Mode.ECI,0,N)}static isNumeric(v){return Sn.NUMERIC_REGEX.test(v)}static isAlphanumeric(v){return Sn.ALPHANUMERIC_REGEX.test(v)}getData(){return this.bitData.slice()}static getTotalBits(v,N){let U=0;for(const B of v){const G=B.mode.numCharCountBits(N);if(B.numChars>=1<<G)return 1/0;U+=4+G+B.bitData.length}return U}static toUtf8ByteArray(v){v=encodeURI(v);let N=[];for(let U=0;U<v.length;U++)v.charAt(U)!="%"?N.push(v.charCodeAt(U)):(N.push(parseInt(v.substring(U+1,U+3),16)),U+=2);return N}};T.NUMERIC_REGEX=/^[0-9]*$/,T.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,T.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let I=T;o.QrSegment=T})(il||(il={}));(o=>{(s=>{const f=class{constructor(_,T){this.ordinal=_,this.formatBits=T}};f.LOW=new f(0,1),f.MEDIUM=new f(1,0),f.QUARTILE=new f(2,3),f.HIGH=new f(3,2),s.Ecc=f})(o.QrCode||(o.QrCode={}))})(il||(il={}));(o=>{(s=>{const f=class{constructor(_,T){this.modeBits=_,this.numBitsCharCount=T}numCharCountBits(_){return this.numBitsCharCount[Math.floor((_+7)/17)]}};f.NUMERIC=new f(1,[10,12,14]),f.ALPHANUMERIC=new f(2,[9,11,13]),f.BYTE=new f(4,[8,16,16]),f.KANJI=new f(8,[8,10,12]),f.ECI=new f(7,[0,0,0]),s.Mode=f})(o.QrSegment||(o.QrSegment={}))})(il||(il={}));var Pl=il;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var Zw={L:Pl.QrCode.Ecc.LOW,M:Pl.QrCode.Ecc.MEDIUM,Q:Pl.QrCode.Ecc.QUARTILE,H:Pl.QrCode.Ecc.HIGH},gp=128,Ep="L",mp="#FFFFFF",pp="#000000",Ap=!1,_p=1,Qw=4,Jw=0,$w=.1;function xp(o,s=0){const f=[];return o.forEach(function(g,_){let T=null;g.forEach(function(I,z){if(!I&&T!==null){f.push(`M${T+s} ${_+s}h${z-T}v1H${T+s}z`),T=null;return}if(z===g.length-1){if(!I)return;T===null?f.push(`M${z+s},${_+s} h1v1H${z+s}z`):f.push(`M${T+s},${_+s} h${z+1-T}v1H${T+s}z`);return}I&&T===null&&(T=z)})}),f.join("")}function yp(o,s){return o.slice().map((f,g)=>g<s.y||g>=s.y+s.h?f:f.map((_,T)=>T<s.x||T>=s.x+s.w?_:!1))}function tT(o,s,f,g){if(g==null)return null;const _=o.length+f*2,T=Math.floor(s*$w),I=_/s,z=(g.width||T)*I,v=(g.height||T)*I,N=g.x==null?o.length/2-z/2:g.x*I,U=g.y==null?o.length/2-v/2:g.y*I,B=g.opacity==null?1:g.opacity;let G=null;if(g.excavate){let at=Math.floor(N),gt=Math.floor(U),ht=Math.ceil(z+N-at),Ut=Math.ceil(v+U-gt);G={x:at,y:gt,w:ht,h:Ut}}const $=g.crossOrigin;return{x:N,y:U,h:v,w:z,excavation:G,opacity:B,crossOrigin:$}}function eT(o,s){return s!=null?Math.max(Math.floor(s),0):o?Qw:Jw}function wp({value:o,level:s,minVersion:f,includeMargin:g,marginSize:_,imageSettings:T,size:I,boostLevel:z}){let v=zn.useMemo(()=>{const at=(Array.isArray(o)?o:[o]).reduce((gt,ht)=>(gt.push(...Pl.QrSegment.makeSegments(ht)),gt),[]);return Pl.QrCode.encodeSegments(at,Zw[s],f,void 0,void 0,z)},[o,s,f,z]);const{cells:N,margin:U,numCells:B,calculatedImageSettings:G}=zn.useMemo(()=>{let $=v.getModules();const at=eT(g,_),gt=$.length+at*2,ht=tT($,I,at,T);return{cells:$,margin:at,numCells:gt,calculatedImageSettings:ht}},[v,I,T,g,_]);return{qrcode:v,margin:U,cells:N,numCells:B,calculatedImageSettings:G}}var nT=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),iT=zn.forwardRef(function(s,f){const g=s,{value:_,size:T=gp,level:I=Ep,bgColor:z=mp,fgColor:v=pp,includeMargin:N=Ap,minVersion:U=_p,boostLevel:B,marginSize:G,imageSettings:$}=g,gt=n1(g,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:ht}=gt,Ut=n1(gt,["style"]),Mt=$==null?void 0:$.src,xt=zn.useRef(null),Rt=zn.useRef(null),ue=zn.useCallback(Xt=>{xt.current=Xt,typeof f=="function"?f(Xt):f&&(f.current=Xt)},[f]),[Ft,P]=zn.useState(!1),{margin:H,cells:L,numCells:Q,calculatedImageSettings:j}=wp({value:_,level:I,minVersion:U,boostLevel:B,includeMargin:N,marginSize:G,imageSettings:$,size:T});zn.useEffect(()=>{if(xt.current!=null){const Xt=xt.current,st=Xt.getContext("2d");if(!st)return;let ct=L;const pt=Rt.current,Pt=j!=null&&pt!==null&&pt.complete&&pt.naturalHeight!==0&&pt.naturalWidth!==0;Pt&&j.excavation!=null&&(ct=yp(L,j.excavation));const Jt=window.devicePixelRatio||1;Xt.height=Xt.width=T*Jt;const ie=T/Q*Jt;st.scale(ie,ie),st.fillStyle=z,st.fillRect(0,0,Q,Q),st.fillStyle=v,nT?st.fill(new Path2D(xp(ct,H))):L.forEach(function(K,Et){K.forEach(function(bt,Ot){bt&&st.fillRect(Ot+H,Et+H,1,1)})}),j&&(st.globalAlpha=j.opacity),Pt&&st.drawImage(pt,j.x+H,j.y+H,j.w,j.h)}}),zn.useEffect(()=>{P(!1)},[Mt]);const q=e1({height:T,width:T},ht);let V=null;return Mt!=null&&(V=zn.createElement("img",{src:Mt,key:Mt,style:{display:"none"},onLoad:()=>{P(!0)},ref:Rt,crossOrigin:j==null?void 0:j.crossOrigin})),zn.createElement(zn.Fragment,null,zn.createElement("canvas",e1({style:q,height:T,width:T,ref:ue,role:"img"},Ut)),V)});iT.displayName="QRCodeCanvas";var rT=zn.forwardRef(function(s,f){const g=s,{value:_,size:T=gp,level:I=Ep,bgColor:z=mp,fgColor:v=pp,includeMargin:N=Ap,minVersion:U=_p,boostLevel:B,title:G,marginSize:$,imageSettings:at}=g,gt=n1(g,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:ht,cells:Ut,numCells:Mt,calculatedImageSettings:xt}=wp({value:_,level:I,minVersion:U,boostLevel:B,includeMargin:N,marginSize:$,imageSettings:at,size:T});let Rt=Ut,ue=null;at!=null&&xt!=null&&(xt.excavation!=null&&(Rt=yp(Ut,xt.excavation)),ue=zn.createElement("image",{href:at.src,height:xt.h,width:xt.w,x:xt.x+ht,y:xt.y+ht,preserveAspectRatio:"none",opacity:xt.opacity,crossOrigin:xt.crossOrigin}));const Ft=xp(Rt,ht);return zn.createElement("svg",e1({height:T,width:T,viewBox:`0 0 ${Mt} ${Mt}`,ref:f,role:"img"},gt),!!G&&zn.createElement("title",null,G),zn.createElement("path",{fill:z,d:`M0,0 h${Mt}v${Mt}H0z`,shapeRendering:"crispEdges"}),zn.createElement("path",{fill:v,d:Ft,shapeRendering:"crispEdges"}),ue)});rT.displayName="QRCodeSVG";var Vn;(function(o){o[o.QR_CODE=0]="QR_CODE",o[o.AZTEC=1]="AZTEC",o[o.CODABAR=2]="CODABAR",o[o.CODE_39=3]="CODE_39",o[o.CODE_93=4]="CODE_93",o[o.CODE_128=5]="CODE_128",o[o.DATA_MATRIX=6]="DATA_MATRIX",o[o.MAXICODE=7]="MAXICODE",o[o.ITF=8]="ITF",o[o.EAN_13=9]="EAN_13",o[o.EAN_8=10]="EAN_8",o[o.PDF_417=11]="PDF_417",o[o.RSS_14=12]="RSS_14",o[o.RSS_EXPANDED=13]="RSS_EXPANDED",o[o.UPC_A=14]="UPC_A",o[o.UPC_E=15]="UPC_E",o[o.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Vn||(Vn={}));Vn.QR_CODE,Vn.AZTEC,Vn.CODABAR,Vn.CODE_39,Vn.CODE_93,Vn.CODE_128,Vn.DATA_MATRIX,Vn.MAXICODE,Vn.ITF,Vn.EAN_13,Vn.EAN_8,Vn.PDF_417,Vn.RSS_14,Vn.RSS_EXPANDED,Vn.UPC_A,Vn.UPC_E,Vn.UPC_EAN_EXTENSION;var FE;(function(o){o[o.UNKNOWN=0]="UNKNOWN",o[o.URL=1]="URL"})(FE||(FE={}));var vc;(function(o){o[o.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",o[o.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(vc||(vc={}));var sT=(function(){function o(){}return o.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",o.SCAN_DEFAULT_FPS=2,o.DEFAULT_DISABLE_FLIP=!1,o.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,o.DEFAULT_SUPPORTED_SCAN_TYPE=[vc.SCAN_TYPE_CAMERA,vc.SCAN_TYPE_FILE],o})(),HE;(function(o){o[o.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",o[o.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",o[o.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(HE||(HE={}));var Uo={exports:{}},aT=Uo.exports,VE;function lT(){return VE||(VE=1,(function(o,s){(function(f,g){g(s)})(aT,(function(f){function g(b){return b==null}var _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,e){b.__proto__=e}||function(b,e){for(var i in e)e.hasOwnProperty(i)&&(b[i]=e[i])};function T(b,e){_(b,e);function i(){this.constructor=b}b.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}function I(b,e){var i=Object.setPrototypeOf;i?i(b,e):b.__proto__=e}function z(b,e){e===void 0&&(e=b.constructor);var i=Error.captureStackTrace;i&&i(b,e)}var v=(function(b){T(e,b);function e(i){var r=this.constructor,l=b.call(this,i)||this;return Object.defineProperty(l,"name",{value:r.name,enumerable:!1}),I(l,r.prototype),z(l),l}return e})(Error);class N extends v{constructor(e=void 0){super(e),this.message=e}getKind(){return this.constructor.kind}}N.kind="Exception";class U extends N{}U.kind="ArgumentException";class B extends N{}B.kind="IllegalArgumentException";class G{constructor(e){if(this.binarizer=e,e===null)throw new B("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,i){return this.binarizer.getBlackRow(e,i)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,i,r,l){const u=this.binarizer.getLuminanceSource().crop(e,i,r,l);return new G(this.binarizer.createBinarizer(u))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new G(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new G(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class $ extends N{static getChecksumInstance(){return new $}}$.kind="ChecksumException";class at{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class gt{static arraycopy(e,i,r,l,u){for(;u--;)r[l++]=e[i++]}static currentTimeMillis(){return Date.now()}}class ht extends N{}ht.kind="IndexOutOfBoundsException";class Ut extends ht{constructor(e=void 0,i=void 0){super(i),this.index=e,this.message=i}}Ut.kind="ArrayIndexOutOfBoundsException";class Mt{static fill(e,i){for(let r=0,l=e.length;r<l;r++)e[r]=i}static fillWithin(e,i,r,l){Mt.rangeCheck(e.length,i,r);for(let u=i;u<r;u++)e[u]=l}static rangeCheck(e,i,r){if(i>r)throw new B("fromIndex("+i+") > toIndex("+r+")");if(i<0)throw new Ut(i);if(r>e)throw new Ut(r)}static asList(...e){return e}static create(e,i,r){return Array.from({length:e}).map(u=>Array.from({length:i}).fill(r))}static createInt32Array(e,i,r){return Array.from({length:e}).map(u=>Int32Array.from({length:i}).fill(r))}static equals(e,i){if(!e||!i||!e.length||!i.length||e.length!==i.length)return!1;for(let r=0,l=e.length;r<l;r++)if(e[r]!==i[r])return!1;return!0}static hashCode(e){if(e===null)return 0;let i=1;for(const r of e)i=31*i+r;return i}static fillUint8Array(e,i){for(let r=0;r!==e.length;r++)e[r]=i}static copyOf(e,i){return e.slice(0,i)}static copyOfUint8Array(e,i){if(e.length<=i){const r=new Uint8Array(i);return r.set(e),r}return e.slice(0,i)}static copyOfRange(e,i,r){const l=r-i,u=new Int32Array(l);return gt.arraycopy(e,i,u,0,l),u}static binarySearch(e,i,r){r===void 0&&(r=Mt.numberComparator);let l=0,u=e.length-1;for(;l<=u;){const h=u+l>>1,d=r(i,e[h]);if(d>0)l=h+1;else if(d<0)u=h-1;else return h}return-l-1}static numberComparator(e,i){return e-i}}class xt{static numberOfTrailingZeros(e){let i;if(e===0)return 32;let r=31;return i=e<<16,i!==0&&(r-=16,e=i),i=e<<8,i!==0&&(r-=8,e=i),i=e<<4,i!==0&&(r-=4,e=i),i=e<<2,i!==0&&(r-=2,e=i),r-(e<<1>>>31)}static numberOfLeadingZeros(e){if(e===0)return 32;let i=1;return e>>>16||(i+=16,e<<=16),e>>>24||(i+=8,e<<=8),e>>>28||(i+=4,e<<=4),e>>>30||(i+=2,e<<=2),i-=e>>>31,i}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63}static truncDivision(e,i){return Math.trunc(e/i)}static parseInt(e,i=void 0){return parseInt(e,i)}}xt.MIN_VALUE_32_BITS=-2147483648,xt.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Rt{constructor(e,i){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,i==null?this.bits=Rt.makeArray(e):this.bits=i)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>this.bits.length*32){const i=Rt.makeArray(e);gt.arraycopy(this.bits,0,i,0,this.bits.length),this.bits=i}}get(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0}set(e){this.bits[Math.floor(e/32)]|=1<<(e&31)}flip(e){this.bits[Math.floor(e/32)]^=1<<(e&31)}getNextSet(e){const i=this.size;if(e>=i)return i;const r=this.bits;let l=Math.floor(e/32),u=r[l];u&=~((1<<(e&31))-1);const h=r.length;for(;u===0;){if(++l===h)return i;u=r[l]}const d=l*32+xt.numberOfTrailingZeros(u);return d>i?i:d}getNextUnset(e){const i=this.size;if(e>=i)return i;const r=this.bits;let l=Math.floor(e/32),u=~r[l];u&=~((1<<(e&31))-1);const h=r.length;for(;u===0;){if(++l===h)return i;u=~r[l]}const d=l*32+xt.numberOfTrailingZeros(u);return d>i?i:d}setBulk(e,i){this.bits[Math.floor(e/32)]=i}setRange(e,i){if(i<e||e<0||i>this.size)throw new B;if(i===e)return;i--;const r=Math.floor(e/32),l=Math.floor(i/32),u=this.bits;for(let h=r;h<=l;h++){const d=h>r?0:e&31,x=(2<<(h<l?31:i&31))-(1<<d);u[h]|=x}}clear(){const e=this.bits.length,i=this.bits;for(let r=0;r<e;r++)i[r]=0}isRange(e,i,r){if(i<e||e<0||i>this.size)throw new B;if(i===e)return!0;i--;const l=Math.floor(e/32),u=Math.floor(i/32),h=this.bits;for(let d=l;d<=u;d++){const p=d>l?0:e&31,w=(2<<(d<u?31:i&31))-(1<<p)&4294967295;if((h[d]&w)!==(r?w:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(e,i){if(i<0||i>32)throw new B("Num bits must be between 0 and 32");this.ensureCapacity(this.size+i);for(let r=i;r>0;r--)this.appendBit((e>>r-1&1)===1)}appendBitArray(e){const i=e.size;this.ensureCapacity(this.size+i);for(let r=0;r<i;r++)this.appendBit(e.get(r))}xor(e){if(this.size!==e.size)throw new B("Sizes don't match");const i=this.bits;for(let r=0,l=i.length;r<l;r++)i[r]^=e.bits[r]}toBytes(e,i,r,l){for(let u=0;u<l;u++){let h=0;for(let d=0;d<8;d++)this.get(e)&&(h|=1<<7-d),e++;i[r+u]=h}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),i=Math.floor((this.size-1)/32),r=i+1,l=this.bits;for(let u=0;u<r;u++){let h=l[u];h=h>>1&1431655765|(h&1431655765)<<1,h=h>>2&858993459|(h&858993459)<<2,h=h>>4&252645135|(h&252645135)<<4,h=h>>8&16711935|(h&16711935)<<8,h=h>>16&65535|(h&65535)<<16,e[i-u]=h}if(this.size!==r*32){const u=r*32-this.size;let h=e[0]>>>u;for(let d=1;d<r;d++){const p=e[d];h|=p<<32-u,e[d-1]=h,h=p>>>u}e[r-1]=h}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof Rt))return!1;const i=e;return this.size===i.size&&Mt.equals(this.bits,i.bits)}hashCode(){return 31*this.size+Mt.hashCode(this.bits)}toString(){let e="";for(let i=0,r=this.size;i<r;i++)(i&7)===0&&(e+=" "),e+=this.get(i)?"X":".";return e}clone(){return new Rt(this.size,this.bits.slice())}}var ue;(function(b){b[b.OTHER=0]="OTHER",b[b.PURE_BARCODE=1]="PURE_BARCODE",b[b.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",b[b.TRY_HARDER=3]="TRY_HARDER",b[b.CHARACTER_SET=4]="CHARACTER_SET",b[b.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",b[b.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",b[b.ASSUME_GS1=7]="ASSUME_GS1",b[b.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",b[b.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",b[b.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(ue||(ue={}));var Ft=ue;class P extends N{static getFormatInstance(){return new P}}P.kind="FormatException";var H;(function(b){b[b.Cp437=0]="Cp437",b[b.ISO8859_1=1]="ISO8859_1",b[b.ISO8859_2=2]="ISO8859_2",b[b.ISO8859_3=3]="ISO8859_3",b[b.ISO8859_4=4]="ISO8859_4",b[b.ISO8859_5=5]="ISO8859_5",b[b.ISO8859_6=6]="ISO8859_6",b[b.ISO8859_7=7]="ISO8859_7",b[b.ISO8859_8=8]="ISO8859_8",b[b.ISO8859_9=9]="ISO8859_9",b[b.ISO8859_10=10]="ISO8859_10",b[b.ISO8859_11=11]="ISO8859_11",b[b.ISO8859_13=12]="ISO8859_13",b[b.ISO8859_14=13]="ISO8859_14",b[b.ISO8859_15=14]="ISO8859_15",b[b.ISO8859_16=15]="ISO8859_16",b[b.SJIS=16]="SJIS",b[b.Cp1250=17]="Cp1250",b[b.Cp1251=18]="Cp1251",b[b.Cp1252=19]="Cp1252",b[b.Cp1256=20]="Cp1256",b[b.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",b[b.UTF8=22]="UTF8",b[b.ASCII=23]="ASCII",b[b.Big5=24]="Big5",b[b.GB18030=25]="GB18030",b[b.EUC_KR=26]="EUC_KR"})(H||(H={}));class L{constructor(e,i,r,...l){this.valueIdentifier=e,this.name=r,typeof i=="number"?this.values=Int32Array.from([i]):this.values=i,this.otherEncodingNames=l,L.VALUE_IDENTIFIER_TO_ECI.set(e,this),L.NAME_TO_ECI.set(r,this);const u=this.values;for(let h=0,d=u.length;h!==d;h++){const p=u[h];L.VALUES_TO_ECI.set(p,this)}for(const h of l)L.NAME_TO_ECI.set(h,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new P("incorect value");const i=L.VALUES_TO_ECI.get(e);if(i===void 0)throw new P("incorect value");return i}static getCharacterSetECIByName(e){const i=L.NAME_TO_ECI.get(e);if(i===void 0)throw new P("incorect value");return i}equals(e){if(!(e instanceof L))return!1;const i=e;return this.getName()===i.getName()}}L.VALUE_IDENTIFIER_TO_ECI=new Map,L.VALUES_TO_ECI=new Map,L.NAME_TO_ECI=new Map,L.Cp437=new L(H.Cp437,Int32Array.from([0,2]),"Cp437"),L.ISO8859_1=new L(H.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),L.ISO8859_2=new L(H.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),L.ISO8859_3=new L(H.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),L.ISO8859_4=new L(H.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),L.ISO8859_5=new L(H.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),L.ISO8859_6=new L(H.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),L.ISO8859_7=new L(H.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),L.ISO8859_8=new L(H.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),L.ISO8859_9=new L(H.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),L.ISO8859_10=new L(H.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),L.ISO8859_11=new L(H.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),L.ISO8859_13=new L(H.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),L.ISO8859_14=new L(H.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),L.ISO8859_15=new L(H.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),L.ISO8859_16=new L(H.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),L.SJIS=new L(H.SJIS,20,"SJIS","Shift_JIS"),L.Cp1250=new L(H.Cp1250,21,"Cp1250","windows-1250"),L.Cp1251=new L(H.Cp1251,22,"Cp1251","windows-1251"),L.Cp1252=new L(H.Cp1252,23,"Cp1252","windows-1252"),L.Cp1256=new L(H.Cp1256,24,"Cp1256","windows-1256"),L.UnicodeBigUnmarked=new L(H.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),L.UTF8=new L(H.UTF8,26,"UTF8","UTF-8"),L.ASCII=new L(H.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),L.Big5=new L(H.Big5,28,"Big5"),L.GB18030=new L(H.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),L.EUC_KR=new L(H.EUC_KR,30,"EUC_KR","EUC-KR");class Q extends N{}Q.kind="UnsupportedOperationException";class j{static decode(e,i){const r=this.encodingName(i);return this.customDecoder?this.customDecoder(e,r):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(r)?this.decodeFallback(e,r):new TextDecoder(r).decode(e)}static shouldDecodeOnFallback(e){return!j.isBrowser()&&e==="ISO-8859-1"}static encode(e,i){const r=this.encodingName(i);return this.customEncoder?this.customEncoder(e,r):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(e){return typeof e=="string"?e:e.getName()}static encodingCharacterSet(e){return e instanceof L?e:L.getCharacterSetECIByName(e)}static decodeFallback(e,i){const r=this.encodingCharacterSet(i);if(j.isDecodeFallbackSupported(r)){let l="";for(let u=0,h=e.length;u<h;u++){let d=e[u].toString(16);d.length<2&&(d="0"+d),l+="%"+d}return decodeURIComponent(l)}if(r.equals(L.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new Q(`Encoding ${this.encodingName(i)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(L.UTF8)||e.equals(L.ISO8859_1)||e.equals(L.ASCII)}static encodeFallback(e){const r=btoa(unescape(encodeURIComponent(e))).split(""),l=[];for(let u=0;u<r.length;u++)l.push(r[u].charCodeAt(0));return new Uint8Array(l)}}class q{static castAsNonUtf8Char(e,i=null){const r=i?i.getName():this.ISO88591;return j.decode(new Uint8Array([e]),r)}static guessEncoding(e,i){if(i!=null&&i.get(Ft.CHARACTER_SET)!==void 0)return i.get(Ft.CHARACTER_SET).toString();const r=e.length;let l=!0,u=!0,h=!0,d=0,p=0,x=0,w=0,O=0,R=0,F=0,X=0,W=0,et=0,ft=0;const Ct=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191;for(let St=0;St<r&&(l||u||h);St++){const wt=e[St]&255;h&&(d>0?(wt&128)===0?h=!1:d--:(wt&128)!==0&&((wt&64)===0?h=!1:(d++,(wt&32)===0?p++:(d++,(wt&16)===0?x++:(d++,(wt&8)===0?w++:h=!1))))),l&&(wt>127&&wt<160?l=!1:wt>159&&(wt<192||wt===215||wt===247)&&ft++),u&&(O>0?wt<64||wt===127||wt>252?u=!1:O--:wt===128||wt===160||wt>239?u=!1:wt>160&&wt<224?(R++,X=0,F++,F>W&&(W=F)):wt>127?(O++,F=0,X++,X>et&&(et=X)):(F=0,X=0))}return h&&d>0&&(h=!1),u&&O>0&&(u=!1),h&&(Ct||p+x+w>0)?q.UTF8:u&&(q.ASSUME_SHIFT_JIS||W>=3||et>=3)?q.SHIFT_JIS:l&&u?W===2&&R===2||ft*10>=r?q.SHIFT_JIS:q.ISO88591:l?q.ISO88591:u?q.SHIFT_JIS:h?q.UTF8:q.PLATFORM_DEFAULT_ENCODING}static format(e,...i){let r=-1;function l(h,d,p,x,w,O){if(h==="%%")return"%";if(i[++r]===void 0)return;h=x?parseInt(x.substr(1)):void 0;let R=w?parseInt(w.substr(1)):void 0,F;switch(O){case"s":F=i[r];break;case"c":F=i[r][0];break;case"f":F=parseFloat(i[r]).toFixed(h);break;case"p":F=parseFloat(i[r]).toPrecision(h);break;case"e":F=parseFloat(i[r]).toExponential(h);break;case"x":F=parseInt(i[r]).toString(R||16);break;case"d":F=parseFloat(parseInt(i[r],R||10).toPrecision(h)).toFixed(0);break}F=typeof F=="object"?JSON.stringify(F):(+F).toString(R);let X=parseInt(p),W=p&&p[0]+""=="0"?"0":" ";for(;F.length<X;)F=d!==void 0?F+W:W+F;return F}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(u,l)}static getBytes(e,i){return j.encode(e,i)}static getCharCode(e,i=0){return e.charCodeAt(i)}static getCharAt(e){return String.fromCharCode(e)}}q.SHIFT_JIS=L.SJIS.getName(),q.GB2312="GB2312",q.ISO88591=L.ISO8859_1.getName(),q.EUC_JP="EUC_JP",q.UTF8=L.UTF8.getName(),q.PLATFORM_DEFAULT_ENCODING=q.UTF8,q.ASSUME_SHIFT_JIS=!1;class V{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=q.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,i,r){for(let l=i;i<i+r;l++)this.append(e[l]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,i){this.value=this.value.substr(0,e)+i+this.value.substr(e+1)}substring(e,i){return this.value.substring(e,i)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,i){this.value=this.value.substr(0,e)+i+this.value.substr(e+i.length)}}class Xt{constructor(e,i,r,l){if(this.width=e,this.height=i,this.rowSize=r,this.bits=l,i==null&&(i=e),this.height=i,e<1||i<1)throw new B("Both dimensions must be greater than 0");r==null&&(r=Math.floor((e+31)/32)),this.rowSize=r,l==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const i=e.length,r=e[0].length,l=new Xt(r,i);for(let u=0;u<i;u++){const h=e[u];for(let d=0;d<r;d++)h[d]&&l.set(d,u)}return l}static parseFromString(e,i,r){if(e===null)throw new B("stringRepresentation cannot be null");const l=new Array(e.length);let u=0,h=0,d=-1,p=0,x=0;for(;x<e.length;)if(e.charAt(x)===`
`||e.charAt(x)==="\r"){if(u>h){if(d===-1)d=u-h;else if(u-h!==d)throw new B("row lengths do not match");h=u,p++}x++}else if(e.substring(x,x+i.length)===i)x+=i.length,l[u]=!0,u++;else if(e.substring(x,x+r.length)===r)x+=r.length,l[u]=!1,u++;else throw new B("illegal character encountered: "+e.substring(x));if(u>h){if(d===-1)d=u-h;else if(u-h!==d)throw new B("row lengths do not match");p++}const w=new Xt(d,p);for(let O=0;O<u;O++)l[O]&&w.set(Math.floor(O%d),Math.floor(O/d));return w}get(e,i){const r=i*this.rowSize+Math.floor(e/32);return(this.bits[r]>>>(e&31)&1)!==0}set(e,i){const r=i*this.rowSize+Math.floor(e/32);this.bits[r]|=1<<(e&31)&4294967295}unset(e,i){const r=i*this.rowSize+Math.floor(e/32);this.bits[r]&=~(1<<(e&31)&4294967295)}flip(e,i){const r=i*this.rowSize+Math.floor(e/32);this.bits[r]^=1<<(e&31)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new B("input matrix dimensions do not match");const i=new Rt(Math.floor(this.width/32)+1),r=this.rowSize,l=this.bits;for(let u=0,h=this.height;u<h;u++){const d=u*r,p=e.getRow(u,i).getBitArray();for(let x=0;x<r;x++)l[d+x]^=p[x]}}clear(){const e=this.bits,i=e.length;for(let r=0;r<i;r++)e[r]=0}setRegion(e,i,r,l){if(i<0||e<0)throw new B("Left and top must be nonnegative");if(l<1||r<1)throw new B("Height and width must be at least 1");const u=e+r,h=i+l;if(h>this.height||u>this.width)throw new B("The region must fit inside the matrix");const d=this.rowSize,p=this.bits;for(let x=i;x<h;x++){const w=x*d;for(let O=e;O<u;O++)p[w+Math.floor(O/32)]|=1<<(O&31)&4294967295}}getRow(e,i){i==null||i.getSize()<this.width?i=new Rt(this.width):i.clear();const r=this.rowSize,l=this.bits,u=e*r;for(let h=0;h<r;h++)i.setBulk(h*32,l[u+h]);return i}setRow(e,i){gt.arraycopy(i.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),i=this.getHeight();let r=new Rt(e),l=new Rt(e);for(let u=0,h=Math.floor((i+1)/2);u<h;u++)r=this.getRow(u,r),l=this.getRow(i-1-u,l),r.reverse(),l.reverse(),this.setRow(u,l),this.setRow(i-1-u,r)}getEnclosingRectangle(){const e=this.width,i=this.height,r=this.rowSize,l=this.bits;let u=e,h=i,d=-1,p=-1;for(let x=0;x<i;x++)for(let w=0;w<r;w++){const O=l[x*r+w];if(O!==0){if(x<h&&(h=x),x>p&&(p=x),w*32<u){let R=0;for(;(O<<31-R&4294967295)===0;)R++;w*32+R<u&&(u=w*32+R)}if(w*32+31>d){let R=31;for(;!(O>>>R);)R--;w*32+R>d&&(d=w*32+R)}}}return d<u||p<h?null:Int32Array.from([u,h,d-u+1,p-h+1])}getTopLeftOnBit(){const e=this.rowSize,i=this.bits;let r=0;for(;r<i.length&&i[r]===0;)r++;if(r===i.length)return null;const l=r/e;let u=r%e*32;const h=i[r];let d=0;for(;(h<<31-d&4294967295)===0;)d++;return u+=d,Int32Array.from([u,l])}getBottomRightOnBit(){const e=this.rowSize,i=this.bits;let r=i.length-1;for(;r>=0&&i[r]===0;)r--;if(r<0)return null;const l=Math.floor(r/e);let u=Math.floor(r%e)*32;const h=i[r];let d=31;for(;!(h>>>d);)d--;return u+=d,Int32Array.from([u,l])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof Xt))return!1;const i=e;return this.width===i.width&&this.height===i.height&&this.rowSize===i.rowSize&&Mt.equals(this.bits,i.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+Mt.hashCode(this.bits),e}toString(e="X ",i="  ",r=`
`){return this.buildToString(e,i,r)}buildToString(e,i,r){let l=new V;for(let u=0,h=this.height;u<h;u++){for(let d=0,p=this.width;d<p;d++)l.append(this.get(d,u)?e:i);l.append(r)}return l.toString()}clone(){return new Xt(this.width,this.height,this.rowSize,this.bits.slice())}}class st extends N{static getNotFoundInstance(){return new st}}st.kind="NotFoundException";class ct extends at{constructor(e){super(e),this.luminances=ct.EMPTY,this.buckets=new Int32Array(ct.LUMINANCE_BUCKETS)}getBlackRow(e,i){const r=this.getLuminanceSource(),l=r.getWidth();i==null||i.getSize()<l?i=new Rt(l):i.clear(),this.initArrays(l);const u=r.getRow(e,this.luminances),h=this.buckets;for(let p=0;p<l;p++)h[(u[p]&255)>>ct.LUMINANCE_SHIFT]++;const d=ct.estimateBlackPoint(h);if(l<3)for(let p=0;p<l;p++)(u[p]&255)<d&&i.set(p);else{let p=u[0]&255,x=u[1]&255;for(let w=1;w<l-1;w++){const O=u[w+1]&255;(x*4-p-O)/2<d&&i.set(w),p=x,x=O}}return i}getBlackMatrix(){const e=this.getLuminanceSource(),i=e.getWidth(),r=e.getHeight(),l=new Xt(i,r);this.initArrays(i);const u=this.buckets;for(let p=1;p<5;p++){const x=Math.floor(r*p/5),w=e.getRow(x,this.luminances),O=Math.floor(i*4/5);for(let R=Math.floor(i/5);R<O;R++){const F=w[R]&255;u[F>>ct.LUMINANCE_SHIFT]++}}const h=ct.estimateBlackPoint(u),d=e.getMatrix();for(let p=0;p<r;p++){const x=p*i;for(let w=0;w<i;w++)(d[x+w]&255)<h&&l.set(w,p)}return l}createBinarizer(e){return new ct(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const i=this.buckets;for(let r=0;r<ct.LUMINANCE_BUCKETS;r++)i[r]=0}static estimateBlackPoint(e){const i=e.length;let r=0,l=0,u=0;for(let w=0;w<i;w++)e[w]>u&&(l=w,u=e[w]),e[w]>r&&(r=e[w]);let h=0,d=0;for(let w=0;w<i;w++){const O=w-l,R=e[w]*O*O;R>d&&(h=w,d=R)}if(l>h){const w=l;l=h,h=w}if(h-l<=i/16)throw new st;let p=h-1,x=-1;for(let w=h-1;w>l;w--){const O=w-l,R=O*O*(h-w)*(r-e[w]);R>x&&(p=w,x=R)}return p<<ct.LUMINANCE_SHIFT}}ct.LUMINANCE_BITS=5,ct.LUMINANCE_SHIFT=8-ct.LUMINANCE_BITS,ct.LUMINANCE_BUCKETS=1<<ct.LUMINANCE_BITS,ct.EMPTY=Uint8ClampedArray.from([0]);class pt extends ct{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const e=this.getLuminanceSource(),i=e.getWidth(),r=e.getHeight();if(i>=pt.MINIMUM_DIMENSION&&r>=pt.MINIMUM_DIMENSION){const l=e.getMatrix();let u=i>>pt.BLOCK_SIZE_POWER;(i&pt.BLOCK_SIZE_MASK)!==0&&u++;let h=r>>pt.BLOCK_SIZE_POWER;(r&pt.BLOCK_SIZE_MASK)!==0&&h++;const d=pt.calculateBlackPoints(l,u,h,i,r),p=new Xt(i,r);pt.calculateThresholdForBlock(l,u,h,i,r,d,p),this.matrix=p}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new pt(e)}static calculateThresholdForBlock(e,i,r,l,u,h,d){const p=u-pt.BLOCK_SIZE,x=l-pt.BLOCK_SIZE;for(let w=0;w<r;w++){let O=w<<pt.BLOCK_SIZE_POWER;O>p&&(O=p);const R=pt.cap(w,2,r-3);for(let F=0;F<i;F++){let X=F<<pt.BLOCK_SIZE_POWER;X>x&&(X=x);const W=pt.cap(F,2,i-3);let et=0;for(let Ct=-2;Ct<=2;Ct++){const St=h[R+Ct];et+=St[W-2]+St[W-1]+St[W]+St[W+1]+St[W+2]}const ft=et/25;pt.thresholdBlock(e,X,O,ft,l,d)}}}static cap(e,i,r){return e<i?i:e>r?r:e}static thresholdBlock(e,i,r,l,u,h){for(let d=0,p=r*u+i;d<pt.BLOCK_SIZE;d++,p+=u)for(let x=0;x<pt.BLOCK_SIZE;x++)(e[p+x]&255)<=l&&h.set(i+x,r+d)}static calculateBlackPoints(e,i,r,l,u){const h=u-pt.BLOCK_SIZE,d=l-pt.BLOCK_SIZE,p=new Array(r);for(let x=0;x<r;x++){p[x]=new Int32Array(i);let w=x<<pt.BLOCK_SIZE_POWER;w>h&&(w=h);for(let O=0;O<i;O++){let R=O<<pt.BLOCK_SIZE_POWER;R>d&&(R=d);let F=0,X=255,W=0;for(let ft=0,Ct=w*l+R;ft<pt.BLOCK_SIZE;ft++,Ct+=l){for(let St=0;St<pt.BLOCK_SIZE;St++){const wt=e[Ct+St]&255;F+=wt,wt<X&&(X=wt),wt>W&&(W=wt)}if(W-X>pt.MIN_DYNAMIC_RANGE)for(ft++,Ct+=l;ft<pt.BLOCK_SIZE;ft++,Ct+=l)for(let St=0;St<pt.BLOCK_SIZE;St++)F+=e[Ct+St]&255}let et=F>>pt.BLOCK_SIZE_POWER*2;if(W-X<=pt.MIN_DYNAMIC_RANGE&&(et=X/2,x>0&&O>0)){const ft=(p[x-1][O]+2*p[x][O-1]+p[x-1][O-1])/4;X<ft&&(et=ft)}p[x][O]=et}}return p}}pt.BLOCK_SIZE_POWER=3,pt.BLOCK_SIZE=1<<pt.BLOCK_SIZE_POWER,pt.BLOCK_SIZE_MASK=pt.BLOCK_SIZE-1,pt.MINIMUM_DIMENSION=pt.BLOCK_SIZE*5,pt.MIN_DYNAMIC_RANGE=24;class Pt{constructor(e,i){this.width=e,this.height=i}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,i,r,l){throw new Q("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Q("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Q("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let i=new V;for(let r=0;r<this.height;r++){const l=this.getRow(r,e);for(let u=0;u<this.width;u++){const h=l[u]&255;let d;h<64?d="#":h<128?d="+":h<192?d=".":d=" ",i.append(d)}i.append(`
`)}return i.toString()}}class Jt extends Pt{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,i){const r=this.delegate.getRow(e,i),l=this.getWidth();for(let u=0;u<l;u++)r[u]=255-(r[u]&255);return r}getMatrix(){const e=this.delegate.getMatrix(),i=this.getWidth()*this.getHeight(),r=new Uint8ClampedArray(i);for(let l=0;l<i;l++)r[l]=255-(e[l]&255);return r}isCropSupported(){return this.delegate.isCropSupported()}crop(e,i,r,l){return new Jt(this.delegate.crop(e,i,r,l))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Jt(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Jt(this.delegate.rotateCounterClockwise45())}}class ie extends Pt{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=ie.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const i=e.getContext("2d").getImageData(0,0,e.width,e.height);return ie.toGrayscaleBuffer(i.data,e.width,e.height)}static toGrayscaleBuffer(e,i,r){const l=new Uint8ClampedArray(i*r);for(let u=0,h=0,d=e.length;u<d;u+=4,h++){let p;if(e[u+3]===0)p=255;else{const w=e[u],O=e[u+1],R=e[u+2];p=306*w+601*O+117*R+512>>10}l[h]=p}return l}getRow(e,i){if(e<0||e>=this.getHeight())throw new B("Requested row is outside the image: "+e);const r=this.getWidth(),l=e*r;return i===null?i=this.buffer.slice(l,l+r):(i.length<r&&(i=new Uint8ClampedArray(r)),i.set(this.buffer.slice(l,l+r))),i}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,i,r,l){return super.crop(e,i,r,l),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const i=this.getTempCanvasElement(),r=i.getContext("2d"),l=e*ie.DEGREE_TO_RADIANS,u=this.canvas.width,h=this.canvas.height,d=Math.ceil(Math.abs(Math.cos(l))*u+Math.abs(Math.sin(l))*h),p=Math.ceil(Math.abs(Math.sin(l))*u+Math.abs(Math.cos(l))*h);return i.width=d,i.height=p,r.translate(d/2,p/2),r.rotate(l),r.drawImage(this.canvas,u/-2,h/-2),this.buffer=ie.makeBufferFromCanvasImageData(i),this}invert(){return new Jt(this)}}ie.DEGREE_TO_RADIANS=Math.PI/180;class K{constructor(e,i,r){this.deviceId=e,this.label=i,this.kind="videoinput",this.groupId=r||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Et=(globalThis||rc||self||window||void 0)&&(globalThis||rc||self||window||void 0).__awaiter||function(b,e,i,r){function l(u){return u instanceof i?u:new i(function(h){h(u)})}return new(i||(i=Promise))(function(u,h){function d(w){try{x(r.next(w))}catch(O){h(O)}}function p(w){try{x(r.throw(w))}catch(O){h(O)}}function x(w){w.done?u(w.value):l(w.value).then(d,p)}x((r=r.apply(b,e||[])).next())})};class bt{constructor(e,i=500,r){this.reader=e,this.timeBetweenScansMillis=i,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return Et(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),i=[];for(const r of e){const l=r.kind==="video"?"videoinput":r.kind;if(l!=="videoinput")continue;const u=r.deviceId||r.id,h=r.label||`Video device ${i.length+1}`,d=r.groupId,p={deviceId:u,label:h,kind:l,groupId:d};i.push(p)}return i})}getVideoInputDevices(){return Et(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(i=>new K(i.deviceId,i.label))})}findDeviceById(e){return Et(this,void 0,void 0,function*(){const i=yield this.listVideoInputDevices();return i?i.find(r=>r.deviceId===e):null})}decodeFromInputVideoDevice(e,i){return Et(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,i)})}decodeOnceFromVideoDevice(e,i){return Et(this,void 0,void 0,function*(){this.reset();let r;e?r={deviceId:{exact:e}}:r={facingMode:"environment"};const l={video:r};return yield this.decodeOnceFromConstraints(l,i)})}decodeOnceFromConstraints(e,i){return Et(this,void 0,void 0,function*(){const r=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(r,i)})}decodeOnceFromStream(e,i){return Et(this,void 0,void 0,function*(){this.reset();const r=yield this.attachStreamToVideo(e,i);return yield this.decodeOnce(r)})}decodeFromInputVideoDeviceContinuously(e,i,r){return Et(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,i,r)})}decodeFromVideoDevice(e,i,r){return Et(this,void 0,void 0,function*(){let l;e?l={deviceId:{exact:e}}:l={facingMode:"environment"};const u={video:l};return yield this.decodeFromConstraints(u,i,r)})}decodeFromConstraints(e,i,r){return Et(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(l,i,r)})}decodeFromStream(e,i,r){return Et(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(e,i);return yield this.decodeContinuously(l,r)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,i){return Et(this,void 0,void 0,function*(){const r=this.prepareVideoElement(i);return this.addVideoSource(r,e),this.videoElement=r,this.stream=e,yield this.playVideoOnLoadAsync(r),r})}playVideoOnLoadAsync(e){return new Promise((i,r)=>this.playVideoOnLoad(e,()=>i()))}playVideoOnLoad(e,i){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",i),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return Et(this,void 0,void 0,function*(){if(this.isVideoPlaying(e)){console.warn("Trying to play video that is already playing.");return}try{yield e.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(e,i){const r=document.getElementById(e);if(!r)throw new U(`element with id '${e}' not found`);if(r.nodeName.toLowerCase()!==i.toLowerCase())throw new U(`element with id '${e}' must be an ${i} element`);return r}decodeFromImage(e,i){if(!e&&!i)throw new U("either imageElement with a src set or an url must be provided");return i&&!e?this.decodeFromImageUrl(i):this.decodeFromImageElement(e)}decodeFromVideo(e,i){if(!e&&!i)throw new U("Either an element with a src set or an URL must be provided");return i&&!e?this.decodeFromVideoUrl(i):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,i,r){if(e===void 0&&i===void 0)throw new U("Either an element with a src set or an URL must be provided");return i&&!e?this.decodeFromVideoUrlContinuously(i,r):this.decodeFromVideoElementContinuously(e,r)}decodeFromImageElement(e){if(!e)throw new U("An image element must be provided.");this.reset();const i=this.prepareImageElement(e);this.imageElement=i;let r;return this.isImageLoaded(i)?r=this.decodeOnce(i,!1,!0):r=this._decodeOnLoadImage(i),r}decodeFromVideoElement(e){const i=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(i)}decodeFromVideoElementContinuously(e,i){const r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(r,i)}_decodeFromVideoElementSetup(e){if(!e)throw new U("A video element must be provided.");this.reset();const i=this.prepareVideoElement(e);return this.videoElement=i,i}decodeFromImageUrl(e){if(!e)throw new U("An URL must be provided.");this.reset();const i=this.prepareImageElement();this.imageElement=i;const r=this._decodeOnLoadImage(i);return i.src=e,r}decodeFromVideoUrl(e){if(!e)throw new U("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),r=this.decodeFromVideoElement(i);return i.src=e,r}decodeFromVideoUrlContinuously(e,i){if(!e)throw new U("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),l=this.decodeFromVideoElementContinuously(r,i);return r.src=e,l}_decodeOnLoadImage(e){return new Promise((i,r)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(i,r),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return Et(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,i){return Et(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,i)})}isImageLoaded(e){return!(!e.complete||e.naturalWidth===0)}prepareImageElement(e){let i;return typeof e>"u"&&(i=document.createElement("img"),i.width=200,i.height=200),typeof e=="string"&&(i=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(i=e),i}prepareVideoElement(e){let i;return!e&&typeof document<"u"&&(i=document.createElement("video"),i.width=200,i.height=200),typeof e=="string"&&(i=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(i=e),i.setAttribute("autoplay","true"),i.setAttribute("muted","true"),i.setAttribute("playsinline","true"),i}decodeOnce(e,i=!0,r=!0){this._stopAsyncDecode=!1;const l=(u,h)=>{if(this._stopAsyncDecode){h(new st("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const d=this.decode(e);u(d)}catch(d){const p=i&&d instanceof st,w=(d instanceof $||d instanceof P)&&r;if(p||w)return setTimeout(l,this._timeBetweenDecodingAttempts,u,h);h(d)}};return new Promise((u,h)=>l(u,h))}decodeContinuously(e,i){this._stopContinuousDecode=!1;const r=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const l=this.decode(e);i(l,null),setTimeout(r,this.timeBetweenScansMillis)}catch(l){i(null,l);const u=l instanceof $||l instanceof P,h=l instanceof st;(u||h)&&setTimeout(r,this._timeBetweenDecodingAttempts)}};r()}decode(e){const i=this.createBinaryBitmap(e);return this.decodeBitmap(i)}_isHTMLVideoElement(e){return e.videoWidth!==0}drawFrameOnCanvas(e,i,r){i||(i={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),r||(r=this.captureCanvasContext),r.drawImage(e,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}drawImageOnCanvas(e,i,r=this.captureCanvasContext){i||(i={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),r||(r=this.captureCanvasContext),r.drawImage(e,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}createBinaryBitmap(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);const i=this.getCaptureCanvas(e),r=new ie(i),l=new pt(r);return new G(l)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const r=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=r}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const i=this.createCaptureCanvas(e);this.captureCanvas=i}return this.captureCanvas}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const i=document.createElement("canvas");let r,l;return typeof e<"u"&&(e instanceof HTMLVideoElement?(r=e.videoWidth,l=e.videoHeight):e instanceof HTMLImageElement&&(r=e.naturalWidth||e.width,l=e.naturalHeight||e.height)),i.style.width=r+"px",i.style.height=l+"px",i.width=r,i.height=l,i}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,i){try{e.srcObject=i}catch{e.src=URL.createObjectURL(i)}}cleanVideoSource(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")}}class Ot{constructor(e,i,r=i==null?0:8*i.length,l,u,h=gt.currentTimeMillis()){this.text=e,this.rawBytes=i,this.numBits=r,this.resultPoints=l,this.format=u,this.timestamp=h,this.text=e,this.rawBytes=i,r==null?this.numBits=i==null?0:8*i.length:this.numBits=r,this.resultPoints=l,this.format=u,this.resultMetadata=null,h==null?this.timestamp=gt.currentTimeMillis():this.timestamp=h}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,i){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,i)}putAllMetadata(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const i=this.resultPoints;if(i===null)this.resultPoints=e;else if(e!==null&&e.length>0){const r=new Array(i.length+e.length);gt.arraycopy(i,0,r,0,i.length),gt.arraycopy(e,0,r,i.length,e.length),this.resultPoints=r}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Kt;(function(b){b[b.AZTEC=0]="AZTEC",b[b.CODABAR=1]="CODABAR",b[b.CODE_39=2]="CODE_39",b[b.CODE_93=3]="CODE_93",b[b.CODE_128=4]="CODE_128",b[b.DATA_MATRIX=5]="DATA_MATRIX",b[b.EAN_8=6]="EAN_8",b[b.EAN_13=7]="EAN_13",b[b.ITF=8]="ITF",b[b.MAXICODE=9]="MAXICODE",b[b.PDF_417=10]="PDF_417",b[b.QR_CODE=11]="QR_CODE",b[b.RSS_14=12]="RSS_14",b[b.RSS_EXPANDED=13]="RSS_EXPANDED",b[b.UPC_A=14]="UPC_A",b[b.UPC_E=15]="UPC_E",b[b.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Kt||(Kt={}));var It=Kt,ce;(function(b){b[b.OTHER=0]="OTHER",b[b.ORIENTATION=1]="ORIENTATION",b[b.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",b[b.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",b[b.ISSUE_NUMBER=4]="ISSUE_NUMBER",b[b.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",b[b.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",b[b.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",b[b.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",b[b.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",b[b.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(ce||(ce={}));var fe=ce;class ke{constructor(e,i,r,l,u=-1,h=-1){this.rawBytes=e,this.text=i,this.byteSegments=r,this.ecLevel=l,this.structuredAppendSequenceNumber=u,this.structuredAppendParity=h,this.numBits=e==null?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Fi{exp(e){return this.expTable[e]}log(e){if(e===0)throw new B;return this.logTable[e]}static addOrSubtract(e,i){return e^i}}class Cn{constructor(e,i){if(i.length===0)throw new B;this.field=e;const r=i.length;if(r>1&&i[0]===0){let l=1;for(;l<r&&i[l]===0;)l++;l===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-l),gt.arraycopy(i,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);const i=this.coefficients;let r;if(e===1){r=0;for(let h=0,d=i.length;h!==d;h++){const p=i[h];r=Fi.addOrSubtract(r,p)}return r}r=i[0];const l=i.length,u=this.field;for(let h=1;h<l;h++)r=Fi.addOrSubtract(u.multiply(e,r),i[h]);return r}addOrSubtract(e){if(!this.field.equals(e.field))throw new B("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let i=this.coefficients,r=e.coefficients;if(i.length>r.length){const h=i;i=r,r=h}let l=new Int32Array(r.length);const u=r.length-i.length;gt.arraycopy(r,0,l,0,u);for(let h=u;h<r.length;h++)l[h]=Fi.addOrSubtract(i[h-u],r[h]);return new Cn(this.field,l)}multiply(e){if(!this.field.equals(e.field))throw new B("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const i=this.coefficients,r=i.length,l=e.coefficients,u=l.length,h=new Int32Array(r+u-1),d=this.field;for(let p=0;p<r;p++){const x=i[p];for(let w=0;w<u;w++)h[p+w]=Fi.addOrSubtract(h[p+w],d.multiply(x,l[w]))}return new Cn(d,h)}multiplyScalar(e){if(e===0)return this.field.getZero();if(e===1)return this;const i=this.coefficients.length,r=this.field,l=new Int32Array(i),u=this.coefficients;for(let h=0;h<i;h++)l[h]=r.multiply(u[h],e);return new Cn(r,l)}multiplyByMonomial(e,i){if(e<0)throw new B;if(i===0)return this.field.getZero();const r=this.coefficients,l=r.length,u=new Int32Array(l+e),h=this.field;for(let d=0;d<l;d++)u[d]=h.multiply(r[d],i);return new Cn(h,u)}divide(e){if(!this.field.equals(e.field))throw new B("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new B("Divide by 0");const i=this.field;let r=i.getZero(),l=this;const u=e.getCoefficient(e.getDegree()),h=i.inverse(u);for(;l.getDegree()>=e.getDegree()&&!l.isZero();){const d=l.getDegree()-e.getDegree(),p=i.multiply(l.getCoefficient(l.getDegree()),h),x=e.multiplyByMonomial(d,p),w=i.buildMonomial(d,p);r=r.addOrSubtract(w),l=l.addOrSubtract(x)}return[r,l]}toString(){let e="";for(let i=this.getDegree();i>=0;i--){let r=this.getCoefficient(i);if(r!==0){if(r<0?(e+=" - ",r=-r):e.length>0&&(e+=" + "),i===0||r!==1){const l=this.field.log(r);l===0?e+="1":l===1?e+="a":(e+="a^",e+=l)}i!==0&&(i===1?e+="x":(e+="x^",e+=i))}}return e}}class _r extends N{}_r.kind="ArithmeticException";class he extends Fi{constructor(e,i,r){super(),this.primitive=e,this.size=i,this.generatorBase=r;const l=new Int32Array(i);let u=1;for(let d=0;d<i;d++)l[d]=u,u*=2,u>=i&&(u^=e,u&=i-1);this.expTable=l;const h=new Int32Array(i);for(let d=0;d<i-1;d++)h[l[d]]=d;this.logTable=h,this.zero=new Cn(this,Int32Array.from([0])),this.one=new Cn(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,i){if(e<0)throw new B;if(i===0)return this.zero;const r=new Int32Array(e+1);return r[0]=i,new Cn(this,r)}inverse(e){if(e===0)throw new _r;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,i){return e===0||i===0?0:this.expTable[(this.logTable[e]+this.logTable[i])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+xt.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}he.AZTEC_DATA_12=new he(4201,4096,1),he.AZTEC_DATA_10=new he(1033,1024,1),he.AZTEC_DATA_6=new he(67,64,1),he.AZTEC_PARAM=new he(19,16,1),he.QR_CODE_FIELD_256=new he(285,256,0),he.DATA_MATRIX_FIELD_256=new he(301,256,1),he.AZTEC_DATA_8=he.DATA_MATRIX_FIELD_256,he.MAXICODE_FIELD_64=he.AZTEC_DATA_6;class qn extends N{}qn.kind="ReedSolomonException";class ci extends N{}ci.kind="IllegalStateException";class Hi{constructor(e){this.field=e}decode(e,i){const r=this.field,l=new Cn(r,e),u=new Int32Array(i);let h=!0;for(let F=0;F<i;F++){const X=l.evaluateAt(r.exp(F+r.getGeneratorBase()));u[u.length-1-F]=X,X!==0&&(h=!1)}if(h)return;const d=new Cn(r,u),p=this.runEuclideanAlgorithm(r.buildMonomial(i,1),d,i),x=p[0],w=p[1],O=this.findErrorLocations(x),R=this.findErrorMagnitudes(w,O);for(let F=0;F<O.length;F++){const X=e.length-1-r.log(O[F]);if(X<0)throw new qn("Bad error location");e[X]=he.addOrSubtract(e[X],R[F])}}runEuclideanAlgorithm(e,i,r){if(e.getDegree()<i.getDegree()){const F=e;e=i,i=F}const l=this.field;let u=e,h=i,d=l.getZero(),p=l.getOne();for(;h.getDegree()>=(r/2|0);){let F=u,X=d;if(u=h,d=p,u.isZero())throw new qn("r_{i-1} was zero");h=F;let W=l.getZero();const et=u.getCoefficient(u.getDegree()),ft=l.inverse(et);for(;h.getDegree()>=u.getDegree()&&!h.isZero();){const Ct=h.getDegree()-u.getDegree(),St=l.multiply(h.getCoefficient(h.getDegree()),ft);W=W.addOrSubtract(l.buildMonomial(Ct,St)),h=h.addOrSubtract(u.multiplyByMonomial(Ct,St))}if(p=W.multiply(d).addOrSubtract(X),h.getDegree()>=u.getDegree())throw new ci("Division algorithm failed to reduce polynomial?")}const x=p.getCoefficient(0);if(x===0)throw new qn("sigmaTilde(0) was zero");const w=l.inverse(x),O=p.multiplyScalar(w),R=h.multiplyScalar(w);return[O,R]}findErrorLocations(e){const i=e.getDegree();if(i===1)return Int32Array.from([e.getCoefficient(1)]);const r=new Int32Array(i);let l=0;const u=this.field;for(let h=1;h<u.getSize()&&l<i;h++)e.evaluateAt(h)===0&&(r[l]=u.inverse(h),l++);if(l!==i)throw new qn("Error locator degree does not match number of roots");return r}findErrorMagnitudes(e,i){const r=i.length,l=new Int32Array(r),u=this.field;for(let h=0;h<r;h++){const d=u.inverse(i[h]);let p=1;for(let x=0;x<r;x++)if(h!==x){const w=u.multiply(i[x],d),O=(w&1)===0?w|1:w&-2;p=u.multiply(p,O)}l[h]=u.multiply(e.evaluateAt(d),u.inverse(p)),u.getGeneratorBase()!==0&&(l[h]=u.multiply(l[h],d))}return l}}var gn;(function(b){b[b.UPPER=0]="UPPER",b[b.LOWER=1]="LOWER",b[b.MIXED=2]="MIXED",b[b.DIGIT=3]="DIGIT",b[b.PUNCT=4]="PUNCT",b[b.BINARY=5]="BINARY"})(gn||(gn={}));class ve{decode(e){this.ddata=e;let i=e.getBits(),r=this.extractBits(i),l=this.correctBits(r),u=ve.convertBoolArrayToByteArray(l),h=ve.getEncodedData(l),d=new ke(u,h,null,null);return d.setNumBits(l.length),d}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let i=e.length,r=gn.UPPER,l=gn.UPPER,u="",h=0;for(;h<i;)if(l===gn.BINARY){if(i-h<5)break;let d=ve.readCode(e,h,5);if(h+=5,d===0){if(i-h<11)break;d=ve.readCode(e,h,11)+31,h+=11}for(let p=0;p<d;p++){if(i-h<8){h=i;break}const x=ve.readCode(e,h,8);u+=q.castAsNonUtf8Char(x),h+=8}l=r}else{let d=l===gn.DIGIT?4:5;if(i-h<d)break;let p=ve.readCode(e,h,d);h+=d;let x=ve.getCharacter(l,p);x.startsWith("CTRL_")?(r=l,l=ve.getTable(x.charAt(5)),x.charAt(6)==="L"&&(r=l)):(u+=x,l=r)}return u}static getTable(e){switch(e){case"L":return gn.LOWER;case"P":return gn.PUNCT;case"M":return gn.MIXED;case"D":return gn.DIGIT;case"B":return gn.BINARY;case"U":default:return gn.UPPER}}static getCharacter(e,i){switch(e){case gn.UPPER:return ve.UPPER_TABLE[i];case gn.LOWER:return ve.LOWER_TABLE[i];case gn.MIXED:return ve.MIXED_TABLE[i];case gn.PUNCT:return ve.PUNCT_TABLE[i];case gn.DIGIT:return ve.DIGIT_TABLE[i];default:throw new ci("Bad table")}}correctBits(e){let i,r;this.ddata.getNbLayers()<=2?(r=6,i=he.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,i=he.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,i=he.AZTEC_DATA_10):(r=12,i=he.AZTEC_DATA_12);let l=this.ddata.getNbDatablocks(),u=e.length/r;if(u<l)throw new P;let h=e.length%r,d=new Int32Array(u);for(let R=0;R<u;R++,h+=r)d[R]=ve.readCode(e,h,r);try{new Hi(i).decode(d,u-l)}catch(R){throw new P(R)}let p=(1<<r)-1,x=0;for(let R=0;R<l;R++){let F=d[R];if(F===0||F===p)throw new P;(F===1||F===p-1)&&x++}let w=new Array(l*r-x),O=0;for(let R=0;R<l;R++){let F=d[R];if(F===1||F===p-1)w.fill(F>1,O,O+r-1),O+=r-1;else for(let X=r-1;X>=0;--X)w[O++]=(F&1<<X)!==0}return w}extractBits(e){let i=this.ddata.isCompact(),r=this.ddata.getNbLayers(),l=(i?11:14)+r*4,u=new Int32Array(l),h=new Array(this.totalBitsInLayer(r,i));if(i)for(let d=0;d<u.length;d++)u[d]=d;else{let d=l+1+2*xt.truncDivision(xt.truncDivision(l,2)-1,15),p=l/2,x=xt.truncDivision(d,2);for(let w=0;w<p;w++){let O=w+xt.truncDivision(w,15);u[p-w-1]=x-O-1,u[p+w]=x+O+1}}for(let d=0,p=0;d<r;d++){let x=(r-d)*4+(i?9:12),w=d*2,O=l-1-w;for(let R=0;R<x;R++){let F=R*2;for(let X=0;X<2;X++)h[p+F+X]=e.get(u[w+X],u[w+R]),h[p+2*x+F+X]=e.get(u[w+R],u[O-X]),h[p+4*x+F+X]=e.get(u[O-X],u[O-R]),h[p+6*x+F+X]=e.get(u[O-R],u[w+X])}p+=x*8}return h}static readCode(e,i,r){let l=0;for(let u=i;u<i+r;u++)l<<=1,e[u]&&(l|=1);return l}static readByte(e,i){let r=e.length-i;return r>=8?ve.readCode(e,i,8):ve.readCode(e,i,r)<<8-r}static convertBoolArrayToByteArray(e){let i=new Uint8Array((e.length+7)/8);for(let r=0;r<i.length;r++)i[r]=ve.readByte(e,8*r);return i}totalBitsInLayer(e,i){return((i?88:112)+16*e)*e}}ve.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],ve.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],ve.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],ve.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],ve.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Gt{constructor(){}static round(e){return e===NaN?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,i,r,l){const u=e-r,h=i-l;return Math.sqrt(u*u+h*h)}static sum(e){let i=0;for(let r=0,l=e.length;r!==l;r++){const u=e[r];i+=u}return i}}class ln{static floatToIntBits(e){return e}}ln.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Dt{constructor(e,i){this.x=e,this.y=i}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof Dt){const i=e;return this.x===i.x&&this.y===i.y}return!1}hashCode(){return 31*ln.floatToIntBits(this.x)+ln.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const i=this.distance(e[0],e[1]),r=this.distance(e[1],e[2]),l=this.distance(e[0],e[2]);let u,h,d;if(r>=i&&r>=l?(h=e[0],u=e[1],d=e[2]):l>=r&&l>=i?(h=e[1],u=e[0],d=e[2]):(h=e[2],u=e[0],d=e[1]),this.crossProductZ(u,h,d)<0){const p=u;u=d,d=p}e[0]=u,e[1]=h,e[2]=d}static distance(e,i){return Gt.distance(e.x,e.y,i.x,i.y)}static crossProductZ(e,i,r){const l=i.x,u=i.y;return(r.x-l)*(e.y-u)-(r.y-u)*(e.x-l)}}class vs{constructor(e,i){this.bits=e,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class ya extends vs{constructor(e,i,r,l,u){super(e,i),this.compact=r,this.nbDatablocks=l,this.nbLayers=u}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class en{constructor(e,i,r,l){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),i==null&&(i=en.INIT_SIZE),r==null&&(r=e.getWidth()/2|0),l==null&&(l=e.getHeight()/2|0);const u=i/2|0;if(this.leftInit=r-u,this.rightInit=r+u,this.upInit=l-u,this.downInit=l+u,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new st}detect(){let e=this.leftInit,i=this.rightInit,r=this.upInit,l=this.downInit,u=!1,h=!0,d=!1,p=!1,x=!1,w=!1,O=!1;const R=this.width,F=this.height;for(;h;){h=!1;let X=!0;for(;(X||!p)&&i<R;)X=this.containsBlackPoint(r,l,i,!1),X?(i++,h=!0,p=!0):p||i++;if(i>=R){u=!0;break}let W=!0;for(;(W||!x)&&l<F;)W=this.containsBlackPoint(e,i,l,!0),W?(l++,h=!0,x=!0):x||l++;if(l>=F){u=!0;break}let et=!0;for(;(et||!w)&&e>=0;)et=this.containsBlackPoint(r,l,e,!1),et?(e--,h=!0,w=!0):w||e--;if(e<0){u=!0;break}let ft=!0;for(;(ft||!O)&&r>=0;)ft=this.containsBlackPoint(e,i,r,!0),ft?(r--,h=!0,O=!0):O||r--;if(r<0){u=!0;break}h&&(d=!0)}if(!u&&d){const X=i-e;let W=null;for(let St=1;W===null&&St<X;St++)W=this.getBlackPointOnSegment(e,l-St,e+St,l);if(W==null)throw new st;let et=null;for(let St=1;et===null&&St<X;St++)et=this.getBlackPointOnSegment(e,r+St,e+St,r);if(et==null)throw new st;let ft=null;for(let St=1;ft===null&&St<X;St++)ft=this.getBlackPointOnSegment(i,r+St,i-St,r);if(ft==null)throw new st;let Ct=null;for(let St=1;Ct===null&&St<X;St++)Ct=this.getBlackPointOnSegment(i,l-St,i-St,l);if(Ct==null)throw new st;return this.centerEdges(Ct,W,ft,et)}else throw new st}getBlackPointOnSegment(e,i,r,l){const u=Gt.round(Gt.distance(e,i,r,l)),h=(r-e)/u,d=(l-i)/u,p=this.image;for(let x=0;x<u;x++){const w=Gt.round(e+x*h),O=Gt.round(i+x*d);if(p.get(w,O))return new Dt(w,O)}return null}centerEdges(e,i,r,l){const u=e.getX(),h=e.getY(),d=i.getX(),p=i.getY(),x=r.getX(),w=r.getY(),O=l.getX(),R=l.getY(),F=en.CORR;return u<this.width/2?[new Dt(O-F,R+F),new Dt(d+F,p+F),new Dt(x-F,w-F),new Dt(u+F,h-F)]:[new Dt(O+F,R+F),new Dt(d+F,p-F),new Dt(x-F,w+F),new Dt(u-F,h-F)]}containsBlackPoint(e,i,r,l){const u=this.image;if(l){for(let h=e;h<=i;h++)if(u.get(h,r))return!0}else for(let h=e;h<=i;h++)if(u.get(r,h))return!0;return!1}}en.INIT_SIZE=10,en.CORR=1;class xr{static checkAndNudgePoints(e,i){const r=e.getWidth(),l=e.getHeight();let u=!0;for(let h=0;h<i.length&&u;h+=2){const d=Math.floor(i[h]),p=Math.floor(i[h+1]);if(d<-1||d>r||p<-1||p>l)throw new st;u=!1,d===-1?(i[h]=0,u=!0):d===r&&(i[h]=r-1,u=!0),p===-1?(i[h+1]=0,u=!0):p===l&&(i[h+1]=l-1,u=!0)}u=!0;for(let h=i.length-2;h>=0&&u;h-=2){const d=Math.floor(i[h]),p=Math.floor(i[h+1]);if(d<-1||d>r||p<-1||p>l)throw new st;u=!1,d===-1?(i[h]=0,u=!0):d===r&&(i[h]=r-1,u=!0),p===-1?(i[h+1]=0,u=!0):p===l&&(i[h+1]=l-1,u=!0)}}}class Wn{constructor(e,i,r,l,u,h,d,p,x){this.a11=e,this.a21=i,this.a31=r,this.a12=l,this.a22=u,this.a32=h,this.a13=d,this.a23=p,this.a33=x}static quadrilateralToQuadrilateral(e,i,r,l,u,h,d,p,x,w,O,R,F,X,W,et){const ft=Wn.quadrilateralToSquare(e,i,r,l,u,h,d,p);return Wn.squareToQuadrilateral(x,w,O,R,F,X,W,et).times(ft)}transformPoints(e){const i=e.length,r=this.a11,l=this.a12,u=this.a13,h=this.a21,d=this.a22,p=this.a23,x=this.a31,w=this.a32,O=this.a33;for(let R=0;R<i;R+=2){const F=e[R],X=e[R+1],W=u*F+p*X+O;e[R]=(r*F+h*X+x)/W,e[R+1]=(l*F+d*X+w)/W}}transformPointsWithValues(e,i){const r=this.a11,l=this.a12,u=this.a13,h=this.a21,d=this.a22,p=this.a23,x=this.a31,w=this.a32,O=this.a33,R=e.length;for(let F=0;F<R;F++){const X=e[F],W=i[F],et=u*X+p*W+O;e[F]=(r*X+h*W+x)/et,i[F]=(l*X+d*W+w)/et}}static squareToQuadrilateral(e,i,r,l,u,h,d,p){const x=e-r+u-d,w=i-l+h-p;if(x===0&&w===0)return new Wn(r-e,u-r,e,l-i,h-l,i,0,0,1);{const O=r-u,R=d-u,F=l-h,X=p-h,W=O*X-R*F,et=(x*X-R*w)/W,ft=(O*w-x*F)/W;return new Wn(r-e+et*r,d-e+ft*d,e,l-i+et*l,p-i+ft*p,i,et,ft,1)}}static quadrilateralToSquare(e,i,r,l,u,h,d,p){return Wn.squareToQuadrilateral(e,i,r,l,u,h,d,p).buildAdjoint()}buildAdjoint(){return new Wn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new Wn(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class Rs extends xr{sampleGrid(e,i,r,l,u,h,d,p,x,w,O,R,F,X,W,et,ft,Ct,St){const wt=Wn.quadrilateralToQuadrilateral(l,u,h,d,p,x,w,O,R,F,X,W,et,ft,Ct,St);return this.sampleGridWithTransform(e,i,r,wt)}sampleGridWithTransform(e,i,r,l){if(i<=0||r<=0)throw new st;const u=new Xt(i,r),h=new Float32Array(2*i);for(let d=0;d<r;d++){const p=h.length,x=d+.5;for(let w=0;w<p;w+=2)h[w]=w/2+.5,h[w+1]=x;l.transformPoints(h),xr.checkAndNudgePoints(e,h);try{for(let w=0;w<p;w+=2)e.get(Math.floor(h[w]),Math.floor(h[w+1]))&&u.set(w/2,d)}catch{throw new st}}return u}}class Kn{static setGridSampler(e){Kn.gridSampler=e}static getInstance(){return Kn.gridSampler}}Kn.gridSampler=new Rs;class Un{constructor(e,i){this.x=e,this.y=i}toResultPoint(){return new Dt(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class wa{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let i=this.getMatrixCenter(),r=this.getBullsEyeCorners(i);if(e){let h=r[0];r[0]=r[2],r[2]=h}this.extractParameters(r);let l=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),u=this.getMatrixCornerPoints(r);return new ya(l,u,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new st;let i=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(e[0],e[1],i),this.sampleLine(e[1],e[2],i),this.sampleLine(e[2],e[3],i),this.sampleLine(e[3],e[0],i)]);this.shift=this.getRotation(r,i);let l=0;for(let h=0;h<4;h++){let d=r[(this.shift+h)%4];this.compact?(l<<=7,l+=d>>1&127):(l<<=10,l+=(d>>2&992)+(d>>1&31))}let u=this.getCorrectedParameterData(l,this.compact);this.compact?(this.nbLayers=(u>>6)+1,this.nbDataBlocks=(u&63)+1):(this.nbLayers=(u>>11)+1,this.nbDataBlocks=(u&2047)+1)}getRotation(e,i){let r=0;e.forEach((l,u,h)=>{let d=(l>>i-2<<1)+(l&1);r=(r<<3)+d}),r=((r&1)<<11)+(r>>1);for(let l=0;l<4;l++)if(xt.bitCount(r^this.EXPECTED_CORNER_BITS[l])<=2)return l;throw new st}getCorrectedParameterData(e,i){let r,l;i?(r=7,l=2):(r=10,l=4);let u=r-l,h=new Int32Array(r);for(let p=r-1;p>=0;--p)h[p]=e&15,e>>=4;try{new Hi(he.AZTEC_PARAM).decode(h,u)}catch{throw new st}let d=0;for(let p=0;p<l;p++)d=(d<<4)+h[p];return d}getBullsEyeCorners(e){let i=e,r=e,l=e,u=e,h=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let O=this.getFirstDifferent(i,h,1,-1),R=this.getFirstDifferent(r,h,1,1),F=this.getFirstDifferent(l,h,-1,1),X=this.getFirstDifferent(u,h,-1,-1);if(this.nbCenterLayers>2){let W=this.distancePoint(X,O)*this.nbCenterLayers/(this.distancePoint(u,i)*(this.nbCenterLayers+2));if(W<.75||W>1.25||!this.isWhiteOrBlackRectangle(O,R,F,X))break}i=O,r=R,l=F,u=X,h=!h}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new st;this.compact=this.nbCenterLayers===5;let d=new Dt(i.getX()+.5,i.getY()-.5),p=new Dt(r.getX()+.5,r.getY()+.5),x=new Dt(l.getX()-.5,l.getY()+.5),w=new Dt(u.getX()-.5,u.getY()-.5);return this.expandSquare([d,p,x,w],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,i,r,l;try{let d=new en(this.image).detect();e=d[0],i=d[1],r=d[2],l=d[3]}catch{let p=this.image.getWidth()/2,x=this.image.getHeight()/2;e=this.getFirstDifferent(new Un(p+7,x-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new Un(p+7,x+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new Un(p-7,x+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new Un(p-7,x-7),!1,-1,-1).toResultPoint()}let u=Gt.round((e.getX()+l.getX()+i.getX()+r.getX())/4),h=Gt.round((e.getY()+l.getY()+i.getY()+r.getY())/4);try{let d=new en(this.image,15,u,h).detect();e=d[0],i=d[1],r=d[2],l=d[3]}catch{e=this.getFirstDifferent(new Un(u+7,h-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new Un(u+7,h+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new Un(u-7,h+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new Un(u-7,h-7),!1,-1,-1).toResultPoint()}return u=Gt.round((e.getX()+l.getX()+i.getX()+r.getX())/4),h=Gt.round((e.getY()+l.getY()+i.getY()+r.getY())/4),new Un(u,h)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,i,r,l,u){let h=Kn.getInstance(),d=this.getDimension(),p=d/2-this.nbCenterLayers,x=d/2+this.nbCenterLayers;return h.sampleGrid(e,d,d,p,p,x,p,x,x,p,x,i.getX(),i.getY(),r.getX(),r.getY(),l.getX(),l.getY(),u.getX(),u.getY())}sampleLine(e,i,r){let l=0,u=this.distanceResultPoint(e,i),h=u/r,d=e.getX(),p=e.getY(),x=h*(i.getX()-e.getX())/u,w=h*(i.getY()-e.getY())/u;for(let O=0;O<r;O++)this.image.get(Gt.round(d+O*x),Gt.round(p+O*w))&&(l|=1<<r-O-1);return l}isWhiteOrBlackRectangle(e,i,r,l){let u=3;e=new Un(e.getX()-u,e.getY()+u),i=new Un(i.getX()-u,i.getY()-u),r=new Un(r.getX()+u,r.getY()-u),l=new Un(l.getX()+u,l.getY()+u);let h=this.getColor(l,e);if(h===0)return!1;let d=this.getColor(e,i);return d!==h||(d=this.getColor(i,r),d!==h)?!1:(d=this.getColor(r,l),d===h)}getColor(e,i){let r=this.distancePoint(e,i),l=(i.getX()-e.getX())/r,u=(i.getY()-e.getY())/r,h=0,d=e.getX(),p=e.getY(),x=this.image.get(e.getX(),e.getY()),w=Math.ceil(r);for(let R=0;R<w;R++)d+=l,p+=u,this.image.get(Gt.round(d),Gt.round(p))!==x&&h++;let O=h/r;return O>.1&&O<.9?0:O<=.1===x?1:-1}getFirstDifferent(e,i,r,l){let u=e.getX()+r,h=e.getY()+l;for(;this.isValid(u,h)&&this.image.get(u,h)===i;)u+=r,h+=l;for(u-=r,h-=l;this.isValid(u,h)&&this.image.get(u,h)===i;)u+=r;for(u-=r;this.isValid(u,h)&&this.image.get(u,h)===i;)h+=l;return h-=l,new Un(u,h)}expandSquare(e,i,r){let l=r/(2*i),u=e[0].getX()-e[2].getX(),h=e[0].getY()-e[2].getY(),d=(e[0].getX()+e[2].getX())/2,p=(e[0].getY()+e[2].getY())/2,x=new Dt(d+l*u,p+l*h),w=new Dt(d-l*u,p-l*h);u=e[1].getX()-e[3].getX(),h=e[1].getY()-e[3].getY(),d=(e[1].getX()+e[3].getX())/2,p=(e[1].getY()+e[3].getY())/2;let O=new Dt(d+l*u,p+l*h),R=new Dt(d-l*u,p-l*h);return[x,O,w,R]}isValid(e,i){return e>=0&&e<this.image.getWidth()&&i>0&&i<this.image.getHeight()}isValidPoint(e){let i=Gt.round(e.getX()),r=Gt.round(e.getY());return this.isValid(i,r)}distancePoint(e,i){return Gt.distance(e.getX(),e.getY(),i.getX(),i.getY())}distanceResultPoint(e,i){return Gt.distance(e.getX(),e.getY(),i.getX(),i.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(xt.truncDivision(this.nbLayers-4,8)+1)+15}}class Zr{decode(e,i=null){let r=null,l=new wa(e.getBlackMatrix()),u=null,h=null;try{let w=l.detectMirror(!1);u=w.getPoints(),this.reportFoundResultPoints(i,u),h=new ve().decode(w)}catch(w){r=w}if(h==null)try{let w=l.detectMirror(!0);u=w.getPoints(),this.reportFoundResultPoints(i,u),h=new ve().decode(w)}catch(w){throw r??w}let d=new Ot(h.getText(),h.getRawBytes(),h.getNumBits(),u,It.AZTEC,gt.currentTimeMillis()),p=h.getByteSegments();p!=null&&d.putMetadata(fe.BYTE_SEGMENTS,p);let x=h.getECLevel();return x!=null&&d.putMetadata(fe.ERROR_CORRECTION_LEVEL,x),d}reportFoundResultPoints(e,i){if(e!=null){let r=e.get(Ft.NEED_RESULT_POINT_CALLBACK);r!=null&&i.forEach((l,u,h)=>{r.foundPossibleResultPoint(l)})}}reset(){}}class Zl extends bt{constructor(e=500){super(new Zr,e)}}class Re{decode(e,i){try{return this.doDecode(e,i)}catch{if(i&&i.get(Ft.TRY_HARDER)===!0&&e.isRotateSupported()){const u=e.rotateCounterClockwise(),h=this.doDecode(u,i),d=h.getResultMetadata();let p=270;d!==null&&d.get(fe.ORIENTATION)===!0&&(p=p+d.get(fe.ORIENTATION)%360),h.putMetadata(fe.ORIENTATION,p);const x=h.getResultPoints();if(x!==null){const w=u.getHeight();for(let O=0;O<x.length;O++)x[O]=new Dt(w-x[O].getY()-1,x[O].getX())}return h}else throw new st}}reset(){}doDecode(e,i){const r=e.getWidth(),l=e.getHeight();let u=new Rt(r);const h=i&&i.get(Ft.TRY_HARDER)===!0,d=Math.max(1,l>>(h?8:5));let p;h?p=l:p=15;const x=Math.trunc(l/2);for(let w=0;w<p;w++){const O=Math.trunc((w+1)/2),R=(w&1)===0,F=x+d*(R?O:-O);if(F<0||F>=l)break;try{u=e.getBlackRow(F,u)}catch{continue}for(let X=0;X<2;X++){if(X===1&&(u.reverse(),i&&i.get(Ft.NEED_RESULT_POINT_CALLBACK)===!0)){const W=new Map;i.forEach((et,ft)=>W.set(ft,et)),W.delete(Ft.NEED_RESULT_POINT_CALLBACK),i=W}try{const W=this.decodeRow(F,u,i);if(X===1){W.putMetadata(fe.ORIENTATION,180);const et=W.getResultPoints();et!==null&&(et[0]=new Dt(r-et[0].getX()-1,et[0].getY()),et[1]=new Dt(r-et[1].getX()-1,et[1].getY()))}return W}catch{}}}throw new st}static recordPattern(e,i,r){const l=r.length;for(let x=0;x<l;x++)r[x]=0;const u=e.getSize();if(i>=u)throw new st;let h=!e.get(i),d=0,p=i;for(;p<u;){if(e.get(p)!==h)r[d]++;else{if(++d===l)break;r[d]=1,h=!h}p++}if(!(d===l||d===l-1&&p===u))throw new st}static recordPatternInReverse(e,i,r){let l=r.length,u=e.get(i);for(;i>0&&l>=0;)e.get(--i)!==u&&(l--,u=!u);if(l>=0)throw new st;Re.recordPattern(e,i+1,r)}static patternMatchVariance(e,i,r){const l=e.length;let u=0,h=0;for(let x=0;x<l;x++)u+=e[x],h+=i[x];if(u<h)return Number.POSITIVE_INFINITY;const d=u/h;r*=d;let p=0;for(let x=0;x<l;x++){const w=e[x],O=i[x]*d,R=w>O?w-O:O-w;if(R>r)return Number.POSITIVE_INFINITY;p+=R}return p/u}}class Tt extends Re{static findStartPattern(e){const i=e.getSize(),r=e.getNextSet(0);let l=0,u=Int32Array.from([0,0,0,0,0,0]),h=r,d=!1;const p=6;for(let x=r;x<i;x++)if(e.get(x)!==d)u[l]++;else{if(l===p-1){let w=Tt.MAX_AVG_VARIANCE,O=-1;for(let R=Tt.CODE_START_A;R<=Tt.CODE_START_C;R++){const F=Re.patternMatchVariance(u,Tt.CODE_PATTERNS[R],Tt.MAX_INDIVIDUAL_VARIANCE);F<w&&(w=F,O=R)}if(O>=0&&e.isRange(Math.max(0,h-(x-h)/2),h,!1))return Int32Array.from([h,x,O]);h+=u[0]+u[1],u=u.slice(2,u.length-1),u[l-1]=0,u[l]=0,l--}else l++;u[l]=1,d=!d}throw new st}static decodeCode(e,i,r){Re.recordPattern(e,r,i);let l=Tt.MAX_AVG_VARIANCE,u=-1;for(let h=0;h<Tt.CODE_PATTERNS.length;h++){const d=Tt.CODE_PATTERNS[h],p=this.patternMatchVariance(i,d,Tt.MAX_INDIVIDUAL_VARIANCE);p<l&&(l=p,u=h)}if(u>=0)return u;throw new st}decodeRow(e,i,r){const l=r&&r.get(Ft.ASSUME_GS1)===!0,u=Tt.findStartPattern(i),h=u[2];let d=0;const p=new Uint8Array(20);p[d++]=h;let x;switch(h){case Tt.CODE_START_A:x=Tt.CODE_CODE_A;break;case Tt.CODE_START_B:x=Tt.CODE_CODE_B;break;case Tt.CODE_START_C:x=Tt.CODE_CODE_C;break;default:throw new P}let w=!1,O=!1,R="",F=u[0],X=u[1];const W=Int32Array.from([0,0,0,0,0,0]);let et=0,ft=0,Ct=h,St=0,wt=!0,le=!1,$t=!1;for(;!w;){const ls=O;switch(O=!1,et=ft,ft=Tt.decodeCode(i,W,X),p[d++]=ft,ft!==Tt.CODE_STOP&&(wt=!0),ft!==Tt.CODE_STOP&&(St++,Ct+=St*ft),F=X,X+=W.reduce((eu,Jl)=>eu+Jl,0),ft){case Tt.CODE_START_A:case Tt.CODE_START_B:case Tt.CODE_START_C:throw new P}switch(x){case Tt.CODE_CODE_A:if(ft<64)$t===le?R+=String.fromCharCode(32+ft):R+=String.fromCharCode(32+ft+128),$t=!1;else if(ft<96)$t===le?R+=String.fromCharCode(ft-64):R+=String.fromCharCode(ft+64),$t=!1;else switch(ft!==Tt.CODE_STOP&&(wt=!1),ft){case Tt.CODE_FNC_1:l&&(R.length===0?R+="]C1":R+="");break;case Tt.CODE_FNC_2:case Tt.CODE_FNC_3:break;case Tt.CODE_FNC_4_A:!le&&$t?(le=!0,$t=!1):le&&$t?(le=!1,$t=!1):$t=!0;break;case Tt.CODE_SHIFT:O=!0,x=Tt.CODE_CODE_B;break;case Tt.CODE_CODE_B:x=Tt.CODE_CODE_B;break;case Tt.CODE_CODE_C:x=Tt.CODE_CODE_C;break;case Tt.CODE_STOP:w=!0;break}break;case Tt.CODE_CODE_B:if(ft<96)$t===le?R+=String.fromCharCode(32+ft):R+=String.fromCharCode(32+ft+128),$t=!1;else switch(ft!==Tt.CODE_STOP&&(wt=!1),ft){case Tt.CODE_FNC_1:l&&(R.length===0?R+="]C1":R+="");break;case Tt.CODE_FNC_2:case Tt.CODE_FNC_3:break;case Tt.CODE_FNC_4_B:!le&&$t?(le=!0,$t=!1):le&&$t?(le=!1,$t=!1):$t=!0;break;case Tt.CODE_SHIFT:O=!0,x=Tt.CODE_CODE_A;break;case Tt.CODE_CODE_A:x=Tt.CODE_CODE_A;break;case Tt.CODE_CODE_C:x=Tt.CODE_CODE_C;break;case Tt.CODE_STOP:w=!0;break}break;case Tt.CODE_CODE_C:if(ft<100)ft<10&&(R+="0"),R+=ft;else switch(ft!==Tt.CODE_STOP&&(wt=!1),ft){case Tt.CODE_FNC_1:l&&(R.length===0?R+="]C1":R+="");break;case Tt.CODE_CODE_A:x=Tt.CODE_CODE_A;break;case Tt.CODE_CODE_B:x=Tt.CODE_CODE_B;break;case Tt.CODE_STOP:w=!0;break}break}ls&&(x=x===Tt.CODE_CODE_A?Tt.CODE_CODE_B:Tt.CODE_CODE_A)}const yn=X-F;if(X=i.getNextUnset(X),!i.isRange(X,Math.min(i.getSize(),X+(X-F)/2),!1))throw new st;if(Ct-=St*et,Ct%103!==et)throw new $;const Mi=R.length;if(Mi===0)throw new st;Mi>0&&wt&&(x===Tt.CODE_CODE_C?R=R.substring(0,Mi-2):R=R.substring(0,Mi-1));const ri=(u[1]+u[0])/2,Ve=F+yn/2,Fn=p.length,wi=new Uint8Array(Fn);for(let ls=0;ls<Fn;ls++)wi[ls]=p[ls];const Gs=[new Dt(ri,e),new Dt(Ve,e)];return new Ot(R,wi,0,Gs,It.CODE_128,new Date().getTime())}}Tt.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Tt.MAX_AVG_VARIANCE=.25,Tt.MAX_INDIVIDUAL_VARIANCE=.7,Tt.CODE_SHIFT=98,Tt.CODE_CODE_C=99,Tt.CODE_CODE_B=100,Tt.CODE_CODE_A=101,Tt.CODE_FNC_1=102,Tt.CODE_FNC_2=97,Tt.CODE_FNC_3=96,Tt.CODE_FNC_4_A=101,Tt.CODE_FNC_4_B=100,Tt.CODE_START_A=103,Tt.CODE_START_B=104,Tt.CODE_START_C=105,Tt.CODE_STOP=106;class De extends Re{constructor(e=!1,i=!1){super(),this.usingCheckDigit=e,this.extendedMode=i,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,i,r){let l=this.counters;l.fill(0),this.decodeRowResult="";let u=De.findAsteriskPattern(i,l),h=i.getNextSet(u[1]),d=i.getSize(),p,x;do{De.recordPattern(i,h,l);let W=De.toNarrowWidePattern(l);if(W<0)throw new st;p=De.patternToChar(W),this.decodeRowResult+=p,x=h;for(let et of l)h+=et;h=i.getNextSet(h)}while(p!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let w=0;for(let W of l)w+=W;let O=h-x-w;if(h!==d&&O*2<w)throw new st;if(this.usingCheckDigit){let W=this.decodeRowResult.length-1,et=0;for(let ft=0;ft<W;ft++)et+=De.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(ft));if(this.decodeRowResult.charAt(W)!==De.ALPHABET_STRING.charAt(et%43))throw new $;this.decodeRowResult=this.decodeRowResult.substring(0,W)}if(this.decodeRowResult.length===0)throw new st;let R;this.extendedMode?R=De.decodeExtended(this.decodeRowResult):R=this.decodeRowResult;let F=(u[1]+u[0])/2,X=x+w/2;return new Ot(R,null,0,[new Dt(F,e),new Dt(X,e)],It.CODE_39,new Date().getTime())}static findAsteriskPattern(e,i){let r=e.getSize(),l=e.getNextSet(0),u=0,h=l,d=!1,p=i.length;for(let x=l;x<r;x++)if(e.get(x)!==d)i[u]++;else{if(u===p-1){if(this.toNarrowWidePattern(i)===De.ASTERISK_ENCODING&&e.isRange(Math.max(0,h-Math.floor((x-h)/2)),h,!1))return[h,x];h+=i[0]+i[1],i.copyWithin(0,2,2+u-1),i[u-1]=0,i[u]=0,u--}else u++;i[u]=1,d=!d}throw new st}static toNarrowWidePattern(e){let i=e.length,r=0,l;do{let u=2147483647;for(let p of e)p<u&&p>r&&(u=p);r=u,l=0;let h=0,d=0;for(let p=0;p<i;p++){let x=e[p];x>r&&(d|=1<<i-1-p,l++,h+=x)}if(l===3){for(let p=0;p<i&&l>0;p++){let x=e[p];if(x>r&&(l--,x*2>=h))return-1}return d}}while(l>3);return-1}static patternToChar(e){for(let i=0;i<De.CHARACTER_ENCODINGS.length;i++)if(De.CHARACTER_ENCODINGS[i]===e)return De.ALPHABET_STRING.charAt(i);if(e===De.ASTERISK_ENCODING)return"*";throw new st}static decodeExtended(e){let i=e.length,r="";for(let l=0;l<i;l++){let u=e.charAt(l);if(u==="+"||u==="$"||u==="%"||u==="/"){let h=e.charAt(l+1),d="\0";switch(u){case"+":if(h>="A"&&h<="Z")d=String.fromCharCode(h.charCodeAt(0)+32);else throw new P;break;case"$":if(h>="A"&&h<="Z")d=String.fromCharCode(h.charCodeAt(0)-64);else throw new P;break;case"%":if(h>="A"&&h<="E")d=String.fromCharCode(h.charCodeAt(0)-38);else if(h>="F"&&h<="J")d=String.fromCharCode(h.charCodeAt(0)-11);else if(h>="K"&&h<="O")d=String.fromCharCode(h.charCodeAt(0)+16);else if(h>="P"&&h<="T")d=String.fromCharCode(h.charCodeAt(0)+43);else if(h==="U")d="\0";else if(h==="V")d="@";else if(h==="W")d="`";else if(h==="X"||h==="Y"||h==="Z")d="";else throw new P;break;case"/":if(h>="A"&&h<="O")d=String.fromCharCode(h.charCodeAt(0)-32);else if(h==="Z")d=":";else throw new P;break}r+=d,l++}else r+=u}return r}}De.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",De.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],De.ASTERISK_ENCODING=148;class Zt extends Re{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,i,r){let l=this.decodeStart(i),u=this.decodeEnd(i),h=new V;Zt.decodeMiddle(i,l[1],u[0],h);let d=h.toString(),p=null;r!=null&&(p=r.get(Ft.ALLOWED_LENGTHS)),p==null&&(p=Zt.DEFAULT_ALLOWED_LENGTHS);let x=d.length,w=!1,O=0;for(let X of p){if(x===X){w=!0;break}X>O&&(O=X)}if(!w&&x>O&&(w=!0),!w)throw new P;const R=[new Dt(l[1],e),new Dt(u[0],e)];return new Ot(d,null,0,R,It.ITF,new Date().getTime())}static decodeMiddle(e,i,r,l){let u=new Int32Array(10),h=new Int32Array(5),d=new Int32Array(5);for(u.fill(0),h.fill(0),d.fill(0);i<r;){Re.recordPattern(e,i,u);for(let x=0;x<5;x++){let w=2*x;h[x]=u[w],d[x]=u[w+1]}let p=Zt.decodeDigit(h);l.append(p.toString()),p=this.decodeDigit(d),l.append(p.toString()),u.forEach(function(x){i+=x})}}decodeStart(e){let i=Zt.skipWhiteSpace(e),r=Zt.findGuardPattern(e,i,Zt.START_PATTERN);return this.narrowLineWidth=(r[1]-r[0])/4,this.validateQuietZone(e,r[0]),r}validateQuietZone(e,i){let r=this.narrowLineWidth*10;r=r<i?r:i;for(let l=i-1;r>0&&l>=0&&!e.get(l);l--)r--;if(r!==0)throw new st}static skipWhiteSpace(e){const i=e.getSize(),r=e.getNextSet(0);if(r===i)throw new st;return r}decodeEnd(e){e.reverse();try{let i=Zt.skipWhiteSpace(e),r;try{r=Zt.findGuardPattern(e,i,Zt.END_PATTERN_REVERSED[0])}catch(u){u instanceof st&&(r=Zt.findGuardPattern(e,i,Zt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,r[0]);let l=r[0];return r[0]=e.getSize()-r[1],r[1]=e.getSize()-l,r}finally{e.reverse()}}static findGuardPattern(e,i,r){let l=r.length,u=new Int32Array(l),h=e.getSize(),d=!1,p=0,x=i;u.fill(0);for(let w=i;w<h;w++)if(e.get(w)!==d)u[p]++;else{if(p===l-1){if(Re.patternMatchVariance(u,r,Zt.MAX_INDIVIDUAL_VARIANCE)<Zt.MAX_AVG_VARIANCE)return[x,w];x+=u[0]+u[1],gt.arraycopy(u,2,u,0,p-1),u[p-1]=0,u[p]=0,p--}else p++;u[p]=1,d=!d}throw new st}static decodeDigit(e){let i=Zt.MAX_AVG_VARIANCE,r=-1,l=Zt.PATTERNS.length;for(let u=0;u<l;u++){let h=Zt.PATTERNS[u],d=Re.patternMatchVariance(e,h,Zt.MAX_INDIVIDUAL_VARIANCE);d<i?(i=d,r=u):d===i&&(r=-1)}if(r>=0)return r%10;throw new st}}Zt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Zt.MAX_AVG_VARIANCE=.38,Zt.MAX_INDIVIDUAL_VARIANCE=.5,Zt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Zt.START_PATTERN=Int32Array.from([1,1,1,1]),Zt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Ke extends Re{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let i=!1,r,l=0,u=Int32Array.from([0,0,0]);for(;!i;){u=Int32Array.from([0,0,0]),r=Ke.findGuardPattern(e,l,!1,this.START_END_PATTERN,u);let h=r[0];l=r[1];let d=h-(l-h);d>=0&&(i=e.isRange(d,h,!1))}return r}static checkChecksum(e){return Ke.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let i=e.length;if(i===0)return!1;let r=parseInt(e.charAt(i-1),10);return Ke.getStandardUPCEANChecksum(e.substring(0,i-1))===r}static getStandardUPCEANChecksum(e){let i=e.length,r=0;for(let l=i-1;l>=0;l-=2){let u=e.charAt(l).charCodeAt(0)-48;if(u<0||u>9)throw new P;r+=u}r*=3;for(let l=i-2;l>=0;l-=2){let u=e.charAt(l).charCodeAt(0)-48;if(u<0||u>9)throw new P;r+=u}return(1e3-r)%10}static decodeEnd(e,i){return Ke.findGuardPattern(e,i,!1,Ke.START_END_PATTERN,new Int32Array(Ke.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,i,r,l){return this.findGuardPattern(e,i,r,l,new Int32Array(l.length))}static findGuardPattern(e,i,r,l,u){let h=e.getSize();i=r?e.getNextUnset(i):e.getNextSet(i);let d=0,p=i,x=l.length,w=r;for(let O=i;O<h;O++)if(e.get(O)!==w)u[d]++;else{if(d===x-1){if(Re.patternMatchVariance(u,l,Ke.MAX_INDIVIDUAL_VARIANCE)<Ke.MAX_AVG_VARIANCE)return Int32Array.from([p,O]);p+=u[0]+u[1];let R=u.slice(2,u.length-1);for(let F=0;F<d-1;F++)u[F]=R[F];u[d-1]=0,u[d]=0,d--}else d++;u[d]=1,w=!w}throw new st}static decodeDigit(e,i,r,l){this.recordPattern(e,r,i);let u=this.MAX_AVG_VARIANCE,h=-1,d=l.length;for(let p=0;p<d;p++){let x=l[p],w=Re.patternMatchVariance(i,x,Ke.MAX_INDIVIDUAL_VARIANCE);w<u&&(u=w,h=p)}if(h>=0)return h;throw new st}}Ke.MAX_AVG_VARIANCE=.48,Ke.MAX_INDIVIDUAL_VARIANCE=.7,Ke.START_END_PATTERN=Int32Array.from([1,1,1]),Ke.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Ke.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ke.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class yr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,i,r){let l=this.decodeRowStringBuffer,u=this.decodeMiddle(i,r,l),h=l.toString(),d=yr.parseExtensionString(h),p=[new Dt((r[0]+r[1])/2,e),new Dt(u,e)],x=new Ot(h,null,0,p,It.UPC_EAN_EXTENSION,new Date().getTime());return d!=null&&x.putAllMetadata(d),x}decodeMiddle(e,i,r){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=e.getSize(),h=i[1],d=0;for(let x=0;x<5&&h<u;x++){let w=Ke.decodeDigit(e,l,h,Ke.L_AND_G_PATTERNS);r+=String.fromCharCode(48+w%10);for(let O of l)h+=O;w>=10&&(d|=1<<4-x),x!==4&&(h=e.getNextSet(h),h=e.getNextUnset(h))}if(r.length!==5)throw new st;let p=this.determineCheckDigit(d);if(yr.extensionChecksum(r.toString())!==p)throw new st;return h}static extensionChecksum(e){let i=e.length,r=0;for(let l=i-2;l>=0;l-=2)r+=e.charAt(l).charCodeAt(0)-48;r*=3;for(let l=i-1;l>=0;l-=2)r+=e.charAt(l).charCodeAt(0)-48;return r*=3,r%10}determineCheckDigit(e){for(let i=0;i<10;i++)if(e===this.CHECK_DIGIT_ENCODINGS[i])return i;throw new st}static parseExtensionString(e){if(e.length!==5)return null;let i=yr.parseExtension5String(e);return i==null?null:new Map([[fe.SUGGESTED_PRICE,i]])}static parseExtension5String(e){let i;switch(e.charAt(0)){case"0":i="";break;case"5":i="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}i="";break;default:i="";break}let r=parseInt(e.substring(1)),l=(r/100).toString(),u=r%100,h=u<10?"0"+u:u.toString();return i+l+"."+h}}class Ds{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,i,r){let l=this.decodeRowStringBuffer,u=this.decodeMiddle(i,r,l),h=l.toString(),d=Ds.parseExtensionString(h),p=[new Dt((r[0]+r[1])/2,e),new Dt(u,e)],x=new Ot(h,null,0,p,It.UPC_EAN_EXTENSION,new Date().getTime());return d!=null&&x.putAllMetadata(d),x}decodeMiddle(e,i,r){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=e.getSize(),h=i[1],d=0;for(let p=0;p<2&&h<u;p++){let x=Ke.decodeDigit(e,l,h,Ke.L_AND_G_PATTERNS);r+=String.fromCharCode(48+x%10);for(let w of l)h+=w;x>=10&&(d|=1<<1-p),p!==1&&(h=e.getNextSet(h),h=e.getNextUnset(h))}if(r.length!==2)throw new st;if(parseInt(r.toString())%4!==d)throw new st;return h}static parseExtensionString(e){return e.length!==2?null:new Map([[fe.ISSUE_NUMBER,parseInt(e)]])}}class Vi{static decodeRow(e,i,r){let l=Ke.findGuardPattern(i,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new yr().decodeRow(e,i,l)}catch{return new Ds().decodeRow(e,i,l)}}}Vi.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class oe extends Ke{constructor(){super(),this.decodeRowStringBuffer="",oe.L_AND_G_PATTERNS=oe.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let i=oe.L_PATTERNS[e-10],r=new Int32Array(i.length);for(let l=0;l<i.length;l++)r[l]=i[i.length-l-1];oe.L_AND_G_PATTERNS[e]=r}}decodeRow(e,i,r){let l=oe.findStartGuardPattern(i),u=r==null?null:r.get(Ft.NEED_RESULT_POINT_CALLBACK);if(u!=null){const wt=new Dt((l[0]+l[1])/2,e);u.foundPossibleResultPoint(wt)}let h=this.decodeMiddle(i,l,this.decodeRowStringBuffer),d=h.rowOffset,p=h.resultString;if(u!=null){const wt=new Dt(d,e);u.foundPossibleResultPoint(wt)}let x=this.decodeEnd(i,d);if(u!=null){const wt=new Dt((x[0]+x[1])/2,e);u.foundPossibleResultPoint(wt)}let w=x[1],O=w+(w-x[0]);if(O>=i.getSize()||!i.isRange(w,O,!1))throw new st;let R=p.toString();if(R.length<8)throw new P;if(!oe.checkChecksum(R))throw new $;let F=(l[1]+l[0])/2,X=(x[1]+x[0])/2,W=this.getBarcodeFormat(),et=[new Dt(F,e),new Dt(X,e)],ft=new Ot(R,null,0,et,W,new Date().getTime()),Ct=0;try{let wt=Vi.decodeRow(e,i,x[1]);ft.putMetadata(fe.UPC_EAN_EXTENSION,wt.getText()),ft.putAllMetadata(wt.getResultMetadata()),ft.addResultPoints(wt.getResultPoints()),Ct=wt.getText().length}catch{}let St=r==null?null:r.get(Ft.ALLOWED_EAN_EXTENSIONS);if(St!=null){let wt=!1;for(let le in St)if(Ct.toString()===le){wt=!0;break}if(!wt)throw new st}return ft}decodeEnd(e,i){return oe.findGuardPattern(e,i,!1,oe.START_END_PATTERN,new Int32Array(oe.START_END_PATTERN.length).fill(0))}static checkChecksum(e){return oe.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let i=e.length;if(i===0)return!1;let r=parseInt(e.charAt(i-1),10);return oe.getStandardUPCEANChecksum(e.substring(0,i-1))===r}static getStandardUPCEANChecksum(e){let i=e.length,r=0;for(let l=i-1;l>=0;l-=2){let u=e.charAt(l).charCodeAt(0)-48;if(u<0||u>9)throw new P;r+=u}r*=3;for(let l=i-2;l>=0;l-=2){let u=e.charAt(l).charCodeAt(0)-48;if(u<0||u>9)throw new P;r+=u}return(1e3-r)%10}}class je extends oe{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,i,r){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=e.getSize(),h=i[1],d=0;for(let x=0;x<6&&h<u;x++){let w=oe.decodeDigit(e,l,h,oe.L_AND_G_PATTERNS);r+=String.fromCharCode(48+w%10);for(let O of l)h+=O;w>=10&&(d|=1<<5-x)}r=je.determineFirstDigit(r,d),h=oe.findGuardPattern(e,h,!0,oe.MIDDLE_PATTERN,new Int32Array(oe.MIDDLE_PATTERN.length).fill(0))[1];for(let x=0;x<6&&h<u;x++){let w=oe.decodeDigit(e,l,h,oe.L_PATTERNS);r+=String.fromCharCode(48+w);for(let O of l)h+=O}return{rowOffset:h,resultString:r}}getBarcodeFormat(){return It.EAN_13}static determineFirstDigit(e,i){for(let r=0;r<10;r++)if(i===this.FIRST_DIGIT_ENCODINGS[r])return e=String.fromCharCode(48+r)+e,e;throw new st}}je.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class zi extends oe{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,i,r){const l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=e.getSize(),h=i[1];for(let p=0;p<4&&h<u;p++){let x=oe.decodeDigit(e,l,h,oe.L_PATTERNS);r+=String.fromCharCode(48+x);for(let w of l)h+=w}h=oe.findGuardPattern(e,h,!0,oe.MIDDLE_PATTERN,new Int32Array(oe.MIDDLE_PATTERN.length).fill(0))[1];for(let p=0;p<4&&h<u;p++){let x=oe.decodeDigit(e,l,h,oe.L_PATTERNS);r+=String.fromCharCode(48+x);for(let w of l)h+=w}return{rowOffset:h,resultString:r}}getBarcodeFormat(){return It.EAN_8}}class Gi extends oe{constructor(){super(...arguments),this.ean13Reader=new je}getBarcodeFormat(){return It.UPC_A}decode(e,i){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,i,r){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,i,r))}decodeMiddle(e,i,r){return this.ean13Reader.decodeMiddle(e,i,r)}maybeReturnResult(e){let i=e.getText();if(i.charAt(0)==="0"){let r=new Ot(i.substring(1),null,null,e.getResultPoints(),It.UPC_A);return e.getResultMetadata()!=null&&r.putAllMetadata(e.getResultMetadata()),r}else throw new st}reset(){this.ean13Reader.reset()}}class En extends oe{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,i,r){const l=this.decodeMiddleCounters.map(x=>x);l[0]=0,l[1]=0,l[2]=0,l[3]=0;const u=e.getSize();let h=i[1],d=0;for(let x=0;x<6&&h<u;x++){const w=En.decodeDigit(e,l,h,En.L_AND_G_PATTERNS);r+=String.fromCharCode(48+w%10);for(let O of l)h+=O;w>=10&&(d|=1<<5-x)}let p=En.determineNumSysAndCheckDigit(r,d);return{rowOffset:h,resultString:p}}decodeEnd(e,i){return En.findGuardPatternWithoutCounters(e,i,!0,En.MIDDLE_END_PATTERN)}checkChecksum(e){return oe.checkChecksum(En.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,i){for(let r=0;r<=1;r++)for(let l=0;l<10;l++)if(i===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[r][l]){let u=String.fromCharCode(48+r),h=String.fromCharCode(48+l);return u+e+h}throw st.getNotFoundInstance()}getBarcodeFormat(){return It.UPC_E}static convertUPCEtoUPCA(e){const i=e.slice(1,7).split("").map(u=>u.charCodeAt(0)),r=new V;r.append(e.charAt(0));let l=i[5];switch(l){case 0:case 1:case 2:r.appendChars(i,0,2),r.append(l),r.append("0000"),r.appendChars(i,2,3);break;case 3:r.appendChars(i,0,3),r.append("00000"),r.appendChars(i,3,2);break;case 4:r.appendChars(i,0,4),r.append("00000"),r.append(i[4]);break;default:r.appendChars(i,0,5),r.append("0000"),r.append(l);break}return e.length>=8&&r.append(e.charAt(7)),r.toString()}}En.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),En.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Ta extends Re{constructor(e){super();let i=e==null?null:e.get(Ft.POSSIBLE_FORMATS),r=[];g(i)?(r.push(new je),r.push(new Gi),r.push(new zi),r.push(new En)):(i.indexOf(It.EAN_13)>-1&&r.push(new je),i.indexOf(It.UPC_A)>-1&&r.push(new Gi),i.indexOf(It.EAN_8)>-1&&r.push(new zi),i.indexOf(It.UPC_E)>-1&&r.push(new En)),this.readers=r}decodeRow(e,i,r){for(let l of this.readers)try{const u=l.decodeRow(e,i,r),h=u.getBarcodeFormat()===It.EAN_13&&u.getText().charAt(0)==="0",d=r==null?null:r.get(Ft.POSSIBLE_FORMATS),p=d==null||d.includes(It.UPC_A);if(h&&p){const x=u.getRawBytes(),w=new Ot(u.getText().substring(1),x,x?x.length:null,u.getResultPoints(),It.UPC_A);return w.putAllMetadata(u.getResultMetadata()),w}return u}catch{}throw new st}reset(){for(let e of this.readers)e.reset()}}class In extends Re{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,i){for(let r=0;r<i.length;r++)if(Re.patternMatchVariance(e,i[r],In.MAX_INDIVIDUAL_VARIANCE)<In.MAX_AVG_VARIANCE)return r;throw new st}static count(e){return Gt.sum(new Int32Array(e))}static increment(e,i){let r=0,l=i[0];for(let u=1;u<e.length;u++)i[u]>l&&(l=i[u],r=u);e[r]++}static decrement(e,i){let r=0,l=i[0];for(let u=1;u<e.length;u++)i[u]<l&&(l=i[u],r=u);e[r]--}static isFinderPattern(e){let i=e[0]+e[1],r=i+e[2]+e[3],l=i/r;if(l>=In.MIN_FINDER_PATTERN_RATIO&&l<=In.MAX_FINDER_PATTERN_RATIO){let u=Number.MAX_SAFE_INTEGER,h=Number.MIN_SAFE_INTEGER;for(let d of e)d>h&&(h=d),d<u&&(u=d);return h<10*u}return!1}}In.MAX_AVG_VARIANCE=.2,In.MAX_INDIVIDUAL_VARIANCE=.45,In.MIN_FINDER_PATTERN_RATIO=9.5/12,In.MAX_FINDER_PATTERN_RATIO=12.5/14;class Zn{constructor(e,i){this.value=e,this.checksumPortion=i}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof Zn))return!1;const i=e;return this.value===i.value&&this.checksumPortion===i.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class ir{constructor(e,i,r,l,u){this.value=e,this.startEnd=i,this.value=e,this.startEnd=i,this.resultPoints=new Array,this.resultPoints.push(new Dt(r,u)),this.resultPoints.push(new Dt(l,u))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof ir))return!1;const i=e;return this.value===i.value}hashCode(){return this.value}}class Oi{constructor(){}static getRSSvalue(e,i,r){let l=0;for(let p of e)l+=p;let u=0,h=0,d=e.length;for(let p=0;p<d-1;p++){let x;for(x=1,h|=1<<p;x<e[p];x++,h&=~(1<<p)){let w=Oi.combins(l-x-1,d-p-2);if(r&&h===0&&l-x-(d-p-1)>=d-p-1&&(w-=Oi.combins(l-x-(d-p),d-p-2)),d-p-1>1){let O=0;for(let R=l-x-(d-p-2);R>i;R--)O+=Oi.combins(l-x-R-1,d-p-3);w-=O*(d-1-p)}else l-x>i&&w--;u+=w}l-=x}return u}static combins(e,i){let r,l;e-i>i?(l=i,r=e-i):(l=e-i,r=i);let u=1,h=1;for(let d=e;d>r;d--)u*=d,h<=l&&(u/=h,h++);for(;h<=l;)u/=h,h++;return u}}class Ms{static buildBitArray(e){let i=e.length*2-1;e[e.length-1].getRightChar()==null&&(i-=1);let r=12*i,l=new Rt(r),u=0,d=e[0].getRightChar().getValue();for(let p=11;p>=0;--p)(d&1<<p)!=0&&l.set(u),u++;for(let p=1;p<e.length;++p){let x=e[p],w=x.getLeftChar().getValue();for(let O=11;O>=0;--O)(w&1<<O)!=0&&l.set(u),u++;if(x.getRightChar()!=null){let O=x.getRightChar().getValue();for(let R=11;R>=0;--R)(O&1<<R)!=0&&l.set(u),u++}}return l}}class rr{constructor(e,i){i?this.decodedInformation=null:(this.finished=e,this.decodedInformation=i)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Qr{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class xn extends Qr{constructor(e,i){super(e),this.value=i}getValue(){return this.value}isFNC1(){return this.value===xn.FNC1}}xn.FNC1="$";class Qn extends Qr{constructor(e,i,r){super(e),r?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=i}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Jn extends Qr{constructor(e,i,r){if(super(e),i<0||i>10||r<0||r>10)throw new P;this.firstDigit=i,this.secondDigit=r}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Jn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Jn.FNC1}isAnyFNC1(){return this.firstDigit===Jn.FNC1||this.secondDigit===Jn.FNC1}}Jn.FNC1=10;class vt{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new st;let i=e.substring(0,2);for(let u of vt.TWO_DIGIT_DATA_LENGTH)if(u[0]===i)return u[1]===vt.VARIABLE_LENGTH?vt.processVariableAI(2,u[2],e):vt.processFixedAI(2,u[1],e);if(e.length<3)throw new st;let r=e.substring(0,3);for(let u of vt.THREE_DIGIT_DATA_LENGTH)if(u[0]===r)return u[1]===vt.VARIABLE_LENGTH?vt.processVariableAI(3,u[2],e):vt.processFixedAI(3,u[1],e);for(let u of vt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(u[0]===r)return u[1]===vt.VARIABLE_LENGTH?vt.processVariableAI(4,u[2],e):vt.processFixedAI(4,u[1],e);if(e.length<4)throw new st;let l=e.substring(0,4);for(let u of vt.FOUR_DIGIT_DATA_LENGTH)if(u[0]===l)return u[1]===vt.VARIABLE_LENGTH?vt.processVariableAI(4,u[2],e):vt.processFixedAI(4,u[1],e);throw new st}static processFixedAI(e,i,r){if(r.length<e)throw new st;let l=r.substring(0,e);if(r.length<e+i)throw new st;let u=r.substring(e,e+i),h=r.substring(e+i),d="("+l+")"+u,p=vt.parseFieldsInGeneralPurpose(h);return p==null?d:d+p}static processVariableAI(e,i,r){let l=r.substring(0,e),u;r.length<e+i?u=r.length:u=e+i;let h=r.substring(e,u),d=r.substring(u),p="("+l+")"+h,x=vt.parseFieldsInGeneralPurpose(d);return x==null?p:p+x}}vt.VARIABLE_LENGTH=[],vt.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",vt.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",vt.VARIABLE_LENGTH,20],["22",vt.VARIABLE_LENGTH,29],["30",vt.VARIABLE_LENGTH,8],["37",vt.VARIABLE_LENGTH,8],["90",vt.VARIABLE_LENGTH,30],["91",vt.VARIABLE_LENGTH,30],["92",vt.VARIABLE_LENGTH,30],["93",vt.VARIABLE_LENGTH,30],["94",vt.VARIABLE_LENGTH,30],["95",vt.VARIABLE_LENGTH,30],["96",vt.VARIABLE_LENGTH,30],["97",vt.VARIABLE_LENGTH,3],["98",vt.VARIABLE_LENGTH,30],["99",vt.VARIABLE_LENGTH,30]],vt.THREE_DIGIT_DATA_LENGTH=[["240",vt.VARIABLE_LENGTH,30],["241",vt.VARIABLE_LENGTH,30],["242",vt.VARIABLE_LENGTH,6],["250",vt.VARIABLE_LENGTH,30],["251",vt.VARIABLE_LENGTH,30],["253",vt.VARIABLE_LENGTH,17],["254",vt.VARIABLE_LENGTH,20],["400",vt.VARIABLE_LENGTH,30],["401",vt.VARIABLE_LENGTH,30],["402",17],["403",vt.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",vt.VARIABLE_LENGTH,20],["421",vt.VARIABLE_LENGTH,15],["422",3],["423",vt.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],vt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",vt.VARIABLE_LENGTH,15],["391",vt.VARIABLE_LENGTH,18],["392",vt.VARIABLE_LENGTH,15],["393",vt.VARIABLE_LENGTH,18],["703",vt.VARIABLE_LENGTH,30]],vt.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",vt.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",vt.VARIABLE_LENGTH,20],["8003",vt.VARIABLE_LENGTH,30],["8004",vt.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",vt.VARIABLE_LENGTH,30],["8008",vt.VARIABLE_LENGTH,12],["8018",18],["8020",vt.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",vt.VARIABLE_LENGTH,70],["8200",vt.VARIABLE_LENGTH,70]];class Gn{constructor(e){this.buffer=new V,this.information=e}decodeAllCodes(e,i){let r=i,l=null;do{let u=this.decodeGeneralPurposeField(r,l),h=vt.parseFieldsInGeneralPurpose(u.getNewString());if(h!=null&&e.append(h),u.isRemaining()?l=""+u.getRemainingValue():l=null,r===u.getNewPosition())break;r=u.getNewPosition()}while(!0);return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let i=e;i<e+3;++i)if(this.information.get(i))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let u=this.extractNumericValueFromBitArray(e,4);return u===0?new Jn(this.information.getSize(),Jn.FNC1,Jn.FNC1):new Jn(this.information.getSize(),u-1,Jn.FNC1)}let i=this.extractNumericValueFromBitArray(e,7),r=(i-8)/11,l=(i-8)%11;return new Jn(e+7,r,l)}extractNumericValueFromBitArray(e,i){return Gn.extractNumericValueFromBitArray(this.information,e,i)}static extractNumericValueFromBitArray(e,i,r){let l=0;for(let u=0;u<r;++u)e.get(i+u)&&(l|=1<<r-u-1);return l}decodeGeneralPurposeField(e,i){this.buffer.setLengthToZero(),i!=null&&this.buffer.append(i),this.current.setPosition(e);let r=this.parseBlocks();return r!=null&&r.isRemaining()?new Qn(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new Qn(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,i;do{let r=this.current.getPosition();if(this.current.isAlpha()?(i=this.parseAlphaBlock(),e=i.isFinished()):this.current.isIsoIec646()?(i=this.parseIsoIec646Block(),e=i.isFinished()):(i=this.parseNumericBlock(),e=i.isFinished()),!(r!==this.current.getPosition())&&!e)break}while(!e);return i.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let i;return e.isSecondDigitFNC1()?i=new Qn(this.current.getPosition(),this.buffer.toString()):i=new Qn(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new rr(!0,i)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let i=new Qn(this.current.getPosition(),this.buffer.toString());return new rr(!0,i)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new rr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let i=new Qn(this.current.getPosition(),this.buffer.toString());return new rr(!0,i)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new rr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let i=new Qn(this.current.getPosition(),this.buffer.toString());return new rr(!0,i)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new rr(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(e,5);if(i>=5&&i<16)return!0;if(e+7>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<116)return!0;if(e+8>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(e,8);return l>=232&&l<253}decodeIsoIec646(e){let i=this.extractNumericValueFromBitArray(e,5);if(i===15)return new xn(e+5,xn.FNC1);if(i>=5&&i<15)return new xn(e+5,"0"+(i-5));let r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<90)return new xn(e+7,""+(r+1));if(r>=90&&r<116)return new xn(e+7,""+(r+7));let l=this.extractNumericValueFromBitArray(e,8),u;switch(l){case 232:u="!";break;case 233:u='"';break;case 234:u="%";break;case 235:u="&";break;case 236:u="'";break;case 237:u="(";break;case 238:u=")";break;case 239:u="*";break;case 240:u="+";break;case 241:u=",";break;case 242:u="-";break;case 243:u=".";break;case 244:u="/";break;case 245:u=":";break;case 246:u=";";break;case 247:u="<";break;case 248:u="=";break;case 249:u=">";break;case 250:u="?";break;case 251:u="_";break;case 252:u=" ";break;default:throw new P}return new xn(e+8,u)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(e,5);if(i>=5&&i<16)return!0;if(e+6>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,6);return r>=16&&r<63}decodeAlphanumeric(e){let i=this.extractNumericValueFromBitArray(e,5);if(i===15)return new xn(e+5,xn.FNC1);if(i>=5&&i<15)return new xn(e+5,"0"+(i-5));let r=this.extractNumericValueFromBitArray(e,6);if(r>=32&&r<58)return new xn(e+6,""+(r+33));let l;switch(r){case 58:l="*";break;case 59:l=",";break;case 60:l="-";break;case 61:l=".";break;case 62:l="/";break;default:throw new ci("Decoding invalid alphanumeric value: "+r)}return new xn(e+6,l)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let i=0;i<5&&i+e<this.information.getSize();++i)if(i===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+i))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let i=e;i<e+3;++i)if(this.information.get(i))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let i=0;i<4&&i+e<this.information.getSize();++i)if(this.information.get(e+i))return!1;return!0}}class on{constructor(e){this.information=e,this.generalDecoder=new Gn(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Oe extends on{constructor(e){super(e)}encodeCompressedGtin(e,i){e.append("(01)");let r=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,i,r)}encodeCompressedGtinWithoutAI(e,i,r){for(let l=0;l<4;++l){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(i+10*l,10);u/100===0&&e.append("0"),u/10===0&&e.append("0"),e.append(u)}Oe.appendCheckDigit(e,r)}static appendCheckDigit(e,i){let r=0;for(let l=0;l<13;l++){let u=e.charAt(l+i).charCodeAt(0)-48;r+=(l&1)===0?3*u:u}r=10-r%10,r===10&&(r=0),e.append(r)}}Oe.GTIN_SIZE=40;class $n extends Oe{constructor(e){super(e)}parseInformation(){let e=new V;e.append("(01)");let i=e.length(),r=this.getGeneralDecoder().extractNumericValueFromBitArray($n.HEADER_SIZE,4);return e.append(r),this.encodeCompressedGtinWithoutAI(e,$n.HEADER_SIZE+4,i),this.getGeneralDecoder().decodeAllCodes(e,$n.HEADER_SIZE+44)}}$n.HEADER_SIZE=4;class wr extends on{constructor(e){super(e)}parseInformation(){let e=new V;return this.getGeneralDecoder().decodeAllCodes(e,wr.HEADER_SIZE)}}wr.HEADER_SIZE=5;class Ls extends Oe{constructor(e){super(e)}encodeCompressedWeight(e,i,r){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(i,r);this.addWeightCode(e,l);let u=this.checkWeight(l),h=1e5;for(let d=0;d<5;++d)u/h===0&&e.append("0"),h/=10;e.append(u)}}class _i extends Ls{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=_i.HEADER_SIZE+Ls.GTIN_SIZE+_i.WEIGHT_SIZE)throw new st;let e=new V;return this.encodeCompressedGtin(e,_i.HEADER_SIZE),this.encodeCompressedWeight(e,_i.HEADER_SIZE+Ls.GTIN_SIZE,_i.WEIGHT_SIZE),e.toString()}}_i.HEADER_SIZE=5,_i.WEIGHT_SIZE=15;class rl extends _i{constructor(e){super(e)}addWeightCode(e,i){e.append("(3103)")}checkWeight(e){return e}}class sr extends _i{constructor(e){super(e)}addWeightCode(e,i){i<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class ti extends Oe{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<ti.HEADER_SIZE+Oe.GTIN_SIZE)throw new st;let e=new V;this.encodeCompressedGtin(e,ti.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(ti.HEADER_SIZE+Oe.GTIN_SIZE,ti.LAST_DIGIT_SIZE);e.append("(392"),e.append(i),e.append(")");let r=this.getGeneralDecoder().decodeGeneralPurposeField(ti.HEADER_SIZE+Oe.GTIN_SIZE+ti.LAST_DIGIT_SIZE,null);return e.append(r.getNewString()),e.toString()}}ti.HEADER_SIZE=8,ti.LAST_DIGIT_SIZE=2;class $e extends Oe{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<$e.HEADER_SIZE+Oe.GTIN_SIZE)throw new st;let e=new V;this.encodeCompressedGtin(e,$e.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray($e.HEADER_SIZE+Oe.GTIN_SIZE,$e.LAST_DIGIT_SIZE);e.append("(393"),e.append(i),e.append(")");let r=this.getGeneralDecoder().extractNumericValueFromBitArray($e.HEADER_SIZE+Oe.GTIN_SIZE+$e.LAST_DIGIT_SIZE,$e.FIRST_THREE_DIGITS_SIZE);r/100==0&&e.append("0"),r/10==0&&e.append("0"),e.append(r);let l=this.getGeneralDecoder().decodeGeneralPurposeField($e.HEADER_SIZE+Oe.GTIN_SIZE+$e.LAST_DIGIT_SIZE+$e.FIRST_THREE_DIGITS_SIZE,null);return e.append(l.getNewString()),e.toString()}}$e.HEADER_SIZE=8,$e.LAST_DIGIT_SIZE=2,$e.FIRST_THREE_DIGITS_SIZE=10;class ge extends Ls{constructor(e,i,r){super(e),this.dateCode=r,this.firstAIdigits=i}parseInformation(){if(this.getInformation().getSize()!=ge.HEADER_SIZE+ge.GTIN_SIZE+ge.WEIGHT_SIZE+ge.DATE_SIZE)throw new st;let e=new V;return this.encodeCompressedGtin(e,ge.HEADER_SIZE),this.encodeCompressedWeight(e,ge.HEADER_SIZE+ge.GTIN_SIZE,ge.WEIGHT_SIZE),this.encodeCompressedDate(e,ge.HEADER_SIZE+ge.GTIN_SIZE+ge.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,i){let r=this.getGeneralDecoder().extractNumericValueFromBitArray(i,ge.DATE_SIZE);if(r==38400)return;e.append("("),e.append(this.dateCode),e.append(")");let l=r%32;r/=32;let u=r%12+1;r/=12;let h=r;h/10==0&&e.append("0"),e.append(h),u/10==0&&e.append("0"),e.append(u),l/10==0&&e.append("0"),e.append(l)}addWeightCode(e,i){e.append("("),e.append(this.firstAIdigits),e.append(i/1e5),e.append(")")}checkWeight(e){return e%1e5}}ge.HEADER_SIZE=8,ge.WEIGHT_SIZE=20,ge.DATE_SIZE=16;function fi(b){try{if(b.get(1))return new $n(b);if(!b.get(2))return new wr(b);switch(Gn.extractNumericValueFromBitArray(b,1,4)){case 4:return new rl(b);case 5:return new sr(b)}switch(Gn.extractNumericValueFromBitArray(b,1,5)){case 12:return new ti(b);case 13:return new $e(b)}switch(Gn.extractNumericValueFromBitArray(b,1,7)){case 56:return new ge(b,"310","11");case 57:return new ge(b,"320","11");case 58:return new ge(b,"310","13");case 59:return new ge(b,"320","13");case 60:return new ge(b,"310","15");case 61:return new ge(b,"320","15");case 62:return new ge(b,"310","17");case 63:return new ge(b,"320","17")}}catch(e){throw console.log(e),new ci("unknown decoder: "+b)}}class Pn{constructor(e,i,r,l){this.leftchar=e,this.rightchar=i,this.finderpattern=r,this.maybeLast=l}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(e,i){return e instanceof Pn?Pn.equalsOrNull(e.leftchar,i.leftchar)&&Pn.equalsOrNull(e.rightchar,i.rightchar)&&Pn.equalsOrNull(e.finderpattern,i.finderpattern):!1}static equalsOrNull(e,i){return e===null?i===null:Pn.equals(e,i)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class un{constructor(e,i,r){this.pairs=e,this.rowNumber=i,this.wasReversed=r}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,i){return e instanceof un?this.checkEqualitity(e,i)&&e.wasReversed===i.wasReversed:!1}checkEqualitity(e,i){if(!e||!i)return;let r;return e.forEach((l,u)=>{i.forEach(h=>{l.getLeftChar().getValue()===h.getLeftChar().getValue()&&l.getRightChar().getValue()===h.getRightChar().getValue()&&l.getFinderPatter().getValue()===h.getFinderPatter().getValue()&&(r=!0)})}),r}}class yt extends In{constructor(e){super(...arguments),this.pairs=new Array(yt.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=e===!0}decodeRow(e,i,r){this.pairs.length=0,this.startFromEven=!1;try{return yt.constructResult(this.decodeRow2pairs(e,i))}catch(l){this.verbose&&console.log(l)}return this.pairs.length=0,this.startFromEven=!0,yt.constructResult(this.decodeRow2pairs(e,i))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,i){let r=!1;for(;!r;)try{this.pairs.push(this.retrieveNextPair(i,this.pairs,e))}catch(u){if(u instanceof st){if(!this.pairs.length)throw new st;r=!0}}if(this.checkChecksum())return this.pairs;let l;if(this.rows.length?l=!0:l=!1,this.storeRow(e,!1),l){let u=this.checkRowsBoolean(!1);if(u!=null||(u=this.checkRowsBoolean(!0),u!=null))return u}throw new st}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let i=null;try{i=this.checkRows(new Array,0)}catch(r){this.verbose&&console.log(r)}return e&&(this.rows=this.rows.reverse()),i}checkRows(e,i){for(let r=i;r<this.rows.length;r++){let l=this.rows[r];this.pairs.length=0;for(let h of e)this.pairs.push(h.getPairs());if(this.pairs.push(l.getPairs()),!yt.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let u=new Array(e);u.push(l);try{return this.checkRows(u,r+1)}catch(h){this.verbose&&console.log(h)}}throw new st}static isValidSequence(e){for(let i of yt.FINDER_PATTERN_SEQUENCES){if(e.length>i.length)continue;let r=!0;for(let l=0;l<e.length;l++)if(e[l].getFinderPattern().getValue()!=i[l]){r=!1;break}if(r)return!0}return!1}storeRow(e,i){let r=0,l=!1,u=!1;for(;r<this.rows.length;){let h=this.rows[r];if(h.getRowNumber()>e){u=h.isEquivalent(this.pairs);break}l=h.isEquivalent(this.pairs),r++}u||l||yt.isPartialRow(this.pairs,this.rows)||(this.rows.push(r,new un(this.pairs,e,i)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,i){for(let r of i)if(r.getPairs().length!==e.length){for(let l of r.getPairs())for(let u of e)if(Pn.equals(l,u))break}}static isPartialRow(e,i){for(let r of i){let l=!0;for(let u of e){let h=!1;for(let d of r.getPairs())if(u.equals(d)){h=!0;break}if(!h){l=!1;break}}if(l)return!0}return!1}getRows(){return this.rows}static constructResult(e){let i=Ms.buildBitArray(e),l=fi(i).parseInformation(),u=e[0].getFinderPattern().getResultPoints(),h=e[e.length-1].getFinderPattern().getResultPoints(),d=[u[0],u[1],h[0],h[1]];return new Ot(l,null,null,d,It.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),i=e.getLeftChar(),r=e.getRightChar();if(r==null)return!1;let l=r.getChecksumPortion(),u=2;for(let d=1;d<this.pairs.size();++d){let p=this.pairs.get(d);l+=p.getLeftChar().getChecksumPortion(),u++;let x=p.getRightChar();x!=null&&(l+=x.getChecksumPortion(),u++)}return l%=211,211*(u-4)+l==i.getValue()}static getNextSecondBar(e,i){let r;return e.get(i)?(r=e.getNextUnset(i),r=e.getNextSet(r)):(r=e.getNextSet(i),r=e.getNextUnset(r)),r}retrieveNextPair(e,i,r){let l=i.length%2==0;this.startFromEven&&(l=!l);let u,h=!0,d=-1;do this.findNextPair(e,i,d),u=this.parseFoundFinderPattern(e,r,l),u==null?d=yt.getNextSecondBar(e,this.startEnd[0]):h=!1;while(h);let p=this.decodeDataCharacter(e,u,l,!0);if(!this.isEmptyPair(i)&&i[i.length-1].mustBeLast())throw new st;let x;try{x=this.decodeDataCharacter(e,u,l,!1)}catch(w){x=null,this.verbose&&console.log(w)}return new Pn(p,x,u,!0)}isEmptyPair(e){return e.length===0}findNextPair(e,i,r){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=e.getSize(),h;r>=0?h=r:this.isEmptyPair(i)?h=0:h=i[i.length-1].getFinderPattern().getStartEnd()[1];let d=i.length%2!=0;this.startFromEven&&(d=!d);let p=!1;for(;h<u&&(p=!e.get(h),!!p);)h++;let x=0,w=h;for(let O=h;O<u;O++)if(e.get(O)!=p)l[x]++;else{if(x==3){if(d&&yt.reverseCounters(l),yt.isFinderPattern(l)){this.startEnd[0]=w,this.startEnd[1]=O;return}d&&yt.reverseCounters(l),w+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,x--}else x++;l[x]=1,p=!p}throw new st}static reverseCounters(e){let i=e.length;for(let r=0;r<i/2;++r){let l=e[r];e[r]=e[i-r-1],e[i-r-1]=l}}parseFoundFinderPattern(e,i,r){let l,u,h;if(r){let x=this.startEnd[0]-1;for(;x>=0&&!e.get(x);)x--;x++,l=this.startEnd[0]-x,u=x,h=this.startEnd[1]}else u=this.startEnd[0],h=e.getNextUnset(this.startEnd[1]+1),l=h-this.startEnd[1];let d=this.getDecodeFinderCounters();gt.arraycopy(d,0,d,1,d.length-1),d[0]=l;let p;try{p=this.parseFinderValue(d,yt.FINDER_PATTERNS)}catch{return null}return new ir(p,[u,h],u,h,i)}decodeDataCharacter(e,i,r,l){let u=this.getDataCharacterCounters();for(let Ve=0;Ve<u.length;Ve++)u[Ve]=0;if(l)yt.recordPatternInReverse(e,i.getStartEnd()[0],u);else{yt.recordPattern(e,i.getStartEnd()[1],u);for(let Ve=0,Fn=u.length-1;Ve<Fn;Ve++,Fn--){let wi=u[Ve];u[Ve]=u[Fn],u[Fn]=wi}}let h=17,d=Gt.sum(new Int32Array(u))/h,p=(i.getStartEnd()[1]-i.getStartEnd()[0])/15;if(Math.abs(d-p)/p>.3)throw new st;let x=this.getOddCounts(),w=this.getEvenCounts(),O=this.getOddRoundingErrors(),R=this.getEvenRoundingErrors();for(let Ve=0;Ve<u.length;Ve++){let Fn=1*u[Ve]/d,wi=Fn+.5;if(wi<1){if(Fn<.3)throw new st;wi=1}else if(wi>8){if(Fn>8.7)throw new st;wi=8}let Gs=Ve/2;(Ve&1)==0?(x[Gs]=wi,O[Gs]=Fn-wi):(w[Gs]=wi,R[Gs]=Fn-wi)}this.adjustOddEvenCounts(h);let F=4*i.getValue()+(r?0:2)+(l?0:1)-1,X=0,W=0;for(let Ve=x.length-1;Ve>=0;Ve--){if(yt.isNotA1left(i,r,l)){let Fn=yt.WEIGHTS[F][2*Ve];W+=x[Ve]*Fn}X+=x[Ve]}let et=0;for(let Ve=w.length-1;Ve>=0;Ve--)if(yt.isNotA1left(i,r,l)){let Fn=yt.WEIGHTS[F][2*Ve+1];et+=w[Ve]*Fn}let ft=W+et;if((X&1)!=0||X>13||X<4)throw new st;let Ct=(13-X)/2,St=yt.SYMBOL_WIDEST[Ct],wt=9-St,le=Oi.getRSSvalue(x,St,!0),$t=Oi.getRSSvalue(w,wt,!1),yn=yt.EVEN_TOTAL_SUBSET[Ct],Mi=yt.GSUM[Ct],ri=le*yn+$t+Mi;return new Zn(ri,ft)}static isNotA1left(e,i,r){return!(e.getValue()==0&&i&&r)}adjustOddEvenCounts(e){let i=Gt.sum(new Int32Array(this.getOddCounts())),r=Gt.sum(new Int32Array(this.getEvenCounts())),l=!1,u=!1;i>13?u=!0:i<4&&(l=!0);let h=!1,d=!1;r>13?d=!0:r<4&&(h=!0);let p=i+r-e,x=(i&1)==1,w=(r&1)==0;if(p==1)if(x){if(w)throw new st;u=!0}else{if(!w)throw new st;d=!0}else if(p==-1)if(x){if(w)throw new st;l=!0}else{if(!w)throw new st;h=!0}else if(p==0){if(x){if(!w)throw new st;i<r?(l=!0,d=!0):(u=!0,h=!0)}else if(w)throw new st}else throw new st;if(l){if(u)throw new st;yt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&yt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),h){if(d)throw new st;yt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}d&&yt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}yt.SYMBOL_WIDEST=[7,5,4,3,1],yt.EVEN_TOTAL_SUBSET=[4,20,52,104,204],yt.GSUM=[0,348,1388,2948,3988],yt.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],yt.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],yt.FINDER_PAT_A=0,yt.FINDER_PAT_B=1,yt.FINDER_PAT_C=2,yt.FINDER_PAT_D=3,yt.FINDER_PAT_E=4,yt.FINDER_PAT_F=5,yt.FINDER_PATTERN_SEQUENCES=[[yt.FINDER_PAT_A,yt.FINDER_PAT_A],[yt.FINDER_PAT_A,yt.FINDER_PAT_B,yt.FINDER_PAT_B],[yt.FINDER_PAT_A,yt.FINDER_PAT_C,yt.FINDER_PAT_B,yt.FINDER_PAT_D],[yt.FINDER_PAT_A,yt.FINDER_PAT_E,yt.FINDER_PAT_B,yt.FINDER_PAT_D,yt.FINDER_PAT_C],[yt.FINDER_PAT_A,yt.FINDER_PAT_E,yt.FINDER_PAT_B,yt.FINDER_PAT_D,yt.FINDER_PAT_D,yt.FINDER_PAT_F],[yt.FINDER_PAT_A,yt.FINDER_PAT_E,yt.FINDER_PAT_B,yt.FINDER_PAT_D,yt.FINDER_PAT_E,yt.FINDER_PAT_F,yt.FINDER_PAT_F],[yt.FINDER_PAT_A,yt.FINDER_PAT_A,yt.FINDER_PAT_B,yt.FINDER_PAT_B,yt.FINDER_PAT_C,yt.FINDER_PAT_C,yt.FINDER_PAT_D,yt.FINDER_PAT_D],[yt.FINDER_PAT_A,yt.FINDER_PAT_A,yt.FINDER_PAT_B,yt.FINDER_PAT_B,yt.FINDER_PAT_C,yt.FINDER_PAT_C,yt.FINDER_PAT_D,yt.FINDER_PAT_E,yt.FINDER_PAT_E],[yt.FINDER_PAT_A,yt.FINDER_PAT_A,yt.FINDER_PAT_B,yt.FINDER_PAT_B,yt.FINDER_PAT_C,yt.FINDER_PAT_C,yt.FINDER_PAT_D,yt.FINDER_PAT_E,yt.FINDER_PAT_F,yt.FINDER_PAT_F],[yt.FINDER_PAT_A,yt.FINDER_PAT_A,yt.FINDER_PAT_B,yt.FINDER_PAT_B,yt.FINDER_PAT_C,yt.FINDER_PAT_D,yt.FINDER_PAT_D,yt.FINDER_PAT_E,yt.FINDER_PAT_E,yt.FINDER_PAT_F,yt.FINDER_PAT_F]],yt.MAX_PAIRS=11;class Sa extends Zn{constructor(e,i,r){super(e,i),this.count=0,this.finderPattern=r}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Ne extends In{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,i,r){const l=this.decodePair(i,!1,e,r);Ne.addOrTally(this.possibleLeftPairs,l),i.reverse();let u=this.decodePair(i,!0,e,r);Ne.addOrTally(this.possibleRightPairs,u),i.reverse();for(let h of this.possibleLeftPairs)if(h.getCount()>1){for(let d of this.possibleRightPairs)if(d.getCount()>1&&Ne.checkChecksum(h,d))return Ne.constructResult(h,d)}throw new st}static addOrTally(e,i){if(i==null)return;let r=!1;for(let l of e)if(l.getValue()===i.getValue()){l.incrementCount(),r=!0;break}r||e.push(i)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,i){let r=4537077*e.getValue()+i.getValue(),l=new String(r).toString(),u=new V;for(let x=13-l.length;x>0;x--)u.append("0");u.append(l);let h=0;for(let x=0;x<13;x++){let w=u.charAt(x).charCodeAt(0)-48;h+=(x&1)===0?3*w:w}h=10-h%10,h===10&&(h=0),u.append(h.toString());let d=e.getFinderPattern().getResultPoints(),p=i.getFinderPattern().getResultPoints();return new Ot(u.toString(),null,0,[d[0],d[1],p[0],p[1]],It.RSS_14,new Date().getTime())}static checkChecksum(e,i){let r=(e.getChecksumPortion()+16*i.getChecksumPortion())%79,l=9*e.getFinderPattern().getValue()+i.getFinderPattern().getValue();return l>72&&l--,l>8&&l--,r===l}decodePair(e,i,r,l){try{let u=this.findFinderPattern(e,i),h=this.parseFoundFinderPattern(e,r,i,u),d=l==null?null:l.get(Ft.NEED_RESULT_POINT_CALLBACK);if(d!=null){let w=(u[0]+u[1])/2;i&&(w=e.getSize()-1-w),d.foundPossibleResultPoint(new Dt(w,r))}let p=this.decodeDataCharacter(e,h,!0),x=this.decodeDataCharacter(e,h,!1);return new Sa(1597*p.getValue()+x.getValue(),p.getChecksumPortion()+4*x.getChecksumPortion(),h)}catch{return null}}decodeDataCharacter(e,i,r){let l=this.getDataCharacterCounters();for(let et=0;et<l.length;et++)l[et]=0;if(r)Re.recordPatternInReverse(e,i.getStartEnd()[0],l);else{Re.recordPattern(e,i.getStartEnd()[1]+1,l);for(let et=0,ft=l.length-1;et<ft;et++,ft--){let Ct=l[et];l[et]=l[ft],l[ft]=Ct}}let u=r?16:15,h=Gt.sum(new Int32Array(l))/u,d=this.getOddCounts(),p=this.getEvenCounts(),x=this.getOddRoundingErrors(),w=this.getEvenRoundingErrors();for(let et=0;et<l.length;et++){let ft=l[et]/h,Ct=Math.floor(ft+.5);Ct<1?Ct=1:Ct>8&&(Ct=8);let St=Math.floor(et/2);(et&1)===0?(d[St]=Ct,x[St]=ft-Ct):(p[St]=Ct,w[St]=ft-Ct)}this.adjustOddEvenCounts(r,u);let O=0,R=0;for(let et=d.length-1;et>=0;et--)R*=9,R+=d[et],O+=d[et];let F=0,X=0;for(let et=p.length-1;et>=0;et--)F*=9,F+=p[et],X+=p[et];let W=R+3*F;if(r){if((O&1)!==0||O>12||O<4)throw new st;let et=(12-O)/2,ft=Ne.OUTSIDE_ODD_WIDEST[et],Ct=9-ft,St=Oi.getRSSvalue(d,ft,!1),wt=Oi.getRSSvalue(p,Ct,!0),le=Ne.OUTSIDE_EVEN_TOTAL_SUBSET[et],$t=Ne.OUTSIDE_GSUM[et];return new Zn(St*le+wt+$t,W)}else{if((X&1)!==0||X>10||X<4)throw new st;let et=(10-X)/2,ft=Ne.INSIDE_ODD_WIDEST[et],Ct=9-ft,St=Oi.getRSSvalue(d,ft,!0),wt=Oi.getRSSvalue(p,Ct,!1),le=Ne.INSIDE_ODD_TOTAL_SUBSET[et],$t=Ne.INSIDE_GSUM[et];return new Zn(wt*le+St+$t,W)}}findFinderPattern(e,i){let r=this.getDecodeFinderCounters();r[0]=0,r[1]=0,r[2]=0,r[3]=0;let l=e.getSize(),u=!1,h=0;for(;h<l&&(u=!e.get(h),i!==u);)h++;let d=0,p=h;for(let x=h;x<l;x++)if(e.get(x)!==u)r[d]++;else{if(d===3){if(In.isFinderPattern(r))return[p,x];p+=r[0]+r[1],r[0]=r[2],r[1]=r[3],r[2]=0,r[3]=0,d--}else d++;r[d]=1,u=!u}throw new st}parseFoundFinderPattern(e,i,r,l){let u=e.get(l[0]),h=l[0]-1;for(;h>=0&&u!==e.get(h);)h--;h++;const d=l[0]-h,p=this.getDecodeFinderCounters(),x=new Int32Array(p.length);gt.arraycopy(p,0,x,1,p.length-1),x[0]=d;const w=this.parseFinderValue(x,Ne.FINDER_PATTERNS);let O=h,R=l[1];return r&&(O=e.getSize()-1-O,R=e.getSize()-1-R),new ir(w,[h,l[1]],O,R,i)}adjustOddEvenCounts(e,i){let r=Gt.sum(new Int32Array(this.getOddCounts())),l=Gt.sum(new Int32Array(this.getEvenCounts())),u=!1,h=!1,d=!1,p=!1;e?(r>12?h=!0:r<4&&(u=!0),l>12?p=!0:l<4&&(d=!0)):(r>11?h=!0:r<5&&(u=!0),l>10?p=!0:l<4&&(d=!0));let x=r+l-i,w=(r&1)===(e?1:0),O=(l&1)===1;if(x===1)if(w){if(O)throw new st;h=!0}else{if(!O)throw new st;p=!0}else if(x===-1)if(w){if(O)throw new st;u=!0}else{if(!O)throw new st;d=!0}else if(x===0){if(w){if(!O)throw new st;r<l?(u=!0,p=!0):(h=!0,d=!0)}else if(O)throw new st}else throw new st;if(u){if(h)throw new st;In.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&In.decrement(this.getOddCounts(),this.getOddRoundingErrors()),d){if(p)throw new st;In.increment(this.getEvenCounts(),this.getOddRoundingErrors())}p&&In.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ne.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Ne.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Ne.OUTSIDE_GSUM=[0,161,961,2015,2715],Ne.INSIDE_GSUM=[0,336,1036,1516],Ne.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Ne.INSIDE_ODD_WIDEST=[2,4,6,8],Ne.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class ei extends Re{constructor(e,i){super(),this.readers=[],this.verbose=i===!0;const r=e?e.get(Ft.POSSIBLE_FORMATS):null,l=e&&e.get(Ft.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;r?((r.includes(It.EAN_13)||r.includes(It.UPC_A)||r.includes(It.EAN_8)||r.includes(It.UPC_E))&&this.readers.push(new Ta(e)),r.includes(It.CODE_39)&&this.readers.push(new De(l)),r.includes(It.CODE_128)&&this.readers.push(new Tt),r.includes(It.ITF)&&this.readers.push(new Zt),r.includes(It.RSS_14)&&this.readers.push(new Ne),r.includes(It.RSS_EXPANDED)&&this.readers.push(new yt(this.verbose))):(this.readers.push(new Ta(e)),this.readers.push(new De),this.readers.push(new Ta(e)),this.readers.push(new Tt),this.readers.push(new Zt),this.readers.push(new Ne),this.readers.push(new yt(this.verbose)))}decodeRow(e,i,r){for(let l=0;l<this.readers.length;l++)try{return this.readers[l].decodeRow(e,i,r)}catch{}throw new st}reset(){this.readers.forEach(e=>e.reset())}}class Ca extends bt{constructor(e=500,i){super(new ei(i),e,i)}}class _e{constructor(e,i,r){this.ecCodewords=e,this.ecBlocks=[i],r&&this.ecBlocks.push(r)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Ee{constructor(e,i){this.count=e,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ae{constructor(e,i,r,l,u,h){this.versionNumber=e,this.symbolSizeRows=i,this.symbolSizeColumns=r,this.dataRegionSizeRows=l,this.dataRegionSizeColumns=u,this.ecBlocks=h;let d=0;const p=h.getECCodewords(),x=h.getECBlocks();for(let w of x)d+=w.getCount()*(w.getDataCodewords()+p);this.totalCodewords=d}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,i){if((e&1)!==0||(i&1)!==0)throw new P;for(let r of ae.VERSIONS)if(r.symbolSizeRows===e&&r.symbolSizeColumns===i)return r;throw new P}toString(){return""+this.versionNumber}static buildVersions(){return[new ae(1,10,10,8,8,new _e(5,new Ee(1,3))),new ae(2,12,12,10,10,new _e(7,new Ee(1,5))),new ae(3,14,14,12,12,new _e(10,new Ee(1,8))),new ae(4,16,16,14,14,new _e(12,new Ee(1,12))),new ae(5,18,18,16,16,new _e(14,new Ee(1,18))),new ae(6,20,20,18,18,new _e(18,new Ee(1,22))),new ae(7,22,22,20,20,new _e(20,new Ee(1,30))),new ae(8,24,24,22,22,new _e(24,new Ee(1,36))),new ae(9,26,26,24,24,new _e(28,new Ee(1,44))),new ae(10,32,32,14,14,new _e(36,new Ee(1,62))),new ae(11,36,36,16,16,new _e(42,new Ee(1,86))),new ae(12,40,40,18,18,new _e(48,new Ee(1,114))),new ae(13,44,44,20,20,new _e(56,new Ee(1,144))),new ae(14,48,48,22,22,new _e(68,new Ee(1,174))),new ae(15,52,52,24,24,new _e(42,new Ee(2,102))),new ae(16,64,64,14,14,new _e(56,new Ee(2,140))),new ae(17,72,72,16,16,new _e(36,new Ee(4,92))),new ae(18,80,80,18,18,new _e(48,new Ee(4,114))),new ae(19,88,88,20,20,new _e(56,new Ee(4,144))),new ae(20,96,96,22,22,new _e(68,new Ee(4,174))),new ae(21,104,104,24,24,new _e(56,new Ee(6,136))),new ae(22,120,120,18,18,new _e(68,new Ee(6,175))),new ae(23,132,132,20,20,new _e(62,new Ee(8,163))),new ae(24,144,144,22,22,new _e(62,new Ee(8,156),new Ee(2,155))),new ae(25,8,18,6,16,new _e(7,new Ee(1,5))),new ae(26,8,32,6,14,new _e(11,new Ee(1,10))),new ae(27,12,26,10,24,new _e(14,new Ee(1,16))),new ae(28,12,36,10,16,new _e(18,new Ee(1,22))),new ae(29,16,36,14,16,new _e(24,new Ee(1,32))),new ae(30,16,48,14,22,new _e(28,new Ee(1,49)))]}}ae.VERSIONS=ae.buildVersions();class Lr{constructor(e){const i=e.getHeight();if(i<8||i>144||(i&1)!==0)throw new P;this.version=Lr.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new Xt(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const i=e.getHeight(),r=e.getWidth();return ae.getVersionForDimensions(i,r)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let i=0,r=4,l=0;const u=this.mappingBitMatrix.getHeight(),h=this.mappingBitMatrix.getWidth();let d=!1,p=!1,x=!1,w=!1;do if(r===u&&l===0&&!d)e[i++]=this.readCorner1(u,h)&255,r-=2,l+=2,d=!0;else if(r===u-2&&l===0&&(h&3)!==0&&!p)e[i++]=this.readCorner2(u,h)&255,r-=2,l+=2,p=!0;else if(r===u+4&&l===2&&(h&7)===0&&!x)e[i++]=this.readCorner3(u,h)&255,r-=2,l+=2,x=!0;else if(r===u-2&&l===0&&(h&7)===4&&!w)e[i++]=this.readCorner4(u,h)&255,r-=2,l+=2,w=!0;else{do r<u&&l>=0&&!this.readMappingMatrix.get(l,r)&&(e[i++]=this.readUtah(r,l,u,h)&255),r-=2,l+=2;while(r>=0&&l<h);r+=1,l+=3;do r>=0&&l<h&&!this.readMappingMatrix.get(l,r)&&(e[i++]=this.readUtah(r,l,u,h)&255),r+=2,l-=2;while(r<u&&l>=0);r+=3,l+=1}while(r<u||l<h);if(i!==this.version.getTotalCodewords())throw new P;return e}readModule(e,i,r,l){return e<0&&(e+=r,i+=4-(r+4&7)),i<0&&(i+=l,e+=4-(l+4&7)),this.readMappingMatrix.set(i,e),this.mappingBitMatrix.get(i,e)}readUtah(e,i,r,l){let u=0;return this.readModule(e-2,i-2,r,l)&&(u|=1),u<<=1,this.readModule(e-2,i-1,r,l)&&(u|=1),u<<=1,this.readModule(e-1,i-2,r,l)&&(u|=1),u<<=1,this.readModule(e-1,i-1,r,l)&&(u|=1),u<<=1,this.readModule(e-1,i,r,l)&&(u|=1),u<<=1,this.readModule(e,i-2,r,l)&&(u|=1),u<<=1,this.readModule(e,i-1,r,l)&&(u|=1),u<<=1,this.readModule(e,i,r,l)&&(u|=1),u}readCorner1(e,i){let r=0;return this.readModule(e-1,0,e,i)&&(r|=1),r<<=1,this.readModule(e-1,1,e,i)&&(r|=1),r<<=1,this.readModule(e-1,2,e,i)&&(r|=1),r<<=1,this.readModule(0,i-2,e,i)&&(r|=1),r<<=1,this.readModule(0,i-1,e,i)&&(r|=1),r<<=1,this.readModule(1,i-1,e,i)&&(r|=1),r<<=1,this.readModule(2,i-1,e,i)&&(r|=1),r<<=1,this.readModule(3,i-1,e,i)&&(r|=1),r}readCorner2(e,i){let r=0;return this.readModule(e-3,0,e,i)&&(r|=1),r<<=1,this.readModule(e-2,0,e,i)&&(r|=1),r<<=1,this.readModule(e-1,0,e,i)&&(r|=1),r<<=1,this.readModule(0,i-4,e,i)&&(r|=1),r<<=1,this.readModule(0,i-3,e,i)&&(r|=1),r<<=1,this.readModule(0,i-2,e,i)&&(r|=1),r<<=1,this.readModule(0,i-1,e,i)&&(r|=1),r<<=1,this.readModule(1,i-1,e,i)&&(r|=1),r}readCorner3(e,i){let r=0;return this.readModule(e-1,0,e,i)&&(r|=1),r<<=1,this.readModule(e-1,i-1,e,i)&&(r|=1),r<<=1,this.readModule(0,i-3,e,i)&&(r|=1),r<<=1,this.readModule(0,i-2,e,i)&&(r|=1),r<<=1,this.readModule(0,i-1,e,i)&&(r|=1),r<<=1,this.readModule(1,i-3,e,i)&&(r|=1),r<<=1,this.readModule(1,i-2,e,i)&&(r|=1),r<<=1,this.readModule(1,i-1,e,i)&&(r|=1),r}readCorner4(e,i){let r=0;return this.readModule(e-3,0,e,i)&&(r|=1),r<<=1,this.readModule(e-2,0,e,i)&&(r|=1),r<<=1,this.readModule(e-1,0,e,i)&&(r|=1),r<<=1,this.readModule(0,i-2,e,i)&&(r|=1),r<<=1,this.readModule(0,i-1,e,i)&&(r|=1),r<<=1,this.readModule(1,i-1,e,i)&&(r|=1),r<<=1,this.readModule(2,i-1,e,i)&&(r|=1),r<<=1,this.readModule(3,i-1,e,i)&&(r|=1),r}extractDataRegion(e){const i=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(e.getHeight()!==i)throw new B("Dimension of bitMatrix must match the version size");const l=this.version.getDataRegionSizeRows(),u=this.version.getDataRegionSizeColumns(),h=i/l|0,d=r/u|0,p=h*l,x=d*u,w=new Xt(x,p);for(let O=0;O<h;++O){const R=O*l;for(let F=0;F<d;++F){const X=F*u;for(let W=0;W<l;++W){const et=O*(l+2)+1+W,ft=R+W;for(let Ct=0;Ct<u;++Ct){const St=F*(u+2)+1+Ct;if(e.get(St,et)){const wt=X+Ct;w.set(wt,ft)}}}}}return w}}class ni{constructor(e,i){this.numDataCodewords=e,this.codewords=i}static getDataBlocks(e,i){const r=i.getECBlocks();let l=0;const u=r.getECBlocks();for(let W of u)l+=W.getCount();const h=new Array(l);let d=0;for(let W of u)for(let et=0;et<W.getCount();et++){const ft=W.getDataCodewords(),Ct=r.getECCodewords()+ft;h[d++]=new ni(ft,new Uint8Array(Ct))}const x=h[0].codewords.length-r.getECCodewords(),w=x-1;let O=0;for(let W=0;W<w;W++)for(let et=0;et<d;et++)h[et].codewords[W]=e[O++];const R=i.getVersionNumber()===24,F=R?8:d;for(let W=0;W<F;W++)h[W].codewords[x-1]=e[O++];const X=h[0].codewords.length;for(let W=x;W<X;W++)for(let et=0;et<d;et++){const ft=R?(et+8)%d:et,Ct=R&&ft>7?W-1:W;h[ft].codewords[Ct]=e[O++]}if(O!==e.length)throw new B;return h}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class cn{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new B(""+e);let i=0,r=this.bitOffset,l=this.byteOffset;const u=this.bytes;if(r>0){const h=8-r,d=e<h?e:h,p=h-d,x=255>>8-d<<p;i=(u[l]&x)>>p,e-=d,r+=d,r===8&&(r=0,l++)}if(e>0){for(;e>=8;)i=i<<8|u[l]&255,l++,e-=8;if(e>0){const h=8-e,d=255>>h<<h;i=i<<e|(u[l]&d)>>h,r+=e}}return this.bitOffset=r,this.byteOffset=l,i}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var de;(function(b){b[b.PAD_ENCODE=0]="PAD_ENCODE",b[b.ASCII_ENCODE=1]="ASCII_ENCODE",b[b.C40_ENCODE=2]="C40_ENCODE",b[b.TEXT_ENCODE=3]="TEXT_ENCODE",b[b.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",b[b.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",b[b.BASE256_ENCODE=6]="BASE256_ENCODE"})(de||(de={}));class ii{static decode(e){const i=new cn(e),r=new V,l=new V,u=new Array;let h=de.ASCII_ENCODE;do if(h===de.ASCII_ENCODE)h=this.decodeAsciiSegment(i,r,l);else{switch(h){case de.C40_ENCODE:this.decodeC40Segment(i,r);break;case de.TEXT_ENCODE:this.decodeTextSegment(i,r);break;case de.ANSIX12_ENCODE:this.decodeAnsiX12Segment(i,r);break;case de.EDIFACT_ENCODE:this.decodeEdifactSegment(i,r);break;case de.BASE256_ENCODE:this.decodeBase256Segment(i,r,u);break;default:throw new P}h=de.ASCII_ENCODE}while(h!==de.PAD_ENCODE&&i.available()>0);return l.length()>0&&r.append(l.toString()),new ke(e,r.toString(),u.length===0?null:u,null)}static decodeAsciiSegment(e,i,r){let l=!1;do{let u=e.readBits(8);if(u===0)throw new P;if(u<=128)return l&&(u+=128),i.append(String.fromCharCode(u-1)),de.ASCII_ENCODE;if(u===129)return de.PAD_ENCODE;if(u<=229){const h=u-130;h<10&&i.append("0"),i.append(""+h)}else switch(u){case 230:return de.C40_ENCODE;case 231:return de.BASE256_ENCODE;case 232:i.append("");break;case 233:case 234:break;case 235:l=!0;break;case 236:i.append("[)>05"),r.insert(0,"");break;case 237:i.append("[)>06"),r.insert(0,"");break;case 238:return de.ANSIX12_ENCODE;case 239:return de.TEXT_ENCODE;case 240:return de.EDIFACT_ENCODE;case 241:break;default:if(u!==254||e.available()!==0)throw new P;break}}while(e.available()>0);return de.ASCII_ENCODE}static decodeC40Segment(e,i){let r=!1;const l=[];let u=0;do{if(e.available()===8)return;const h=e.readBits(8);if(h===254)return;this.parseTwoBytes(h,e.readBits(8),l);for(let d=0;d<3;d++){const p=l[d];switch(u){case 0:if(p<3)u=p+1;else if(p<this.C40_BASIC_SET_CHARS.length){const x=this.C40_BASIC_SET_CHARS[p];r?(i.append(String.fromCharCode(x.charCodeAt(0)+128)),r=!1):i.append(x)}else throw new P;break;case 1:r?(i.append(String.fromCharCode(p+128)),r=!1):i.append(String.fromCharCode(p)),u=0;break;case 2:if(p<this.C40_SHIFT2_SET_CHARS.length){const x=this.C40_SHIFT2_SET_CHARS[p];r?(i.append(String.fromCharCode(x.charCodeAt(0)+128)),r=!1):i.append(x)}else switch(p){case 27:i.append("");break;case 30:r=!0;break;default:throw new P}u=0;break;case 3:r?(i.append(String.fromCharCode(p+224)),r=!1):i.append(String.fromCharCode(p+96)),u=0;break;default:throw new P}}}while(e.available()>0)}static decodeTextSegment(e,i){let r=!1,l=[],u=0;do{if(e.available()===8)return;const h=e.readBits(8);if(h===254)return;this.parseTwoBytes(h,e.readBits(8),l);for(let d=0;d<3;d++){const p=l[d];switch(u){case 0:if(p<3)u=p+1;else if(p<this.TEXT_BASIC_SET_CHARS.length){const x=this.TEXT_BASIC_SET_CHARS[p];r?(i.append(String.fromCharCode(x.charCodeAt(0)+128)),r=!1):i.append(x)}else throw new P;break;case 1:r?(i.append(String.fromCharCode(p+128)),r=!1):i.append(String.fromCharCode(p)),u=0;break;case 2:if(p<this.TEXT_SHIFT2_SET_CHARS.length){const x=this.TEXT_SHIFT2_SET_CHARS[p];r?(i.append(String.fromCharCode(x.charCodeAt(0)+128)),r=!1):i.append(x)}else switch(p){case 27:i.append("");break;case 30:r=!0;break;default:throw new P}u=0;break;case 3:if(p<this.TEXT_SHIFT3_SET_CHARS.length){const x=this.TEXT_SHIFT3_SET_CHARS[p];r?(i.append(String.fromCharCode(x.charCodeAt(0)+128)),r=!1):i.append(x),u=0}else throw new P;break;default:throw new P}}}while(e.available()>0)}static decodeAnsiX12Segment(e,i){const r=[];do{if(e.available()===8)return;const l=e.readBits(8);if(l===254)return;this.parseTwoBytes(l,e.readBits(8),r);for(let u=0;u<3;u++){const h=r[u];switch(h){case 0:i.append("\r");break;case 1:i.append("*");break;case 2:i.append(">");break;case 3:i.append(" ");break;default:if(h<14)i.append(String.fromCharCode(h+44));else if(h<40)i.append(String.fromCharCode(h+51));else throw new P;break}}}while(e.available()>0)}static parseTwoBytes(e,i,r){let l=(e<<8)+i-1,u=Math.floor(l/1600);r[0]=u,l-=u*1600,u=Math.floor(l/40),r[1]=u,r[2]=l-u*40}static decodeEdifactSegment(e,i){do{if(e.available()<=16)return;for(let r=0;r<4;r++){let l=e.readBits(6);if(l===31){const u=8-e.getBitOffset();u!==8&&e.readBits(u);return}(l&32)===0&&(l|=64),i.append(String.fromCharCode(l))}}while(e.available()>0)}static decodeBase256Segment(e,i,r){let l=1+e.getByteOffset();const u=this.unrandomize255State(e.readBits(8),l++);let h;if(u===0?h=e.available()/8|0:u<250?h=u:h=250*(u-249)+this.unrandomize255State(e.readBits(8),l++),h<0)throw new P;const d=new Uint8Array(h);for(let p=0;p<h;p++){if(e.available()<8)throw new P;d[p]=this.unrandomize255State(e.readBits(8),l++)}r.push(d);try{i.append(j.decode(d,q.ISO88591))}catch(p){throw new ci("Platform does not support required encoding: "+p.message)}}static unrandomize255State(e,i){const r=149*i%255+1,l=e-r;return l>=0?l:l+256}}ii.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],ii.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],ii.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],ii.TEXT_SHIFT2_SET_CHARS=ii.C40_SHIFT2_SET_CHARS,ii.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Ia{constructor(){this.rsDecoder=new Hi(he.DATA_MATRIX_FIELD_256)}decode(e){const i=new Lr(e),r=i.getVersion(),l=i.readCodewords(),u=ni.getDataBlocks(l,r);let h=0;for(let x of u)h+=x.getNumDataCodewords();const d=new Uint8Array(h),p=u.length;for(let x=0;x<p;x++){const w=u[x],O=w.getCodewords(),R=w.getNumDataCodewords();this.correctErrors(O,R);for(let F=0;F<R;F++)d[F*p+x]=O[F]}return ii.decode(d)}correctErrors(e,i){const r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-i)}catch{throw new $}for(let l=0;l<i;l++)e[l]=r[l]}}class qt{constructor(e){this.image=e,this.rectangleDetector=new en(this.image)}detect(){const e=this.rectangleDetector.detect();let i=this.detectSolid1(e);if(i=this.detectSolid2(i),i[3]=this.correctTopRight(i),!i[3])throw new st;i=this.shiftToModuleCenter(i);const r=i[0],l=i[1],u=i[2],h=i[3];let d=this.transitionsBetween(r,h)+1,p=this.transitionsBetween(u,h)+1;(d&1)===1&&(d+=1),(p&1)===1&&(p+=1),4*d<7*p&&4*p<7*d&&(d=p=Math.max(d,p));let x=qt.sampleGrid(this.image,r,l,u,h,d,p);return new vs(x,[r,l,u,h])}static shiftPoint(e,i,r){let l=(i.getX()-e.getX())/(r+1),u=(i.getY()-e.getY())/(r+1);return new Dt(e.getX()+l,e.getY()+u)}static moveAway(e,i,r){let l=e.getX(),u=e.getY();return l<i?l-=1:l+=1,u<r?u-=1:u+=1,new Dt(l,u)}detectSolid1(e){let i=e[0],r=e[1],l=e[3],u=e[2],h=this.transitionsBetween(i,r),d=this.transitionsBetween(r,l),p=this.transitionsBetween(l,u),x=this.transitionsBetween(u,i),w=h,O=[u,i,r,l];return w>d&&(w=d,O[0]=i,O[1]=r,O[2]=l,O[3]=u),w>p&&(w=p,O[0]=r,O[1]=l,O[2]=u,O[3]=i),w>x&&(O[0]=l,O[1]=u,O[2]=i,O[3]=r),O}detectSolid2(e){let i=e[0],r=e[1],l=e[2],u=e[3],h=this.transitionsBetween(i,u),d=qt.shiftPoint(r,l,(h+1)*4),p=qt.shiftPoint(l,r,(h+1)*4),x=this.transitionsBetween(d,i),w=this.transitionsBetween(p,u);return x<w?(e[0]=i,e[1]=r,e[2]=l,e[3]=u):(e[0]=r,e[1]=l,e[2]=u,e[3]=i),e}correctTopRight(e){let i=e[0],r=e[1],l=e[2],u=e[3],h=this.transitionsBetween(i,u),d=this.transitionsBetween(r,u),p=qt.shiftPoint(i,r,(d+1)*4),x=qt.shiftPoint(l,r,(h+1)*4);h=this.transitionsBetween(p,u),d=this.transitionsBetween(x,u);let w=new Dt(u.getX()+(l.getX()-r.getX())/(h+1),u.getY()+(l.getY()-r.getY())/(h+1)),O=new Dt(u.getX()+(i.getX()-r.getX())/(d+1),u.getY()+(i.getY()-r.getY())/(d+1));if(!this.isValid(w))return this.isValid(O)?O:null;if(!this.isValid(O))return w;let R=this.transitionsBetween(p,w)+this.transitionsBetween(x,w),F=this.transitionsBetween(p,O)+this.transitionsBetween(x,O);return R>F?w:O}shiftToModuleCenter(e){let i=e[0],r=e[1],l=e[2],u=e[3],h=this.transitionsBetween(i,u)+1,d=this.transitionsBetween(l,u)+1,p=qt.shiftPoint(i,r,d*4),x=qt.shiftPoint(l,r,h*4);h=this.transitionsBetween(p,u)+1,d=this.transitionsBetween(x,u)+1,(h&1)===1&&(h+=1),(d&1)===1&&(d+=1);let w=(i.getX()+r.getX()+l.getX()+u.getX())/4,O=(i.getY()+r.getY()+l.getY()+u.getY())/4;i=qt.moveAway(i,w,O),r=qt.moveAway(r,w,O),l=qt.moveAway(l,w,O),u=qt.moveAway(u,w,O);let R,F;return p=qt.shiftPoint(i,r,d*4),p=qt.shiftPoint(p,u,h*4),R=qt.shiftPoint(r,i,d*4),R=qt.shiftPoint(R,l,h*4),x=qt.shiftPoint(l,u,d*4),x=qt.shiftPoint(x,r,h*4),F=qt.shiftPoint(u,l,d*4),F=qt.shiftPoint(F,i,h*4),[p,R,x,F]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,i,r,l,u,h,d){return Kn.getInstance().sampleGrid(e,h,d,.5,.5,h-.5,.5,h-.5,d-.5,.5,d-.5,i.getX(),i.getY(),u.getX(),u.getY(),l.getX(),l.getY(),r.getX(),r.getY())}transitionsBetween(e,i){let r=Math.trunc(e.getX()),l=Math.trunc(e.getY()),u=Math.trunc(i.getX()),h=Math.trunc(i.getY()),d=Math.abs(h-l)>Math.abs(u-r);if(d){let W=r;r=l,l=W,W=u,u=h,h=W}let p=Math.abs(u-r),x=Math.abs(h-l),w=-p/2,O=l<h?1:-1,R=r<u?1:-1,F=0,X=this.image.get(d?l:r,d?r:l);for(let W=r,et=l;W!==u;W+=R){let ft=this.image.get(d?et:W,d?W:et);if(ft!==X&&(F++,X=ft),w+=x,w>0){if(et===h)break;et+=O,w-=p}}return F}}class hi{constructor(){this.decoder=new Ia}decode(e,i=null){let r,l;if(i!=null&&i.has(Ft.PURE_BARCODE)){const x=hi.extractPureBits(e.getBlackMatrix());r=this.decoder.decode(x),l=hi.NO_POINTS}else{const x=new qt(e.getBlackMatrix()).detect();r=this.decoder.decode(x.getBits()),l=x.getPoints()}const u=r.getRawBytes(),h=new Ot(r.getText(),u,8*u.length,l,It.DATA_MATRIX,gt.currentTimeMillis()),d=r.getByteSegments();d!=null&&h.putMetadata(fe.BYTE_SEGMENTS,d);const p=r.getECLevel();return p!=null&&h.putMetadata(fe.ERROR_CORRECTION_LEVEL,p),h}reset(){}static extractPureBits(e){const i=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(i==null||r==null)throw new st;const l=this.moduleSize(i,e);let u=i[1];const h=r[1];let d=i[0];const x=(r[0]-d+1)/l,w=(h-u+1)/l;if(x<=0||w<=0)throw new st;const O=l/2;u+=O,d+=O;const R=new Xt(x,w);for(let F=0;F<w;F++){const X=u+F*l;for(let W=0;W<x;W++)e.get(d+W*l,X)&&R.set(W,F)}return R}static moduleSize(e,i){const r=i.getWidth();let l=e[0];const u=e[1];for(;l<r&&i.get(l,u);)l++;if(l===r)throw new st;const h=l-e[0];if(h===0)throw new st;return h}}hi.NO_POINTS=[];class ar extends bt{constructor(e=500){super(new hi,e)}}var Ni;(function(b){b[b.L=0]="L",b[b.M=1]="M",b[b.Q=2]="Q",b[b.H=3]="H"})(Ni||(Ni={}));class re{constructor(e,i,r){this.value=e,this.stringValue=i,this.bits=r,re.FOR_BITS.set(r,this),re.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return re.L;case"M":return re.M;case"Q":return re.Q;case"H":return re.H;default:throw new U(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof re))return!1;const i=e;return this.value===i.value}static forBits(e){if(e<0||e>=re.FOR_BITS.size)throw new B;return re.FOR_BITS.get(e)}}re.FOR_BITS=new Map,re.FOR_VALUE=new Map,re.L=new re(Ni.L,"L",1),re.M=new re(Ni.M,"M",0),re.Q=new re(Ni.Q,"Q",3),re.H=new re(Ni.H,"H",2);class mn{constructor(e){this.errorCorrectionLevel=re.forBits(e>>3&3),this.dataMask=e&7}static numBitsDiffering(e,i){return xt.bitCount(e^i)}static decodeFormatInformation(e,i){const r=mn.doDecodeFormatInformation(e,i);return r!==null?r:mn.doDecodeFormatInformation(e^mn.FORMAT_INFO_MASK_QR,i^mn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,i){let r=Number.MAX_SAFE_INTEGER,l=0;for(const u of mn.FORMAT_INFO_DECODE_LOOKUP){const h=u[0];if(h===e||h===i)return new mn(u[1]);let d=mn.numBitsDiffering(e,h);d<r&&(l=u[1],r=d),e!==i&&(d=mn.numBitsDiffering(i,h),d<r&&(l=u[1],r=d))}return r<=3?new mn(l):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof mn))return!1;const i=e;return this.errorCorrectionLevel===i.errorCorrectionLevel&&this.dataMask===i.dataMask}}mn.FORMAT_INFO_MASK_QR=21522,mn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class nt{constructor(e,...i){this.ecCodewordsPerBlock=e,this.ecBlocks=i}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const i=this.ecBlocks;for(const r of i)e+=r.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class k{constructor(e,i){this.count=e,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Lt{constructor(e,i,...r){this.versionNumber=e,this.alignmentPatternCenters=i,this.ecBlocks=r;let l=0;const u=r[0].getECCodewordsPerBlock(),h=r[0].getECBlocks();for(const d of h)l+=d.getCount()*(d.getDataCodewords()+u);this.totalCodewords=l}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!==1)throw new P;try{return this.getVersionForNumber((e-17)/4)}catch{throw new P}}static getVersionForNumber(e){if(e<1||e>40)throw new B;return Lt.VERSIONS[e-1]}static decodeVersionInformation(e){let i=Number.MAX_SAFE_INTEGER,r=0;for(let l=0;l<Lt.VERSION_DECODE_INFO.length;l++){const u=Lt.VERSION_DECODE_INFO[l];if(u===e)return Lt.getVersionForNumber(l+7);const h=mn.numBitsDiffering(e,u);h<i&&(r=l+7,i=h)}return i<=3?Lt.getVersionForNumber(r):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),i=new Xt(e);i.setRegion(0,0,9,9),i.setRegion(e-8,0,8,9),i.setRegion(0,e-8,9,8);const r=this.alignmentPatternCenters.length;for(let l=0;l<r;l++){const u=this.alignmentPatternCenters[l]-2;for(let h=0;h<r;h++)l===0&&(h===0||h===r-1)||l===r-1&&h===0||i.setRegion(this.alignmentPatternCenters[h]-2,u,5,5)}return i.setRegion(6,9,1,e-17),i.setRegion(9,6,e-17,1),this.versionNumber>6&&(i.setRegion(e-11,0,3,6),i.setRegion(0,e-11,6,3)),i}toString(){return""+this.versionNumber}}Lt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Lt.VERSIONS=[new Lt(1,new Int32Array(0),new nt(7,new k(1,19)),new nt(10,new k(1,16)),new nt(13,new k(1,13)),new nt(17,new k(1,9))),new Lt(2,Int32Array.from([6,18]),new nt(10,new k(1,34)),new nt(16,new k(1,28)),new nt(22,new k(1,22)),new nt(28,new k(1,16))),new Lt(3,Int32Array.from([6,22]),new nt(15,new k(1,55)),new nt(26,new k(1,44)),new nt(18,new k(2,17)),new nt(22,new k(2,13))),new Lt(4,Int32Array.from([6,26]),new nt(20,new k(1,80)),new nt(18,new k(2,32)),new nt(26,new k(2,24)),new nt(16,new k(4,9))),new Lt(5,Int32Array.from([6,30]),new nt(26,new k(1,108)),new nt(24,new k(2,43)),new nt(18,new k(2,15),new k(2,16)),new nt(22,new k(2,11),new k(2,12))),new Lt(6,Int32Array.from([6,34]),new nt(18,new k(2,68)),new nt(16,new k(4,27)),new nt(24,new k(4,19)),new nt(28,new k(4,15))),new Lt(7,Int32Array.from([6,22,38]),new nt(20,new k(2,78)),new nt(18,new k(4,31)),new nt(18,new k(2,14),new k(4,15)),new nt(26,new k(4,13),new k(1,14))),new Lt(8,Int32Array.from([6,24,42]),new nt(24,new k(2,97)),new nt(22,new k(2,38),new k(2,39)),new nt(22,new k(4,18),new k(2,19)),new nt(26,new k(4,14),new k(2,15))),new Lt(9,Int32Array.from([6,26,46]),new nt(30,new k(2,116)),new nt(22,new k(3,36),new k(2,37)),new nt(20,new k(4,16),new k(4,17)),new nt(24,new k(4,12),new k(4,13))),new Lt(10,Int32Array.from([6,28,50]),new nt(18,new k(2,68),new k(2,69)),new nt(26,new k(4,43),new k(1,44)),new nt(24,new k(6,19),new k(2,20)),new nt(28,new k(6,15),new k(2,16))),new Lt(11,Int32Array.from([6,30,54]),new nt(20,new k(4,81)),new nt(30,new k(1,50),new k(4,51)),new nt(28,new k(4,22),new k(4,23)),new nt(24,new k(3,12),new k(8,13))),new Lt(12,Int32Array.from([6,32,58]),new nt(24,new k(2,92),new k(2,93)),new nt(22,new k(6,36),new k(2,37)),new nt(26,new k(4,20),new k(6,21)),new nt(28,new k(7,14),new k(4,15))),new Lt(13,Int32Array.from([6,34,62]),new nt(26,new k(4,107)),new nt(22,new k(8,37),new k(1,38)),new nt(24,new k(8,20),new k(4,21)),new nt(22,new k(12,11),new k(4,12))),new Lt(14,Int32Array.from([6,26,46,66]),new nt(30,new k(3,115),new k(1,116)),new nt(24,new k(4,40),new k(5,41)),new nt(20,new k(11,16),new k(5,17)),new nt(24,new k(11,12),new k(5,13))),new Lt(15,Int32Array.from([6,26,48,70]),new nt(22,new k(5,87),new k(1,88)),new nt(24,new k(5,41),new k(5,42)),new nt(30,new k(5,24),new k(7,25)),new nt(24,new k(11,12),new k(7,13))),new Lt(16,Int32Array.from([6,26,50,74]),new nt(24,new k(5,98),new k(1,99)),new nt(28,new k(7,45),new k(3,46)),new nt(24,new k(15,19),new k(2,20)),new nt(30,new k(3,15),new k(13,16))),new Lt(17,Int32Array.from([6,30,54,78]),new nt(28,new k(1,107),new k(5,108)),new nt(28,new k(10,46),new k(1,47)),new nt(28,new k(1,22),new k(15,23)),new nt(28,new k(2,14),new k(17,15))),new Lt(18,Int32Array.from([6,30,56,82]),new nt(30,new k(5,120),new k(1,121)),new nt(26,new k(9,43),new k(4,44)),new nt(28,new k(17,22),new k(1,23)),new nt(28,new k(2,14),new k(19,15))),new Lt(19,Int32Array.from([6,30,58,86]),new nt(28,new k(3,113),new k(4,114)),new nt(26,new k(3,44),new k(11,45)),new nt(26,new k(17,21),new k(4,22)),new nt(26,new k(9,13),new k(16,14))),new Lt(20,Int32Array.from([6,34,62,90]),new nt(28,new k(3,107),new k(5,108)),new nt(26,new k(3,41),new k(13,42)),new nt(30,new k(15,24),new k(5,25)),new nt(28,new k(15,15),new k(10,16))),new Lt(21,Int32Array.from([6,28,50,72,94]),new nt(28,new k(4,116),new k(4,117)),new nt(26,new k(17,42)),new nt(28,new k(17,22),new k(6,23)),new nt(30,new k(19,16),new k(6,17))),new Lt(22,Int32Array.from([6,26,50,74,98]),new nt(28,new k(2,111),new k(7,112)),new nt(28,new k(17,46)),new nt(30,new k(7,24),new k(16,25)),new nt(24,new k(34,13))),new Lt(23,Int32Array.from([6,30,54,78,102]),new nt(30,new k(4,121),new k(5,122)),new nt(28,new k(4,47),new k(14,48)),new nt(30,new k(11,24),new k(14,25)),new nt(30,new k(16,15),new k(14,16))),new Lt(24,Int32Array.from([6,28,54,80,106]),new nt(30,new k(6,117),new k(4,118)),new nt(28,new k(6,45),new k(14,46)),new nt(30,new k(11,24),new k(16,25)),new nt(30,new k(30,16),new k(2,17))),new Lt(25,Int32Array.from([6,32,58,84,110]),new nt(26,new k(8,106),new k(4,107)),new nt(28,new k(8,47),new k(13,48)),new nt(30,new k(7,24),new k(22,25)),new nt(30,new k(22,15),new k(13,16))),new Lt(26,Int32Array.from([6,30,58,86,114]),new nt(28,new k(10,114),new k(2,115)),new nt(28,new k(19,46),new k(4,47)),new nt(28,new k(28,22),new k(6,23)),new nt(30,new k(33,16),new k(4,17))),new Lt(27,Int32Array.from([6,34,62,90,118]),new nt(30,new k(8,122),new k(4,123)),new nt(28,new k(22,45),new k(3,46)),new nt(30,new k(8,23),new k(26,24)),new nt(30,new k(12,15),new k(28,16))),new Lt(28,Int32Array.from([6,26,50,74,98,122]),new nt(30,new k(3,117),new k(10,118)),new nt(28,new k(3,45),new k(23,46)),new nt(30,new k(4,24),new k(31,25)),new nt(30,new k(11,15),new k(31,16))),new Lt(29,Int32Array.from([6,30,54,78,102,126]),new nt(30,new k(7,116),new k(7,117)),new nt(28,new k(21,45),new k(7,46)),new nt(30,new k(1,23),new k(37,24)),new nt(30,new k(19,15),new k(26,16))),new Lt(30,Int32Array.from([6,26,52,78,104,130]),new nt(30,new k(5,115),new k(10,116)),new nt(28,new k(19,47),new k(10,48)),new nt(30,new k(15,24),new k(25,25)),new nt(30,new k(23,15),new k(25,16))),new Lt(31,Int32Array.from([6,30,56,82,108,134]),new nt(30,new k(13,115),new k(3,116)),new nt(28,new k(2,46),new k(29,47)),new nt(30,new k(42,24),new k(1,25)),new nt(30,new k(23,15),new k(28,16))),new Lt(32,Int32Array.from([6,34,60,86,112,138]),new nt(30,new k(17,115)),new nt(28,new k(10,46),new k(23,47)),new nt(30,new k(10,24),new k(35,25)),new nt(30,new k(19,15),new k(35,16))),new Lt(33,Int32Array.from([6,30,58,86,114,142]),new nt(30,new k(17,115),new k(1,116)),new nt(28,new k(14,46),new k(21,47)),new nt(30,new k(29,24),new k(19,25)),new nt(30,new k(11,15),new k(46,16))),new Lt(34,Int32Array.from([6,34,62,90,118,146]),new nt(30,new k(13,115),new k(6,116)),new nt(28,new k(14,46),new k(23,47)),new nt(30,new k(44,24),new k(7,25)),new nt(30,new k(59,16),new k(1,17))),new Lt(35,Int32Array.from([6,30,54,78,102,126,150]),new nt(30,new k(12,121),new k(7,122)),new nt(28,new k(12,47),new k(26,48)),new nt(30,new k(39,24),new k(14,25)),new nt(30,new k(22,15),new k(41,16))),new Lt(36,Int32Array.from([6,24,50,76,102,128,154]),new nt(30,new k(6,121),new k(14,122)),new nt(28,new k(6,47),new k(34,48)),new nt(30,new k(46,24),new k(10,25)),new nt(30,new k(2,15),new k(64,16))),new Lt(37,Int32Array.from([6,28,54,80,106,132,158]),new nt(30,new k(17,122),new k(4,123)),new nt(28,new k(29,46),new k(14,47)),new nt(30,new k(49,24),new k(10,25)),new nt(30,new k(24,15),new k(46,16))),new Lt(38,Int32Array.from([6,32,58,84,110,136,162]),new nt(30,new k(4,122),new k(18,123)),new nt(28,new k(13,46),new k(32,47)),new nt(30,new k(48,24),new k(14,25)),new nt(30,new k(42,15),new k(32,16))),new Lt(39,Int32Array.from([6,26,54,82,110,138,166]),new nt(30,new k(20,117),new k(4,118)),new nt(28,new k(40,47),new k(7,48)),new nt(30,new k(43,24),new k(22,25)),new nt(30,new k(10,15),new k(67,16))),new Lt(40,Int32Array.from([6,30,58,86,114,142,170]),new nt(30,new k(19,118),new k(6,119)),new nt(28,new k(18,47),new k(31,48)),new nt(30,new k(34,24),new k(34,25)),new nt(30,new k(20,15),new k(61,16)))];var pn;(function(b){b[b.DATA_MASK_000=0]="DATA_MASK_000",b[b.DATA_MASK_001=1]="DATA_MASK_001",b[b.DATA_MASK_010=2]="DATA_MASK_010",b[b.DATA_MASK_011=3]="DATA_MASK_011",b[b.DATA_MASK_100=4]="DATA_MASK_100",b[b.DATA_MASK_101=5]="DATA_MASK_101",b[b.DATA_MASK_110=6]="DATA_MASK_110",b[b.DATA_MASK_111=7]="DATA_MASK_111"})(pn||(pn={}));class bn{constructor(e,i){this.value=e,this.isMasked=i}unmaskBitMatrix(e,i){for(let r=0;r<i;r++)for(let l=0;l<i;l++)this.isMasked(r,l)&&e.flip(l,r)}}bn.values=new Map([[pn.DATA_MASK_000,new bn(pn.DATA_MASK_000,(b,e)=>(b+e&1)===0)],[pn.DATA_MASK_001,new bn(pn.DATA_MASK_001,(b,e)=>(b&1)===0)],[pn.DATA_MASK_010,new bn(pn.DATA_MASK_010,(b,e)=>e%3===0)],[pn.DATA_MASK_011,new bn(pn.DATA_MASK_011,(b,e)=>(b+e)%3===0)],[pn.DATA_MASK_100,new bn(pn.DATA_MASK_100,(b,e)=>(Math.floor(b/2)+Math.floor(e/3)&1)===0)],[pn.DATA_MASK_101,new bn(pn.DATA_MASK_101,(b,e)=>b*e%6===0)],[pn.DATA_MASK_110,new bn(pn.DATA_MASK_110,(b,e)=>b*e%6<3)],[pn.DATA_MASK_111,new bn(pn.DATA_MASK_111,(b,e)=>(b+e+b*e%3&1)===0)]]);class di{constructor(e){const i=e.getHeight();if(i<21||(i&3)!==1)throw new P;this.bitMatrix=e}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let e=0;for(let u=0;u<6;u++)e=this.copyBit(u,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let u=5;u>=0;u--)e=this.copyBit(8,u,e);const i=this.bitMatrix.getHeight();let r=0;const l=i-7;for(let u=i-1;u>=l;u--)r=this.copyBit(8,u,r);for(let u=i-8;u<i;u++)r=this.copyBit(u,8,r);if(this.parsedFormatInfo=mn.decodeFormatInformation(e,r),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new P}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const e=this.bitMatrix.getHeight(),i=Math.floor((e-17)/4);if(i<=6)return Lt.getVersionForNumber(i);let r=0;const l=e-11;for(let h=5;h>=0;h--)for(let d=e-9;d>=l;d--)r=this.copyBit(d,h,r);let u=Lt.decodeVersionInformation(r);if(u!==null&&u.getDimensionForVersion()===e)return this.parsedVersion=u,u;r=0;for(let h=5;h>=0;h--)for(let d=e-9;d>=l;d--)r=this.copyBit(h,d,r);if(u=Lt.decodeVersionInformation(r),u!==null&&u.getDimensionForVersion()===e)return this.parsedVersion=u,u;throw new P}copyBit(e,i,r){return(this.isMirror?this.bitMatrix.get(i,e):this.bitMatrix.get(e,i))?r<<1|1:r<<1}readCodewords(){const e=this.readFormatInformation(),i=this.readVersion(),r=bn.values.get(e.getDataMask()),l=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,l);const u=i.buildFunctionPattern();let h=!0;const d=new Uint8Array(i.getTotalCodewords());let p=0,x=0,w=0;for(let O=l-1;O>0;O-=2){O===6&&O--;for(let R=0;R<l;R++){const F=h?l-1-R:R;for(let X=0;X<2;X++)u.get(O-X,F)||(w++,x<<=1,this.bitMatrix.get(O-X,F)&&(x|=1),w===8&&(d[p++]=x,w=0,x=0))}h=!h}if(p!==i.getTotalCodewords())throw new P;return d}remask(){if(this.parsedFormatInfo===null)return;const e=bn.values[this.parsedFormatInfo.getDataMask()],i=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,i)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let i=0,r=e.getWidth();i<r;i++)for(let l=i+1,u=e.getHeight();l<u;l++)e.get(i,l)!==e.get(l,i)&&(e.flip(l,i),e.flip(i,l))}}class Bs{constructor(e,i){this.numDataCodewords=e,this.codewords=i}static getDataBlocks(e,i,r){if(e.length!==i.getTotalCodewords())throw new B;const l=i.getECBlocksForLevel(r);let u=0;const h=l.getECBlocks();for(const X of h)u+=X.getCount();const d=new Array(u);let p=0;for(const X of h)for(let W=0;W<X.getCount();W++){const et=X.getDataCodewords(),ft=l.getECCodewordsPerBlock()+et;d[p++]=new Bs(et,new Uint8Array(ft))}const x=d[0].codewords.length;let w=d.length-1;for(;w>=0&&d[w].codewords.length!==x;)w--;w++;const O=x-l.getECCodewordsPerBlock();let R=0;for(let X=0;X<O;X++)for(let W=0;W<p;W++)d[W].codewords[X]=e[R++];for(let X=w;X<p;X++)d[X].codewords[O]=e[R++];const F=d[0].codewords.length;for(let X=O;X<F;X++)for(let W=0;W<p;W++){const et=W<w?X:X+1;d[W].codewords[et]=e[R++]}return d}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Yn;(function(b){b[b.TERMINATOR=0]="TERMINATOR",b[b.NUMERIC=1]="NUMERIC",b[b.ALPHANUMERIC=2]="ALPHANUMERIC",b[b.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",b[b.BYTE=4]="BYTE",b[b.ECI=5]="ECI",b[b.KANJI=6]="KANJI",b[b.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",b[b.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",b[b.HANZI=9]="HANZI"})(Yn||(Yn={}));class Ht{constructor(e,i,r,l){this.value=e,this.stringValue=i,this.characterCountBitsForVersions=r,this.bits=l,Ht.FOR_BITS.set(l,this),Ht.FOR_VALUE.set(e,this)}static forBits(e){const i=Ht.FOR_BITS.get(e);if(i===void 0)throw new B;return i}getCharacterCountBits(e){const i=e.getVersionNumber();let r;return i<=9?r=0:i<=26?r=1:r=2,this.characterCountBitsForVersions[r]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof Ht))return!1;const i=e;return this.value===i.value}toString(){return this.stringValue}}Ht.FOR_BITS=new Map,Ht.FOR_VALUE=new Map,Ht.TERMINATOR=new Ht(Yn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Ht.NUMERIC=new Ht(Yn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Ht.ALPHANUMERIC=new Ht(Yn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Ht.STRUCTURED_APPEND=new Ht(Yn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Ht.BYTE=new Ht(Yn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Ht.ECI=new Ht(Yn.ECI,"ECI",Int32Array.from([0,0,0]),7),Ht.KANJI=new Ht(Yn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Ht.FNC1_FIRST_POSITION=new Ht(Yn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Ht.FNC1_SECOND_POSITION=new Ht(Yn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Ht.HANZI=new Ht(Yn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Fe{static decode(e,i,r,l){const u=new cn(e);let h=new V;const d=new Array;let p=-1,x=-1;try{let w=null,O=!1,R;do{if(u.available()<4)R=Ht.TERMINATOR;else{const F=u.readBits(4);R=Ht.forBits(F)}switch(R){case Ht.TERMINATOR:break;case Ht.FNC1_FIRST_POSITION:case Ht.FNC1_SECOND_POSITION:O=!0;break;case Ht.STRUCTURED_APPEND:if(u.available()<16)throw new P;p=u.readBits(8),x=u.readBits(8);break;case Ht.ECI:const F=Fe.parseECIValue(u);if(w=L.getCharacterSetECIByValue(F),w===null)throw new P;break;case Ht.HANZI:const X=u.readBits(4),W=u.readBits(R.getCharacterCountBits(i));X===Fe.GB2312_SUBSET&&Fe.decodeHanziSegment(u,h,W);break;default:const et=u.readBits(R.getCharacterCountBits(i));switch(R){case Ht.NUMERIC:Fe.decodeNumericSegment(u,h,et);break;case Ht.ALPHANUMERIC:Fe.decodeAlphanumericSegment(u,h,et,O);break;case Ht.BYTE:Fe.decodeByteSegment(u,h,et,w,d,l);break;case Ht.KANJI:Fe.decodeKanjiSegment(u,h,et);break;default:throw new P}break}}while(R!==Ht.TERMINATOR)}catch{throw new P}return new ke(e,h.toString(),d.length===0?null:d,r===null?null:r.toString(),p,x)}static decodeHanziSegment(e,i,r){if(r*13>e.available())throw new P;const l=new Uint8Array(2*r);let u=0;for(;r>0;){const h=e.readBits(13);let d=h/96<<8&4294967295|h%96;d<959?d+=41377:d+=42657,l[u]=d>>8&255,l[u+1]=d&255,u+=2,r--}try{i.append(j.decode(l,q.GB2312))}catch(h){throw new P(h)}}static decodeKanjiSegment(e,i,r){if(r*13>e.available())throw new P;const l=new Uint8Array(2*r);let u=0;for(;r>0;){const h=e.readBits(13);let d=h/192<<8&4294967295|h%192;d<7936?d+=33088:d+=49472,l[u]=d>>8,l[u+1]=d,u+=2,r--}try{i.append(j.decode(l,q.SHIFT_JIS))}catch(h){throw new P(h)}}static decodeByteSegment(e,i,r,l,u,h){if(8*r>e.available())throw new P;const d=new Uint8Array(r);for(let x=0;x<r;x++)d[x]=e.readBits(8);let p;l===null?p=q.guessEncoding(d,h):p=l.getName();try{i.append(j.decode(d,p))}catch(x){throw new P(x)}u.push(d)}static toAlphaNumericChar(e){if(e>=Fe.ALPHANUMERIC_CHARS.length)throw new P;return Fe.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,i,r,l){const u=i.length();for(;r>1;){if(e.available()<11)throw new P;const h=e.readBits(11);i.append(Fe.toAlphaNumericChar(Math.floor(h/45))),i.append(Fe.toAlphaNumericChar(h%45)),r-=2}if(r===1){if(e.available()<6)throw new P;i.append(Fe.toAlphaNumericChar(e.readBits(6)))}if(l)for(let h=u;h<i.length();h++)i.charAt(h)==="%"&&(h<i.length()-1&&i.charAt(h+1)==="%"?i.deleteCharAt(h+1):i.setCharAt(h,""))}static decodeNumericSegment(e,i,r){for(;r>=3;){if(e.available()<10)throw new P;const l=e.readBits(10);if(l>=1e3)throw new P;i.append(Fe.toAlphaNumericChar(Math.floor(l/100))),i.append(Fe.toAlphaNumericChar(Math.floor(l/10)%10)),i.append(Fe.toAlphaNumericChar(l%10)),r-=3}if(r===2){if(e.available()<7)throw new P;const l=e.readBits(7);if(l>=100)throw new P;i.append(Fe.toAlphaNumericChar(Math.floor(l/10))),i.append(Fe.toAlphaNumericChar(l%10))}else if(r===1){if(e.available()<4)throw new P;const l=e.readBits(4);if(l>=10)throw new P;i.append(Fe.toAlphaNumericChar(l))}}static parseECIValue(e){const i=e.readBits(8);if((i&128)===0)return i&127;if((i&192)===128){const r=e.readBits(8);return(i&63)<<8&4294967295|r}if((i&224)===192){const r=e.readBits(16);return(i&31)<<16&4294967295|r}throw new P}}Fe.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Fe.GB2312_SUBSET=1;class ba{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||e===null||e.length<3)return;const i=e[0];e[0]=e[2],e[2]=i}}class Br{constructor(){this.rsDecoder=new Hi(he.QR_CODE_FIELD_256)}decodeBooleanArray(e,i){return this.decodeBitMatrix(Xt.parseFromBooleanArray(e),i)}decodeBitMatrix(e,i){const r=new di(e);let l=null;try{return this.decodeBitMatrixParser(r,i)}catch(u){l=u}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();const u=this.decodeBitMatrixParser(r,i);return u.setOther(new ba(!0)),u}catch(u){throw l!==null?l:u}}decodeBitMatrixParser(e,i){const r=e.readVersion(),l=e.readFormatInformation().getErrorCorrectionLevel(),u=e.readCodewords(),h=Bs.getDataBlocks(u,r,l);let d=0;for(const w of h)d+=w.getNumDataCodewords();const p=new Uint8Array(d);let x=0;for(const w of h){const O=w.getCodewords(),R=w.getNumDataCodewords();this.correctErrors(O,R);for(let F=0;F<R;F++)p[x++]=O[F]}return Fe.decode(p,r,l,i)}correctErrors(e,i){const r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-i)}catch{throw new $}for(let l=0;l<i;l++)e[l]=r[l]}}class Ur extends Dt{constructor(e,i,r){super(e,i),this.estimatedModuleSize=r}aboutEquals(e,i,r){if(Math.abs(i-this.getY())<=e&&Math.abs(r-this.getX())<=e){const l=Math.abs(e-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(e,i,r){const l=(this.getX()+i)/2,u=(this.getY()+e)/2,h=(this.estimatedModuleSize+r)/2;return new Ur(l,u,h)}}class gi{constructor(e,i,r,l,u,h,d){this.image=e,this.startX=i,this.startY=r,this.width=l,this.height=u,this.moduleSize=h,this.resultPointCallback=d,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,i=this.height,r=this.width,l=e+r,u=this.startY+i/2,h=new Int32Array(3),d=this.image;for(let p=0;p<i;p++){const x=u+((p&1)===0?Math.floor((p+1)/2):-Math.floor((p+1)/2));h[0]=0,h[1]=0,h[2]=0;let w=e;for(;w<l&&!d.get(w,x);)w++;let O=0;for(;w<l;){if(d.get(w,x))if(O===1)h[1]++;else if(O===2){if(this.foundPatternCross(h)){const R=this.handlePossibleCenter(h,x,w);if(R!==null)return R}h[0]=h[2],h[1]=1,h[2]=0,O=1}else h[++O]++;else O===1&&O++,h[O]++;w++}if(this.foundPatternCross(h)){const R=this.handlePossibleCenter(h,x,l);if(R!==null)return R}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new st}static centerFromEnd(e,i){return i-e[2]-e[1]/2}foundPatternCross(e){const i=this.moduleSize,r=i/2;for(let l=0;l<3;l++)if(Math.abs(i-e[l])>=r)return!1;return!0}crossCheckVertical(e,i,r,l){const u=this.image,h=u.getHeight(),d=this.crossCheckStateCount;d[0]=0,d[1]=0,d[2]=0;let p=e;for(;p>=0&&u.get(i,p)&&d[1]<=r;)d[1]++,p--;if(p<0||d[1]>r)return NaN;for(;p>=0&&!u.get(i,p)&&d[0]<=r;)d[0]++,p--;if(d[0]>r)return NaN;for(p=e+1;p<h&&u.get(i,p)&&d[1]<=r;)d[1]++,p++;if(p===h||d[1]>r)return NaN;for(;p<h&&!u.get(i,p)&&d[2]<=r;)d[2]++,p++;if(d[2]>r)return NaN;const x=d[0]+d[1]+d[2];return 5*Math.abs(x-l)>=2*l?NaN:this.foundPatternCross(d)?gi.centerFromEnd(d,p):NaN}handlePossibleCenter(e,i,r){const l=e[0]+e[1]+e[2],u=gi.centerFromEnd(e,r),h=this.crossCheckVertical(i,u,2*e[1],l);if(!isNaN(h)){const d=(e[0]+e[1]+e[2])/3;for(const x of this.possibleCenters)if(x.aboutEquals(d,h,u))return x.combineEstimate(h,u,d);const p=new Ur(u,h,d);this.possibleCenters.push(p),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(p)}return null}}class Jr extends Dt{constructor(e,i,r,l){super(e,i),this.estimatedModuleSize=r,this.count=l,l===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,i,r){if(Math.abs(i-this.getY())<=e&&Math.abs(r-this.getX())<=e){const l=Math.abs(e-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(e,i,r){const l=this.count+1,u=(this.count*this.getX()+i)/l,h=(this.count*this.getY()+e)/l,d=(this.count*this.estimatedModuleSize+r)/l;return new Jr(u,h,d,l)}}class vi{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Ze{constructor(e,i){this.image=e,this.resultPointCallback=i,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=i}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const i=e!=null&&e.get(Ft.TRY_HARDER)!==void 0,r=e!=null&&e.get(Ft.PURE_BARCODE)!==void 0,l=this.image,u=l.getHeight(),h=l.getWidth();let d=Math.floor(3*u/(4*Ze.MAX_MODULES));(d<Ze.MIN_SKIP||i)&&(d=Ze.MIN_SKIP);let p=!1;const x=new Int32Array(5);for(let O=d-1;O<u&&!p;O+=d){x[0]=0,x[1]=0,x[2]=0,x[3]=0,x[4]=0;let R=0;for(let F=0;F<h;F++)if(l.get(F,O))(R&1)===1&&R++,x[R]++;else if((R&1)===0)if(R===4)if(Ze.foundPatternCross(x)){if(this.handlePossibleCenter(x,O,F,r)===!0)if(d=2,this.hasSkipped===!0)p=this.haveMultiplyConfirmedCenters();else{const W=this.findRowSkip();W>x[2]&&(O+=W-x[2]-d,F=h-1)}else{x[0]=x[2],x[1]=x[3],x[2]=x[4],x[3]=1,x[4]=0,R=3;continue}R=0,x[0]=0,x[1]=0,x[2]=0,x[3]=0,x[4]=0}else x[0]=x[2],x[1]=x[3],x[2]=x[4],x[3]=1,x[4]=0,R=3;else x[++R]++;else x[R]++;Ze.foundPatternCross(x)&&this.handlePossibleCenter(x,O,h,r)===!0&&(d=x[0],this.hasSkipped&&(p=this.haveMultiplyConfirmedCenters()))}const w=this.selectBestPatterns();return Dt.orderBestPatterns(w),new vi(w)}static centerFromEnd(e,i){return i-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let i=0;for(let u=0;u<5;u++){const h=e[u];if(h===0)return!1;i+=h}if(i<7)return!1;const r=i/7,l=r/2;return Math.abs(r-e[0])<l&&Math.abs(r-e[1])<l&&Math.abs(3*r-e[2])<3*l&&Math.abs(r-e[3])<l&&Math.abs(r-e[4])<l}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,i,r,l){const u=this.getCrossCheckStateCount();let h=0;const d=this.image;for(;e>=h&&i>=h&&d.get(i-h,e-h);)u[2]++,h++;if(e<h||i<h)return!1;for(;e>=h&&i>=h&&!d.get(i-h,e-h)&&u[1]<=r;)u[1]++,h++;if(e<h||i<h||u[1]>r)return!1;for(;e>=h&&i>=h&&d.get(i-h,e-h)&&u[0]<=r;)u[0]++,h++;if(u[0]>r)return!1;const p=d.getHeight(),x=d.getWidth();for(h=1;e+h<p&&i+h<x&&d.get(i+h,e+h);)u[2]++,h++;if(e+h>=p||i+h>=x)return!1;for(;e+h<p&&i+h<x&&!d.get(i+h,e+h)&&u[3]<r;)u[3]++,h++;if(e+h>=p||i+h>=x||u[3]>=r)return!1;for(;e+h<p&&i+h<x&&d.get(i+h,e+h)&&u[4]<r;)u[4]++,h++;if(u[4]>=r)return!1;const w=u[0]+u[1]+u[2]+u[3]+u[4];return Math.abs(w-l)<2*l&&Ze.foundPatternCross(u)}crossCheckVertical(e,i,r,l){const u=this.image,h=u.getHeight(),d=this.getCrossCheckStateCount();let p=e;for(;p>=0&&u.get(i,p);)d[2]++,p--;if(p<0)return NaN;for(;p>=0&&!u.get(i,p)&&d[1]<=r;)d[1]++,p--;if(p<0||d[1]>r)return NaN;for(;p>=0&&u.get(i,p)&&d[0]<=r;)d[0]++,p--;if(d[0]>r)return NaN;for(p=e+1;p<h&&u.get(i,p);)d[2]++,p++;if(p===h)return NaN;for(;p<h&&!u.get(i,p)&&d[3]<r;)d[3]++,p++;if(p===h||d[3]>=r)return NaN;for(;p<h&&u.get(i,p)&&d[4]<r;)d[4]++,p++;if(d[4]>=r)return NaN;const x=d[0]+d[1]+d[2]+d[3]+d[4];return 5*Math.abs(x-l)>=2*l?NaN:Ze.foundPatternCross(d)?Ze.centerFromEnd(d,p):NaN}crossCheckHorizontal(e,i,r,l){const u=this.image,h=u.getWidth(),d=this.getCrossCheckStateCount();let p=e;for(;p>=0&&u.get(p,i);)d[2]++,p--;if(p<0)return NaN;for(;p>=0&&!u.get(p,i)&&d[1]<=r;)d[1]++,p--;if(p<0||d[1]>r)return NaN;for(;p>=0&&u.get(p,i)&&d[0]<=r;)d[0]++,p--;if(d[0]>r)return NaN;for(p=e+1;p<h&&u.get(p,i);)d[2]++,p++;if(p===h)return NaN;for(;p<h&&!u.get(p,i)&&d[3]<r;)d[3]++,p++;if(p===h||d[3]>=r)return NaN;for(;p<h&&u.get(p,i)&&d[4]<r;)d[4]++,p++;if(d[4]>=r)return NaN;const x=d[0]+d[1]+d[2]+d[3]+d[4];return 5*Math.abs(x-l)>=l?NaN:Ze.foundPatternCross(d)?Ze.centerFromEnd(d,p):NaN}handlePossibleCenter(e,i,r,l){const u=e[0]+e[1]+e[2]+e[3]+e[4];let h=Ze.centerFromEnd(e,r),d=this.crossCheckVertical(i,Math.floor(h),e[2],u);if(!isNaN(d)&&(h=this.crossCheckHorizontal(Math.floor(h),Math.floor(d),e[2],u),!isNaN(h)&&(!l||this.crossCheckDiagonal(Math.floor(d),Math.floor(h),e[2],u)))){const p=u/7;let x=!1;const w=this.possibleCenters;for(let O=0,R=w.length;O<R;O++){const F=w[O];if(F.aboutEquals(p,d,h)){w[O]=F.combineEstimate(d,h,p),x=!0;break}}if(!x){const O=new Jr(h,d,p);w.push(O),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(O)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let i=null;for(const r of this.possibleCenters)if(r.getCount()>=Ze.CENTER_QUORUM)if(i==null)i=r;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-r.getX())-Math.abs(i.getY()-r.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let e=0,i=0;const r=this.possibleCenters.length;for(const h of this.possibleCenters)h.getCount()>=Ze.CENTER_QUORUM&&(e++,i+=h.getEstimatedModuleSize());if(e<3)return!1;const l=i/r;let u=0;for(const h of this.possibleCenters)u+=Math.abs(h.getEstimatedModuleSize()-l);return u<=.05*i}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new st;const i=this.possibleCenters;let r;if(e>3){let l=0,u=0;for(const p of this.possibleCenters){const x=p.getEstimatedModuleSize();l+=x,u+=x*x}r=l/e;let h=Math.sqrt(u/e-r*r);i.sort((p,x)=>{const w=Math.abs(x.getEstimatedModuleSize()-r),O=Math.abs(p.getEstimatedModuleSize()-r);return w<O?-1:w>O?1:0});const d=Math.max(.2*r,h);for(let p=0;p<i.length&&i.length>3;p++){const x=i[p];Math.abs(x.getEstimatedModuleSize()-r)>d&&(i.splice(p,1),p--)}}if(i.length>3){let l=0;for(const u of i)l+=u.getEstimatedModuleSize();r=l/i.length,i.sort((u,h)=>{if(h.getCount()===u.getCount()){const d=Math.abs(h.getEstimatedModuleSize()-r),p=Math.abs(u.getEstimatedModuleSize()-r);return d<p?1:d>p?-1:0}else return h.getCount()-u.getCount()}),i.splice(3)}return[i[0],i[1],i[2]]}}Ze.CENTER_QUORUM=2,Ze.MIN_SKIP=3,Ze.MAX_MODULES=57;class Ei{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=e==null?null:e.get(Ft.NEED_RESULT_POINT_CALLBACK);const r=new Ze(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(r)}processFinderPatternInfo(e){const i=e.getTopLeft(),r=e.getTopRight(),l=e.getBottomLeft(),u=this.calculateModuleSize(i,r,l);if(u<1)throw new st("No pattern found in proccess finder.");const h=Ei.computeDimension(i,r,l,u),d=Lt.getProvisionalVersionForDimension(h),p=d.getDimensionForVersion()-7;let x=null;if(d.getAlignmentPatternCenters().length>0){const F=r.getX()-i.getX()+l.getX(),X=r.getY()-i.getY()+l.getY(),W=1-3/p,et=Math.floor(i.getX()+W*(F-i.getX())),ft=Math.floor(i.getY()+W*(X-i.getY()));for(let Ct=4;Ct<=16;Ct<<=1)try{x=this.findAlignmentInRegion(u,et,ft,Ct);break}catch(St){if(!(St instanceof st))throw St}}const w=Ei.createTransform(i,r,l,x,h),O=Ei.sampleGrid(this.image,w,h);let R;return x===null?R=[l,i,r]:R=[l,i,r,x],new vs(O,R)}static createTransform(e,i,r,l,u){const h=u-3.5;let d,p,x,w;return l!==null?(d=l.getX(),p=l.getY(),x=h-3,w=x):(d=i.getX()-e.getX()+r.getX(),p=i.getY()-e.getY()+r.getY(),x=h,w=h),Wn.quadrilateralToQuadrilateral(3.5,3.5,h,3.5,x,w,3.5,h,e.getX(),e.getY(),i.getX(),i.getY(),d,p,r.getX(),r.getY())}static sampleGrid(e,i,r){return Kn.getInstance().sampleGridWithTransform(e,r,r,i)}static computeDimension(e,i,r,l){const u=Gt.round(Dt.distance(e,i)/l),h=Gt.round(Dt.distance(e,r)/l);let d=Math.floor((u+h)/2)+7;switch(d&3){case 0:d++;break;case 2:d--;break;case 3:throw new st("Dimensions could be not found.")}return d}calculateModuleSize(e,i,r){return(this.calculateModuleSizeOneWay(e,i)+this.calculateModuleSizeOneWay(e,r))/2}calculateModuleSizeOneWay(e,i){const r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(i.getX()),Math.floor(i.getY())),l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(r)?l/7:isNaN(l)?r/7:(r+l)/14}sizeOfBlackWhiteBlackRunBothWays(e,i,r,l){let u=this.sizeOfBlackWhiteBlackRun(e,i,r,l),h=1,d=e-(r-e);d<0?(h=e/(e-d),d=0):d>=this.image.getWidth()&&(h=(this.image.getWidth()-1-e)/(d-e),d=this.image.getWidth()-1);let p=Math.floor(i-(l-i)*h);return h=1,p<0?(h=i/(i-p),p=0):p>=this.image.getHeight()&&(h=(this.image.getHeight()-1-i)/(p-i),p=this.image.getHeight()-1),d=Math.floor(e+(d-e)*h),u+=this.sizeOfBlackWhiteBlackRun(e,i,d,p),u-1}sizeOfBlackWhiteBlackRun(e,i,r,l){const u=Math.abs(l-i)>Math.abs(r-e);if(u){let F=e;e=i,i=F,F=r,r=l,l=F}const h=Math.abs(r-e),d=Math.abs(l-i);let p=-h/2;const x=e<r?1:-1,w=i<l?1:-1;let O=0;const R=r+x;for(let F=e,X=i;F!==R;F+=x){const W=u?X:F,et=u?F:X;if(O===1===this.image.get(W,et)){if(O===2)return Gt.distance(F,X,e,i);O++}if(p+=d,p>0){if(X===l)break;X+=w,p-=h}}return O===2?Gt.distance(r+x,l,e,i):NaN}findAlignmentInRegion(e,i,r,l){const u=Math.floor(l*e),h=Math.max(0,i-u),d=Math.min(this.image.getWidth()-1,i+u);if(d-h<e*3)throw new st("Alignment top exceeds estimated module size.");const p=Math.max(0,r-u),x=Math.min(this.image.getHeight()-1,r+u);if(x-p<e*3)throw new st("Alignment bottom exceeds estimated module size.");return new gi(this.image,h,p,d-h,x-p,e,this.resultPointCallback).find()}}class mi{constructor(){this.decoder=new Br}getDecoder(){return this.decoder}decode(e,i){let r,l;if(i!=null&&i.get(Ft.PURE_BARCODE)!==void 0){const p=mi.extractPureBits(e.getBlackMatrix());r=this.decoder.decodeBitMatrix(p,i),l=mi.NO_POINTS}else{const p=new Ei(e.getBlackMatrix()).detect(i);r=this.decoder.decodeBitMatrix(p.getBits(),i),l=p.getPoints()}r.getOther()instanceof ba&&r.getOther().applyMirroredCorrection(l);const u=new Ot(r.getText(),r.getRawBytes(),void 0,l,It.QR_CODE,void 0),h=r.getByteSegments();h!==null&&u.putMetadata(fe.BYTE_SEGMENTS,h);const d=r.getECLevel();return d!==null&&u.putMetadata(fe.ERROR_CORRECTION_LEVEL,d),r.hasStructuredAppend()&&(u.putMetadata(fe.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),u.putMetadata(fe.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),u}reset(){}static extractPureBits(e){const i=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(i===null||r===null)throw new st;const l=this.moduleSize(i,e);let u=i[1],h=r[1],d=i[0],p=r[0];if(d>=p||u>=h)throw new st;if(h-u!==p-d&&(p=d+(h-u),p>=e.getWidth()))throw new st;const x=Math.round((p-d+1)/l),w=Math.round((h-u+1)/l);if(x<=0||w<=0)throw new st;if(w!==x)throw new st;const O=Math.floor(l/2);u+=O,d+=O;const R=d+Math.floor((x-1)*l)-p;if(R>0){if(R>O)throw new st;d-=R}const F=u+Math.floor((w-1)*l)-h;if(F>0){if(F>O)throw new st;u-=F}const X=new Xt(x,w);for(let W=0;W<w;W++){const et=u+Math.floor(W*l);for(let ft=0;ft<x;ft++)e.get(d+Math.floor(ft*l),et)&&X.set(ft,W)}return X}static moduleSize(e,i){const r=i.getHeight(),l=i.getWidth();let u=e[0],h=e[1],d=!0,p=0;for(;u<l&&h<r;){if(d!==i.get(u,h)){if(++p===5)break;d=!d}u++,h++}if(u===l||h===r)throw new st;return(u-e[0])/7}}mi.NO_POINTS=new Array;class Vt{PDF417Common(){}static getBitCountSum(e){return Gt.sum(e)}static toIntArray(e){if(e==null||!e.length)return Vt.EMPTY_INT_ARRAY;const i=new Int32Array(e.length);let r=0;for(const l of e)i[r++]=l;return i}static getCodeword(e){const i=Mt.binarySearch(Vt.SYMBOL_TABLE,e&262143);return i<0?-1:(Vt.CODEWORD_TABLE[i]-1)%Vt.NUMBER_OF_CODEWORDS}}Vt.NUMBER_OF_CODEWORDS=929,Vt.MAX_CODEWORDS_IN_BARCODE=Vt.NUMBER_OF_CODEWORDS-1,Vt.MIN_ROWS_IN_BARCODE=3,Vt.MAX_ROWS_IN_BARCODE=90,Vt.MODULES_IN_CODEWORD=17,Vt.MODULES_IN_STOP_PATTERN=18,Vt.BARS_IN_MODULE=8,Vt.EMPTY_INT_ARRAY=new Int32Array([]),Vt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Vt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Pr{constructor(e,i){this.bits=e,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class jt{static detectMultiple(e,i,r){let l=e.getBlackMatrix(),u=jt.detect(r,l);return u.length||(l=l.clone(),l.rotate180(),u=jt.detect(r,l)),new Pr(l,u)}static detect(e,i){const r=new Array;let l=0,u=0,h=!1;for(;l<i.getHeight();){const d=jt.findVertices(i,l,u);if(d[0]==null&&d[3]==null){if(!h)break;h=!1,u=0;for(const p of r)p[1]!=null&&(l=Math.trunc(Math.max(l,p[1].getY()))),p[3]!=null&&(l=Math.max(l,Math.trunc(p[3].getY())));l+=jt.ROW_STEP;continue}if(h=!0,r.push(d),!e)break;d[2]!=null?(u=Math.trunc(d[2].getX()),l=Math.trunc(d[2].getY())):(u=Math.trunc(d[4].getX()),l=Math.trunc(d[4].getY()))}return r}static findVertices(e,i,r){const l=e.getHeight(),u=e.getWidth(),h=new Array(8);return jt.copyToResult(h,jt.findRowsWithPattern(e,l,u,i,r,jt.START_PATTERN),jt.INDEXES_START_PATTERN),h[4]!=null&&(r=Math.trunc(h[4].getX()),i=Math.trunc(h[4].getY())),jt.copyToResult(h,jt.findRowsWithPattern(e,l,u,i,r,jt.STOP_PATTERN),jt.INDEXES_STOP_PATTERN),h}static copyToResult(e,i,r){for(let l=0;l<r.length;l++)e[r[l]]=i[l]}static findRowsWithPattern(e,i,r,l,u,h){const d=new Array(4);let p=!1;const x=new Int32Array(h.length);for(;l<i;l+=jt.ROW_STEP){let O=jt.findGuardPattern(e,u,l,r,!1,h,x);if(O!=null){for(;l>0;){const R=jt.findGuardPattern(e,u,--l,r,!1,h,x);if(R!=null)O=R;else{l++;break}}d[0]=new Dt(O[0],l),d[1]=new Dt(O[1],l),p=!0;break}}let w=l+1;if(p){let O=0,R=Int32Array.from([Math.trunc(d[0].getX()),Math.trunc(d[1].getX())]);for(;w<i;w++){const F=jt.findGuardPattern(e,R[0],w,r,!1,h,x);if(F!=null&&Math.abs(R[0]-F[0])<jt.MAX_PATTERN_DRIFT&&Math.abs(R[1]-F[1])<jt.MAX_PATTERN_DRIFT)R=F,O=0;else{if(O>jt.SKIPPED_ROW_COUNT_MAX)break;O++}}w-=O+1,d[2]=new Dt(R[0],w),d[3]=new Dt(R[1],w)}return w-l<jt.BARCODE_MIN_HEIGHT&&Mt.fill(d,null),d}static findGuardPattern(e,i,r,l,u,h,d){Mt.fillWithin(d,0,d.length,0);let p=i,x=0;for(;e.get(p,r)&&p>0&&x++<jt.MAX_PIXEL_DRIFT;)p--;let w=p,O=0,R=h.length;for(let F=u;w<l;w++)if(e.get(w,r)!==F)d[O]++;else{if(O===R-1){if(jt.patternMatchVariance(d,h,jt.MAX_INDIVIDUAL_VARIANCE)<jt.MAX_AVG_VARIANCE)return new Int32Array([p,w]);p+=d[0]+d[1],gt.arraycopy(d,2,d,0,O-1),d[O-1]=0,d[O]=0,O--}else O++;d[O]=1,F=!F}return O===R-1&&jt.patternMatchVariance(d,h,jt.MAX_INDIVIDUAL_VARIANCE)<jt.MAX_AVG_VARIANCE?new Int32Array([p,w-1]):null}static patternMatchVariance(e,i,r){let l=e.length,u=0,h=0;for(let x=0;x<l;x++)u+=e[x],h+=i[x];if(u<h)return 1/0;let d=u/h;r*=d;let p=0;for(let x=0;x<l;x++){let w=e[x],O=i[x]*d,R=w>O?w-O:O-w;if(R>r)return 1/0;p+=R}return p/u}}jt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),jt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),jt.MAX_AVG_VARIANCE=.42,jt.MAX_INDIVIDUAL_VARIANCE=.8,jt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),jt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),jt.MAX_PIXEL_DRIFT=3,jt.MAX_PATTERN_DRIFT=5,jt.SKIPPED_ROW_COUNT_MAX=25,jt.ROW_STEP=5,jt.BARCODE_MIN_HEIGHT=10;class He{constructor(e,i){if(i.length===0)throw new B;this.field=e;let r=i.length;if(r>1&&i[0]===0){let l=1;for(;l<r&&i[l]===0;)l++;l===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-l),gt.arraycopy(i,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);if(e===1){let l=0;for(let u of this.coefficients)l=this.field.add(l,u);return l}let i=this.coefficients[0],r=this.coefficients.length;for(let l=1;l<r;l++)i=this.field.add(this.field.multiply(e,i),this.coefficients[l]);return i}add(e){if(!this.field.equals(e.field))throw new B("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let i=this.coefficients,r=e.coefficients;if(i.length>r.length){let h=i;i=r,r=h}let l=new Int32Array(r.length),u=r.length-i.length;gt.arraycopy(r,0,l,0,u);for(let h=u;h<r.length;h++)l[h]=this.field.add(i[h-u],r[h]);return new He(this.field,l)}subtract(e){if(!this.field.equals(e.field))throw new B("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof He?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new B("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new He(this.field,new Int32Array([0]));let i=this.coefficients,r=i.length,l=e.coefficients,u=l.length,h=new Int32Array(r+u-1);for(let d=0;d<r;d++){let p=i[d];for(let x=0;x<u;x++)h[d+x]=this.field.add(h[d+x],this.field.multiply(p,l[x]))}return new He(this.field,h)}negative(){let e=this.coefficients.length,i=new Int32Array(e);for(let r=0;r<e;r++)i[r]=this.field.subtract(0,this.coefficients[r]);return new He(this.field,i)}multiplyScalar(e){if(e===0)return new He(this.field,new Int32Array([0]));if(e===1)return this;let i=this.coefficients.length,r=new Int32Array(i);for(let l=0;l<i;l++)r[l]=this.field.multiply(this.coefficients[l],e);return new He(this.field,r)}multiplyByMonomial(e,i){if(e<0)throw new B;if(i===0)return new He(this.field,new Int32Array([0]));let r=this.coefficients.length,l=new Int32Array(r+e);for(let u=0;u<r;u++)l[u]=this.field.multiply(this.coefficients[u],i);return new He(this.field,l)}toString(){let e=new V;for(let i=this.getDegree();i>=0;i--){let r=this.getCoefficient(i);r!==0&&(r<0?(e.append(" - "),r=-r):e.length()>0&&e.append(" + "),(i===0||r!==1)&&e.append(r),i!==0&&(i===1?e.append("x"):(e.append("x^"),e.append(i))))}return e.toString()}}class $r{add(e,i){return(e+i)%this.modulus}subtract(e,i){return(this.modulus+e-i)%this.modulus}exp(e){return this.expTable[e]}log(e){if(e===0)throw new B;return this.logTable[e]}inverse(e){if(e===0)throw new _r;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,i){return e===0||i===0?0:this.expTable[(this.logTable[e]+this.logTable[i])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class Ue extends $r{constructor(e,i){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let r=1;for(let l=0;l<e;l++)this.expTable[l]=r,r=r*i%e;for(let l=0;l<e-1;l++)this.logTable[this.expTable[l]]=l;this.zero=new He(this,new Int32Array([0])),this.one=new He(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,i){if(e<0)throw new B;if(i===0)return this.zero;let r=new Int32Array(e+1);return r[0]=i,new He(this,r)}}Ue.PDF417_GF=new Ue(Vt.NUMBER_OF_CODEWORDS,3);class Yi{constructor(){this.field=Ue.PDF417_GF}decode(e,i,r){let l=new He(this.field,e),u=new Int32Array(i),h=!1;for(let X=i;X>0;X--){let W=l.evaluateAt(this.field.exp(X));u[i-X]=W,W!==0&&(h=!0)}if(!h)return 0;let d=this.field.getOne();if(r!=null)for(const X of r){let W=this.field.exp(e.length-1-X),et=new He(this.field,new Int32Array([this.field.subtract(0,W),1]));d=d.multiply(et)}let p=new He(this.field,u),x=this.runEuclideanAlgorithm(this.field.buildMonomial(i,1),p,i),w=x[0],O=x[1],R=this.findErrorLocations(w),F=this.findErrorMagnitudes(O,w,R);for(let X=0;X<R.length;X++){let W=e.length-1-this.field.log(R[X]);if(W<0)throw $.getChecksumInstance();e[W]=this.field.subtract(e[W],F[X])}return R.length}runEuclideanAlgorithm(e,i,r){if(e.getDegree()<i.getDegree()){let R=e;e=i,i=R}let l=e,u=i,h=this.field.getZero(),d=this.field.getOne();for(;u.getDegree()>=Math.round(r/2);){let R=l,F=h;if(l=u,h=d,l.isZero())throw $.getChecksumInstance();u=R;let X=this.field.getZero(),W=l.getCoefficient(l.getDegree()),et=this.field.inverse(W);for(;u.getDegree()>=l.getDegree()&&!u.isZero();){let ft=u.getDegree()-l.getDegree(),Ct=this.field.multiply(u.getCoefficient(u.getDegree()),et);X=X.add(this.field.buildMonomial(ft,Ct)),u=u.subtract(l.multiplyByMonomial(ft,Ct))}d=X.multiply(h).subtract(F).negative()}let p=d.getCoefficient(0);if(p===0)throw $.getChecksumInstance();let x=this.field.inverse(p),w=d.multiply(x),O=u.multiply(x);return[w,O]}findErrorLocations(e){let i=e.getDegree(),r=new Int32Array(i),l=0;for(let u=1;u<this.field.getSize()&&l<i;u++)e.evaluateAt(u)===0&&(r[l]=this.field.inverse(u),l++);if(l!==i)throw $.getChecksumInstance();return r}findErrorMagnitudes(e,i,r){let l=i.getDegree(),u=new Int32Array(l);for(let x=1;x<=l;x++)u[l-x]=this.field.multiply(x,i.getCoefficient(x));let h=new He(this.field,u),d=r.length,p=new Int32Array(d);for(let x=0;x<d;x++){let w=this.field.inverse(r[x]),O=this.field.subtract(0,e.evaluateAt(w)),R=this.field.inverse(h.evaluateAt(w));p[x]=this.field.multiply(O,R)}return p}}class ji{constructor(e,i,r,l,u){e instanceof ji?this.constructor_2(e):this.constructor_1(e,i,r,l,u)}constructor_1(e,i,r,l,u){const h=i==null||r==null,d=l==null||u==null;if(h&&d)throw new st;h?(i=new Dt(0,l.getY()),r=new Dt(0,u.getY())):d&&(l=new Dt(e.getWidth()-1,i.getY()),u=new Dt(e.getWidth()-1,r.getY())),this.image=e,this.topLeft=i,this.bottomLeft=r,this.topRight=l,this.bottomRight=u,this.minX=Math.trunc(Math.min(i.getX(),r.getX())),this.maxX=Math.trunc(Math.max(l.getX(),u.getX())),this.minY=Math.trunc(Math.min(i.getY(),l.getY())),this.maxY=Math.trunc(Math.max(r.getY(),u.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,i){return e==null?i:i==null?e:new ji(e.image,e.topLeft,e.bottomLeft,i.topRight,i.bottomRight)}addMissingRows(e,i,r){let l=this.topLeft,u=this.bottomLeft,h=this.topRight,d=this.bottomRight;if(e>0){let p=r?this.topLeft:this.topRight,x=Math.trunc(p.getY()-e);x<0&&(x=0);let w=new Dt(p.getX(),x);r?l=w:h=w}if(i>0){let p=r?this.bottomLeft:this.bottomRight,x=Math.trunc(p.getY()+i);x>=this.image.getHeight()&&(x=this.image.getHeight()-1);let w=new Dt(p.getX(),x);r?u=w:d=w}return new ji(this.image,l,u,h,d)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class ts{constructor(e,i,r,l){this.columnCount=e,this.errorCorrectionLevel=l,this.rowCountUpperPart=i,this.rowCountLowerPart=r,this.rowCount=i+r}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Tr{constructor(){this.buffer=""}static form(e,i){let r=-1;function l(h,d,p,x,w,O){if(h==="%%")return"%";if(i[++r]===void 0)return;h=x?parseInt(x.substr(1)):void 0;let R=w?parseInt(w.substr(1)):void 0,F;switch(O){case"s":F=i[r];break;case"c":F=i[r][0];break;case"f":F=parseFloat(i[r]).toFixed(h);break;case"p":F=parseFloat(i[r]).toPrecision(h);break;case"e":F=parseFloat(i[r]).toExponential(h);break;case"x":F=parseInt(i[r]).toString(R||16);break;case"d":F=parseFloat(parseInt(i[r],R||10).toPrecision(h)).toFixed(0);break}F=typeof F=="object"?JSON.stringify(F):(+F).toString(R);let X=parseInt(p),W=p&&p[0]+""=="0"?"0":" ";for(;F.length<X;)F=d!==void 0?F+W:W+F;return F}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(u,l)}format(e,...i){this.buffer+=Tr.form(e,i)}toString(){return this.buffer}}class Xi{constructor(e){this.boundingBox=new ji(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let i=this.getCodeword(e);if(i!=null)return i;for(let r=1;r<Xi.MAX_NEARBY_DISTANCE;r++){let l=this.imageRowToCodewordIndex(e)-r;if(l>=0&&(i=this.codewords[l],i!=null)||(l=this.imageRowToCodewordIndex(e)+r,l<this.codewords.length&&(i=this.codewords[l],i!=null)))return i}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,i){this.codewords[this.imageRowToCodewordIndex(e)]=i}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new Tr;let i=0;for(const r of this.codewords){if(r==null){e.format("%3d:    |   %n",i++);continue}e.format("%3d: %3d|%3d%n",i++,r.getRowNumber(),r.getValue())}return e.toString()}}Xi.MAX_NEARBY_DISTANCE=5;class xi{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let i=this.values.get(e);i==null&&(i=0),i++,this.values.set(e,i)}getValue(){let e=-1,i=new Array;for(const[r,l]of this.values.entries()){const u={getKey:()=>r,getValue:()=>l};u.getValue()>e?(e=u.getValue(),i=[],i.push(u.getKey())):u.getValue()===e&&i.push(u.getKey())}return Vt.toIntArray(i)}getConfidence(e){return this.values.get(e)}}class Ri extends Xi{constructor(e,i){super(e),this._isLeft=i}setRowNumbers(){for(let e of this.getCodewords())e!=null&&e.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let i=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(i,e);let r=this.getBoundingBox(),l=this._isLeft?r.getTopLeft():r.getTopRight(),u=this._isLeft?r.getBottomLeft():r.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(l.getY())),d=this.imageRowToCodewordIndex(Math.trunc(u.getY())),p=-1,x=1,w=0;for(let O=h;O<d;O++){if(i[O]==null)continue;let R=i[O],F=R.getRowNumber()-p;if(F===0)w++;else if(F===1)x=Math.max(x,w),w=1,p=R.getRowNumber();else if(F<0||R.getRowNumber()>=e.getRowCount()||F>O)i[O]=null;else{let X;x>2?X=(x-2)*F:X=F;let W=X>=O;for(let et=1;et<=X&&!W;et++)W=i[O-et]!=null;W?i[O]=null:(p=R.getRowNumber(),w=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(e==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let i=new Int32Array(e.getRowCount());for(let r of this.getCodewords())if(r!=null){let l=r.getRowNumber();if(l>=i.length)continue;i[l]++}return i}adjustIncompleteIndicatorColumnRowNumbers(e){let i=this.getBoundingBox(),r=this._isLeft?i.getTopLeft():i.getTopRight(),l=this._isLeft?i.getBottomLeft():i.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(r.getY())),h=this.imageRowToCodewordIndex(Math.trunc(l.getY())),d=this.getCodewords(),p=-1;for(let x=u;x<h;x++){if(d[x]==null)continue;let w=d[x];w.setRowNumberAsRowIndicatorColumn();let O=w.getRowNumber()-p;O===0||(O===1?p=w.getRowNumber():w.getRowNumber()>=e.getRowCount()?d[x]=null:p=w.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),i=new xi,r=new xi,l=new xi,u=new xi;for(let d of e){if(d==null)continue;d.setRowNumberAsRowIndicatorColumn();let p=d.getValue()%30,x=d.getRowNumber();switch(this._isLeft||(x+=2),x%3){case 0:r.setValue(p*3+1);break;case 1:u.setValue(p/3),l.setValue(p%3);break;case 2:i.setValue(p+1);break}}if(i.getValue().length===0||r.getValue().length===0||l.getValue().length===0||u.getValue().length===0||i.getValue()[0]<1||r.getValue()[0]+l.getValue()[0]<Vt.MIN_ROWS_IN_BARCODE||r.getValue()[0]+l.getValue()[0]>Vt.MAX_ROWS_IN_BARCODE)return null;let h=new ts(i.getValue()[0],r.getValue()[0],l.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(e,h),h}removeIncorrectCodewords(e,i){for(let r=0;r<e.length;r++){let l=e[r];if(e[r]==null)continue;let u=l.getValue()%30,h=l.getRowNumber();if(h>i.getRowCount()){e[r]=null;continue}switch(this._isLeft||(h+=2),h%3){case 0:u*3+1!==i.getRowCountUpperPart()&&(e[r]=null);break;case 1:(Math.trunc(u/3)!==i.getErrorCorrectionLevel()||u%3!==i.getRowCountLowerPart())&&(e[r]=null);break;case 2:u+1!==i.getColumnCount()&&(e[r]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class An{constructor(e,i){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=i,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e=Vt.MAX_CODEWORDS_IN_BARCODE,i;do i=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<i);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(e===0)return 0;for(let i=1;i<this.barcodeColumnCount+1;i++){let r=this.detectionResultColumns[i].getCodewords();for(let l=0;l<r.length;l++)r[l]!=null&&(r[l].hasValidRowNumber()||this.adjustRowNumbers(i,l,r))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let e=this.detectionResultColumns[0].getCodewords(),i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<e.length;r++)if(e[r]!=null&&i[r]!=null&&e[r].getRowNumber()===i[r].getRowNumber())for(let l=1;l<=this.barcodeColumnCount;l++){let u=this.detectionResultColumns[l].getCodewords()[r];u!=null&&(u.setRowNumber(e[r].getRowNumber()),u.hasValidRowNumber()||(this.detectionResultColumns[l].getCodewords()[r]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let e=0,i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<i.length;r++){if(i[r]==null)continue;let l=i[r].getRowNumber(),u=0;for(let h=this.barcodeColumnCount+1;h>0&&u<this.ADJUST_ROW_NUMBER_SKIP;h--){let d=this.detectionResultColumns[h].getCodewords()[r];d!=null&&(u=An.adjustRowNumberIfValid(l,u,d),d.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let e=0,i=this.detectionResultColumns[0].getCodewords();for(let r=0;r<i.length;r++){if(i[r]==null)continue;let l=i[r].getRowNumber(),u=0;for(let h=1;h<this.barcodeColumnCount+1&&u<this.ADJUST_ROW_NUMBER_SKIP;h++){let d=this.detectionResultColumns[h].getCodewords()[r];d!=null&&(u=An.adjustRowNumberIfValid(l,u,d),d.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,i,r){return r==null||r.hasValidRowNumber()||(r.isValidRowNumber(e)?(r.setRowNumber(e),i=0):++i),i}adjustRowNumbers(e,i,r){if(!this.detectionResultColumns[e-1])return;let l=r[i],u=this.detectionResultColumns[e-1].getCodewords(),h=u;this.detectionResultColumns[e+1]!=null&&(h=this.detectionResultColumns[e+1].getCodewords());let d=new Array(14);d[2]=u[i],d[3]=h[i],i>0&&(d[0]=r[i-1],d[4]=u[i-1],d[5]=h[i-1]),i>1&&(d[8]=r[i-2],d[10]=u[i-2],d[11]=h[i-2]),i<r.length-1&&(d[1]=r[i+1],d[6]=u[i+1],d[7]=h[i+1]),i<r.length-2&&(d[9]=r[i+2],d[12]=u[i+2],d[13]=h[i+2]);for(let p of d)if(An.adjustRowNumber(l,p))return}static adjustRowNumber(e,i){return i==null?!1:i.hasValidRowNumber()&&i.getBucket()===e.getBucket()?(e.setRowNumber(i.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,i){this.detectionResultColumns[e]=i}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let i=new Tr;for(let r=0;r<e.getCodewords().length;r++){i.format("CW %3d:",r);for(let l=0;l<this.barcodeColumnCount+2;l++){if(this.detectionResultColumns[l]==null){i.format("    |   ");continue}let u=this.detectionResultColumns[l].getCodewords()[r];if(u==null){i.format("    |   ");continue}i.format(" %3d|%3d",u.getRowNumber(),u.getValue())}i.format("%n")}return i.toString()}}class yi{constructor(e,i,r,l){this.rowNumber=yi.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(i),this.bucket=Math.trunc(r),this.value=Math.trunc(l)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==yi.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}yi.BARCODE_ROW_UNKNOWN=-1;class nn{static initialize(){for(let e=0;e<Vt.SYMBOL_TABLE.length;e++){let i=Vt.SYMBOL_TABLE[e],r=i&1;for(let l=0;l<Vt.BARS_IN_MODULE;l++){let u=0;for(;(i&1)===r;)u+=1,i>>=1;r=i&1,nn.RATIOS_TABLE[e]||(nn.RATIOS_TABLE[e]=new Array(Vt.BARS_IN_MODULE)),nn.RATIOS_TABLE[e][Vt.BARS_IN_MODULE-l-1]=Math.fround(u/Vt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let i=nn.getDecodedCodewordValue(nn.sampleBitCounts(e));return i!==-1?i:nn.getClosestDecodedValue(e)}static sampleBitCounts(e){let i=Gt.sum(e),r=new Int32Array(Vt.BARS_IN_MODULE),l=0,u=0;for(let h=0;h<Vt.MODULES_IN_CODEWORD;h++){let d=i/(2*Vt.MODULES_IN_CODEWORD)+h*i/Vt.MODULES_IN_CODEWORD;u+e[l]<=d&&(u+=e[l],l++),r[l]++}return r}static getDecodedCodewordValue(e){let i=nn.getBitValue(e);return Vt.getCodeword(i)===-1?-1:i}static getBitValue(e){let i=0;for(let r=0;r<e.length;r++)for(let l=0;l<e[r];l++)i=i<<1|(r%2===0?1:0);return Math.trunc(i)}static getClosestDecodedValue(e){let i=Gt.sum(e),r=new Array(Vt.BARS_IN_MODULE);if(i>1)for(let h=0;h<r.length;h++)r[h]=Math.fround(e[h]/i);let l=ln.MAX_VALUE,u=-1;this.bSymbolTableReady||nn.initialize();for(let h=0;h<nn.RATIOS_TABLE.length;h++){let d=0,p=nn.RATIOS_TABLE[h];for(let x=0;x<Vt.BARS_IN_MODULE;x++){let w=Math.fround(p[x]-r[x]);if(d+=Math.fround(w*w),d>=l)break}d<l&&(l=d,u=Vt.SYMBOL_TABLE[h])}return u}}nn.bSymbolTableReady=!1,nn.RATIOS_TABLE=new Array(Vt.SYMBOL_TABLE.length).map(b=>new Array(Vt.BARS_IN_MODULE));class Sr{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class Us{static parseLong(e,i=void 0){return parseInt(e,i)}}class Cr extends N{}Cr.kind="NullPointerException";class Ps{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,i,r){if(e==null)throw new Cr;if(i<0||i>e.length||r<0||i+r>e.length||i+r<0)throw new ht;if(r===0)return;for(let l=0;l<r;l++)this.write(e[i+l])}flush(){}close(){}}class lr extends N{}class ks extends Ps{constructor(e=32){if(super(),this.count=0,e<0)throw new B("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let r=this.buf.length<<1;if(r-e<0&&(r=e),r<0){if(e<0)throw new lr;r=xt.MAX_VALUE}this.buf=Mt.copyOfUint8Array(this.buf,r)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,i,r){if(i<0||i>e.length||r<0||i+r-e.length>0)throw new ht;this.ensureCapacity(this.count+r),gt.arraycopy(e,i,this.buf,this.count,r),this.count+=r}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return Mt.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?typeof e=="string"?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}var Se;(function(b){b[b.ALPHA=0]="ALPHA",b[b.LOWER=1]="LOWER",b[b.MIXED=2]="MIXED",b[b.PUNCT=3]="PUNCT",b[b.ALPHA_SHIFT=4]="ALPHA_SHIFT",b[b.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Se||(Se={}));function kr(){if(typeof window<"u")return window.BigInt||null;if(typeof rc<"u")return rc.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let es;function qi(b){if(typeof es>"u"&&(es=kr()),es===null)throw new Error("BigInt is not supported!");return es(b)}function ns(){let b=[];b[0]=qi(1);let e=qi(900);b[1]=e;for(let i=2;i<16;i++)b[i]=b[i-1]*e;return b}class ut{static decode(e,i){let r=new V(""),l=L.ISO8859_1;r.enableDecoding(l);let u=1,h=e[u++],d=new Sr;for(;u<e[0];){switch(h){case ut.TEXT_COMPACTION_MODE_LATCH:u=ut.textCompaction(e,u,r);break;case ut.BYTE_COMPACTION_MODE_LATCH:case ut.BYTE_COMPACTION_MODE_LATCH_6:u=ut.byteCompaction(h,e,l,u,r);break;case ut.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(e[u++]);break;case ut.NUMERIC_COMPACTION_MODE_LATCH:u=ut.numericCompaction(e,u,r);break;case ut.ECI_CHARSET:L.getCharacterSetECIByValue(e[u++]);break;case ut.ECI_GENERAL_PURPOSE:u+=2;break;case ut.ECI_USER_DEFINED:u++;break;case ut.BEGIN_MACRO_PDF417_CONTROL_BLOCK:u=ut.decodeMacroBlock(e,u,d);break;case ut.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ut.MACRO_PDF417_TERMINATOR:throw new P;default:u--,u=ut.textCompaction(e,u,r);break}if(u<e.length)h=e[u++];else throw P.getFormatInstance()}if(r.length()===0)throw P.getFormatInstance();let p=new ke(null,r.toString(),null,i);return p.setOther(d),p}static decodeMacroBlock(e,i,r){if(i+ut.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw P.getFormatInstance();let l=new Int32Array(ut.NUMBER_OF_SEQUENCE_CODEWORDS);for(let d=0;d<ut.NUMBER_OF_SEQUENCE_CODEWORDS;d++,i++)l[d]=e[i];r.setSegmentIndex(xt.parseInt(ut.decodeBase900toBase10(l,ut.NUMBER_OF_SEQUENCE_CODEWORDS)));let u=new V;i=ut.textCompaction(e,i,u),r.setFileId(u.toString());let h=-1;for(e[i]===ut.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(h=i+1);i<e[0];)switch(e[i]){case ut.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(i++,e[i]){case ut.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let d=new V;i=ut.textCompaction(e,i+1,d),r.setFileName(d.toString());break;case ut.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let p=new V;i=ut.textCompaction(e,i+1,p),r.setSender(p.toString());break;case ut.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let x=new V;i=ut.textCompaction(e,i+1,x),r.setAddressee(x.toString());break;case ut.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let w=new V;i=ut.numericCompaction(e,i+1,w),r.setSegmentCount(xt.parseInt(w.toString()));break;case ut.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let O=new V;i=ut.numericCompaction(e,i+1,O),r.setTimestamp(Us.parseLong(O.toString()));break;case ut.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let R=new V;i=ut.numericCompaction(e,i+1,R),r.setChecksum(xt.parseInt(R.toString()));break;case ut.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let F=new V;i=ut.numericCompaction(e,i+1,F),r.setFileSize(Us.parseLong(F.toString()));break;default:throw P.getFormatInstance()}break;case ut.MACRO_PDF417_TERMINATOR:i++,r.setLastSegment(!0);break;default:throw P.getFormatInstance()}if(h!==-1){let d=i-h;r.isLastSegment()&&d--,r.setOptionalData(Mt.copyOfRange(e,h,h+d))}return i}static textCompaction(e,i,r){let l=new Int32Array((e[0]-i)*2),u=new Int32Array((e[0]-i)*2),h=0,d=!1;for(;i<e[0]&&!d;){let p=e[i++];if(p<ut.TEXT_COMPACTION_MODE_LATCH)l[h]=p/30,l[h+1]=p%30,h+=2;else switch(p){case ut.TEXT_COMPACTION_MODE_LATCH:l[h++]=ut.TEXT_COMPACTION_MODE_LATCH;break;case ut.BYTE_COMPACTION_MODE_LATCH:case ut.BYTE_COMPACTION_MODE_LATCH_6:case ut.NUMERIC_COMPACTION_MODE_LATCH:case ut.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ut.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ut.MACRO_PDF417_TERMINATOR:i--,d=!0;break;case ut.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l[h]=ut.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,p=e[i++],u[h]=p,h++;break}}return ut.decodeTextCompaction(l,u,h,r),i}static decodeTextCompaction(e,i,r,l){let u=Se.ALPHA,h=Se.ALPHA,d=0;for(;d<r;){let p=e[d],x="";switch(u){case Se.ALPHA:if(p<26)x=String.fromCharCode(65+p);else switch(p){case 26:x=" ";break;case ut.LL:u=Se.LOWER;break;case ut.ML:u=Se.MIXED;break;case ut.PS:h=u,u=Se.PUNCT_SHIFT;break;case ut.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[d]);break;case ut.TEXT_COMPACTION_MODE_LATCH:u=Se.ALPHA;break}break;case Se.LOWER:if(p<26)x=String.fromCharCode(97+p);else switch(p){case 26:x=" ";break;case ut.AS:h=u,u=Se.ALPHA_SHIFT;break;case ut.ML:u=Se.MIXED;break;case ut.PS:h=u,u=Se.PUNCT_SHIFT;break;case ut.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[d]);break;case ut.TEXT_COMPACTION_MODE_LATCH:u=Se.ALPHA;break}break;case Se.MIXED:if(p<ut.PL)x=ut.MIXED_CHARS[p];else switch(p){case ut.PL:u=Se.PUNCT;break;case 26:x=" ";break;case ut.LL:u=Se.LOWER;break;case ut.AL:u=Se.ALPHA;break;case ut.PS:h=u,u=Se.PUNCT_SHIFT;break;case ut.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[d]);break;case ut.TEXT_COMPACTION_MODE_LATCH:u=Se.ALPHA;break}break;case Se.PUNCT:if(p<ut.PAL)x=ut.PUNCT_CHARS[p];else switch(p){case ut.PAL:u=Se.ALPHA;break;case ut.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[d]);break;case ut.TEXT_COMPACTION_MODE_LATCH:u=Se.ALPHA;break}break;case Se.ALPHA_SHIFT:if(u=h,p<26)x=String.fromCharCode(65+p);else switch(p){case 26:x=" ";break;case ut.TEXT_COMPACTION_MODE_LATCH:u=Se.ALPHA;break}break;case Se.PUNCT_SHIFT:if(u=h,p<ut.PAL)x=ut.PUNCT_CHARS[p];else switch(p){case ut.PAL:u=Se.ALPHA;break;case ut.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[d]);break;case ut.TEXT_COMPACTION_MODE_LATCH:u=Se.ALPHA;break}break}x!==""&&l.append(x),d++}}static byteCompaction(e,i,r,l,u){let h=new ks,d=0,p=0,x=!1;switch(e){case ut.BYTE_COMPACTION_MODE_LATCH:let w=new Int32Array(6),O=i[l++];for(;l<i[0]&&!x;)switch(w[d++]=O,p=900*p+O,O=i[l++],O){case ut.TEXT_COMPACTION_MODE_LATCH:case ut.BYTE_COMPACTION_MODE_LATCH:case ut.NUMERIC_COMPACTION_MODE_LATCH:case ut.BYTE_COMPACTION_MODE_LATCH_6:case ut.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ut.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ut.MACRO_PDF417_TERMINATOR:l--,x=!0;break;default:if(d%5===0&&d>0){for(let R=0;R<6;++R)h.write(Number(qi(p)>>qi(8*(5-R))));p=0,d=0}break}l===i[0]&&O<ut.TEXT_COMPACTION_MODE_LATCH&&(w[d++]=O);for(let R=0;R<d;R++)h.write(w[R]);break;case ut.BYTE_COMPACTION_MODE_LATCH_6:for(;l<i[0]&&!x;){let R=i[l++];if(R<ut.TEXT_COMPACTION_MODE_LATCH)d++,p=900*p+R;else switch(R){case ut.TEXT_COMPACTION_MODE_LATCH:case ut.BYTE_COMPACTION_MODE_LATCH:case ut.NUMERIC_COMPACTION_MODE_LATCH:case ut.BYTE_COMPACTION_MODE_LATCH_6:case ut.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ut.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ut.MACRO_PDF417_TERMINATOR:l--,x=!0;break}if(d%5===0&&d>0){for(let F=0;F<6;++F)h.write(Number(qi(p)>>qi(8*(5-F))));p=0,d=0}}break}return u.append(j.decode(h.toByteArray(),r)),l}static numericCompaction(e,i,r){let l=0,u=!1,h=new Int32Array(ut.MAX_NUMERIC_CODEWORDS);for(;i<e[0]&&!u;){let d=e[i++];if(i===e[0]&&(u=!0),d<ut.TEXT_COMPACTION_MODE_LATCH)h[l]=d,l++;else switch(d){case ut.TEXT_COMPACTION_MODE_LATCH:case ut.BYTE_COMPACTION_MODE_LATCH:case ut.BYTE_COMPACTION_MODE_LATCH_6:case ut.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ut.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ut.MACRO_PDF417_TERMINATOR:i--,u=!0;break}(l%ut.MAX_NUMERIC_CODEWORDS===0||d===ut.NUMERIC_COMPACTION_MODE_LATCH||u)&&l>0&&(r.append(ut.decodeBase900toBase10(h,l)),l=0)}return i}static decodeBase900toBase10(e,i){let r=qi(0);for(let u=0;u<i;u++)r+=ut.EXP900[i-u-1]*qi(e[u]);let l=r.toString();if(l.charAt(0)!=="1")throw new P;return l.substring(1)}}ut.TEXT_COMPACTION_MODE_LATCH=900,ut.BYTE_COMPACTION_MODE_LATCH=901,ut.NUMERIC_COMPACTION_MODE_LATCH=902,ut.BYTE_COMPACTION_MODE_LATCH_6=924,ut.ECI_USER_DEFINED=925,ut.ECI_GENERAL_PURPOSE=926,ut.ECI_CHARSET=927,ut.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,ut.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,ut.MACRO_PDF417_TERMINATOR=922,ut.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,ut.MAX_NUMERIC_CODEWORDS=15,ut.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,ut.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,ut.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,ut.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,ut.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,ut.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,ut.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,ut.PL=25,ut.LL=27,ut.AS=27,ut.ML=28,ut.AL=28,ut.PS=29,ut.PAL=29,ut.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,ut.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",ut.EXP900=kr()?ns():[],ut.NUMBER_OF_SEQUENCE_CODEWORDS=2;class te{constructor(){}static decode(e,i,r,l,u,h,d){let p=new ji(e,i,r,l,u),x=null,w=null,O;for(let X=!0;;X=!1){if(i!=null&&(x=te.getRowIndicatorColumn(e,p,i,!0,h,d)),l!=null&&(w=te.getRowIndicatorColumn(e,p,l,!1,h,d)),O=te.merge(x,w),O==null)throw st.getNotFoundInstance();let W=O.getBoundingBox();if(X&&W!=null&&(W.getMinY()<p.getMinY()||W.getMaxY()>p.getMaxY()))p=W;else break}O.setBoundingBox(p);let R=O.getBarcodeColumnCount()+1;O.setDetectionResultColumn(0,x),O.setDetectionResultColumn(R,w);let F=x!=null;for(let X=1;X<=R;X++){let W=F?X:R-X;if(O.getDetectionResultColumn(W)!==void 0)continue;let et;W===0||W===R?et=new Ri(p,W===0):et=new Xi(p),O.setDetectionResultColumn(W,et);let ft=-1,Ct=ft;for(let St=p.getMinY();St<=p.getMaxY();St++){if(ft=te.getStartColumn(O,W,St,F),ft<0||ft>p.getMaxX()){if(Ct===-1)continue;ft=Ct}let wt=te.detectCodeword(e,p.getMinX(),p.getMaxX(),F,ft,St,h,d);wt!=null&&(et.setCodeword(St,wt),Ct=ft,h=Math.min(h,wt.getWidth()),d=Math.max(d,wt.getWidth()))}}return te.createDecoderResult(O)}static merge(e,i){if(e==null&&i==null)return null;let r=te.getBarcodeMetadata(e,i);if(r==null)return null;let l=ji.merge(te.adjustBoundingBox(e),te.adjustBoundingBox(i));return new An(r,l)}static adjustBoundingBox(e){if(e==null)return null;let i=e.getRowHeights();if(i==null)return null;let r=te.getMax(i),l=0;for(let d of i)if(l+=r-d,d>0)break;let u=e.getCodewords();for(let d=0;l>0&&u[d]==null;d++)l--;let h=0;for(let d=i.length-1;d>=0&&(h+=r-i[d],!(i[d]>0));d--);for(let d=u.length-1;h>0&&u[d]==null;d--)h--;return e.getBoundingBox().addMissingRows(l,h,e.isLeft())}static getMax(e){let i=-1;for(let r of e)i=Math.max(i,r);return i}static getBarcodeMetadata(e,i){let r;if(e==null||(r=e.getBarcodeMetadata())==null)return i==null?null:i.getBarcodeMetadata();let l;return i==null||(l=i.getBarcodeMetadata())==null?r:r.getColumnCount()!==l.getColumnCount()&&r.getErrorCorrectionLevel()!==l.getErrorCorrectionLevel()&&r.getRowCount()!==l.getRowCount()?null:r}static getRowIndicatorColumn(e,i,r,l,u,h){let d=new Ri(i,l);for(let p=0;p<2;p++){let x=p===0?1:-1,w=Math.trunc(Math.trunc(r.getX()));for(let O=Math.trunc(Math.trunc(r.getY()));O<=i.getMaxY()&&O>=i.getMinY();O+=x){let R=te.detectCodeword(e,0,e.getWidth(),l,w,O,u,h);R!=null&&(d.setCodeword(O,R),l?w=R.getStartX():w=R.getEndX())}}return d}static adjustCodewordCount(e,i){let r=i[0][1],l=r.getValue(),u=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-te.getNumberOfECCodeWords(e.getBarcodeECLevel());if(l.length===0){if(u<1||u>Vt.MAX_CODEWORDS_IN_BARCODE)throw st.getNotFoundInstance();r.setValue(u)}else l[0]!==u&&r.setValue(u)}static createDecoderResult(e){let i=te.createBarcodeMatrix(e);te.adjustCodewordCount(e,i);let r=new Array,l=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),u=[],h=new Array;for(let p=0;p<e.getBarcodeRowCount();p++)for(let x=0;x<e.getBarcodeColumnCount();x++){let w=i[p][x+1].getValue(),O=p*e.getBarcodeColumnCount()+x;w.length===0?r.push(O):w.length===1?l[O]=w[0]:(h.push(O),u.push(w))}let d=new Array(u.length);for(let p=0;p<d.length;p++)d[p]=u[p];return te.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),l,Vt.toIntArray(r),Vt.toIntArray(h),d)}static createDecoderResultFromAmbiguousValues(e,i,r,l,u){let h=new Int32Array(l.length),d=100;for(;d-- >0;){for(let p=0;p<h.length;p++)i[l[p]]=u[p][h[p]];try{return te.decodeCodewords(i,e,r)}catch(p){if(!(p instanceof $))throw p}if(h.length===0)throw $.getChecksumInstance();for(let p=0;p<h.length;p++)if(h[p]<u[p].length-1){h[p]++;break}else if(h[p]=0,p===h.length-1)throw $.getChecksumInstance()}throw $.getChecksumInstance()}static createBarcodeMatrix(e){let i=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let l=0;l<i.length;l++)for(let u=0;u<i[l].length;u++)i[l][u]=new xi;let r=0;for(let l of e.getDetectionResultColumns()){if(l!=null){for(let u of l.getCodewords())if(u!=null){let h=u.getRowNumber();if(h>=0){if(h>=i.length)continue;i[h][r].setValue(u.getValue())}}}r++}return i}static isValidBarcodeColumn(e,i){return i>=0&&i<=e.getBarcodeColumnCount()+1}static getStartColumn(e,i,r,l){let u=l?1:-1,h=null;if(te.isValidBarcodeColumn(e,i-u)&&(h=e.getDetectionResultColumn(i-u).getCodeword(r)),h!=null)return l?h.getEndX():h.getStartX();if(h=e.getDetectionResultColumn(i).getCodewordNearby(r),h!=null)return l?h.getStartX():h.getEndX();if(te.isValidBarcodeColumn(e,i-u)&&(h=e.getDetectionResultColumn(i-u).getCodewordNearby(r)),h!=null)return l?h.getEndX():h.getStartX();let d=0;for(;te.isValidBarcodeColumn(e,i-u);){i-=u;for(let p of e.getDetectionResultColumn(i).getCodewords())if(p!=null)return(l?p.getEndX():p.getStartX())+u*d*(p.getEndX()-p.getStartX());d++}return l?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,i,r,l,u,h,d,p){u=te.adjustCodewordStartColumn(e,i,r,l,u,h);let x=te.getModuleBitCount(e,i,r,l,u,h);if(x==null)return null;let w,O=Gt.sum(x);if(l)w=u+O;else{for(let X=0;X<x.length/2;X++){let W=x[X];x[X]=x[x.length-1-X],x[x.length-1-X]=W}w=u,u=w-O}if(!te.checkCodewordSkew(O,d,p))return null;let R=nn.getDecodedValue(x),F=Vt.getCodeword(R);return F===-1?null:new yi(u,w,te.getCodewordBucketNumber(R),F)}static getModuleBitCount(e,i,r,l,u,h){let d=u,p=new Int32Array(8),x=0,w=l?1:-1,O=l;for(;(l?d<r:d>=i)&&x<p.length;)e.get(d,h)===O?(p[x]++,d+=w):(x++,O=!O);return x===p.length||d===(l?r:i)&&x===p.length-1?p:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,i,r,l,u,h){let d=u,p=l?-1:1;for(let x=0;x<2;x++){for(;(l?d>=i:d<r)&&l===e.get(d,h);){if(Math.abs(u-d)>te.CODEWORD_SKEW_SIZE)return u;d+=p}p=-p,l=!l}return d}static checkCodewordSkew(e,i,r){return i-te.CODEWORD_SKEW_SIZE<=e&&e<=r+te.CODEWORD_SKEW_SIZE}static decodeCodewords(e,i,r){if(e.length===0)throw P.getFormatInstance();let l=1<<i+1,u=te.correctErrors(e,r,l);te.verifyCodewordCount(e,l);let h=ut.decode(e,""+i);return h.setErrorsCorrected(u),h.setErasures(r.length),h}static correctErrors(e,i,r){if(i!=null&&i.length>r/2+te.MAX_ERRORS||r<0||r>te.MAX_EC_CODEWORDS)throw $.getChecksumInstance();return te.errorCorrection.decode(e,r,i)}static verifyCodewordCount(e,i){if(e.length<4)throw P.getFormatInstance();let r=e[0];if(r>e.length)throw P.getFormatInstance();if(r===0)if(i<e.length)e[0]=e.length-i;else throw P.getFormatInstance()}static getBitCountForCodeword(e){let i=new Int32Array(8),r=0,l=i.length-1;for(;!((e&1)!==r&&(r=e&1,l--,l<0));)i[l]++,e>>=1;return i}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return te.getCodewordBucketNumber(te.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let i=new Tr;for(let r=0;r<e.length;r++){i.format("Row %2d: ",r);for(let l=0;l<e[r].length;l++){let u=e[r][l];u.getValue().length===0?i.format("        ",null):i.format("%4d(%2d)",u.getValue()[0],u.getConfidence(u.getValue()[0]))}i.format("%n")}return i.toString()}}te.CODEWORD_SKEW_SIZE=2,te.MAX_ERRORS=3,te.MAX_EC_CODEWORDS=512,te.errorCorrection=new Yi;class fn{decode(e,i=null){let r=fn.decode(e,i,!1);if(r==null||r.length===0||r[0]==null)throw st.getNotFoundInstance();return r[0]}decodeMultiple(e,i=null){try{return fn.decode(e,i,!0)}catch(r){throw r instanceof P||r instanceof $?st.getNotFoundInstance():r}}static decode(e,i,r){const l=new Array,u=jt.detectMultiple(e,i,r);for(const h of u.getPoints()){const d=te.decode(u.getBits(),h[4],h[5],h[6],h[7],fn.getMinCodewordWidth(h),fn.getMaxCodewordWidth(h)),p=new Ot(d.getText(),d.getRawBytes(),void 0,h,It.PDF_417);p.putMetadata(fe.ERROR_CORRECTION_LEVEL,d.getECLevel());const x=d.getOther();x!=null&&p.putMetadata(fe.PDF417_EXTRA_METADATA,x),l.push(p)}return l.map(h=>h)}static getMaxWidth(e,i){return e==null||i==null?0:Math.trunc(Math.abs(e.getX()-i.getX()))}static getMinWidth(e,i){return e==null||i==null?xt.MAX_VALUE:Math.trunc(Math.abs(e.getX()-i.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(fn.getMaxWidth(e[0],e[4]),fn.getMaxWidth(e[6],e[2])*Vt.MODULES_IN_CODEWORD/Vt.MODULES_IN_STOP_PATTERN),Math.max(fn.getMaxWidth(e[1],e[5]),fn.getMaxWidth(e[7],e[3])*Vt.MODULES_IN_CODEWORD/Vt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(fn.getMinWidth(e[0],e[4]),fn.getMinWidth(e[6],e[2])*Vt.MODULES_IN_CODEWORD/Vt.MODULES_IN_STOP_PATTERN),Math.min(fn.getMinWidth(e[1],e[5]),fn.getMinWidth(e[7],e[3])*Vt.MODULES_IN_CODEWORD/Vt.MODULES_IN_STOP_PATTERN)))}reset(){}}class is extends N{}is.kind="ReaderException";class Oa{constructor(e,i){this.verbose=e===!0,i&&this.setHints(i)}decode(e,i){return i&&this.setHints(i),this.decodeInternal(e)}decodeWithState(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const i=!g(e)&&e.get(Ft.TRY_HARDER)===!0,r=g(e)?null:e.get(Ft.POSSIBLE_FORMATS),l=new Array;if(!g(r)){const u=r.some(h=>h===It.UPC_A||h===It.UPC_E||h===It.EAN_13||h===It.EAN_8||h===It.CODABAR||h===It.CODE_39||h===It.CODE_93||h===It.CODE_128||h===It.ITF||h===It.RSS_14||h===It.RSS_EXPANDED);u&&!i&&l.push(new ei(e,this.verbose)),r.includes(It.QR_CODE)&&l.push(new mi),r.includes(It.DATA_MATRIX)&&l.push(new hi),r.includes(It.AZTEC)&&l.push(new Zr),r.includes(It.PDF_417)&&l.push(new fn),u&&i&&l.push(new ei(e,this.verbose))}l.length===0&&(i||l.push(new ei(e,this.verbose)),l.push(new mi),l.push(new hi),l.push(new Zr),l.push(new fn),i&&l.push(new ei(e,this.verbose))),this.readers=l}reset(){if(this.readers!==null)for(const e of this.readers)e.reset()}decodeInternal(e){if(this.readers===null)throw new is("No readers where selected, nothing can be read.");for(const i of this.readers)try{return i.decode(e,this.hints)}catch(r){if(r instanceof is)continue}throw new st("No MultiFormat Readers were able to detect the code.")}}class or extends bt{constructor(e=null,i=500){const r=new Oa;r.setHints(e),super(r,i)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class sl extends bt{constructor(e=500){super(new fn,e)}}class al extends bt{constructor(e=500){super(new mi,e)}}var Fs;(function(b){b[b.ERROR_CORRECTION=0]="ERROR_CORRECTION",b[b.CHARACTER_SET=1]="CHARACTER_SET",b[b.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",b[b.MIN_SIZE=3]="MIN_SIZE",b[b.MAX_SIZE=4]="MAX_SIZE",b[b.MARGIN=5]="MARGIN",b[b.PDF417_COMPACT=6]="PDF417_COMPACT",b[b.PDF417_COMPACTION=7]="PDF417_COMPACTION",b[b.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",b[b.AZTEC_LAYERS=9]="AZTEC_LAYERS",b[b.QR_VERSION=10]="QR_VERSION"})(Fs||(Fs={}));var hn=Fs;class vn{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new Cn(e,Int32Array.from([1])))}buildGenerator(e){const i=this.cachedGenerators;if(e>=i.length){let r=i[i.length-1];const l=this.field;for(let u=i.length;u<=e;u++){const h=r.multiply(new Cn(l,Int32Array.from([1,l.exp(u-1+l.getGeneratorBase())])));i.push(h),r=h}}return i[e]}encode(e,i){if(i===0)throw new B("No error correction bytes");const r=e.length-i;if(r<=0)throw new B("No data bytes provided");const l=this.buildGenerator(i),u=new Int32Array(r);gt.arraycopy(e,0,u,0,r);let h=new Cn(this.field,u);h=h.multiplyByMonomial(i,1);const p=h.divide(l)[1].getCoefficients(),x=i-p.length;for(let w=0;w<x;w++)e[r+w]=0;gt.arraycopy(p,0,e,r+x,p.length)}}class Qe{constructor(){}static applyMaskPenaltyRule1(e){return Qe.applyMaskPenaltyRule1Internal(e,!0)+Qe.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let i=0;const r=e.getArray(),l=e.getWidth(),u=e.getHeight();for(let h=0;h<u-1;h++){const d=r[h];for(let p=0;p<l-1;p++){const x=d[p];x===d[p+1]&&x===r[h+1][p]&&x===r[h+1][p+1]&&i++}}return Qe.N2*i}static applyMaskPenaltyRule3(e){let i=0;const r=e.getArray(),l=e.getWidth(),u=e.getHeight();for(let h=0;h<u;h++)for(let d=0;d<l;d++){const p=r[h];d+6<l&&p[d]===1&&p[d+1]===0&&p[d+2]===1&&p[d+3]===1&&p[d+4]===1&&p[d+5]===0&&p[d+6]===1&&(Qe.isWhiteHorizontal(p,d-4,d)||Qe.isWhiteHorizontal(p,d+7,d+11))&&i++,h+6<u&&r[h][d]===1&&r[h+1][d]===0&&r[h+2][d]===1&&r[h+3][d]===1&&r[h+4][d]===1&&r[h+5][d]===0&&r[h+6][d]===1&&(Qe.isWhiteVertical(r,d,h-4,h)||Qe.isWhiteVertical(r,d,h+7,h+11))&&i++}return i*Qe.N3}static isWhiteHorizontal(e,i,r){i=Math.max(i,0),r=Math.min(r,e.length);for(let l=i;l<r;l++)if(e[l]===1)return!1;return!0}static isWhiteVertical(e,i,r,l){r=Math.max(r,0),l=Math.min(l,e.length);for(let u=r;u<l;u++)if(e[u][i]===1)return!1;return!0}static applyMaskPenaltyRule4(e){let i=0;const r=e.getArray(),l=e.getWidth(),u=e.getHeight();for(let p=0;p<u;p++){const x=r[p];for(let w=0;w<l;w++)x[w]===1&&i++}const h=e.getHeight()*e.getWidth();return Math.floor(Math.abs(i*2-h)*10/h)*Qe.N4}static getDataMaskBit(e,i,r){let l,u;switch(e){case 0:l=r+i&1;break;case 1:l=r&1;break;case 2:l=i%3;break;case 3:l=(r+i)%3;break;case 4:l=Math.floor(r/2)+Math.floor(i/3)&1;break;case 5:u=r*i,l=(u&1)+u%3;break;case 6:u=r*i,l=(u&1)+u%3&1;break;case 7:u=r*i,l=u%3+(r+i&1)&1;break;default:throw new B("Invalid mask pattern: "+e)}return l===0}static applyMaskPenaltyRule1Internal(e,i){let r=0;const l=i?e.getHeight():e.getWidth(),u=i?e.getWidth():e.getHeight(),h=e.getArray();for(let d=0;d<l;d++){let p=0,x=-1;for(let w=0;w<u;w++){const O=i?h[d][w]:h[w][d];O===x?p++:(p>=5&&(r+=Qe.N1+(p-5)),p=1,x=O)}p>=5&&(r+=Qe.N1+(p-5))}return r}}Qe.N1=3,Qe.N2=3,Qe.N3=40,Qe.N4=10;class rs{constructor(e,i){this.width=e,this.height=i;const r=new Array(i);for(let l=0;l!==i;l++)r[l]=new Uint8Array(e);this.bytes=r}getHeight(){return this.height}getWidth(){return this.width}get(e,i){return this.bytes[i][e]}getArray(){return this.bytes}setNumber(e,i,r){this.bytes[i][e]=r}setBoolean(e,i,r){this.bytes[i][e]=r?1:0}clear(e){for(const i of this.bytes)Mt.fill(i,e)}equals(e){if(!(e instanceof rs))return!1;const i=e;if(this.width!==i.width||this.height!==i.height)return!1;for(let r=0,l=this.height;r<l;++r){const u=this.bytes[r],h=i.bytes[r];for(let d=0,p=this.width;d<p;++d)if(u[d]!==h[d])return!1}return!0}toString(){const e=new V;for(let i=0,r=this.height;i<r;++i){const l=this.bytes[i];for(let u=0,h=this.width;u<h;++u)switch(l[u]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()}}class pi{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new V;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<pi.NUM_MASK_PATTERNS}}pi.NUM_MASK_PATTERNS=8;class E extends N{}E.kind="WriterException";class y{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,i,r,l,u){y.clearMatrix(u),y.embedBasicPatterns(r,u),y.embedTypeInfo(i,l,u),y.maybeEmbedVersionInfo(r,u),y.embedDataBits(e,l,u)}static embedBasicPatterns(e,i){y.embedPositionDetectionPatternsAndSeparators(i),y.embedDarkDotAtLeftBottomCorner(i),y.maybeEmbedPositionAdjustmentPatterns(e,i),y.embedTimingPatterns(i)}static embedTypeInfo(e,i,r){const l=new Rt;y.makeTypeInfoBits(e,i,l);for(let u=0,h=l.getSize();u<h;++u){const d=l.get(l.getSize()-1-u),p=y.TYPE_INFO_COORDINATES[u],x=p[0],w=p[1];if(r.setBoolean(x,w,d),u<8){const O=r.getWidth()-u-1;r.setBoolean(O,8,d)}else{const R=r.getHeight()-7+(u-8);r.setBoolean(8,R,d)}}}static maybeEmbedVersionInfo(e,i){if(e.getVersionNumber()<7)return;const r=new Rt;y.makeVersionInfoBits(e,r);let l=17;for(let u=0;u<6;++u)for(let h=0;h<3;++h){const d=r.get(l);l--,i.setBoolean(u,i.getHeight()-11+h,d),i.setBoolean(i.getHeight()-11+h,u,d)}}static embedDataBits(e,i,r){let l=0,u=-1,h=r.getWidth()-1,d=r.getHeight()-1;for(;h>0;){for(h===6&&(h-=1);d>=0&&d<r.getHeight();){for(let p=0;p<2;++p){const x=h-p;if(!y.isEmpty(r.get(x,d)))continue;let w;l<e.getSize()?(w=e.get(l),++l):w=!1,i!==255&&Qe.getDataMaskBit(i,x,d)&&(w=!w),r.setBoolean(x,d,w)}d+=u}u=-u,d+=u,h-=2}if(l!==e.getSize())throw new E("Not all bits consumed: "+l+"/"+e.getSize())}static findMSBSet(e){return 32-xt.numberOfLeadingZeros(e)}static calculateBCHCode(e,i){if(i===0)throw new B("0 polynomial");const r=y.findMSBSet(i);for(e<<=r-1;y.findMSBSet(e)>=r;)e^=i<<y.findMSBSet(e)-r;return e}static makeTypeInfoBits(e,i,r){if(!pi.isValidMaskPattern(i))throw new E("Invalid mask pattern");const l=e.getBits()<<3|i;r.appendBits(l,5);const u=y.calculateBCHCode(l,y.TYPE_INFO_POLY);r.appendBits(u,10);const h=new Rt;if(h.appendBits(y.TYPE_INFO_MASK_PATTERN,15),r.xor(h),r.getSize()!==15)throw new E("should not happen but we got: "+r.getSize())}static makeVersionInfoBits(e,i){i.appendBits(e.getVersionNumber(),6);const r=y.calculateBCHCode(e.getVersionNumber(),y.VERSION_INFO_POLY);if(i.appendBits(r,12),i.getSize()!==18)throw new E("should not happen but we got: "+i.getSize())}static isEmpty(e){return e===255}static embedTimingPatterns(e){for(let i=8;i<e.getWidth()-8;++i){const r=(i+1)%2;y.isEmpty(e.get(i,6))&&e.setNumber(i,6,r),y.isEmpty(e.get(6,i))&&e.setNumber(6,i,r)}}static embedDarkDotAtLeftBottomCorner(e){if(e.get(8,e.getHeight()-8)===0)throw new E;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,i,r){for(let l=0;l<8;++l){if(!y.isEmpty(r.get(e+l,i)))throw new E;r.setNumber(e+l,i,0)}}static embedVerticalSeparationPattern(e,i,r){for(let l=0;l<7;++l){if(!y.isEmpty(r.get(e,i+l)))throw new E;r.setNumber(e,i+l,0)}}static embedPositionAdjustmentPattern(e,i,r){for(let l=0;l<5;++l){const u=y.POSITION_ADJUSTMENT_PATTERN[l];for(let h=0;h<5;++h)r.setNumber(e+h,i+l,u[h])}}static embedPositionDetectionPattern(e,i,r){for(let l=0;l<7;++l){const u=y.POSITION_DETECTION_PATTERN[l];for(let h=0;h<7;++h)r.setNumber(e+h,i+l,u[h])}}static embedPositionDetectionPatternsAndSeparators(e){const i=y.POSITION_DETECTION_PATTERN[0].length;y.embedPositionDetectionPattern(0,0,e),y.embedPositionDetectionPattern(e.getWidth()-i,0,e),y.embedPositionDetectionPattern(0,e.getWidth()-i,e);const r=8;y.embedHorizontalSeparationPattern(0,r-1,e),y.embedHorizontalSeparationPattern(e.getWidth()-r,r-1,e),y.embedHorizontalSeparationPattern(0,e.getWidth()-r,e);const l=7;y.embedVerticalSeparationPattern(l,0,e),y.embedVerticalSeparationPattern(e.getHeight()-l-1,0,e),y.embedVerticalSeparationPattern(l,e.getHeight()-l,e)}static maybeEmbedPositionAdjustmentPatterns(e,i){if(e.getVersionNumber()<2)return;const r=e.getVersionNumber()-1,l=y.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r];for(let u=0,h=l.length;u!==h;u++){const d=l[u];if(d>=0)for(let p=0;p!==h;p++){const x=l[p];x>=0&&y.isEmpty(i.get(x,d))&&y.embedPositionAdjustmentPattern(x-2,d-2,i)}}}}y.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),y.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),y.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),y.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),y.VERSION_INFO_POLY=7973,y.TYPE_INFO_POLY=1335,y.TYPE_INFO_MASK_PATTERN=21522;class C{constructor(e,i){this.dataBytes=e,this.errorCorrectionBytes=i}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class M{constructor(){}static calculateMaskPenalty(e){return Qe.applyMaskPenaltyRule1(e)+Qe.applyMaskPenaltyRule2(e)+Qe.applyMaskPenaltyRule3(e)+Qe.applyMaskPenaltyRule4(e)}static encode(e,i,r=null){let l=M.DEFAULT_BYTE_MODE_ENCODING;const u=r!==null&&r.get(hn.CHARACTER_SET)!==void 0;u&&(l=r.get(hn.CHARACTER_SET).toString());const h=this.chooseMode(e,l),d=new Rt;if(h===Ht.BYTE&&(u||M.DEFAULT_BYTE_MODE_ENCODING!==l)){const St=L.getCharacterSetECIByName(l);St!==void 0&&this.appendECI(St,d)}this.appendModeInfo(h,d);const p=new Rt;this.appendBytes(e,h,p,l);let x;if(r!==null&&r.get(hn.QR_VERSION)!==void 0){const St=Number.parseInt(r.get(hn.QR_VERSION).toString(),10);x=Lt.getVersionForNumber(St);const wt=this.calculateBitsNeeded(h,d,p,x);if(!this.willFit(wt,x,i))throw new E("Data too big for requested version")}else x=this.recommendVersion(i,h,d,p);const w=new Rt;w.appendBitArray(d);const O=h===Ht.BYTE?p.getSizeInBytes():e.length;this.appendLengthInfo(O,x,h,w),w.appendBitArray(p);const R=x.getECBlocksForLevel(i),F=x.getTotalCodewords()-R.getTotalECCodewords();this.terminateBits(F,w);const X=this.interleaveWithECBytes(w,x.getTotalCodewords(),F,R.getNumBlocks()),W=new pi;W.setECLevel(i),W.setMode(h),W.setVersion(x);const et=x.getDimensionForVersion(),ft=new rs(et,et),Ct=this.chooseMaskPattern(X,i,x,ft);return W.setMaskPattern(Ct),y.buildMatrix(X,i,x,Ct,ft),W.setMatrix(ft),W}static recommendVersion(e,i,r,l){const u=this.calculateBitsNeeded(i,r,l,Lt.getVersionForNumber(1)),h=this.chooseVersion(u,e),d=this.calculateBitsNeeded(i,r,l,h);return this.chooseVersion(d,e)}static calculateBitsNeeded(e,i,r,l){return i.getSize()+e.getCharacterCountBits(l)+r.getSize()}static getAlphanumericCode(e){return e<M.ALPHANUMERIC_TABLE.length?M.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,i=null){if(L.SJIS.getName()===i&&this.isOnlyDoubleByteKanji(e))return Ht.KANJI;let r=!1,l=!1;for(let u=0,h=e.length;u<h;++u){const d=e.charAt(u);if(M.isDigit(d))r=!0;else if(this.getAlphanumericCode(d.charCodeAt(0))!==-1)l=!0;else return Ht.BYTE}return l?Ht.ALPHANUMERIC:r?Ht.NUMERIC:Ht.BYTE}static isOnlyDoubleByteKanji(e){let i;try{i=j.encode(e,L.SJIS)}catch{return!1}const r=i.length;if(r%2!==0)return!1;for(let l=0;l<r;l+=2){const u=i[l]&255;if((u<129||u>159)&&(u<224||u>235))return!1}return!0}static chooseMaskPattern(e,i,r,l){let u=Number.MAX_SAFE_INTEGER,h=-1;for(let d=0;d<pi.NUM_MASK_PATTERNS;d++){y.buildMatrix(e,i,r,d,l);let p=this.calculateMaskPenalty(l);p<u&&(u=p,h=d)}return h}static chooseVersion(e,i){for(let r=1;r<=40;r++){const l=Lt.getVersionForNumber(r);if(M.willFit(e,l,i))return l}throw new E("Data too big")}static willFit(e,i,r){const l=i.getTotalCodewords(),h=i.getECBlocksForLevel(r).getTotalECCodewords(),d=l-h,p=(e+7)/8;return d>=p}static terminateBits(e,i){const r=e*8;if(i.getSize()>r)throw new E("data bits cannot fit in the QR Code"+i.getSize()+" > "+r);for(let h=0;h<4&&i.getSize()<r;++h)i.appendBit(!1);const l=i.getSize()&7;if(l>0)for(let h=l;h<8;h++)i.appendBit(!1);const u=e-i.getSizeInBytes();for(let h=0;h<u;++h)i.appendBits((h&1)===0?236:17,8);if(i.getSize()!==r)throw new E("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,i,r,l,u,h){if(l>=r)throw new E("Block ID too large");const d=e%r,p=r-d,x=Math.floor(e/r),w=x+1,O=Math.floor(i/r),R=O+1,F=x-O,X=w-R;if(F!==X)throw new E("EC bytes mismatch");if(r!==p+d)throw new E("RS blocks mismatch");if(e!==(O+F)*p+(R+X)*d)throw new E("Total bytes mismatch");l<p?(u[0]=O,h[0]=F):(u[0]=R,h[0]=X)}static interleaveWithECBytes(e,i,r,l){if(e.getSizeInBytes()!==r)throw new E("Number of bits and data bytes does not match");let u=0,h=0,d=0;const p=new Array;for(let w=0;w<l;++w){const O=new Int32Array(1),R=new Int32Array(1);M.getNumDataBytesAndNumECBytesForBlockID(i,r,l,w,O,R);const F=O[0],X=new Uint8Array(F);e.toBytes(8*u,X,0,F);const W=M.generateECBytes(X,R[0]);p.push(new C(X,W)),h=Math.max(h,F),d=Math.max(d,W.length),u+=O[0]}if(r!==u)throw new E("Data bytes does not match offset");const x=new Rt;for(let w=0;w<h;++w)for(const O of p){const R=O.getDataBytes();w<R.length&&x.appendBits(R[w],8)}for(let w=0;w<d;++w)for(const O of p){const R=O.getErrorCorrectionBytes();w<R.length&&x.appendBits(R[w],8)}if(i!==x.getSizeInBytes())throw new E("Interleaving error: "+i+" and "+x.getSizeInBytes()+" differ.");return x}static generateECBytes(e,i){const r=e.length,l=new Int32Array(r+i);for(let h=0;h<r;h++)l[h]=e[h]&255;new vn(he.QR_CODE_FIELD_256).encode(l,i);const u=new Uint8Array(i);for(let h=0;h<i;h++)u[h]=l[r+h];return u}static appendModeInfo(e,i){i.appendBits(e.getBits(),4)}static appendLengthInfo(e,i,r,l){const u=r.getCharacterCountBits(i);if(e>=1<<u)throw new E(e+" is bigger than "+((1<<u)-1));l.appendBits(e,u)}static appendBytes(e,i,r,l){switch(i){case Ht.NUMERIC:M.appendNumericBytes(e,r);break;case Ht.ALPHANUMERIC:M.appendAlphanumericBytes(e,r);break;case Ht.BYTE:M.append8BitBytes(e,r,l);break;case Ht.KANJI:M.appendKanjiBytes(e,r);break;default:throw new E("Invalid mode: "+i)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const i=M.getDigit(e);return i>=0&&i<=9}static appendNumericBytes(e,i){const r=e.length;let l=0;for(;l<r;){const u=M.getDigit(e.charAt(l));if(l+2<r){const h=M.getDigit(e.charAt(l+1)),d=M.getDigit(e.charAt(l+2));i.appendBits(u*100+h*10+d,10),l+=3}else if(l+1<r){const h=M.getDigit(e.charAt(l+1));i.appendBits(u*10+h,7),l+=2}else i.appendBits(u,4),l++}}static appendAlphanumericBytes(e,i){const r=e.length;let l=0;for(;l<r;){const u=M.getAlphanumericCode(e.charCodeAt(l));if(u===-1)throw new E;if(l+1<r){const h=M.getAlphanumericCode(e.charCodeAt(l+1));if(h===-1)throw new E;i.appendBits(u*45+h,11),l+=2}else i.appendBits(u,6),l++}}static append8BitBytes(e,i,r){let l;try{l=j.encode(e,r)}catch(u){throw new E(u)}for(let u=0,h=l.length;u!==h;u++){const d=l[u];i.appendBits(d,8)}}static appendKanjiBytes(e,i){let r;try{r=j.encode(e,L.SJIS)}catch(u){throw new E(u)}const l=r.length;for(let u=0;u<l;u+=2){const h=r[u]&255,d=r[u+1]&255,p=h<<8&4294967295|d;let x=-1;if(p>=33088&&p<=40956?x=p-33088:p>=57408&&p<=60351&&(x=p-49472),x===-1)throw new E("Invalid byte sequence");const w=(x>>8)*192+(x&255);i.appendBits(w,13)}}static appendECI(e,i){i.appendBits(Ht.ECI.getBits(),4),i.appendBits(e.getValue(),8)}}M.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),M.DEFAULT_BYTE_MODE_ENCODING=L.UTF8.getName();class tt{write(e,i,r,l=null){if(e.length===0)throw new B("Found empty contents");if(i<0||r<0)throw new B("Requested dimensions are too small: "+i+"x"+r);let u=re.L,h=tt.QUIET_ZONE_SIZE;l!==null&&(l.get(hn.ERROR_CORRECTION)!==void 0&&(u=re.fromString(l.get(hn.ERROR_CORRECTION).toString())),l.get(hn.MARGIN)!==void 0&&(h=Number.parseInt(l.get(hn.MARGIN).toString(),10)));const d=M.encode(e,u,l);return this.renderResult(d,i,r,h)}writeToDom(e,i,r,l,u=null){typeof e=="string"&&(e=document.querySelector(e));const h=this.write(i,r,l,u);e&&e.appendChild(h)}renderResult(e,i,r,l){const u=e.getMatrix();if(u===null)throw new ci;const h=u.getWidth(),d=u.getHeight(),p=h+l*2,x=d+l*2,w=Math.max(i,p),O=Math.max(r,x),R=Math.min(Math.floor(w/p),Math.floor(O/x)),F=Math.floor((w-h*R)/2),X=Math.floor((O-d*R)/2),W=this.createSVGElement(w,O);for(let et=0,ft=X;et<d;et++,ft+=R)for(let Ct=0,St=F;Ct<h;Ct++,St+=R)if(u.get(Ct,et)===1){const wt=this.createSvgRectElement(St,ft,R,R);W.appendChild(wt)}return W}createSVGElement(e,i){const r=document.createElementNS(tt.SVG_NS,"svg");return r.setAttributeNS(null,"height",e.toString()),r.setAttributeNS(null,"width",i.toString()),r}createSvgRectElement(e,i,r,l){const u=document.createElementNS(tt.SVG_NS,"rect");return u.setAttributeNS(null,"x",e.toString()),u.setAttributeNS(null,"y",i.toString()),u.setAttributeNS(null,"height",r.toString()),u.setAttributeNS(null,"width",l.toString()),u.setAttributeNS(null,"fill","#000000"),u}}tt.QUIET_ZONE_SIZE=4,tt.SVG_NS="http://www.w3.org/2000/svg";class ot{encode(e,i,r,l,u){if(e.length===0)throw new B("Found empty contents");if(i!==It.QR_CODE)throw new B("Can only encode QR_CODE, but got "+i);if(r<0||l<0)throw new B(`Requested dimensions are too small: ${r}x${l}`);let h=re.L,d=ot.QUIET_ZONE_SIZE;u!==null&&(u.get(hn.ERROR_CORRECTION)!==void 0&&(h=re.fromString(u.get(hn.ERROR_CORRECTION).toString())),u.get(hn.MARGIN)!==void 0&&(d=Number.parseInt(u.get(hn.MARGIN).toString(),10)));const p=M.encode(e,h,u);return ot.renderResult(p,r,l,d)}static renderResult(e,i,r,l){const u=e.getMatrix();if(u===null)throw new ci;const h=u.getWidth(),d=u.getHeight(),p=h+l*2,x=d+l*2,w=Math.max(i,p),O=Math.max(r,x),R=Math.min(Math.floor(w/p),Math.floor(O/x)),F=Math.floor((w-h*R)/2),X=Math.floor((O-d*R)/2),W=new Xt(w,O);for(let et=0,ft=X;et<d;et++,ft+=R)for(let Ct=0,St=F;Ct<h;Ct++,St+=R)u.get(Ct,et)===1&&W.setRegion(St,ft,R,R);return W}}ot.QUIET_ZONE_SIZE=4;class Nt{encode(e,i,r,l,u){let h;switch(i){case It.QR_CODE:h=new ot;break;default:throw new B("No encoder available for format "+i)}return h.encode(e,i,r,l,u)}}class Yt extends Pt{constructor(e,i,r,l,u,h,d,p){if(super(h,d),this.yuvData=e,this.dataWidth=i,this.dataHeight=r,this.left=l,this.top=u,l+h>i||u+d>r)throw new B("Crop rectangle does not fit within image data.");p&&this.reverseHorizontal(h,d)}getRow(e,i){if(e<0||e>=this.getHeight())throw new B("Requested row is outside the image: "+e);const r=this.getWidth();(i==null||i.length<r)&&(i=new Uint8ClampedArray(r));const l=(e+this.top)*this.dataWidth+this.left;return gt.arraycopy(this.yuvData,l,i,0,r),i}getMatrix(){const e=this.getWidth(),i=this.getHeight();if(e===this.dataWidth&&i===this.dataHeight)return this.yuvData;const r=e*i,l=new Uint8ClampedArray(r);let u=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return gt.arraycopy(this.yuvData,u,l,0,r),l;for(let h=0;h<i;h++){const d=h*e;gt.arraycopy(this.yuvData,u,l,d,e),u+=this.dataWidth}return l}isCropSupported(){return!0}crop(e,i,r,l){return new Yt(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+i,r,l,!1)}renderThumbnail(){const e=this.getWidth()/Yt.THUMBNAIL_SCALE_FACTOR,i=this.getHeight()/Yt.THUMBNAIL_SCALE_FACTOR,r=new Int32Array(e*i),l=this.yuvData;let u=this.top*this.dataWidth+this.left;for(let h=0;h<i;h++){const d=h*e;for(let p=0;p<e;p++){const x=l[u+p*Yt.THUMBNAIL_SCALE_FACTOR]&255;r[d+p]=4278190080|x*65793}u+=this.dataWidth*Yt.THUMBNAIL_SCALE_FACTOR}return r}getThumbnailWidth(){return this.getWidth()/Yt.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Yt.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,i){const r=this.yuvData;for(let l=0,u=this.top*this.dataWidth+this.left;l<i;l++,u+=this.dataWidth){const h=u+e/2;for(let d=u,p=u+e-1;d<h;d++,p--){const x=r[d];r[d]=r[p],r[p]=x}}}invert(){return new Jt(this)}}Yt.THUMBNAIL_SCALE_FACTOR=2;class rn extends Pt{constructor(e,i,r,l,u,h,d){if(super(i,r),this.dataWidth=l,this.dataHeight=u,this.left=h,this.top=d,e.BYTES_PER_ELEMENT===4){const p=i*r,x=new Uint8ClampedArray(p);for(let w=0;w<p;w++){const O=e[w],R=O>>16&255,F=O>>7&510,X=O&255;x[w]=(R+F+X)/4&255}this.luminances=x}else this.luminances=e;if(l===void 0&&(this.dataWidth=i),u===void 0&&(this.dataHeight=r),h===void 0&&(this.left=0),d===void 0&&(this.top=0),this.left+i>this.dataWidth||this.top+r>this.dataHeight)throw new B("Crop rectangle does not fit within image data.")}getRow(e,i){if(e<0||e>=this.getHeight())throw new B("Requested row is outside the image: "+e);const r=this.getWidth();(i==null||i.length<r)&&(i=new Uint8ClampedArray(r));const l=(e+this.top)*this.dataWidth+this.left;return gt.arraycopy(this.luminances,l,i,0,r),i}getMatrix(){const e=this.getWidth(),i=this.getHeight();if(e===this.dataWidth&&i===this.dataHeight)return this.luminances;const r=e*i,l=new Uint8ClampedArray(r);let u=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return gt.arraycopy(this.luminances,u,l,0,r),l;for(let h=0;h<i;h++){const d=h*e;gt.arraycopy(this.luminances,u,l,d,e),u+=this.dataWidth}return l}isCropSupported(){return!0}crop(e,i,r,l){return new rn(this.luminances,r,l,this.dataWidth,this.dataHeight,this.left+e,this.top+i)}invert(){return new Jt(this)}}class Me extends L{static forName(e){return this.getCharacterSetECIByName(e)}}class tn{}tn.ISO_8859_1=L.ISO8859_1;class kn{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class ur{static singletonList(e){return[e]}static min(e,i){return e.sort(i)[0]}}class Wi{constructor(e){this.previous=e}getPrevious(){return this.previous}}class jn extends Wi{constructor(e,i,r){super(e),this.value=i,this.bitCount=r}appendTo(e,i){e.appendBits(this.value,this.bitCount)}add(e,i){return new jn(this,e,i)}addBinaryShift(e,i){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new jn(this,e,i)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+xt.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class Ir extends jn{constructor(e,i,r){super(e,0,0),this.binaryShiftStart=i,this.binaryShiftByteCount=r}appendTo(e,i){for(let r=0;r<this.binaryShiftByteCount;r++)(r===0||r===31&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):r===0?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(i[this.binaryShiftStart+r],8)}addBinaryShift(e,i){return new Ir(this,e,i)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Hs(b,e,i){return new Ir(b,e,i)}function Vs(b,e,i){return new jn(b,e,i)}const zs=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Fr=0,ll=1,Di=2,Ql=3,Ki=4,Na=new jn(null,0,0),ss=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Uc(b){for(let e of b)Mt.fill(e,-1);return b[Fr][Ki]=0,b[ll][Ki]=0,b[ll][Fr]=28,b[Ql][Ki]=0,b[Di][Ki]=0,b[Di][Fr]=15,b}const va=Uc(Mt.createInt32Array(6,6));class Zi{constructor(e,i,r,l){this.token=e,this.mode=i,this.binaryShiftByteCount=r,this.bitCount=l}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,i){let r=this.bitCount,l=this.token;if(e!==this.mode){let h=ss[this.mode][e];l=Vs(l,h&65535,h>>16),r+=h>>16}let u=e===Di?4:5;return l=Vs(l,i,u),new Zi(l,e,0,r+u)}shiftAndAppend(e,i){let r=this.token,l=this.mode===Di?4:5;return r=Vs(r,va[this.mode][e],l),r=Vs(r,i,5),new Zi(r,this.mode,0,this.bitCount+l+5)}addBinaryShiftChar(e){let i=this.token,r=this.mode,l=this.bitCount;if(this.mode===Ki||this.mode===Di){let d=ss[r][Fr];i=Vs(i,d&65535,d>>16),l+=d>>16,r=Fr}let u=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,h=new Zi(i,r,this.binaryShiftByteCount+1,l+u);return h.binaryShiftByteCount===2078&&(h=h.endBinaryShift(e+1)),h}endBinaryShift(e){if(this.binaryShiftByteCount===0)return this;let i=this.token;return i=Hs(i,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new Zi(i,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let i=this.bitCount+(ss[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?i+=Zi.calculateBinaryShiftCost(e)-Zi.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(i+=10),i<=e.bitCount}toBitArray(e){let i=[];for(let l=this.endBinaryShift(e.length).token;l!==null;l=l.getPrevious())i.unshift(l);let r=new Rt;for(const l of i)l.appendTo(r,e);return r}toString(){return q.format("%s bits=%d bytes=%d",zs[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}Zi.INITIAL_STATE=new Zi(Na,Fr,0,0);function tu(b){const e=q.getCharCode(" "),i=q.getCharCode("."),r=q.getCharCode(",");b[Fr][e]=1;const l=q.getCharCode("Z"),u=q.getCharCode("A");for(let R=u;R<=l;R++)b[Fr][R]=R-u+2;b[ll][e]=1;const h=q.getCharCode("z"),d=q.getCharCode("a");for(let R=d;R<=h;R++)b[ll][R]=R-d+2;b[Di][e]=1;const p=q.getCharCode("9"),x=q.getCharCode("0");for(let R=x;R<=p;R++)b[Di][R]=R-x+2;b[Di][r]=12,b[Di][i]=13;const w=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let R=0;R<w.length;R++)b[Ql][q.getCharCode(w[R])]=R;const O=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let R=0;R<O.length;R++)q.getCharCode(O[R])>0&&(b[Ki][q.getCharCode(O[R])]=R);return b}const Ra=tu(Mt.createInt32Array(5,256));class as{constructor(e){this.text=e}encode(){const e=q.getCharCode(" "),i=q.getCharCode(`
`);let r=ur.singletonList(Zi.INITIAL_STATE);for(let u=0;u<this.text.length;u++){let h,d=u+1<this.text.length?this.text[u+1]:0;switch(this.text[u]){case q.getCharCode("\r"):h=d===i?2:0;break;case q.getCharCode("."):h=d===e?3:0;break;case q.getCharCode(","):h=d===e?4:0;break;case q.getCharCode(":"):h=d===e?5:0;break;default:h=0}h>0?(r=as.updateStateListForPair(r,u,h),u++):r=this.updateStateListForChar(r,u)}return ur.min(r,(u,h)=>u.getBitCount()-h.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,i){const r=[];for(let l of e)this.updateStateForChar(l,i,r);return as.simplifyStates(r)}updateStateForChar(e,i,r){let l=this.text[i]&255,u=Ra[e.getMode()][l]>0,h=null;for(let d=0;d<=Ki;d++){let p=Ra[d][l];if(p>0){if(h==null&&(h=e.endBinaryShift(i)),!u||d===e.getMode()||d===Di){const x=h.latchAndAppend(d,p);r.push(x)}if(!u&&va[e.getMode()][d]>=0){const x=h.shiftAndAppend(d,p);r.push(x)}}}if(e.getBinaryShiftByteCount()>0||Ra[e.getMode()][l]===0){let d=e.addBinaryShiftChar(i);r.push(d)}}static updateStateListForPair(e,i,r){const l=[];for(let u of e)this.updateStateForPair(u,i,r,l);return this.simplifyStates(l)}static updateStateForPair(e,i,r,l){let u=e.endBinaryShift(i);if(l.push(u.latchAndAppend(Ki,r)),e.getMode()!==Ki&&l.push(u.shiftAndAppend(Ki,r)),r===3||r===4){let h=u.latchAndAppend(Di,16-r).latchAndAppend(Di,1);l.push(h)}if(e.getBinaryShiftByteCount()>0){let h=e.addBinaryShiftChar(i).addBinaryShiftChar(i+1);l.push(h)}}static simplifyStates(e){let i=[];for(const r of e){let l=!0;for(const u of i){if(u.isBetterThanOrEqualTo(r)){l=!1;break}r.isBetterThanOrEqualTo(u)&&(i=i.filter(h=>h!==u))}l&&i.push(r)}return i}}class xe{constructor(){}static encodeBytes(e){return xe.encode(e,xe.DEFAULT_EC_PERCENT,xe.DEFAULT_AZTEC_LAYERS)}static encode(e,i,r){let l=new as(e).encode(),u=xt.truncDivision(l.getSize()*i,100)+11,h=l.getSize()+u,d,p,x,w,O;if(r!==xe.DEFAULT_AZTEC_LAYERS){if(d=r<0,p=Math.abs(r),p>(d?xe.MAX_NB_BITS_COMPACT:xe.MAX_NB_BITS))throw new B(q.format("Illegal value %s for layers",r));x=xe.totalBitsInLayer(p,d),w=xe.WORD_SIZE[p];let wt=x-x%w;if(O=xe.stuffBits(l,w),O.getSize()+u>wt)throw new B("Data to large for user specified layer");if(d&&O.getSize()>w*64)throw new B("Data to large for user specified layer")}else{w=0,O=null;for(let wt=0;;wt++){if(wt>xe.MAX_NB_BITS)throw new B("Data too large for an Aztec code");if(d=wt<=3,p=d?wt+1:wt,x=xe.totalBitsInLayer(p,d),h>x)continue;(O==null||w!==xe.WORD_SIZE[p])&&(w=xe.WORD_SIZE[p],O=xe.stuffBits(l,w));let le=x-x%w;if(!(d&&O.getSize()>w*64)&&O.getSize()+u<=le)break}}let R=xe.generateCheckWords(O,x,w),F=O.getSize()/w,X=xe.generateModeMessage(d,p,F),W=(d?11:14)+p*4,et=new Int32Array(W),ft;if(d){ft=W;for(let wt=0;wt<et.length;wt++)et[wt]=wt}else{ft=W+1+2*xt.truncDivision(xt.truncDivision(W,2)-1,15);let wt=xt.truncDivision(W,2),le=xt.truncDivision(ft,2);for(let $t=0;$t<wt;$t++){let yn=$t+xt.truncDivision($t,15);et[wt-$t-1]=le-yn-1,et[wt+$t]=le+yn+1}}let Ct=new Xt(ft);for(let wt=0,le=0;wt<p;wt++){let $t=(p-wt)*4+(d?9:12);for(let yn=0;yn<$t;yn++){let Mi=yn*2;for(let ri=0;ri<2;ri++)R.get(le+Mi+ri)&&Ct.set(et[wt*2+ri],et[wt*2+yn]),R.get(le+$t*2+Mi+ri)&&Ct.set(et[wt*2+yn],et[W-1-wt*2-ri]),R.get(le+$t*4+Mi+ri)&&Ct.set(et[W-1-wt*2-ri],et[W-1-wt*2-yn]),R.get(le+$t*6+Mi+ri)&&Ct.set(et[W-1-wt*2-yn],et[wt*2+ri])}le+=$t*8}if(xe.drawModeMessage(Ct,d,ft,X),d)xe.drawBullsEye(Ct,xt.truncDivision(ft,2),5);else{xe.drawBullsEye(Ct,xt.truncDivision(ft,2),7);for(let wt=0,le=0;wt<xt.truncDivision(W,2)-1;wt+=15,le+=16)for(let $t=xt.truncDivision(ft,2)&1;$t<ft;$t+=2)Ct.set(xt.truncDivision(ft,2)-le,$t),Ct.set(xt.truncDivision(ft,2)+le,$t),Ct.set($t,xt.truncDivision(ft,2)-le),Ct.set($t,xt.truncDivision(ft,2)+le)}let St=new kn;return St.setCompact(d),St.setSize(ft),St.setLayers(p),St.setCodeWords(F),St.setMatrix(Ct),St}static drawBullsEye(e,i,r){for(let l=0;l<r;l+=2)for(let u=i-l;u<=i+l;u++)e.set(u,i-l),e.set(u,i+l),e.set(i-l,u),e.set(i+l,u);e.set(i-r,i-r),e.set(i-r+1,i-r),e.set(i-r,i-r+1),e.set(i+r,i-r),e.set(i+r,i-r+1),e.set(i+r,i+r-1)}static generateModeMessage(e,i,r){let l=new Rt;return e?(l.appendBits(i-1,2),l.appendBits(r-1,6),l=xe.generateCheckWords(l,28,4)):(l.appendBits(i-1,5),l.appendBits(r-1,11),l=xe.generateCheckWords(l,40,4)),l}static drawModeMessage(e,i,r,l){let u=xt.truncDivision(r,2);if(i)for(let h=0;h<7;h++){let d=u-3+h;l.get(h)&&e.set(d,u-5),l.get(h+7)&&e.set(u+5,d),l.get(20-h)&&e.set(d,u+5),l.get(27-h)&&e.set(u-5,d)}else for(let h=0;h<10;h++){let d=u-5+h+xt.truncDivision(h,5);l.get(h)&&e.set(d,u-7),l.get(h+10)&&e.set(u+7,d),l.get(29-h)&&e.set(d,u+7),l.get(39-h)&&e.set(u-7,d)}}static generateCheckWords(e,i,r){let l=e.getSize()/r,u=new vn(xe.getGF(r)),h=xt.truncDivision(i,r),d=xe.bitsToWords(e,r,h);u.encode(d,h-l);let p=i%r,x=new Rt;x.appendBits(0,p);for(const w of Array.from(d))x.appendBits(w,r);return x}static bitsToWords(e,i,r){let l=new Int32Array(r),u,h;for(u=0,h=e.getSize()/i;u<h;u++){let d=0;for(let p=0;p<i;p++)d|=e.get(u*i+p)?1<<i-p-1:0;l[u]=d}return l}static getGF(e){switch(e){case 4:return he.AZTEC_PARAM;case 6:return he.AZTEC_DATA_6;case 8:return he.AZTEC_DATA_8;case 10:return he.AZTEC_DATA_10;case 12:return he.AZTEC_DATA_12;default:throw new B("Unsupported word size "+e)}}static stuffBits(e,i){let r=new Rt,l=e.getSize(),u=(1<<i)-2;for(let h=0;h<l;h+=i){let d=0;for(let p=0;p<i;p++)(h+p>=l||e.get(h+p))&&(d|=1<<i-1-p);(d&u)===u?(r.appendBits(d&u,i),h--):(d&u)===0?(r.appendBits(d|1,i),h--):r.appendBits(d,i)}return r}static totalBitsInLayer(e,i){return((i?88:112)+16*e)*e}}xe.DEFAULT_EC_PERCENT=33,xe.DEFAULT_AZTEC_LAYERS=0,xe.MAX_NB_BITS=32,xe.MAX_NB_BITS_COMPACT=4,xe.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Da{encode(e,i,r,l){return this.encodeWithHints(e,i,r,l,null)}encodeWithHints(e,i,r,l,u){let h=tn.ISO_8859_1,d=xe.DEFAULT_EC_PERCENT,p=xe.DEFAULT_AZTEC_LAYERS;return u!=null&&(u.has(hn.CHARACTER_SET)&&(h=Me.forName(u.get(hn.CHARACTER_SET).toString())),u.has(hn.ERROR_CORRECTION)&&(d=xt.parseInt(u.get(hn.ERROR_CORRECTION).toString())),u.has(hn.AZTEC_LAYERS)&&(p=xt.parseInt(u.get(hn.AZTEC_LAYERS).toString()))),Da.encodeLayers(e,i,r,l,h,d,p)}static encodeLayers(e,i,r,l,u,h,d){if(i!==It.AZTEC)throw new B("Can only encode AZTEC, but got "+i);let p=xe.encode(q.getBytes(e,u),h,d);return Da.renderResult(p,r,l)}static renderResult(e,i,r){let l=e.getMatrix();if(l==null)throw new ci;let u=l.getWidth(),h=l.getHeight(),d=Math.max(i,u),p=Math.max(r,h),x=Math.min(d/u,p/h),w=(d-u*x)/2,O=(p-h*x)/2,R=new Xt(d,p);for(let F=0,X=O;F<h;F++,X+=x)for(let W=0,et=w;W<u;W++,et+=x)l.get(W,F)&&R.setRegion(et,X,x,x);return R}}f.AbstractExpandedDecoder=on,f.ArgumentException=U,f.ArithmeticException=_r,f.AztecCode=kn,f.AztecCodeReader=Zr,f.AztecCodeWriter=Da,f.AztecDecoder=ve,f.AztecDetector=wa,f.AztecDetectorResult=ya,f.AztecEncoder=xe,f.AztecHighLevelEncoder=as,f.AztecPoint=Un,f.BarcodeFormat=It,f.Binarizer=at,f.BinaryBitmap=G,f.BitArray=Rt,f.BitMatrix=Xt,f.BitSource=cn,f.BrowserAztecCodeReader=Zl,f.BrowserBarcodeReader=Ca,f.BrowserCodeReader=bt,f.BrowserDatamatrixCodeReader=ar,f.BrowserMultiFormatReader=or,f.BrowserPDF417Reader=sl,f.BrowserQRCodeReader=al,f.BrowserQRCodeSvgWriter=tt,f.CharacterSetECI=L,f.ChecksumException=$,f.Code128Reader=Tt,f.Code39Reader=De,f.DataMatrixDecodedBitStreamParser=ii,f.DataMatrixReader=hi,f.DecodeHintType=Ft,f.DecoderResult=ke,f.DefaultGridSampler=Rs,f.DetectorResult=vs,f.EAN13Reader=je,f.EncodeHintType=hn,f.Exception=N,f.FormatException=P,f.GenericGF=he,f.GenericGFPoly=Cn,f.GlobalHistogramBinarizer=ct,f.GridSampler=xr,f.GridSamplerInstance=Kn,f.HTMLCanvasElementLuminanceSource=ie,f.HybridBinarizer=pt,f.ITFReader=Zt,f.IllegalArgumentException=B,f.IllegalStateException=ci,f.InvertedLuminanceSource=Jt,f.LuminanceSource=Pt,f.MathUtils=Gt,f.MultiFormatOneDReader=ei,f.MultiFormatReader=Oa,f.MultiFormatWriter=Nt,f.NotFoundException=st,f.OneDReader=Re,f.PDF417DecodedBitStreamParser=ut,f.PDF417DecoderErrorCorrection=Yi,f.PDF417Reader=fn,f.PDF417ResultMetadata=Sr,f.PerspectiveTransform=Wn,f.PlanarYUVLuminanceSource=Yt,f.QRCodeByteMatrix=rs,f.QRCodeDataMask=bn,f.QRCodeDecodedBitStreamParser=Fe,f.QRCodeDecoderErrorCorrectionLevel=re,f.QRCodeDecoderFormatInformation=mn,f.QRCodeEncoder=M,f.QRCodeEncoderQRCode=pi,f.QRCodeMaskUtil=Qe,f.QRCodeMatrixUtil=y,f.QRCodeMode=Ht,f.QRCodeReader=mi,f.QRCodeVersion=Lt,f.QRCodeWriter=ot,f.RGBLuminanceSource=rn,f.RSS14Reader=Ne,f.RSSExpandedReader=yt,f.ReaderException=is,f.ReedSolomonDecoder=Hi,f.ReedSolomonEncoder=vn,f.ReedSolomonException=qn,f.Result=Ot,f.ResultMetadataType=fe,f.ResultPoint=Dt,f.StringUtils=q,f.UnsupportedOperationException=Q,f.VideoInputDevice=K,f.WhiteRectangleDetector=en,f.WriterException=E,f.ZXingArrays=Mt,f.ZXingCharset=Me,f.ZXingInteger=xt,f.ZXingStandardCharsets=tn,f.ZXingStringBuilder=V,f.ZXingStringEncoding=j,f.ZXingSystem=gt,f.createAbstractExpandedDecoder=fi,Object.defineProperty(f,"__esModule",{value:!0})}))})(Uo,Uo.exports)),Uo.exports}lT();var S1=(function(){var o=function(s,f){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,_){g.__proto__=_}||function(g,_){for(var T in _)Object.prototype.hasOwnProperty.call(_,T)&&(g[T]=_[T])},o(s,f)};return function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");o(s,f);function g(){this.constructor=s}s.prototype=f===null?Object.create(f):(g.prototype=f.prototype,new g)}})(),Tp=(function(){function o(s,f){this.name=s,this.track=f}return o.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},o.prototype.apply=function(s){var f={};f[this.name]=s;var g={advanced:[f]};return this.track.applyConstraints(g)},o.prototype.value=function(){var s=this.track.getSettings();if(this.name in s){var f=s[this.name];return f}return null},o})(),oT=(function(o){S1(s,o);function s(f,g){return o.call(this,f,g)||this}return s.prototype.min=function(){return this.getCapabilities().min},s.prototype.max=function(){return this.getCapabilities().max},s.prototype.step=function(){return this.getCapabilities().step},s.prototype.apply=function(f){var g={};g[this.name]=f;var _={advanced:[g]};return this.track.applyConstraints(_)},s.prototype.getCapabilities=function(){this.failIfNotSupported();var f=this.track.getCapabilities(),g=f[this.name];return{min:g.min,max:g.max,step:g.step}},s.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},s})(Tp);(function(o){S1(s,o);function s(f){return o.call(this,"zoom",f)||this}return s})(oT);(function(o){S1(s,o);function s(f){return o.call(this,"torch",f)||this}return s})(Tp);var zE;(function(o){o[o.UNKNOWN=0]="UNKNOWN",o[o.NOT_STARTED=1]="NOT_STARTED",o[o.SCANNING=2]="SCANNING",o[o.PAUSED=3]="PAUSED"})(zE||(zE={}));var uT=(function(){var o=function(s,f){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,_){g.__proto__=_}||function(g,_){for(var T in _)Object.prototype.hasOwnProperty.call(_,T)&&(g[T]=_[T])},o(s,f)};return function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");o(s,f);function g(){this.constructor=s}s.prototype=f===null?Object.create(f):(g.prototype=f.prototype,new g)}})();(function(o){uT(s,o);function s(){return o!==null&&o.apply(this,arguments)||this}return s.DEFAULT_WIDTH=300,s.DEFAULT_WIDTH_OFFSET=2,s.FILE_SCAN_MIN_HEIGHT=300,s.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,s.MIN_QR_BOX_SIZE=50,s.SHADED_LEFT=1,s.SHADED_RIGHT=2,s.SHADED_TOP=3,s.SHADED_BOTTOM=4,s.SHADED_REGION_ELEMENT_ID="qr-shaded-region",s.VERBOSE=!1,s.BORDER_SHADER_DEFAULT_COLOR="#ffffff",s.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",s})(sT);var GE;(function(o){o[o.STATUS_DEFAULT=0]="STATUS_DEFAULT",o[o.STATUS_SUCCESS=1]="STATUS_SUCCESS",o[o.STATUS_WARNING=2]="STATUS_WARNING",o[o.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(GE||(GE={}));const Sp=document.getElementById("root");if(!Sp)throw new Error("Could not find root element to mount to");const cT=JA.createRoot(Sp);cT.render(vr.jsxs("div",{style:{padding:"40px",fontFamily:"system-ui, sans-serif",maxWidth:"600px",margin:"0 auto",textAlign:"center"},children:[vr.jsx("h1",{style:{color:"#ef4444",fontSize:"24px",marginBottom:"16px"},children:" "}),vr.jsx("p",{style:{color:"#374151",lineHeight:"1.6",marginBottom:"24px"},children:" Firebase  GitHub Secrets "}),vr.jsxs("div",{style:{background:"#f3f4f6",padding:"20px",borderRadius:"12px",textAlign:"left",fontSize:"14px"},children:[vr.jsx("strong",{children:" GitHub Repository Settings  Secrets"}),vr.jsxs("ul",{style:{marginTop:"10px",paddingLeft:"20px",color:"#4b5563"},children:[vr.jsx("li",{children:"VITE_FIREBASE_API_KEY"}),vr.jsx("li",{children:"VITE_FIREBASE_AUTH_DOMAIN"}),vr.jsx("li",{children:"VITE_FIREBASE_PROJECT_ID"}),vr.jsx("li",{children:"... ( 3 )"})]})]}),vr.jsx("p",{style:{marginTop:"24px",fontSize:"12px",color:"#9ca3af"},children:" .env.local "})]}));
